!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.front=t():(e.DiveSDK=e.DiveSDK||{},e.DiveSDK.front=t())}(this,function(){return webpackJsonpDiveSDK__name_([0],{16:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(524)),o(n(587))},18:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(616)),o(n(617)),o(n(618)),o(n(619)),o(n(620)),o(n(621)),o(n(622)),o(n(623)),o(n(624)),o(n(625)),o(n(626))},22:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(525)),o(n(526)),o(n(586)),o(n(272))},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SESSION_STORAGE_KEY="DiveState",t.DIVE_ENVIRONMENT="PRE",t.ENABLE_ROLLBAR=!1,t.SUPPORTED_CARD_TYPES=["movie","serie","person","character","vehicle","fashion","location","historic","trivia","quote","ost","home","technology","art","song","weapon","leisure_sport","health_beauty","food_drink","fauna_flora","business","reference","chapter"]},272:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=31)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(o){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,o)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}t=e.exports=n(42),t.log=a,t.formatArgs=i,t.save=s,t.load=c,t.useColors=r,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,n(41))},function(e,t,n){function o(e){if(e)return r(e)}function r(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o,r=0;r<n.length;r++)if((o=n[r])===t||o.fn===t){n.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var o=0,r=n.length;o<r;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){function o(e,n){return n("b"+t.packets[e.type]+e.data.data)}function r(e,n,o){if(!n)return t.encodeBase64Packet(e,o);var r=e.data,i=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=g[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return o(a.buffer)}function i(e,n,o){if(!n)return t.encodeBase64Packet(e,o);var r=new FileReader;return r.onload=function(){e.data=r.result,t.encodePacket(e,n,!0,o)},r.readAsArrayBuffer(e.data)}function a(e,n,o){if(!n)return t.encodeBase64Packet(e,o);if(v)return i(e,n,o);var r=new Uint8Array(1);return r[0]=g[e.type],o(new _([r.buffer,e.data]))}function s(e){try{e=d.decode(e,{strict:!1})}catch(e){return!1}return e}function c(e,t,n){for(var o=new Array(e.length),r=f(e.length,n),i=0;i<e.length;i++)!function(e,n,r){t(n,function(t,n){o[e]=n,r(t,o)})}(i,e[i],r)}var u,p=n(52),l=n(16),h=n(53),f=n(54),d=n(55);e&&e.ArrayBuffer&&(u=n(56));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=y||m;t.protocol=3;var g=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},E=p(g),C={type:"error",data:"parser error"},_=n(57);t.encodePacket=function(t,n,i,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof i&&(s=i,i=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return r(t,n,s);if(_&&c instanceof e.Blob)return a(t,n,s);if(c&&c.base64)return o(t,s);var u=g[t.type];return void 0!==t.data&&(u+=i?d.encode(String(t.data),{strict:!1}):String(t.data)),s(""+u)},t.encodeBase64Packet=function(n,o){var r="b"+t.packets[n.type];if(_&&n.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];o(r+e)},i.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];a=String.fromCharCode.apply(null,c)}return r+=e.btoa(a),o(r)},t.decodePacket=function(e,n,o){if(void 0===e)return C;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(o&&!1===(e=s(e)))return C;var r=e.charAt(0);return Number(r)==r&&E[r]?e.length>1?{type:E[r],data:e.substring(1)}:{type:E[r]}:C}var i=new Uint8Array(e),r=i[0],a=h(e,1);return _&&"blob"===n&&(a=new _([a])),{type:E[r],data:a}},t.decodeBase64Packet=function(e,t){var n=E[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=u.decode(e.substr(1));return"blob"===t&&_&&(o=new _([o])),{type:n,data:o}},t.encodePayload=function(e,n,o){function r(e){return e.length+":"+e}function i(e,o){t.encodePacket(e,!!a&&n,!1,function(e){o(null,r(e))})}"function"==typeof n&&(o=n,n=null);var a=l(e);return n&&a?_&&!v?t.encodePayloadAsBlob(e,o):t.encodePayloadAsArrayBuffer(e,o):e.length?void c(e,i,function(e,t){return o(t.join(""))}):o("0:")},t.decodePayload=function(e,n,o){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,o);"function"==typeof n&&(o=n,n=null);var r;if(""===e)return o(C,0,1);for(var i,a,s="",c=0,u=e.length;c<u;c++){var p=e.charAt(c);if(":"===p){if(""===s||s!=(i=Number(s)))return o(C,0,1);if(a=e.substr(c+1,i),s!=a.length)return o(C,0,1);if(a.length){if(r=t.decodePacket(a,n,!1),C.type===r.type&&C.data===r.data)return o(C,0,1);if(!1===o(r,c+i,u))return}c+=i,s=""}else s+=p}return""!==s?o(C,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function o(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}if(!e.length)return n(new ArrayBuffer(0));c(e,o,function(e,t){var o=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),r=new Uint8Array(o),i=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var o=new Uint8Array(e.length),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);n=o.buffer}r[i++]=t?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)r[i++]=parseInt(s[a]);r[i++]=255;for(var o=new Uint8Array(n),a=0;a<o.length;a++)r[i++]=o[a]}),n(r.buffer)})},t.encodePayloadAsBlob=function(e,n){function o(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var o=new Uint8Array(e.length),r=0;r<e.length;r++)o[r]=e.charCodeAt(r);e=o.buffer,t[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,a=i.toString(),s=new Uint8Array(a.length+1),r=0;r<a.length;r++)s[r]=parseInt(a[r]);if(s[a.length]=255,_){var c=new _([t.buffer,s.buffer,e]);n(null,c)}})}c(e,o,function(e,t){return n(new _(t))})},t.decodePayloadAsBinary=function(e,n,o){"function"==typeof n&&(o=n,n=null);for(var r=e,i=[];r.byteLength>0;){for(var a=new Uint8Array(r),s=0===a[0],c="",u=1;255!==a[u];u++){if(c.length>310)return o(C,0,1);c+=a[u]}r=h(r,2+c.length),c=parseInt(c);var p=h(r,0,c);if(s)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var l=new Uint8Array(p);p="";for(var u=0;u<l.length;u++)p+=String.fromCharCode(l[u])}i.push(p),r=h(r,c)}var f=i.length;i.forEach(function(e,r){o(t.decodePacket(e,n,!0),r,f)})}}).call(t,n(0))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function o(){}function r(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),l("encoded %j as %s",e,n),n}function i(e,t){function n(e){var n=d.deconstructPacket(e),o=r(n.packet),i=n.buffers;i.unshift(o),t(i)}d.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return p();if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var r="";"-"!==e.charAt(++n)&&(r+=e.charAt(n),n!=e.length););if(r!=Number(r)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(r)}if("/"===e.charAt(n+1))for(o.nsp="";++n;){var i=e.charAt(n);if(","===i)break;if(o.nsp+=i,n===e.length)break}else o.nsp="/";var a=e.charAt(n+1);if(""!==a&&Number(a)==a){for(o.id="";++n;){var i=e.charAt(n);if(null==i||Number(i)!=i){--n;break}if(o.id+=e.charAt(n),n===e.length)break}o.id=Number(o.id)}return e.charAt(++n)&&(o=c(o,e.substr(n))),l("decoded %s as %j",e,o),o}function c(e,t){try{e.data=JSON.parse(t)}catch(e){return p()}return e}function u(e){this.reconPack=e,this.buffers=[]}function p(){return{type:t.ERROR,data:"parser error"}}var l=n(1)("socket.io-parser"),h=n(2),f=n(16),d=n(45),y=n(17);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=o,t.Decoder=a,o.prototype.encode=function(e,n){if(e.type!==t.EVENT&&e.type!==t.ACK||!f(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),l("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)i(e,n);else{n([r(e)])}},h(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!y(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){(function(t){var o=n(50);e.exports=function(e){var n=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,n(0))},function(e,t,n){function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var r=n(3),i=n(2);e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.decode=t.parse=n(32),t.encode=t.stringify=n(33)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");-1!=r&&-1!=i&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[o[c]]=a[c]||"";return-1!=r&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(t){function o(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,i=e.length;n<i;n++)if(o(e[n]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||"function"==typeof t.ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return o(e.toJSON(),!0);for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)&&o(e[c]))return!0;return!1}var r=n(44),i=Object.prototype.toString,a="function"==typeof t.Blob||"[object BlobConstructor]"===i.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===i.call(t.File);e.exports=o}).call(t,n(0))},function(e,t,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,n(0))},function(e,t,n){function o(e,t){if(!(this instanceof o))return new o(e,t);e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var r=n(47),i=n(23),a=n(2),s=n(6),c=n(24),u=n(25),p=n(1)("socket.io-client:manager"),l=n(22),h=n(63),f=Object.prototype.hasOwnProperty;e.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},o.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},o.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(o.prototype),o.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},o.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},o.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(e,t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=c(n,"open",function(){o.onopen(),e&&e()}),a=c(n,"error",function(t){if(p("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;p("connect attempt will timeout after %d",s);var u=setTimeout(function(){p("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(a),this},o.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(e){this.decoder.add(e)},o.prototype.ondecoded=function(e){this.emit("packet",e)},o.prototype.onerror=function(e){p("error",e),this.emitAll("error",e)},o.prototype.socket=function(e,t){function n(){~l(r.connecting,o)||r.connecting.push(o)}var o=this.nsps[e];if(!o){o=new i(this,e,t),this.nsps[e]=o;var r=this;o.on("connecting",n),o.on("connect",function(){o.id=r.generateId(e)}),this.autoConnect&&n()}return o},o.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},o.prototype.packet=function(e){p("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var o=0;o<n.length;o++)t.engine.write(n[o],e.options);t.encoding=!1,t.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},o.prototype.cleanup=function(){p("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(e){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();p("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(p("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(p("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(p("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},o.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){(function(e){function o(t){var n=!1,o=!1,s=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!==location.hostname||u!==t.port,o=t.secure!==c}if(t.xdomain=n,t.xscheme=o,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new a(t)}var r=n(7),i=n(51),a=n(58),s=n(59);t.polling=o,t.websocket=s}).call(t,n(0))},function(e,t,n){function o(e){var t=e&&e.forceBase64;p&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=n(8),i=n(4),a=n(3),s=n(5),c=n(21),u=n(1)("engine.io-client:polling");e.exports=o;var p=function(){return null!=new(n(7))({xdomain:!1}).responseType}();s(o,r),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(u("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){u("pre-pause polling complete"),--o||t()})),this.writable||(u("we are currently writing - waiting to pause"),o++,this.once("drain",function(){u("pre-pause writing complete"),--o||t()}))}else t()},o.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,o){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},o.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){"use strict";function o(e){var t="";do{t=s[e%c]+t,e=Math.floor(e/c)}while(e>0);return t}function r(e){var t=0;for(l=0;l<e.length;l++)t=t*c+u[e.charAt(l)];return t}function i(){var e=o(+new Date);return e!==a?(p=0,a=e):e+"."+o(p++)}for(var a,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},p=0,l=0;l<c;l++)u[s[l]]=l;i.encode=o,i.decode=r,e.exports=i},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var o=0;o<e.length;++o)if(e[o]===t)return o;return-1}},function(e,t,n){function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=n(6),i=n(2),a=n(62),s=n(24),c=n(25),u=n(1)("socket.io-client:socket"),p=n(4);e.exports=o;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;i(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(l.hasOwnProperty(e))return h.apply(this,arguments),this;var t=a(arguments),n={type:r.EVENT,data:t};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?p.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},o.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);u("sending ack %j",o),t.packet({type:r.ACK,id:e,data:o})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var o=n.call(arguments,2);return function(){return t.apply(e,o.concat(n.call(arguments)))}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o=n(28),r=n(29);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(80);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=n(34),s=n(37),c=n(39),u=n(64),p="https://rest.dive.tv/v1".replace(/\/+$/,""),l=function(){function e(e,t){void 0===e&&(e=p),void 0===t&&(t=s),this.basePath=e,this.fetch=t}return e}();t.BaseAPI=l,t.DefaultApiFetchParamCreator={deleteLikes:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling deleteLikes");if(null==e.cardId)throw new Error("Missing required parameter cardId when calling deleteLikes");var n="/likes/{card_id}".replace("{card_id}",""+e.cardId),o=a.parse(n,!0),r=u({},{method:"DELETE"},t),i={};return r.headers=u({"Accept-Language":e.acceptLanguage,Authorization:e.authorization},i),{url:a.format(o),options:r}},getCard:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getCard");if(null==e.cardId)throw new Error("Missing required parameter cardId when calling getCard");var n="/cards/{card_id}".replace("{card_id}",""+e.cardId),o=a.parse(n,!0);o.query=u({},o.query,{products:e.products,user_data:e.userData,image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getCardVersion:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getCardVersion");if(null==e.cardId)throw new Error("Missing required parameter cardId when calling getCardVersion");if(null==e.version)throw new Error("Missing required parameter version when calling getCardVersion");var n="/cards/{card_id}/versions/{version}".replace("{card_id}",""+e.cardId).replace("{version}",""+e.version),o=a.parse(n,!0);o.query=u({},o.query,{products:e.products,user_data:e.userData,relations:e.relations,image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getCatalogMovie:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getCatalogMovie");if(null==e.clientMovieId)throw new Error("Missing required parameter clientMovieId when calling getCatalogMovie");var n="/movies/{client_movie_id}".replace("{client_movie_id}",""+e.clientMovieId),o=a.parse(n,!0);o.query=u({},o.query,{image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getChannelGrid:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getChannelGrid");if(null==e.channelId)throw new Error("Missing required parameter channelId when calling getChannelGrid");var n="/channels/{channel_id}/grid".replace("{channel_id}",""+e.channelId),o=a.parse(n,!0);o.query=u({},o.query,{image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getChannelMovie:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getChannelMovie");if(null==e.channelId)throw new Error("Missing required parameter channelId when calling getChannelMovie");var n="/channels/{channel_id}".replace("{channel_id}",""+e.channelId),o=a.parse(n,!0);o.query=u({},o.query,{image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getLikes:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getLikes");var n=a.parse("/likes",!0);n.query=u({},n.query,{image_size:e.imageSize,paginate_key:e.paginateKey,size:e.size});var o=u({},{method:"GET"},t),r={};return o.headers=u({"Accept-Language":e.acceptLanguage,Authorization:e.authorization},r),{url:a.format(n),options:o}},getReadyChannels:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getReadyChannels");if(null==e.channelIdList)throw new Error("Missing required parameter channelIdList when calling getReadyChannels");var n="/channels/{channel_id_list}/ready".replace("{channel_id_list}",""+e.channelIdList),o=a.parse(n,!0),r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getReadyMovies:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getReadyMovies");if(null==e.clientMovieIdList)throw new Error("Missing required parameter clientMovieIdList when calling getReadyMovies");var n="/movies/{client_movie_id_list}/ready".replace("{client_movie_id_list}",""+e.clientMovieIdList),o=a.parse(n,!0),r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getStaticChannelScene:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getStaticChannelScene");if(null==e.channelId)throw new Error("Missing required parameter channelId when calling getStaticChannelScene");var n="/channels/{channel_id}/static".replace("{channel_id}",""+e.channelId),o=a.parse(n,!0);o.query=u({},o.query,{relations:e.relations,image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},getStaticMovieScene:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling getStaticMovieScene");if(null==e.clientMovieId)throw new Error("Missing required parameter clientMovieId when calling getStaticMovieScene");if(null==e.timestamp)throw new Error("Missing required parameter timestamp when calling getStaticMovieScene");var n="/movies/{client_movie_id}/static/{timestamp}".replace("{client_movie_id}",""+e.clientMovieId).replace("{timestamp}",""+e.timestamp),o=a.parse(n,!0);o.query=u({},o.query,{relations:e.relations,image_size:e.imageSize});var r=u({},{method:"GET"},t),i={};return r.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},i),{url:a.format(o),options:r}},postLikes:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling postLikes");if(null==e.cardId)throw new Error("Missing required parameter cardId when calling postLikes");var n="/likes/{card_id}".replace("{card_id}",""+e.cardId),o=a.parse(n,!0),r=u({},{method:"POST"},t),i={};return r.headers=u({"Accept-Language":e.acceptLanguage,Authorization:e.authorization},i),{url:a.format(o),options:r}},postToken:function(e,t){if(null==e.authorization)throw new Error("Missing required parameter authorization when calling postToken");if(null==e.grantType)throw new Error("Missing required parameter grantType when calling postToken");var n=a.parse("/token",!0);n.query=u({},n.query,{grant_type:e.grantType});var o=u({},{method:"POST"},t),r={};return r={"Content-Type":"application/x-www-form-urlencoded"},o.body=i.stringify({device_id:e.deviceId,refresh_token:e.refreshToken}),o.headers=u({Authorization:e.authorization,"Accept-Language":e.acceptLanguage},r),{url:a.format(n),options:o}}},t.DefaultApiFp={deleteLikes:function(e,n){var o=t.DefaultApiFetchParamCreator.deleteLikes(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e;throw e}).catch(function(e){throw e})}},getCard:function(e,n){var o=t.DefaultApiFetchParamCreator.getCard(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getCardVersion:function(e,n){var o=t.DefaultApiFetchParamCreator.getCardVersion(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getCatalogMovie:function(e,n){var o=t.DefaultApiFetchParamCreator.getCatalogMovie(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getChannelGrid:function(e,n){var o=t.DefaultApiFetchParamCreator.getChannelGrid(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getChannelMovie:function(e,n){var o=t.DefaultApiFetchParamCreator.getChannelMovie(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getLikes:function(e,n){var o=t.DefaultApiFetchParamCreator.getLikes(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getReadyChannels:function(e,n){var o=t.DefaultApiFetchParamCreator.getReadyChannels(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getReadyMovies:function(e,n){var o=t.DefaultApiFetchParamCreator.getReadyMovies(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getStaticChannelScene:function(e,n){var o=t.DefaultApiFetchParamCreator.getStaticChannelScene(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},getStaticMovieScene:function(e,n){var o=t.DefaultApiFetchParamCreator.getStaticMovieScene(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}},postLikes:function(e,n){var o=t.DefaultApiFetchParamCreator.postLikes(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e;throw e}).catch(function(e){throw e})}},postToken:function(e,n){var o=t.DefaultApiFetchParamCreator.postToken(e,n);return function(e,t){return void 0===t&&(t=p),e(t+o.url,o.options).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw e}).catch(function(e){throw e})}}};var h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.deleteLikes=function(e,n){return t.DefaultApiFp.deleteLikes(e,n)(this.fetch,this.basePath)},n.prototype.getCard=function(e,n){return t.DefaultApiFp.getCard(e,n)(this.fetch,this.basePath)},n.prototype.getCardVersion=function(e,n){return t.DefaultApiFp.getCardVersion(e,n)(this.fetch,this.basePath)},n.prototype.getCatalogMovie=function(e,n){return t.DefaultApiFp.getCatalogMovie(e,n)(this.fetch,this.basePath)},n.prototype.getChannelGrid=function(e,n){return t.DefaultApiFp.getChannelGrid(e,n)(this.fetch,this.basePath)},n.prototype.getChannelMovie=function(e,n){return t.DefaultApiFp.getChannelMovie(e,n)(this.fetch,this.basePath)},n.prototype.getLikes=function(e,n){return t.DefaultApiFp.getLikes(e,n)(this.fetch,this.basePath)},n.prototype.getReadyChannels=function(e,n){return t.DefaultApiFp.getReadyChannels(e,n)(this.fetch,this.basePath)},n.prototype.getReadyMovies=function(e,n){return t.DefaultApiFp.getReadyMovies(e,n)(this.fetch,this.basePath)},n.prototype.getStaticChannelScene=function(e,n){return t.DefaultApiFp.getStaticChannelScene(e,n)(this.fetch,this.basePath)},n.prototype.getStaticMovieScene=function(e,n){return t.DefaultApiFp.getStaticMovieScene(e,n)(this.fetch,this.basePath)},n.prototype.postLikes=function(e,n){return t.DefaultApiFp.postLikes(e,n)(this.fetch,this.basePath)},n.prototype.postToken=function(e,n){return t.DefaultApiFp.postToken(e,n)(this.fetch,this.basePath)},n}(l);t.DefaultApi=h,t.DefaultApiFactory=function(e,n){return{deleteLikes:function(o,r){return t.DefaultApiFp.deleteLikes(o,r)(e,n)},getCard:function(o,r){return t.DefaultApiFp.getCard(o,r)(e,n)},getCardVersion:function(o,r){return t.DefaultApiFp.getCardVersion(o,r)(e,n)},getCatalogMovie:function(o,r){return t.DefaultApiFp.getCatalogMovie(o,r)(e,n)},getChannelGrid:function(o,r){return t.DefaultApiFp.getChannelGrid(o,r)(e,n)},getChannelMovie:function(o,r){return t.DefaultApiFp.getChannelMovie(o,r)(e,n)},getLikes:function(o,r){return t.DefaultApiFp.getLikes(o,r)(e,n)},getReadyChannels:function(o,r){return t.DefaultApiFp.getReadyChannels(o,r)(e,n)},getReadyMovies:function(o,r){return t.DefaultApiFp.getReadyMovies(o,r)(e,n)},getStaticChannelScene:function(o,r){return t.DefaultApiFp.getStaticChannelScene(o,r)(e,n)},getStaticMovieScene:function(o,r){return t.DefaultApiFp.getStaticMovieScene(o,r)(e,n)},postLikes:function(o,r){return t.DefaultApiFp.postLikes(o,r)(e,n)},postToken:function(o,r){return t.DefaultApiFp.postToken(o,r)(e,n)}}};var f=function(e){function n(t){var n=e.call(this,"",t.fetch)||this;if(n.environment="PRO",n.noAuthServices=["postRegisterDevice","postRegisterEmail","postToken","postVersion"],"object"!=typeof t)throw console.error("You should provide initialization params."),new Error("You should provide initialization params.");return n.apiKey=t.apiKey,t.deviceId&&n.setDeviceId(t.deviceId),n.eventNamespace=t.eventNamespace||"dive-external-api-",n.setEnvironment(t.env),n.storeTokenType=t.storeToken,n}return o(n,e),n.prototype.setDeviceId=function(e){this.deviceId=e},n.prototype.getSavedToken=function(){switch(this.storeTokenType){case"cookies":return this.getTokenFromCookies();default:if(this.getTokenFromWebStorage())return JSON.parse(this.getTokenFromWebStorage())}},n.prototype.setEnvironment=function(e){switch(this.environment=e,e){case"DEV":this.basePath=p.replace("https://","https://dev-");break;case"PRE":this.basePath=p.replace("https://","https://pre-");break;case"PRO":default:this.basePath=p}},n.prototype.setLocale=function(e){this.locale=e},n.prototype.getLocale=function(){return this.locale},n.prototype.writeToken=function(e){if(e){switch(this.storeTokenType){case"cookies":this.writeTokenToCookie(e);break;default:this.writeTokenToWebStorage(e)}this.diveTokenRefreshInterval&&(window.clearInterval(this.diveTokenRefreshInterval),this.diveTokenRefreshInterval=void 0),e.expires_in&&(this.diveTokenRefreshInterval=window.setInterval(this.refreshToken.bind(this),1e3*Math.max(1e4,e.expires_in-60)))}},n.prototype.gatherCommonHeaders=function(e){var t={};return e||(e={}),null==e.connection&&(t.connection="keep-alive"),null==e.acceptEncoding&&(t.acceptEncoding="gzip, deflate"),null==e.authorization&&this.getSavedToken()?t.authorization=""+this.getSavedToken().token_type.substring(0,1).toUpperCase()+this.getSavedToken().token_type.substring(1)+" "+this.getSavedToken().access_token:t.authorization="Basic "+this.apiKey,null==e.acceptLanguage&&null!==this.locale&&(t.acceptLanguage=this.locale),r({},t,e)},n.prototype.deleteSavedToken=function(){switch(this.storeTokenType){case"cookies":this.deleteTokenFromCookies();break;default:this.deleteTokenFromWebStorage()}},n.prototype.initializeToken=function(){var e=this;return new Promise(function(t,n){e.refreshToken().then(function(){t()}).catch(function(e){n(e)})})},n.prototype.postTokenAndSave=function(e,t){var n=this;return this.deleteSavedToken(),new Promise(function(o,i){var a=r({},n.gatherCommonHeaders(e),{deviceId:n.deviceId});n.postToken(a,t).then(function(e){n.writeToken(e),o()}).catch(i)})},n.prototype.syncWithMovieVOD=function(e){if(!e)throw new Error("Error, missing parameters object");if(!e.movieId)throw new Error("Error, missing movieId parameter");if(!e.timestamp)throw new Error("Error, missing timestamp parameter");this.syncWithMovie({movieId:e.movieId,timestamp:e.timestamp,callbacks:e.callbacks})},n.prototype.syncWithMovieStreaming=function(e){if(!e)throw new Error("Error, missing parameters object");if(!e.channelId)throw new Error("Error, missing channelId parameter");this.syncWithMovie({channelId:e.channelId,protocol:e.protocol,callbacks:e.callbacks})},n.prototype.syncWithMovie=function(e){var t=this;if(this.clearSocket(),!e)throw new Error("Error, missing parameters object");var n=e.protocol||"https",o="stream.dive.tv",r="channels",i={};switch(this.environment){case"DEV":o=n+"://dev-"+o;break;case"PRE":o=n+"://pre-"+o;break;default:o=n+"://"+o}!e.channelId&&e.movieId&&e.timestamp?(r="movies",i.movie_id=e.movieId,i.timestamp=e.timestamp):i.channel_id=e.channelId,o+="/"+r,this.socket=c(o,{path:"/v1/stream",multiplex:!1,reconnection:!0,query:i,transports:["websocket"],extraHeaders:{"Accept-Language":this.locale}}),this.socket.on("connect",function(){t.socket.emit("authenticate",{token:t.getSavedToken().access_token}).on("authenticated",function(){console.log("authorized")}).on("unauthorized",function(e){throw console.log("unauthorized: "+JSON.stringify(e.data)),new Error(e.data.type)}).on("error",function(t){console.log("SOCKET error",t),e.callbacks&&e.callbacks.onError instanceof Function&&e.callbacks.onError(t)}).on("movie_start",function(t){e.callbacks&&e.callbacks.onMovieStart instanceof Function&&e.callbacks.onMovieStart(t)}).on("movie_end",function(){e.callbacks&&e.callbacks.onMovieEnd instanceof Function&&e.callbacks.onMovieEnd()}).on("scene_start",function(t){e.callbacks&&e.callbacks.onSceneStart instanceof Function&&e.callbacks.onSceneStart(t)}).on("scene_update",function(t){e.callbacks&&e.callbacks.onSceneUpdate instanceof Function&&e.callbacks.onSceneUpdate(t)}).on("scene_end",function(){e.callbacks&&e.callbacks.onSceneEnd instanceof Function&&e.callbacks.onSceneEnd()}).on("pause_start",function(){e.callbacks&&e.callbacks.onPauseStart instanceof Function&&e.callbacks.onPauseStart()}).on("pause_end",function(){e.callbacks&&e.callbacks.onPauseEnd instanceof Function&&e.callbacks.onPauseEnd()})})},n.prototype.clearSocket=function(){this.socket&&this.socket.connected&&this.socket.disconnect(!0),this.socket=void 0},n.prototype.deleteLikes=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.deleteLikes(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - deleteLikes","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("deleteLikes")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.deleteLikes(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getCard=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getCard(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getCard","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getCard")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getCard(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getCardVersion=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getCardVersion(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getCardVersion","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getCardVersion")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getCardVersion(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getCatalogMovie=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getCatalogMovie(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getCatalogMovie","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getCatalogMovie")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getCatalogMovie(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getChannelGrid=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getChannelGrid(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getChannelGrid","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getChannelGrid")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getChannelGrid(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getChannelMovie=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getChannelMovie(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getChannelMovie","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getChannelMovie")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getChannelMovie(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getLikes=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getLikes(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getLikes","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getLikes")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getLikes(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getReadyChannels=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getReadyChannels(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getReadyChannels","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getReadyChannels")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getReadyChannels(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getReadyMovies=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getReadyMovies(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getReadyMovies","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getReadyMovies")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getReadyMovies(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getStaticChannelScene=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getStaticChannelScene(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getStaticChannelScene","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getStaticChannelScene")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getStaticChannelScene(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.getStaticMovieScene=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.getStaticMovieScene(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - getStaticMovieScene","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("getStaticMovieScene")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.getStaticMovieScene(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.postLikes=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.postLikes(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - postLikes","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("postLikes")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.postLikes(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.postToken=function(e,n){var o=this;return new Promise(function(r,i){var a=o.gatherCommonHeaders(e);t.DefaultApiFp.postToken(a,n)(o.fetch,o.basePath).then(function(e){r(e)}).catch(function(s){s&&console.log("%c REST error - postToken","background: black; color: #FE2EF7; padding: 0 10px;",s),401===s.status&&o.serviceRequiresToken("postToken")?o.refreshToken().catch(function(e){return o.postTokenAndSave({grantType:"device_credentials",deviceId:o.deviceId})}).then(function(){return a=o.gatherCommonHeaders(e),t.DefaultApiFp.postToken(a,n)(o.fetch,o.basePath)}).then(function(e){r(e)}).catch(function(e){i(e)}):i(s)})})},n.prototype.serviceRequiresToken=function(e){return-1===this.noAuthServices.indexOf(e)},n.prototype.writeTokenToCookie=function(e){return this.setCookie("dive_token",JSON.stringify(e),e.expires_in)},n.prototype.writeTokenToWebStorage=function(e){window.localStorage&&window.localStorage.setItem("dive_token",JSON.stringify(e))},n.prototype.refreshToken=function(){var e=this.getSavedToken();this.apiKey;return e&&e.refresh_token?this.postTokenAndSave({grantType:"refresh_token",refreshToken:e.refresh_token}):this.postTokenAndSave({grantType:"device_credentials",deviceId:this.deviceId})},n.prototype.setCookie=function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},n.prototype.getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),o=n.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},n.prototype.getTokenFromCookies=function(){var e=this.getCookie("dive_token");if(e)try{return JSON.parse(e)}catch(e){return}},n.prototype.getTokenFromWebStorage=function(){if(window.localStorage)try{return window.localStorage.getItem("dive_token")}catch(e){return}},n.prototype.deleteTokenFromWebStorage=function(){window.localStorage&&window.localStorage.removeItem("dive_token")},n.prototype.deleteTokenFromCookies=function(){document.cookie="dive_token=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},n}(h);t.DiveAPIClass=f},function(e,t,n){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var p=0;p<u;++p){var l,h,f,d,y=e[p].replace(s,"%20"),m=y.indexOf(n);m>=0?(l=y.substr(0,m),h=y.substr(m+1)):(l=y,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),o(a,f)?r(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&u.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function i(e){return u.isString(e)&&(e=r(e)),e instanceof o?e.format():o.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}var c=n(35),u=n(36);t.parse=r,t.resolve=a,t.resolveObject=s,t.format=i,t.Url=o;var p=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(f),y=["'"].concat(d),m=["%","/","?",";","#"].concat(y),v=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=n(13);o.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),r=-1!==o&&o<e.indexOf("#")?"?":"#",i=e.split(r),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(r);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var l=h.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?A.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=p.exec(s);if(f){f=f[0];var d=f.toLowerCase();this.protocol=d,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===s.substr(0,2);!T||f&&_[f]||(s=s.substr(2),this.slashes=!0)}if(!_[f]&&(T||f&&!S[f])){for(var b=-1,O=0;O<v.length;O++){var I=s.indexOf(v[O]);-1!==I&&(-1===b||I<b)&&(b=I)}var R,N;N=-1===b?s.lastIndexOf("@"):s.lastIndexOf("@",b),-1!==N&&(R=s.slice(0,N),s=s.slice(N+1),this.auth=decodeURIComponent(R)),b=-1;for(var O=0;O<m.length;O++){var I=s.indexOf(m[O]);-1!==I&&(-1===b||I<b)&&(b=I)}-1===b&&(b=s.length),this.host=s.slice(0,b),s=s.slice(b),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var w=this.hostname.split(/\./),O=0,k=w.length;O<k;O++){var D=w[O];if(D&&!D.match(g)){for(var P="",M=0,x=D.length;M<x;M++)D.charCodeAt(M)>127?P+="x":P+=D[M];if(!P.match(g)){var U=w.slice(0,O),B=w.slice(O+1),j=D.match(E);j&&(U.push(j[1]),B.unshift(j[2])),B.length&&(s="/"+B.join(".")+s),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=c.toASCII(this.hostname));var H=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+H,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!C[d])for(var O=0,k=y.length;O<k;O++){var V=y[O];if(-1!==s.indexOf(V)){var G=encodeURIComponent(V);G===V&&(G=escape(V)),s=s.split(V).join(G)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var q=s.indexOf("?");if(-1!==q?(this.search=s.substr(q),this.query=s.substr(q+1),t&&(this.query=A.parse(this.query)),s=s.slice(0,q)):t&&(this.search="",this.query={}),s&&(this.pathname=s),S[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",K=this.search||"";this.path=H+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(i=A.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+o},o.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(u.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var p=s[c];"protocol"!==p&&(n[p]=e[p])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!S[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var f=l[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",m=n.search||"";n.path=y+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=g||v||n.host&&e.pathname,C=E,A=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],T=n.protocol&&!S[n.protocol];if(T&&(n.hostname="",n.port=null,n.host&&(""===A[0]?A[0]=n.host:A.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),E=E&&(""===d[0]||""===A[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,A=d;else if(d.length)A||(A=[]),A.pop(),A=A.concat(d),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(T){n.hostname=n.host=A.shift();var b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!A.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=A.slice(-1)[0],I=(n.host||e.host||A.length>1)&&("."===O||".."===O)||""===O,R=0,N=A.length;N>=0;N--)O=A[N],"."===O?A.splice(N,1):".."===O?(A.splice(N,1),R++):R&&(A.splice(N,1),R--);if(!E&&!C)for(;R--;R)A.unshift("..");!E||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),I&&"/"!==A.join("/").substr(-1)&&A.push("");var L=""===A[0]||A[0]&&"/"===A[0].charAt(0);if(T){n.hostname=n.host=L?"":A.length?A.shift():"";var b=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return E=E||n.host&&A.length,E&&!L&&A.unshift(""),A.length?n.pathname=A.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,o){var r;!function(i){function a(e){throw new RangeError(k[e])}function s(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function c(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(w,"."),o+s(e.split("."),t).join(".")}function u(e){for(var t,n,o=[],r=0,i=e.length;r<i;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<i?(n=e.charCodeAt(r++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--)):o.push(t);return o}function p(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(e>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var o=0;for(e=n?P(e/b):e>>1,e+=P(e/t);e>D*A>>1;o+=_)e=P(e/D);return P(o+(D+1)*e/(e+T))}function d(e){var t,n,o,r,i,s,c,u,h,d,y=[],m=e.length,v=0,g=I,E=O;for(n=e.lastIndexOf(R),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&a("not-basic"),y.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<m;){for(i=v,s=1,c=_;r>=m&&a("invalid-input"),u=l(e.charCodeAt(r++)),(u>=_||u>P((C-v)/s))&&a("overflow"),v+=u*s,h=c<=E?S:c>=E+A?A:c-E,!(u<h);c+=_)d=_-h,s>P(C/d)&&a("overflow"),s*=d;t=y.length+1,E=f(v-i,t,0==i),P(v/t)>C-g&&a("overflow"),g+=P(v/t),v%=t,y.splice(v++,0,g)}return p(y)}function y(e){var t,n,o,r,i,s,c,p,l,d,y,m,v,g,E,T=[];for(e=u(e),m=e.length,t=I,n=0,i=O,s=0;s<m;++s)(y=e[s])<128&&T.push(M(y));for(o=r=T.length,r&&T.push(R);o<m;){for(c=C,s=0;s<m;++s)(y=e[s])>=t&&y<c&&(c=y);for(v=o+1,c-t>P((C-n)/v)&&a("overflow"),n+=(c-t)*v,t=c,s=0;s<m;++s)if(y=e[s],y<t&&++n>C&&a("overflow"),y==t){for(p=n,l=_;d=l<=i?S:l>=i+A?A:l-i,!(p<d);l+=_)E=p-d,g=_-d,T.push(M(h(d+E%g,0))),p=P(E/g);T.push(M(h(p,0))),i=f(n,v,o==r),n=0,++o}++n,++t}return T.join("")}function m(e){return c(e,function(e){return N.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return c(e,function(e){return L.test(e)?"xn--"+y(e):e})}var g=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof o&&o);var E,C=2147483647,_=36,S=1,A=26,T=38,b=700,O=72,I=128,R="-",N=/^xn--/,L=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-S,P=Math.floor,M=String.fromCharCode;E={version:"1.4.1",ucs2:{decode:u,encode:p},decode:d,encode:y,toASCII:v,toUnicode:m},void 0!==(r=function(){return E}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(14)(e),n(0))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){n(38),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function c(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&E(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!C(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function y(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(e){return e&&DataView.prototype.isPrototypeOf(e)},C=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+","+o:o},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,o){this.map[t(e)]=n(o)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},v.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},l.call(f.prototype),l.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];m.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=f,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,o){var r=new f(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new m(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),r.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=r(e),i=o.source,u=o.id,p=o.path,l=c[u]&&p in c[u].nsps,h=t.forceNew||t["force new connection"]||!1===t.multiplex||l;return h?(s("ignoring socket cache for %s",i),n=a(i,t)):(c[u]||(s("new io instance for %s",i),c[u]=a(i,t)),n=c[u]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}var r=n(40),i=n(6),a=n(18),s=n(1)("socket.io-client");e.exports=t=o;var c=t.managers={};t.protocol=i.protocol,t.connect=o,t.Manager=n(18),t.Socket=n(23)},function(e,t,n){(function(t){function o(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":"),s=a?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}var r=n(15),i=n(1)("socket.io-client:url");e.exports=o}).call(t,n(0))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):m=-1,d.length&&s())}function s(){if(!y){var e=r(a);y=!0;for(var t=d.length;t;){for(f=d,d=[];++m<t;)f&&f[m].run();m=-1,t=d.length}f=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var p,l,h=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var f,d=[],y=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||y||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){function o(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}function r(e){function n(){if(n.enabled){var e=n,o=+new Date,r=o-(u||o);e.diff=r,e.prev=u,e.curr=o,u=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;s++;var r=t.formatters[o];if("function"==typeof r){var a=i[s];n=r.call(e,a),i.splice(s,1),s--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=o(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r.debug=r.default=r,t.coerce=c,t.disable=a,t.enable=i,t.enabled=s,t.humanize=n(43),t.names=[],t.skips=[],t.formatters={};var u},function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return i(e,u,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,p=365.25*u;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?r(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){function o(e,t){if(!e)return e;if(a(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(i(e)){for(var r=new Array(e.length),s=0;s<e.length;s++)r[s]=o(e[s],t);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var c in e)r[c]=o(e[c],t);return r}return e}function r(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(i(e))for(var n=0;n<e.length;n++)e[n]=r(e[n],t);else if("object"==typeof e)for(var o in e)e[o]=r(e[o],t);return e}var i=n(46),a=n(17),s=Object.prototype.toString,c="function"==typeof e.Blob||"[object BlobConstructor]"===s.call(e.Blob),u="function"==typeof e.File||"[object FileConstructor]"===s.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=o(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=r(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,s,p){if(!e)return e;if(c&&e instanceof Blob||u&&e instanceof File){o++;var l=new FileReader;l.onload=function(){p?p[s]=this.result:r=this.result,--o||t(r)},l.readAsArrayBuffer(e)}else if(i(e))for(var h=0;h<e.length;h++)n(e[h],h,e);else if("object"==typeof e&&!a(e))for(var f in e)n(e[f],f,e)}var o=0,r=e;n(r),o||t(r)}}).call(t,n(0))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(48)},function(e,t,n){e.exports=n(49),e.exports.parser=n(3)},function(e,t,n){(function(t){function o(e,n){if(!(this instanceof o))return new o(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=p(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=p(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=n(19),a=n(2),s=n(1)("engine.io-client:socket"),c=n(22),u=n(3),p=n(15),l=n(61),h=n(4);e.exports=o,o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=u.protocol,o.Socket=o,o.Transport=n(8),o.transports=n(19),o.parser=n(3),o.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=r(this.query);t.EIO=u.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},o.prototype.open=function(){var e;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},o.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},o.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;l=l||t}l||(s('probe transport "%s" opened',e),p.send([{type:"ping",data:"probe"}]),p.once("packet",function(t){if(!l)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",p),!p)return;o.priorWebsocketSuccess="websocket"===p.name,s('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){l||"closed"!==h.readyState&&(s("changing transport and sending upgrade packet"),u(),h.setTransport(p),p.send([{type:"upgrade"}]),h.emit("upgrade",p),p=null,h.upgrading=!1,h.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=p.name,h.emit("upgradeError",n)}}))}function n(){l||(l=!0,u(),p.close(),p=null)}function r(t){var o=new Error("probe error: "+t);o.transport=p.name,n(),s('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",o)}function i(){r("transport closed")}function a(){r("socket closed")}function c(e){p&&e.name!==p.name&&(s('"%s" works - aborting "%s"',e.name,p.name),n())}function u(){p.removeListener("open",t),p.removeListener("error",r),p.removeListener("close",i),h.removeListener("close",a),h.removeListener("upgrading",c)}s('probing transport "%s"',e);var p=this.createTransport(e,{probe:1}),l=!1,h=this;o.priorWebsocketSuccess=!1,p.once("open",t),p.once("error",r),p.once("close",i),this.once("close",a),this.once("upgrading",c),p.open()},o.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},o.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},o.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},o.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},o.prototype.sendPacket=function(e,t,n,o){if("function"==typeof t&&(o=t,t=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},o.prototype.close=function(){function e(){o.onClose("forced close"),s("socket closing - telling transport to close"),o.transport.close()}function t(){o.removeListener("upgrade",t),o.removeListener("upgradeError",t),e()}function n(){o.once("upgrade",t),o.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},o.prototype.onError=function(e){s("socket error %j",e),o.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},o.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},o.prototype.filterUpgrades=function(e){for(var t=[],n=0,o=e.length;n<o;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,n(0))},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function o(){}function r(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,o=location.port;o||(o=n?443:80),this.xd=e.hostname!==t.location.hostname||o!==e.port,this.xs=e.secure!==n}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var s=n(7),c=n(20),u=n(2),p=n(5),l=n(1)("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=i,p(r,c),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},r.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,o=this.request({method:"POST",data:e,isBinary:n}),r=this;o.on("success",t),o.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=o},r.prototype.doPoll=function(){l("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),o=this;try{l("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.extraHeaders[r])}}catch(e){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){o.onLoad()},n.onerror=function(){o.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var e;try{e=n.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===e&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?o.onLoad():setTimeout(function(){o.onError(n.status)},0))},l("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){o.onError(e)},0)}t.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,e)try{this.xhr.abort()}catch(e){}t.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,n(0))},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);return t}},function(e,t){e.exports=function(e,t,n){var o=e.byteLength;if(t=t||0,n=n||o,e.slice)return e.slice(t,n);if(t<0&&(t+=o),n<0&&(n+=o),n>o&&(n=o),t>=o||t>=n||0===o)return new ArrayBuffer(0);for(var r=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=r[a];return i.buffer}},function(e,t){function n(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||o,r.count=e,0===e?t():r}function o(){}e.exports=n},function(e,t,n){(function(e,o){var r;!function(i){function a(e){for(var t,n,o=[],r=0,i=e.length;r<i;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<i?(n=e.charCodeAt(r++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--)):o.push(t);return o}function s(e){for(var t,n=e.length,o=-1,r="";++o<n;)t=e[o],t>65535&&(t-=65536,r+=C(t>>>10&1023|55296),t=56320|1023&t),r+=C(t);return r}function c(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(e,t){return C(e>>t&63|128)}function p(e,t){if(0==(4294967168&e))return C(e);var n="";return 0==(4294965248&e)?n=C(e>>6&31|192):0==(4294901760&e)?(c(e,t)||(e=65533),n=C(e>>12&15|224),n+=u(e,6)):0==(4292870144&e)&&(n=C(e>>18&7|240),n+=u(e,12),n+=u(e,6)),n+=C(63&e|128)}function l(e,t){t=t||{};for(var n,o=!1!==t.strict,r=a(e),i=r.length,s=-1,c="";++s<i;)n=r[s],c+=p(n,o);return c}function h(){if(E>=g)throw Error("Invalid byte index");var e=255&v[E];if(E++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(e){var t,n,o,r,i;if(E>g)throw Error("Invalid byte index");if(E==g)return!1;if(t=255&v[E],E++,0==(128&t))return t;if(192==(224&t)){if(n=h(),(i=(31&t)<<6|n)>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(n=h(),o=h(),(i=(15&t)<<12|n<<6|o)>=2048)return c(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=h(),o=h(),r=h(),(i=(7&t)<<18|n<<12|o<<6|r)>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(e,t){t=t||{};var n=!1!==t.strict;v=a(e),g=v.length,E=0;for(var o,r=[];!1!==(o=f(n));)r.push(o);return s(r)}var y="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports,"object"==typeof o&&o);var v,g,E,C=String.fromCharCode,_={version:"2.1.2",encode:l,decode:d};void 0!==(r=function(){return _}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(14)(e),n(0))},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),o=0;o<e.length;o++)n[e.charCodeAt(o)]=o;t.encode=function(t){var n,o=new Uint8Array(t),r=o.length,i="";for(n=0;n<r;n+=3)i+=e[o[n]>>2],i+=e[(3&o[n])<<4|o[n+1]>>4],i+=e[(15&o[n+1])<<2|o[n+2]>>6],i+=e[63&o[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,o,r,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var p=new ArrayBuffer(s),l=new Uint8Array(p);for(t=0;t<c;t+=4)o=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],l[u++]=o<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return p}}()},function(e,t,n){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=r.buffer}e[t]=o}}}function o(e,t){t=t||{};var o=new i;n(e);for(var r=0;r<e.length;r++)o.append(e[r]);return t.type?o.getBlob(t.type):o.getBlob()}function r(e,t){return n(e),new Blob(e,t||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return a?s?t.Blob:r:c?o:void 0}()}).call(t,n(0))},function(e,t,n){(function(t){function o(){}function r(e){i.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=o)},!1)}var i=n(20),a=n(5);e.exports=r;var s,c=/\n/g,u=/\\n/g;a(r,i),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function n(){o(),t()}function o(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';i=document.createElement(e)}catch(e){i=document.createElement("iframe"),i.name=r.iframeId,i.src="javascript:0"}i.id=r.iframeId,r.form.appendChild(i),r.iframe=i}var r=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=p,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),o(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,n(0))},function(e,t,n){(function(t){function o(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=l&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=r),i.call(this,e)}var r,i=n(8),a=n(3),s=n(4),c=n(5),u=n(21),p=n(1)("engine.io-client:websocket"),l=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{r=n(60)}catch(e){}var h=l;h||"undefined"!=typeof window||(h=r),e.exports=o,c(o,i),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new h(e,t):new h(e):new h(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},o.prototype.write=function(e){function n(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}var o=this;this.writable=!1;for(var r=e.length,i=0,s=r;i<s;i++)!function(e){a.encodePacket(e,o.supportsBinary,function(i){if(!o.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),o.perMessageDeflate){("string"==typeof i?t.Buffer.byteLength(i):i.length)<o.perMessageDeflate.threshold&&(a.compress=!1)}}try{o.usingBrowserWebSocket?o.ws.send(i):o.ws.send(i,a)}catch(e){p("websocket closed before onclose event")}--r||n()})}(e[i])},o.prototype.onClose=function(){i.prototype.onClose.call(this)},o.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},o.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===o.prototype.name)}}).call(t,n(0))},function(e,t){},function(e,t,n){(function(t){var n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(o,"@").replace(r,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(t,n(0))},function(e,t){function n(e,t){var n=[];t=t||0;for(var o=t||0;o<e.length;o++)n[o-t]=e[o];return n}e.exports=n},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){n(65),e.exports=n(26).Object.assign},function(e,t,n){var o=n(66);o(o.S+o.F,"Object",{assign:n(76)})},function(e,t,n){var o=n(9),r=n(26),i=n(67),a=n(69),s=function(e,t,n){var c,u,p,l=e&s.F,h=e&s.G,f=e&s.S,d=e&s.P,y=e&s.B,m=e&s.W,v=h?r:r[t]||(r[t]={}),g=v.prototype,E=h?o:f?o[t]:(o[t]||{}).prototype;h&&(n=t);for(c in n)(u=!l&&E&&void 0!==E[c])&&c in v||(p=u?E[c]:n[c],v[c]=h&&"function"!=typeof E[c]?n[c]:y&&u?i(p,o):m&&E[c]==p?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):d&&"function"==typeof p?i(Function.call,p):p,d&&((v.virtual||(v.virtual={}))[c]=p,e&s.R&&g&&!g[c]&&a(g,c,p)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var o=n(68);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var o=n(70),r=n(75);e.exports=n(11)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(71),r=n(72),i=n(74),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(10);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(11)&&!n(12)(function(){return 7!=Object.defineProperty(n(73)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(10),r=n(9).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){var o=n(10);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var o=n(77),r=n(88),i=n(89),a=n(90),s=n(28),c=Object.assign;e.exports=!c||n(12)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=o})?function(e,t){for(var n=a(e),c=arguments.length,u=1,p=r.f,l=i.f;c>u;)for(var h,f=s(arguments[u++]),d=p?o(f).concat(p(f)):o(f),y=d.length,m=0;y>m;)l.call(f,h=d[m++])&&(n[h]=f[h]);return n}:c},function(e,t,n){var o=n(78),r=n(87);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(79),r=n(27),i=n(81)(!1),a=n(84)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),c=0,u=[];for(n in s)n!=a&&o(s,n)&&u.push(n);for(;t.length>c;)o(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(27),r=n(82),i=n(83);e.exports=function(e){return function(t,n,a){var s,c=o(t),u=r(c.length),p=i(a,u);if(e&&n!=n){for(;u>p;)if((s=c[p++])!=s)return!0}else for(;u>p;p++)if((e||p in c)&&c[p]===n)return e||p||0;return!e&&-1}}},function(e,t,n){var o=n(30),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t,n){var o=n(30),r=Math.max,i=Math.min;e.exports=function(e,t){return e=o(e),e<0?r(e+t,0):i(e,t)}},function(e,t,n){var o=n(85)("keys"),r=n(86);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var o=n(9),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var o=n(29);e.exports=function(e){return Object(o(e))}}])})},273:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(590)),o(n(614)),o(n(615)),o(n(627)),o(n(628)),o(n(629)),o(n(630)),o(n(631)),o(n(632))},310:function(e,t,n){n(311),n(313),e.exports=n(324)},324:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(128),c=n(50),u=n(232),p=n(439),l=n(98),h=n(272),f=n(22);u.createBrowserHistory();t.init=function(e){if("object"!==(void 0===e?"undefined":r(e)))throw console.error("You should provide initialization parameters as an object."),new Error("You should provide initialization parameters as an object.");if("string"!=typeof e.apiKey)throw console.error("You should provide a Dive API KEY in the initialization parameter 'apiKey"),new Error("You should provide a Dive API KEY in the initialization parameter 'apiKey");if("string"!=typeof e.deviceId)throw console.error("You should provide a unique client id in order to authenticate him,\n      provide it through the initialization parameter 'clientId'"),new Error("You should provide a unique client id in order to authenticate him,\n      provide it through the initialization parameter 'clientId'");try{if(KeyEvent){var t=f.KeyMap;t.UP=KeyEvent.VK_UP,t.DOWN=KeyEvent.VK_DOWN,t.LEFT=KeyEvent.VK_LEFT,t.RIGHT=KeyEvent.VK_RIGHT,t.ENTER=KeyEvent.VK_ENTER}}catch(e){console.error("NO KEYMAP FOUND")}var n=new h.DiveAPIClass({env:"PRO",storeToken:"cookies",apiKey:e.apiKey,deviceId:e.deviceId});n.setLocale("es-ES"),window.DiveAPI=n,n.postTokenAndSave({deviceId:i.deviceId,grantType:"device_credentials"}).then(function(t){if(console.log("Authorized!"),window.DiveAPI=n,console.log("DiveAPI generated, available through DiveSDK.API or window.DiveAPI (global)"),"string"!=typeof e.selector)throw console.error("You should provide a selector that resolves to an existing DOM Element\n        in the initialization parameter 'selector'"),new Error("You should provide a selector that resolves to an existing DOM Element\n        in the initialization parameter 'selector'")}).then(function(){s.render(a.createElement("div",{className:"diveContainer"},a.createElement(c.Provider,{store:p.store},a.createElement(l.App,null))),document.querySelector(e.selector))}).catch(function(e){console.error("ERROR LOADING",e)})}},439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(79),r=n(440),i=n(441),a=n(518),s="undefined"==typeof window?null:window,c=s.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.compose;t.store=o.createStore(o.combineReducers({nav:a.NavReducer,carousel:a.SyncReducer,ui:a.UIReducer}),c(function(){return o.applyMiddleware(r.default,i.default())}()))},441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),r=n(488),i=n(263),a=function(){var e,t=function(t,n,r){return function(t){n.dispatch(o.SocketActions.socketConnected()),void 0!==e&&(e.on("channelStatus",u(e,n)),e.emit("tuneChannel",r))}},n=function(t,n){return function(t){void 0!==e&&e.close(),n.dispatch(o.SocketActions.socketDisconnected())}},a=function(t,n){return function(t){void 0!==e&&e.close(),n.dispatch(o.SocketActions.socketDisconnected())}},s=function(t,n){return function(t){void 0!==e&&e.close(),n.dispatch(o.SocketActions.socketDisconnected())}},c=function(t,n){return function(t){void 0!==e&&e.close(),n.dispatch(o.SocketActions.socketDisconnected())}},u=function(e,t){return function(e){var n=(t.dispatch,e);switch(n.status){case"authenticated":t.dispatch(o.SocketActions.authReceived());break;case"unauthorized":t.dispatch(o.SocketActions.unauthReceived({message:n.message,code:n.code,type:n.type}));break;case"error":t.dispatch(o.SocketActions.errorReceived({status:n.status,description:n.description}));break;case"movie_start":t.dispatch(o.SocketActions.movieStartReceived({movie_id:n.movie_id}));break;case"movie_end":t.dispatch(o.SocketActions.movieEndRecieved());break;case"scene_start":t.dispatch(o.SocketActions.sceneStartReceived({cards:n.cards}));break;case"scene_update":t.dispatch(o.SocketActions.sceneUpdateReceived({cards:n.cards}));break;case"scene_end":t.dispatch(o.SocketActions.sceneEndReceived())}}},p=function(e){switch(e){case"DEV":return"https://dev-stream.dive.tv";case"PRE":return"https://pre-stream.dive.tv";case"PRO":default:return"https://stream.dive.tv"}};return function(u){return function(l){return function(h){switch(h.type){case"CONNECT":void 0!==e&&e.close(),u.dispatch(o.SocketActions.socketConnecting());var f=DiveAPI.getSavedToken();if(void 0===f)throw console.error("No token present while trying to connect the socket"),new Error("No token present while trying to connect the socket");var d=void 0!==h.payload.url?h.payload.url:p(i.DIVE_ENVIRONMENT);e=r.connect(d,{forceNew:!0,query:"token="+f.access_token,rejectUnauthorized:!1,secure:!0,transports:["websocket","xhr-polling","polling","htmlfile"]});var y=h.payload.channelId;e.on("connect",t(0,u,y)),e.on("connect_error",s(0,u)),e.on("error",s(0,u)),e.on("connect_timeout",c(0,u)),e.on("disconnect",n(0,u)),e.on("end",a(0,u));break;case"DISCONNECT":void 0!==e&&e.close(),e=void 0,u.dispatch(o.SocketActions.socketDisconnected());break;default:return l(h)}}}}};t.default=a},442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(95);t.uiCreateAction=function(e,t){return o.createAction(e,t)},t.UIActions={goBack:t.uiCreateAction("UI/UI_BACK",function(){return 0}),setDivider:t.uiCreateAction("UI/SET_DIVIDER",function(e){return e}),openCard:function(e,n){return function(n){e&&e.length>0&&n(t.UIActions.performOpenCard()),DiveAPI.getCard({cardId:e}).then(function(e){n(t.UIActions.performOpenCard(e))}).catch(function(e){console.error("Error getting card",e)})}},performOpenCard:t.uiCreateAction("UI/OPEN_CARD",function(e){return e}),openSync:t.uiCreateAction("UI/OPEN_SYNC"),open:function(e){return function(n){n(t.UIActions.performOpen(e))}},performOpen:t.uiCreateAction("UI/OPEN",function(e){return e}),addTestCards:t.uiCreateAction("UI/ADD_TEST_CARDS",function(e){return e})}},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(95);t.navCreateAction=function(e,t){return o.createAction(e,t)},t.NavActions={addNode:t.navCreateAction("NAV/ADD_NODE",function(e){return e}),setLastKey:t.navCreateAction("NAV/KEY",function(e){return e}),setSelected:t.navCreateAction("NAV/SELECTED",function(e){return e}),setLeaf:t.navCreateAction("NAV/SELECT_LEAF",function(e){return e}),setActivated:t.navCreateAction("NAV/ACTIVATED",function(e){return e}),moveHorizontal:t.navCreateAction("NAV/MOVE_HORIZONTAL",function(e){return e}),moveVertical:t.navCreateAction("NAV/MOVE_VERTICAL",function(e){return e}),deleteNode:t.navCreateAction("NAV/DELETE_NODE",function(e){return e}),setNodeByName:t.navCreateAction("NAV/SELECT_BY_NAME",function(e){return e}),setNodeById:t.navCreateAction("NAV/SELECT_BY_ID",function(e){return e})}},485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(95);t.syncCreateAction=function(e,t){return o.createAction(e,t)},t.SyncActions={openCard:t.syncCreateAction("SYNC/OPEN_CARD",function(e){return e}),setMovie:t.syncCreateAction("SYNC/SET_MOVIE",function(e){return e}),setChunkStatus:t.syncCreateAction("SYNC/SET_CHUNK_STATUS",function(e){return e}),setSyncType:t.syncCreateAction("SYNC/SET_SYNC_TYPE",function(e){return e}),setSelectedOnSceneChange:t.syncCreateAction("SYNC/SET_SELECTED_ON_SCENE_CHANGE",function(e){return e}),syncChannel:function(e){return function(e){console.log("[SOCKET]"),e(t.SyncActions.setSyncType("SOCKET")),DiveAPI.syncWithMovieStreaming({protocol:"http",channelId:"dive",callbacks:{onError:function(){console.log("[SOCKET] onError")},onMovieStart:function(n){n&&n.movie_id&&e(t.SyncActions.setMovie(n.movie_id))},onMovieEnd:function(){console.log("[SOCKET] onMovieEnd")},onSceneStart:function(n){e(n&&n.cards?t.SyncActions.startScene(n.cards):t.SyncActions.startScene([]))},onSceneUpdate:function(n){n&&n.cards&&e(t.SyncActions.updateScene(n.cards))},onSceneEnd:function(){e(t.SyncActions.endScene())},onPauseStart:function(){console.log("[SOCKET] onPauseStart")},onPauseEnd:function(){console.log("[SOCKET] onPauseEnd")}}})}},dataSync:function(e){return function(e){e(t.SyncActions.setChunkStatus("LOADING"))}},startScene:t.syncCreateAction("SYNC/START_SCENE",function(e){return e}),updateScene:t.syncCreateAction("SYNC/UPDATE_SCENE",function(e){return e}),endScene:t.syncCreateAction("SYNC/END_SCENE",function(e){return e}),setTime:t.syncCreateAction("SYNC/SET_TIME",function(e){return e})}},486:function(e,t,n){"use strict";function o(e,t){return r.createAction(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(95);t.SocketActions={authReceived:o("SOCKET/AUTHENTICATED"),unauthReceived:o("SOCKET/UNAUTHORIZED",function(e){return e}),errorReceived:o("SOCKET/ERROR",function(e){return e}),movieStartReceived:o("SOCKET/MOVIE_START",function(e){return e}),movieEndReceived:o("SOCKET/MOVIE_END"),sceneStartReceived:o("SOCKET/SCENE_START",function(e){return e}),sceneUpdateReceived:o("SOCKET/SCENE_UPDATE",function(e){return e}),sceneEndReceived:o("SOCKET/SCENE_END")}},487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(95);t.userCreateAction=function(e,t){return o.createAction(e,t)}},514:function(e,t){},518:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(519)),o(n(520)),o(n(521)),o(n(522))},519:function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.NavReducer=function(e,n){switch(void 0===e&&(e=t.initialNavState),n.type){case"NAV/ADD_NODE":var c=n.payload;if(-1!==c.parentId){var u=e.navigation.get(c.parentId);if(void 0===u)e.navigation.set(c.parentId,{parentId:-1,id:c.parentId,children:[[c.id]],columns:1});else{var p=u.children.length-1,l=u.children[p].length;if(void 0!==c.columns&&c.columns===l)u.children=u.children.concat([[c.id]]);else if(void 0!==c.forceOrder){var h=u.children[p].slice();h.splice(c.forceOrder,0,c.id),u.children[p]=h}else u.children[p]=u.children[p].concat([c.id]);e.navigation.set(u.id,u)}}var f=e.navigation.get(c.id);return void 0===f?e.navigation.set(c.id,c):e.navigation.set(c.id,o({},c,f,{parentId:c.parentId})),void 0!==c.name&&e.navNames.set(c.name,c.id),e;case"NAV/DELETE_NODE":var d=e.navigation.get(n.payload);if(void 0!==d&&d.parentId>=0){var y=e.navigation.get(d.parentId);if(void 0!==y){for(var m=0;m<y.children.length;m++){var v=a(y.children[m],n.payload);if(v>=0){var g=y.children[m].slice();g.splice(v,1),g.length>=0?y.children[m]=g:m>0&&y.children.splice(m,1);break}}e.navigation.set(y.id,y)}}return void 0!==d&&e.navigation.delete(d.id),e;case"NAV/KEY":return o({},e,{lastKey:n.payload});case"NAV/SELECTED":return s(e.navigation,e.selected,n.payload)?e:o({},e,{lastSelected:e.selected,selected:n.payload,selectedNav:e.navigation.get(n.payload)});case"NAV/SELECT_LEAF":var E=r(e,n.payload);return o({},e,{lastSelected:e.selected,selected:E,selectedNav:e.navigation.get(E)});case"NAV/ACTIVATED":return o({},e,{lastActivated:e.activated,activated:n.payload});case"NAV/MOVE_HORIZONTAL":var C=e.selected,_=e.selected,S=e.navigation.get(e.selected);if(void 0!==S&&S.parentId>=0){var A=e.navigation.get(S.parentId),T=!0;e:for(;T;)if(T=!1,void 0!==A)t:for(var b=0,O=A.children;b<O.length;b++)for(var I=O[b],R=0;R<I.length;R++){var N=I[R];if(N===_){if(e.navigation.get(_).modal)return e;if(1===n.payload&&R<I.length-1){C=r(e,I[R+1]);break e}if(-1===n.payload&&R>0){C=i(e,I[R-1]);break e}if(A.parentId>=0){_=A.id,A=e.navigation.get(A.parentId),T=!0;break t}}}}return o({},e,{lastSelected:e.selected,selected:C,selectedNav:e.navigation.get(C)});case"NAV/MOVE_VERTICAL":var L=e.selected,w=e.selected,k=e.navigation.get(e.selected);if(void 0!==k&&k.parentId>=0){var D=e.navigation.get(k.parentId),T=!0;e:for(;T;)if(T=!1,void 0!==D)t:for(var R=0;R<D.children.length;R++)if(D.children[R].length>0){var v=a(D.children[R],w);if(v<0)continue;var N=D.children[R][v];if(N===w){if(e.navigation.get(w).modal)return e;if(1===n.payload&&R<D.children.length-1){L=r(e,D.children[R+1][0]);break e}if(-1===n.payload&&R>0){L=i(e,D.children[R-1][0]);break e}if(D.parentId>=0){w=D.id,D=e.navigation.get(D.parentId),T=!0;break t}}}}return o({},e,{lastSelected:e.selected,selected:L,selectedNav:e.navigation.get(L)});case"NAV/SELECT_BY_NAME":var P=n.payload,M=r(e,e.navNames.get(P));return void 0!==M?o({},e,{lastSelected:e.selected,selected:M,selectedNav:e.navigation.get(M)}):e;case"NAV/SELECT_BY_ID":var x=r(e,n.payload);return void 0!==x?o({},e,{lastSelected:e.selected,selected:x,selectedNav:e.navigation.get(x)}):e;default:return e}};var r=function(e,t){for(var n=e.navigation.get(t),o=!0;void 0!==n&&o;)n.children[0].length>0?n=e.navigation.get(n.children[0][0]):o=!1;return void 0!==n?n.id:t},i=function(e,t){for(var n=e.navigation.get(t),o=!0;void 0!==n&&o;)if(!0===n.forceFirst&&n.children[0].length>0)n=e.navigation.get(n.children[0][0]);else if(n.children[n.children.length-1].length>0){var r=n.children[n.children.length-1][n.children[0].length-1];n=e.navigation.get(r)}else o=!1;return void 0!==n?n.id:t},a=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},s=function(e,t,n){var o,r=-1;do{if(void 0===(o=e.get(t)))break;!0===o.modal&&(r=o.id),t=o.parentId}while(r<0&&void 0!==t);if(-1===r)return!1;if(r>=0)do{if(o=e.get(n),o.id===r)return!1;t=o.parentId}while(r<0&&void 0!==t);return!0};t.initialNavState={navigation:new Map,lastKey:"",selected:3,selectedNav:void 0,activated:-1,lastSelected:-1,lastActivated:-1,navNames:new Map}},520:function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.UIReducer=function(e,n){switch(void 0===e&&(e=t.initialUIState),console.log("UIReducer: ",n),n.type){case"UI/SET_DIVIDER":return console.log("UI/SET_DIVIDER",n.payload),n.payload===e.divider?e:o({},e,{divider:n.payload});case"UI/OPEN_SYNC":var r=e.containers.slice();return r[1].component="CAROUSEL",o({},e,{divider:60,containers:r});case"UI/OPEN":var i=[{component:n.payload.top},{component:n.payload.bottom}],a=100;return["GRID","CAROUSEL","HOME","CARDS","CARD","PROFILE","HELP"].indexOf(n.payload.bottom)>=0&&(a=60),a!==e.divider||e.containers[0].component!==i[0].component||e.containers[0].component!==i[1].component?o({},e,{divider:a,containers:i}):e;case"UI/OPEN_CARD":var s=[e.containers[0],{component:"CARD"}];return o({},e,{divider:60,containers:s,card:n.payload});case"UI/ADD_TEST_CARDS":return o({},e,{testCards:e.testCards.concat([n.payload])});default:return e}},t.initialUIState={containers:[{component:"EMPTY"},{component:"CAROUSEL"}],card:void 0,testCards:[{card_id:"28e7cb52-01a2-3e95-a71f-4fc2d3e46f86",version:"0jOeUIeLCaOcSI4FSebNj4+E7VZ"},{card_id:"bd4f26ba-0c2a-3a16-bb7b-79aa066abf44"},{card_id:"e0143d7b-1e76-11e6-97ac-0684985cbbe3"},{card_id:"df5b9dd1-1e76-11e6-97ac-0684985cbbe3",version:"0jOeUIeLCaOcSI4FSebNj4+E7VZ"},{card_id:"f266ee0a-1e76-11e6-97ac-0684985cbbe3",version:"0jOeUIeLCaOcSI4FSebNj4+E7VZ"},{card_id:"de57c239-1e76-11e6-97ac-0684985cbbe3",version:"0jOeUIeLCaOcSI4FSebNj4+E7VZ"},{card_id:"f0913395-1e76-11e6-97ac-0684985cbbe3",version:"0jOeUIeLCaOcSI4FSebNj4+E7VZ"}],divider:60}},521:function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.SyncReducer=function(e,n){switch(void 0===e&&(e=t.initialSyncState),n.type){case"SYNC/SET_MOVIE":return o({},e,{movieId:n.payload,cards:[]});case"SYNC/UPDATE_TIME":return o({},e,{currentTime:r(e,Date.now()),lastUpdatedTime:Date.now()});case"SYNC/START_SCENE":return e.cards instanceof Array&&n.payload instanceof Array&&e.cards.length!==n.payload.length?o({},e,{cards:n.payload,selectedOnSceneChange:!0}):o({},e,{cards:[],selectedOnSceneChange:!0});case"SYNC/UPDATE_SCENE":return n.payload instanceof Array&&n.payload.length?o({},e,{cards:n.payload.concat(e.cards)}):e;case"SYNC/END_SCENE":return o({},e,{cards:[]});case"SYNC/SET_TRAILER":return o({},e,{demo:n.payload});case"SYNC/SET_SYNC_TYPE":return o({},e,{type:n.payload,socketStatus:"INIT",timeMovieSynced:t.initialSyncState.timeMovieSynced,currentTime:t.initialSyncState.currentTime,lastUpdatedTime:t.initialSyncState.lastUpdatedTime});case"SYNC/SET_SELECTED_ON_SCENE_CHANGE":return o({},e,{selectedOnSceneChange:n.payload});default:return e}};var r=function(e,t){return(e.timeMovie+(t-e.timeMovieSynced)*e.timeRatio)/1e3};t.initialSyncState={selectedOnSceneChange:!0,socketStatus:"INIT",movieId:"m00001",cards:[],demo:"",currentTime:0,timeMovie:0,timeMovieSynced:0,timeRatio:1,lastUpdatedTime:0}},522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserReducer=function(e,n){switch(void 0===e&&(e=t.initialUserState),n.type){case"USER/SET_USER":return n.payload;default:return e}},t.initialUserState={}},523:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(50),a=n(98),s=n(58),c=n(16),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){if(console.log("[LayoutClass] Render ",this.props.ui),this.props&&this.props.ui){console.log("[LayoutClass] Render OK");var e=this.props.ui.containers[0].component,t={height:this.props.ui.divider+"%"},n=this.props.ui.containers[1].component,o={height:100-this.props.ui.divider+"%"};return r.createElement("div",{className:"containerLayout"},r.createElement("div",{className:"layoutTop",style:t},this.getTop(e)),r.createElement("div",{className:"layoutBottom",style:o},this.getBottom(n)))}return null},t.prototype.componentDidMount=function(){window.setTimeout(this.getVideoStatus,500)},t.prototype.componentDidUpdate=function(){window.setTimeout(this.getVideoStatus,500)},t.prototype.getVideoStatus=function(){try{var e=document.getElementById("video1");if(!e.play)throw new Error("not video found");e.onPlayStateChange=function(){1==e.playState?e.onPlayStateChange=null:6==e.playState&&(e.onPlayStateChange=null)},e.data="http://demo.dive.tv:8095/bd4f26ba-0c2a-3a16-bb7b-79aa066abf44-3000",e.play(1)}catch(e){document.getElementsByClassName("layoutTop")[0].style.backgroundColor="pink",document.getElementsByClassName("layoutTop")[0].style.color="black",document.getElementsByClassName("layoutTop")[0].style.fontSize="40px",document.getElementsByClassName("layoutTop")[0].innerHTML+="ERROR: "+e}},t.prototype.getTop=function(e){return r.createElement("div",{id:"videoContainer",dangerouslySetInnerHTML:{__html:'<object xmlns="http://www.w3.org/1999/xhtml" id="video1" type="video/mpeg" style="position: relative; top: 0; width: 100%; height: 100%;"></object>'}})},t.prototype.getBottom=function(e){var t=this;switch(e){case"CAROUSEL":return r.createElement(a.Carousel,{key:"carousel#"+this.lastTimeMenuClicked,parent:this,columns:1,name:"CAROUSEL",groupName:"CAROUSEL",isDefault:!0});case"CARD":return this.props.ui.testCards.map(function(e,n){return r.createElement(a.CardDetailContainer,{cardId:e.card_id,version:e.version,key:"cardDetail_"+n,navClass:"cardDetailNav",parent:t,columns:1,isDefault:!0})});default:return null}},t.prototype.componentWillMount=function(){console.log("[Layout] componentWillMount:",this.props),this.props.setDivider(this.props.ui.divider)},t.prototype.componentWillUpdate=function(e,t){this.lastTimeMenuClicked=Date.now()},t}(r.PureComponent);t.LayoutClass=u;var p=function(e){return{ui:e.ui}};t.Layout=c.navigable(i.connect(p,s.UIActions)(u))},524:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(128),c=n(99),u=n(50),p=n(58),l=n(22);window.currentNavId=0;var h=function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.navId=0,n.focusTracked=!1,n.getNewId=function(){return++window.currentNavId},n.onMouseEnter=function(){var e=n.getId(),t=n.props.navigation.get(e);void 0!==t&&0===t.children[0].length&&(n.props.setSelected(e),e===n.props.selected&&n.wrapper.focus())},n.onClick=function(e){if(e.stopPropagation(),e.preventDefault(),1===e.buttons||e.keyCode){var t=n.props.navigation.get(n.getId()),o=!1;return void 0!==t&&0===t.children[0].length&&(n.props.setActivated(t.id),o=!0),n.props.clickAction&&(n.props.clickAction(),o=!0),o}},n.onFocus=function(e){var t=n.getId(),o=n.props.navigation.get(t);if(void 0!==n.props.selectedNav&&n.props.selectedNav.id===t&&n.doSelfScroll(!0),void 0===n.props.onFocusCallback||n.focusTracked&&!n.props.onFocusCallbackRepeat||(n.focusTracked=!0,n.props.onFocusCallback()),void 0!==o&&0===o.children[0].length)return!0;e.stopPropagation(),e.preventDefault()},n.getId=function(){return n.navId},n.onKeyPress=function(e){return e.preventDefault(),!1},n.onKeyPressDown=function(e){e.preventDefault(),e.stopPropagation();var t=l.KeyMap;switch(e.keyCode){case t.UP:n.props.moveVertical(-1);break;case t.RIGHT:n.props.moveHorizontal(1);break;case t.LEFT:n.props.moveHorizontal(-1);break;case t.DOWN:n.props.moveVertical(1);break;case t.ENTER:s.findDOMNode(n.refComponent).click(),n.onClick(e)}return!1},n.isScrollable=function(){if(n.isSelected()){var e=n.props.selectedNav;do{if(void 0!==e&&-1!==e.parentId){if(e&&!0===e.isScrollable)return!0;e=n.props.navigation.get(e.parentId)}else e=void 0}while(void 0!==e)}return!0},n.isSelected=function(){return n.props.selected===n.getId()},n.getScrollableElement=function(){var e=n.wrapper;return null!=e&&e.closest instanceof Function?e.closest(".scrollable"):null},n.calculateScroll=function(e,t){if(!0!==n.isScrollable())return-1;if(null!==document&&null!==t){var o=s.findDOMNode(t).parentElement;if(null!==o){var r=100;void 0!==n.props.scrollPadding&&(r=n.props.scrollPadding);var i=t.offsetLeft,a=t.offsetWidth+t.offsetLeft,c=(t.offsetWidth,o.offsetLeft),u=o.offsetWidth+o.offsetLeft,p=o.offsetWidth,l=0;return a+r>u+o.scrollLeft?l=a-p+r:i-r<o.scrollLeft+c?(l=i-r)<0&&(l=0):l=o.scrollLeft,l}}return-1},n.doSelfScroll=function(e,t){var o=void 0===t?function(){return 0}:t,r=n.getScrollableElement(),i=r?s.findDOMNode(r).parentElement:null,a=n.calculateScroll(i,r);if(a>=0&&null!=i){if(!0!==e)return i.scrollLeft=a,o();setTimeout(function(){return i.scrollLeft=a,o()},10)}return o()},n.navId=n.getNewId(),n}return o(n,t),n.prototype.componentDidUpdate=function(){var e=this;this.getId()===this.props.selected&&this.wrapper&&this.doSelfScroll(!0,function(){setTimeout(function(){e.wrapper.focus()},10)})},n.prototype.componentDidMount=function(){var e=this.getId(),t=this.props.parent,n=-1;t&&t.props&&void 0!==t.props.idx&&(n=t.props.idx);var o={parentId:n,children:[[]],id:e,columns:this.props.columns,groupName:this.props.groupName,forceFirst:this.props.forceFirst,forceOrder:this.props.forceOrder,modal:this.props.modal,isScrollable:this.props.isScrollable};if(this.props.addNode(o),e===this.props.selected&&this.wrapper.focus(),!0===this.props.isDefault)this.props.setNodeById(e);else if(void 0!==this.props.selectedNav){var r=this.props.selectedNav,i=this.props.navigation.get(e);r.id===i.parentId&&r.children[0][0]===e&&this.props.setNodeById(e)}this.forceUpdate()},n.prototype.componentWillUnmount=function(){var e=this.getId();if(void 0!==this.props.onBeforeUnmount&&this.props.onBeforeUnmount(this.props.selectedNav),void 0!==this.props.selectedNav){var t=this.props.selectedNav,n=this.props.navigation.get(e);t.id===e&&this.props.setNodeById(n.parentId)}this.props.deleteNode(e)},n.prototype.render=function(){var t=this,n=this.getId(),o=void 0===this.props.selectedNav||this.props.groupName!==this.props.selectedNav.groupName,s=n===this.props.activated,u={navigable:!0,navActive:s};this.props.navClass&&(u[this.props.navClass]=!0),this.props.focusChainClass&&this.props.focusChainClass.length&&this.props.selectedNav&&(u[this.props.focusChainClass]=this.inFocusChain(this.props.selectedNav)),this.props.activeGroupClass&&this.props.activeGroupClass.length&&!o&&(u[this.props.activeGroupClass]=!0);var p=c(u),l=this.props,h=(l.idx,l.columns,l.tabIndex,l.clickAction,l.isDefault,l.onFocusCallback,l.onFocusCallbackRepeat,l.forceFirst,l.forceOrder,l.modal,l.onBeforeUnmount,l.focusChainClass,l.navClass,i(l,["idx","columns","tabIndex","clickAction","isDefault","onFocusCallback","onFocusCallbackRepeat","forceFirst","forceOrder","modal","onBeforeUnmount","focusChainClass","navClass"])),f=(h.navigation,h.lastKey,h.selected,h.selectedNav,h.lastSelected,h.activated,h.lastActivated,h.navNames,i(h,["navigation","lastKey","selected","selectedNav","lastSelected","activated","lastActivated","navNames"])),d=e;return a.createElement("div",{ref:function(e){e&&(t.wrapper=e)},className:p,tabIndex:-1,key:this.props.key?this.props.key+"_Nav":"",onKeyUp:this.onKeyPress,onKeyDown:this.onKeyPressDown,onMouseEnter:this.onMouseEnter,onMouseDown:this.onClick,onFocus:function(e){return t.onFocus(e),!1},id:n.toString()},a.createElement(d,r({ref:function(e){e&&(t.refComponent=e)}},f,{idx:n})))},n.prototype.inFocusChain=function(e){var t=e,n=this.getId();if(t){if(t.id===n||t.parentId===n)return!0;if(-1!==t.parentId)return this.inFocusChain(this.props.navigation.get(t.parentId))}return!1},n}(a.PureComponent),n=function(e){return e.nav};return u.connect(n,p.NavActions,void 0,{withRef:!0})(t)};t.navigable=h,t.default=t.navigable},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.getContainer=function(e,t){return e.info?e.info.filter(function(e){return e.type===t})[0]:void 0},this.getRelation=function(e,t,n){return void 0===n&&(n="type"),e?e.filter(function(e){return e[n]===t})[0]:void 0},this.cutText=function(e,t){return e.length>t?(t+3>=e.length&&(t-=2),e.substring(0,t)+"..."):e}}return e}();t.Helper=new o},526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(527),i=n(583),a=n(584),s=n(585),c=function(){function e(){this.language="EN",this.texts={EN:a,ES:i,DE:s}}return e.prototype.setLanguage=function(e){this.language=e},e.prototype.getLanguage=function(){return this.language},e.prototype.getLiteral=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("string"==typeof e){for(var i=this.getLiteralWithLanguage(e,this.language)||"",a=i.split("\\n"),s=0,c=1,u=a.length;s<u-1;s++)a.splice(c,0,o.createElement("br",{key:s})),c+=2;var p=[];return a.map(function(r){if("string"==typeof r){for(var i=r.split(/%[\d]+\$s/),a=Math.min(i.length-1,n.length),s=0,c=1;s<a;s++){var u="";n[s]&&(u=t.getLiteral(n[s])||""),i.splice(c,0,o.createElement("span",{className:"substitution substitution-"+(s+1)+" "+e+"-"+n[s],"data-index":""+s},u)),c+=2}p.push(i)}else p.push(r)}),p}return""},e.prototype.getLiteralWithLanguage=function(e,t){try{var n=this.texts[t][e];if(!n)throw console.error("Missing literal in "+t+", "+e),new Error("Missing literal in "+t+", "+e);return n}catch(t){var n=this.texts.EN[e];return n||"Missing literal"}},e.prototype.textToMarkupWithLineBreaks=function(e,t){if(void 0===t&&(t="\\n"),"string"==typeof e)return e.split(t).map(function(e,t){return o.createElement("p",{key:t},e)})},e}();t.Localized=new c,t.Localize=r(t.Localized.getLiteral.bind(t.Localized)),window.Localized=t.Localized,window.Localize=t.Localized.getLiteral.bind(t.Localized)},58:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(442)),o(n(484)),o(n(485)),o(n(486)),o(n(487))},583:function(e,t){e.exports={VERSION_OUTDATED_TITLE:"",VERSION_OUTDATED_TEXT:"",VERSION_DEPRECATED_TITLE:"",VERSION_DEPRECATED_TEXT:"",GOT_IT:"",NOW_TITLE:"",NOW_SUBTITLE:"",UPCOMING_TITLE:"",GRID_NO_DATA_TEXT:"",TRY_DEMO:"",MENU_SETTINGS:"",MENU_DEMO:"DEMO",MENU_PROFILE:"PERFIL",MENU_CARDS:"MIS CARDS",MENU_SYNC:"DIVE IN",SEE_INFO:"",TVGRID_BROADCAST_TITLE1:"Ahora en TV",TVGRID_BROADCAST_TITLE2:"Test de traduccin",TVGRID_UPCOMING_TITLE:"",TVGRID_BROADCAST_NO_CONTENT:"",TVGRID_BROADCAST_NO_CONTENT_TRY_DEMO:"",TVGRID_UPCOMING_NO_CONTENT:"",TVGRID_UPCOMING_NO_CONTENT_TRY_DEMO:"",GENERIC_ERROR_TITLE:"",GENERIC_ERROR_TEXT:"",EXIT_TITLE:"",EXIT_TEXT:"",EXIT_BUTTON_OK:"",NETWORK_ERROR_TITLE:"",NETWORK_ERROR_TEXT:"",TVGRID_EMPTY_BROADCAST_TITLE1:"",TVGRID_EMPTY_BROADCAST_TITLE2:"",TVGRID_EMPTY_UPCOMING_TXT1:"",TVGRID_EMPTY_UPCOMING_TXT2:"",TVGRID_EMPTY_WATCH_OUR_DEMO:"",SELECTOR_ALL_CATEGORIES:"",SELECTOR_CAST_CHARACTER:"",SELECTOR_FASHION_BEAUTY:"",SELECTOR_MUSIC:"",SELECTOR_PLACES_TRAVEL:"",SELECTOR_CARS_MORE:"",SELECTOR_FUN_FACTS:"",SELECTOR_OTHER_CATEGORIES:"",BIOGRAPHY:"Biografa",COMEDY:"Comedia",CRIME:"Crimen",ACTION:"Accin",THRILLER:"Suspense",ADVENTURE:"Aventuras",SCI_FI:"Ciencia ficcin",FANTASY:"Fantasa",DRAMA:"Drama",ROMANCE:"Romntica",TERROR:"Terror",HISTORY:"Histrica",WESTERN:"Western",WAR:"Blicas",MISTERY:"Misterio",FAMILY:"Familar",SPORT:"Deporte",MUSIC:"Msica",MUSICAL:"Musical",ANIMATION:"Animacin",DOCUMENTARY:"Documental",FILM_NOIR:"Cine negro",NEWS:"Noticias",KIDS:"Infantil",TALK_SHOW:"Entrevistas",CURRENT_SCENE:"",PIZZA_OR_POP_CORN:"",WE_RECOMMEND:"",MAKE_POP_CORN:"",LIGHTS_CAMERA:"",WE_ARE_LOADING:"",EVERYTHING_END:"",MOVIE_OFF:"",MOVIE_ENDED:"",OKAY:"",CAROUSEL_CARD_SAVE:"",CAROUSEL_CARD_SAVED:"",CAROUSEL_NEW_CARD_ADDED:"",CAROUSEL_NEW_CARDS_ADDED:"",TVGRID_COMMERCIAL_TXT:"",TVGRID_TODAY:"",TVGRID_TOMORROW:"",EXIT_BUTTON_CANCEL:"",ERROR_SCAN_CHANNELS_TITLE:"",ERROR_SCAN_CHANNELS_TEXT:"",ERROR_SCAN_CHANNELS_BTN_SCAN:"",SCAN_FIRST_TIME_TITLE:"",SCAN_FIRST_TIME_TEXT:"",SCAN_FIRST_TIME_BTN:"",SCAN_HELP_RESCAN_TITLE:"",SCAN_HELP_RESCAN_TEXT:"",SCAN_HELP_RESCAN_BTN:"",SCAN_HELP_TITLE_1:"",SCAN_HELP_TITLE_2:"",SCAN_HELP_SUGGESTION:"",SCAN_HELP_PLEASE_CONTACT:"",SCAN_HELP_EMAIL:"",SCAN_HELP_SUBJECT:"",SCAN_HELP_VERSION:"",REGION_SET_TITLE:"",REGION_SET_TEXT:"",REGION_SET_SPAIN:"",REGION_SET_GERMANY:"",REGION_SET_USA:"",TVGRID_CHANGE_CHANNEL_TITLE:"",TVGRID_CHANGE_CHANNEL_TEXT:"",TVGRID_CHANGE_CHANNEL_BTN:"",CAROUSEL_ALIAS_MOVIE:"",CAROUSEL_ALIAS_SERIE:"",CAROUSEL_ALIAS_PERSON:"",CAROUSEL_ALIAS_CHARACTER:"",CAROUSEL_ALIAS_VEHICLE:"",CAROUSEL_ALIAS_FASHION:"",CAROUSEL_ALIAS_LOCATION:"",CAROUSEL_ALIAS_HISTORIC:"",CAROUSEL_ALIAS_TRIVIA:"",CAROUSEL_ALIAS_QUOTE:"",CAROUSEL_ALIAS_OST:"",CAROUSEL_ALIAS_HOME:"",CAROUSEL_ALIAS_TECHNOLOGY:"",CAROUSEL_ALIAS_ART:"",CAROUSEL_ALIAS_SONG:"",CAROUSEL_ALIAS_LOOK:"",CAROUSEL_ALIAS_TRAILER:"",CAROUSEL_ALIAS_WEAPON:"",CAROUSEL_ALIAS_LEISURE_SPORT:"",CAROUSEL_ALIAS_HEALTH_BEAUTY:"",CAROUSEL_ALIAS_FOOD_DRINK:"",CAROUSEL_ALIAS_FAUNA_FLORA:"",CAROUSEL_ALIAS_BUSINESS:"",CAROUSEL_ALIAS_REFERENCE:"",CAROUSEL_ALIAS_VIDEOCLIP:"",CAROUSEL_ALIAS_CHAPTER:"",CAROUSEL_ALIAS_ACTION_EMOTION:"",CAROUSEL_ALIAS_SEE_MORE:"",SOURCE:"",SPECS:"",BASIC_DATA:"",AWARDS:"",WINNER_SINGULAR:"Premio",WINNER_PLURAL:"Premios",NOMINEE_SINGULAR:"Nominacin",NOMINEE_PLURAL:"Nominaciones",POCKET_TITLE_1:"",POCKET_TITLE_2:"",POCKET_NO_CARDS_TITLE:"",POCKET_NO_CARDS_TXT:"",GALLERY:"Galera",LOCATION:"Localizacin",CURIOSITY_TITLE:"",OVERVIEW:""}},584:function(e,t){e.exports={VERSION_OUTDATED_TITLE:"Warning",VERSION_OUTDATED_TEXT:"The version you've installed is outdated.\\nYou need to upgrade now to the latest version in order to continue enjoying Dive.",VERSION_DEPRECATED_TITLE:"Warning",VERSION_DEPRECATED_TEXT:"The version you've installed is outdated.\\nA new version of Dive is available for you.\\nYou can update or continue with an old version of Dive.",GOT_IT:"GOT IT",NOW_TITLE:"NOW ON TV",NOW_SUBTITLE:"What will you discover?",UPCOMING_TITLE:"UPCOMING",GRID_NO_DATA_TEXT:"At the moment, there is nothing available to sync with Dive. Have you tried the demo?",TRY_DEMO:"TRY DEMO",MENU_SETTINGS:"SETTINGS",MENU_DEMO:"DEMO",MENU_PROFILE:"PROFILE",MENU_CARDS:"MY CARDS",MENU_SYNC:"DIVE IN",SEE_INFO:"SEE INFO",TVGRID_BROADCAST_TITLE1:"Now on TV",TVGRID_BROADCAST_TITLE2:"What will you discover?",TVGRID_UPCOMING_TITLE:"Upcoming",TVGRID_BROADCAST_NO_CONTENT:"At the moment, there is nothing available to sync with Dive. Have you tried the demo?",TVGRID_BROADCAST_NO_CONTENT_TRY_DEMO:"Try demo",TVGRID_UPCOMING_NO_CONTENT:"No content available on our guide. Try again later or try our demo.",TVGRID_UPCOMING_NO_CONTENT_TRY_DEMO:"Try demo",GENERIC_ERROR_TITLE:"HOUSTON! WEVE A PROBLEM",GENERIC_ERROR_TEXT:"Were having some issues with the app. Were working on it to fix it, please try again or come back again in a few minutes.",EXIT_TITLE:"PLEASE, DONT GO.",EXIT_TEXT:"You\\'re about to leave Dive.\\nAre you sure you want to exit?",EXIT_BUTTON_OK:"YES, EXIT",NETWORK_ERROR_TITLE:"INTERNET CONNECTION REQUIRED",NETWORK_ERROR_TEXT:"No connection detected. \\nGo to settings and verify if your Internet is working.",TVGRID_EMPTY_BROADCAST_TITLE1:"This is awkward",TVGRID_EMPTY_BROADCAST_TITLE2:"What can I do?",TVGRID_EMPTY_UPCOMING_TXT1:"There's no content right now.\\nCheck later or enjoy %1$s.",TVGRID_EMPTY_UPCOMING_TXT2:"Dive on your phone",TVGRID_EMPTY_WATCH_OUR_DEMO:"Watch\\nour\\ndemo",SELECTOR_ALL_CATEGORIES:"All categories",SELECTOR_CAST_CHARACTER:"Cast & Character",SELECTOR_FASHION_BEAUTY:"Fashion & Beauty",SELECTOR_MUSIC:"Music",SELECTOR_PLACES_TRAVEL:"Places & Travel",SELECTOR_CARS_MORE:"Cars & More",SELECTOR_FUN_FACTS:"Fun facts",SELECTOR_OTHER_CATEGORIES:"Categories",BIOGRAPHY:"Biography",COMEDY:"Comedy",CRIME:"Crime",ACTION:"Action",THRILLER:"Thriller",ADVENTURE:"Adventure",SCI_FI:"Sci-Fi",FANTASY:"Fantasy",DRAMA:"Drama",ROMANCE:"Romance",TERROR:"Horror",HISTORY:"History",WESTERN:"Western",WAR:"War",MISTERY:"Mystery",FAMILY:"Family",SPORT:"Sport",MUSIC:"Music",MUSICAL:"Musical",ANIMATION:"Animation",DOCUMENTARY:"Documentary",FILM_NOIR:"Film-Noir",NEWS:"News",KIDS:"Kids",TALK_SHOW:"Talk-Show",CURRENT_SCENE:"Current Scene",PIZZA_OR_POP_CORN:"PIZZA OR POP CORN?",WE_RECOMMEND:"The show youre watching is on advertising, we recommend:",MAKE_POP_CORN:"1. Make more Pop Corn.\n2. And browse the content while were on a break",LIGHTS_CAMERA:"LIGHTS, CAMERA AND ACTION",WE_ARE_LOADING:"We're loading the content you're watching on TV.",EVERYTHING_END:"EVERYTHING HAS AN END",MOVIE_OFF:"The broadcast has been interrupted.",MOVIE_ENDED:"The movie has ended",OKAY:"OKAY",CAROUSEL_CARD_SAVE:"Save for later",CAROUSEL_CARD_SAVED:"Saved",CAROUSEL_NEW_CARD_ADDED:"1 new card has been added!",CAROUSEL_NEW_CARDS_ADDED:"%1$d new cards have been added!",TVGRID_COMMERCIAL_TXT:"Enjoy Dive on your phone",TVGRID_TODAY:"Today",TVGRID_TOMORROW:"Tomorrow",EXIT_BUTTON_CANCEL:"NO, I DON'T WANT TO",ERROR_SCAN_CHANNELS_TITLE:"RE-SCAN TV CHANNELS",ERROR_SCAN_CHANNELS_TEXT:"This channel is not set yet, please re-scan to add the new channels.\\nWe need this to set the TV signal.",ERROR_SCAN_CHANNELS_BTN_SCAN:"OK, START SCAN",SCAN_FIRST_TIME_TITLE:"LETS SET THE TV SIGNAL",SCAN_FIRST_TIME_TEXT:"We need to scan the channels to set the TV signal.\\nYoull be able to re-scan the channels in your menu if you want to add more.",SCAN_FIRST_TIME_BTN:"OK, START SCAN",SCAN_HELP_RESCAN_TITLE:"RE-SCAN TV CHANNELS",SCAN_HELP_RESCAN_TEXT:"Re-scan to add new channels.\\nWe need this to set the TV signal.",SCAN_HELP_RESCAN_BTN:"OK, START SCAN",SCAN_HELP_TITLE_1:"SETTINGS",SCAN_HELP_TITLE_2:"Set your Dive experience",SCAN_HELP_SUGGESTION:"Something wrong? Any suggestions?",SCAN_HELP_PLEASE_CONTACT:"For customer support please contact:",SCAN_HELP_EMAIL:"support@dive.tv",SCAN_HELP_SUBJECT:"Write TV in the subject line and we will contact you as soon as possible.",SCAN_HELP_VERSION:"DIVE v%1$s",REGION_SET_TITLE:"FIRST THINGS, FIRST",REGION_SET_TEXT:"We need to know where you are to show you the TV contents available to sync with.",REGION_SET_SPAIN:"SPAIN",REGION_SET_GERMANY:"GERMANY",REGION_SET_USA:"USA",TVGRID_CHANGE_CHANNEL_TITLE:"CHANNEL CHANGE",TVGRID_CHANGE_CHANNEL_TEXT:"Please confirm that you\\'ve changed the channel so that we can load the content of %1$s.",TVGRID_CHANGE_CHANNEL_BTN:"CONFIRM",CAROUSEL_ALIAS_MOVIE:"Movie",CAROUSEL_ALIAS_SERIE:"Serie",CAROUSEL_ALIAS_PERSON:"Person",CAROUSEL_ALIAS_CHARACTER:"Character",CAROUSEL_ALIAS_VEHICLE:"Vehicle",CAROUSEL_ALIAS_FASHION:"Fashion",CAROUSEL_ALIAS_LOCATION:"Location",CAROUSEL_ALIAS_HISTORIC:"Historic",CAROUSEL_ALIAS_TRIVIA:"Trivia",CAROUSEL_ALIAS_QUOTE:"Quote",CAROUSEL_ALIAS_OST:"OST",CAROUSEL_ALIAS_HOME:"Home",CAROUSEL_ALIAS_TECHNOLOGY:"Technology",CAROUSEL_ALIAS_ART:"Art",CAROUSEL_ALIAS_SONG:"Song",CAROUSEL_ALIAS_LOOK:"Look",CAROUSEL_ALIAS_TRAILER:"Trailer",CAROUSEL_ALIAS_WEAPON:"Weapon",CAROUSEL_ALIAS_LEISURE_SPORT:"Leisure Sport",CAROUSEL_ALIAS_HEALTH_BEAUTY:"Health & Beauty",CAROUSEL_ALIAS_FOOD_DRINK:"Food & Drink",CAROUSEL_ALIAS_FAUNA_FLORA:"Fauna & Flora",CAROUSEL_ALIAS_BUSINESS:"Business",CAROUSEL_ALIAS_REFERENCE:"Reference",CAROUSEL_ALIAS_VIDEOCLIP:"Videoclip",CAROUSEL_ALIAS_CHAPTER:"Chapter",CAROUSEL_ALIAS_ACTION_EMOTION:"Action & Emotion",CAROUSEL_ALIAS_SEE_MORE:"Explore More",SOURCE:"Source",SPECS:"Specs",BASIC_DATA:"Basic Data",AWARDS:"Awards",WINNER_SINGULAR:"",WINNER_PLURAL:"",NOMINEE_SINGULAR:"",NOMINEE_PLURAL:"",POCKET_TITLE_1:"MY CARDS",POCKET_TITLE_2:"The content you\\'ve liked",POCKET_NO_CARDS_TITLE:"NO SAVED CARDS YET",POCKET_NO_CARDS_TXT:"Save every card you like by pressing on the heart icon or activate your account to see the cards saved from your Dive mobile version.",GALLERY:"Gallery",LOCATION:"Location",CURIOSITY_TITLE:"Did you know...?",OVERVIEW:"Synopsis"}},585:function(e,t){e.exports={VERSION_OUTDATED_TITLE:"",VERSION_OUTDATED_TEXT:"",VERSION_DEPRECATED_TITLE:"",VERSION_DEPRECATED_TEXT:"",GOT_IT:"",NOW_TITLE:"",NOW_SUBTITLE:"",UPCOMING_TITLE:"",GRID_NO_DATA_TEXT:"",TRY_DEMO:"",MENU_SETTINGS:"",MENU_DEMO:"",MENU_PROFILE:"",MENU_CARDS:"",MENU_SYNC:"",SEE_INFO:"",TVGRID_BROADCAST_TITLE1:"",TVGRID_BROADCAST_TITLE2:"",TVGRID_UPCOMING_TITLE:"",TVGRID_BROADCAST_NO_CONTENT:"",TVGRID_BROADCAST_NO_CONTENT_TRY_DEMO:"",TVGRID_UPCOMING_NO_CONTENT:"",TVGRID_UPCOMING_NO_CONTENT_TRY_DEMO:"",GENERIC_ERROR_TITLE:"",GENERIC_ERROR_TEXT:"",EXIT_TITLE:"",EXIT_TEXT:"",EXIT_BUTTON_OK:"",NETWORK_ERROR_TITLE:"",NETWORK_ERROR_TEXT:"",TVGRID_EMPTY_BROADCAST_TITLE1:"",TVGRID_EMPTY_BROADCAST_TITLE2:"",TVGRID_EMPTY_UPCOMING_TXT1:"",TVGRID_EMPTY_UPCOMING_TXT2:"",TVGRID_EMPTY_WATCH_OUR_DEMO:"",SELECTOR_ALL_CATEGORIES:"",SELECTOR_CAST_CHARACTER:"",SELECTOR_FASHION_BEAUTY:"",SELECTOR_MUSIC:"",SELECTOR_PLACES_TRAVEL:"",SELECTOR_CARS_MORE:"",SELECTOR_FUN_FACTS:"",SELECTOR_OTHER_CATEGORIES:"",BIOGRAPHY:"Biographie",COMEDY:"Comedy",CRIME:"Krimi",ACTION:"Action",THRILLER:"Thriller",ADVENTURE:"Abenteuer",SCI_FI:"Sci-Fi",FANTASY:"Fantasy",DRAMA:"Drama",ROMANCE:"Romance",TERROR:"Horror",HISTORY:"Geschichte",WESTERN:"Western",WAR:"Krieg",MISTERY:"Mystery",FAMILY:"Familie",SPORT:"Sport",MUSIC:"Musik",MUSICAL:"Musical",ANIMATION:"Animation",DOCUMENTARY:"Dokumentar",FILM_NOIR:"Film noir",NEWS:"News",KIDS:"Kinder",TALK_SHOW:"Talkshow",CURRENT_SCENE:"",PIZZA_OR_POP_CORN:"",WE_RECOMMEND:"",MAKE_POP_CORN:"",LIGHTS_CAMERA:"",WE_ARE_LOADING:"",EVERYTHING_END:"",MOVIE_OFF:"",MOVIE_ENDED:"",OKAY:"",CAROUSEL_CARD_SAVE:"",CAROUSEL_CARD_SAVED:"",CAROUSEL_NEW_CARD_ADDED:"",CAROUSEL_NEW_CARDS_ADDED:"",TVGRID_COMMERCIAL_TXT:"",TVGRID_TODAY:"",TVGRID_TOMORROW:"",EXIT_BUTTON_CANCEL:"",ERROR_SCAN_CHANNELS_TITLE:"",ERROR_SCAN_CHANNELS_TEXT:"",ERROR_SCAN_CHANNELS_BTN_SCAN:"",SCAN_FIRST_TIME_TITLE:"",SCAN_FIRST_TIME_TEXT:"",SCAN_FIRST_TIME_BTN:"",SCAN_HELP_RESCAN_TITLE:"",SCAN_HELP_RESCAN_TEXT:"",SCAN_HELP_RESCAN_BTN:"",SCAN_HELP_TITLE_1:"",SCAN_HELP_TITLE_2:"",SCAN_HELP_SUGGESTION:"",SCAN_HELP_PLEASE_CONTACT:"",SCAN_HELP_EMAIL:"",SCAN_HELP_SUBJECT:"",SCAN_HELP_VERSION:"",REGION_SET_TITLE:"",REGION_SET_TEXT:"",REGION_SET_SPAIN:"",REGION_SET_GERMANY:"",REGION_SET_USA:"",TVGRID_CHANGE_CHANNEL_TITLE:"",TVGRID_CHANGE_CHANNEL_TEXT:"",TVGRID_CHANGE_CHANNEL_BTN:"",CAROUSEL_ALIAS_MOVIE:"",CAROUSEL_ALIAS_SERIE:"",CAROUSEL_ALIAS_PERSON:"",CAROUSEL_ALIAS_CHARACTER:"",CAROUSEL_ALIAS_VEHICLE:"",CAROUSEL_ALIAS_FASHION:"",CAROUSEL_ALIAS_LOCATION:"",CAROUSEL_ALIAS_HISTORIC:"",CAROUSEL_ALIAS_TRIVIA:"",CAROUSEL_ALIAS_QUOTE:"",CAROUSEL_ALIAS_OST:"",CAROUSEL_ALIAS_HOME:"",CAROUSEL_ALIAS_TECHNOLOGY:"",CAROUSEL_ALIAS_ART:"",CAROUSEL_ALIAS_SONG:"",CAROUSEL_ALIAS_LOOK:"",CAROUSEL_ALIAS_TRAILER:"",CAROUSEL_ALIAS_WEAPON:"",CAROUSEL_ALIAS_LEISURE_SPORT:"",CAROUSEL_ALIAS_HEALTH_BEAUTY:"",CAROUSEL_ALIAS_FOOD_DRINK:"",CAROUSEL_ALIAS_FAUNA_FLORA:"",CAROUSEL_ALIAS_BUSINESS:"",CAROUSEL_ALIAS_REFERENCE:"",CAROUSEL_ALIAS_VIDEOCLIP:"",CAROUSEL_ALIAS_CHAPTER:"",CAROUSEL_ALIAS_ACTION_EMOTION:"",CAROUSEL_ALIAS_SEE_MORE:"",SOURCE:"",SPECS:"",BASIC_DATA:"",AWARDS:"",WINNER_SINGULAR:"",WINNER_PLURAL:"",NOMINEE_SINGULAR:"",NOMINEE_PLURAL:"",POCKET_TITLE_1:"",POCKET_TITLE_2:"",POCKET_NO_CARDS_TITLE:"",POCKET_NO_CARDS_TXT:"",GALLERY:"",LOCATION:"",CURIOSITY_TITLE:"",OVERVIEW:""}},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};t.loadHbbtvKeys=function(){if(KeyEvent){var e=o;e.UP=KeyEvent.VK_UP,e.DOWN=KeyEvent.VK_DOWN,e.LEFT=KeyEvent.VK_LEFT,e.RIGHT=KeyEvent.VK_RIGHT,e.ENTER=KeyEvent.VK_ENTER}},t.KeyMap=o},587:function(e,t,n){"use strict";function o(e){return function(t){return Object.assign(t,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.statics=o},588:function(e,t,n){"use strict";function o(e){return{}}function r(e){return s({},l.UIActions)}function i(e,t,n){return s({},e,n,t)}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=n(50),p=n(98),l=n(58),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentWillMount=function(){},t.prototype.render=function(){return c.createElement("div",{className:"app"},c.createElement(p.Layout,{columns:1,parent:this}))},t}(c.Component);t.AppClass=h,t.App=u.connect(o,r,i)(h)},589:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(273),a=n(16),s=n(18),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r.createElement("div",{className:"cardModulesContainer"},this.props.card?this.decideModules(this.props.card):r.createElement(s.Loading,null))},t.prototype.decideModules=function(e){var t=this,n=[],o=i.cardModuleConfig[e.type];return e.type&&o&&o.sections&&o.sections[0]&&o.sections[0].modules instanceof Array&&o.sections[0].modules.map(function(o,a){if(o.type&&""!==o.type){var s=i.cardModuleClasses[o.type];if(i.isValidatable(s))if(s){console.warn("Instantiating",o.type);var c=s.validate(e,o.type,t,{isScrollable:!0,scrollPadding:300});if(c){console.warn("Instantiating because validated",o.type);var u=s.moduleName?s.moduleName.toLocaleLowerCase()+"-container cardModule-container scrollable":"container";n.push(r.createElement("div",{className:u,key:e.card_id+"_module_"+a},c))}}else console.warn("No existe el mdulo o no ha validado",o.type);else console.warn("No existe el mdulo",o.type)}}),n},t}(r.PureComponent);t.CardModuleList=c,t.NavigableCardModuleList=a.navigable(c)},590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(591),r=n(592),i=n(593),a=n(594),s=n(595),c=n(596),u=n(597),p=n(598),l=n(599),h=n(600),f=n(601),d=n(602),y=n(603),m=n(604),v=n(605),g=n(606),E=n(607),C=n(608),_=n(609),S=n(610),A=n(611),T=n(612),b=n(613),O={artConfig:o,businessConfig:r,chapterConfig:i,fashionConfig:a,fauna_floraConfig:s,food_drinkConfig:c,health_beautyConfig:u,historicConfig:p,homeConfig:l,leisure_sportConfig:h,locationConfig:f,lookConfig:d,movieConfig:y,ostConfig:m,personConfig:v,characterConfig:g,referenceConfig:E,serieConfig:C,songConfig:_,technologyConfig:S,triviaConfig:A,vehicleConfig:T,weaponConfig:b};t.cardModuleConfig={art:O.artConfig,business:O.businessConfig,chapter:O.chapterConfig,fashion:O.fashionConfig,fauna_flora:O.fauna_floraConfig,food_drink:O.food_drinkConfig,health_beauty:O.health_beautyConfig,historic:O.historicConfig,home:O.homeConfig,leisure_sport:O.leisure_sportConfig,location:O.locationConfig,look:O.lookConfig,movie:O.movieConfig,ost:O.ostConfig,person:O.personConfig,character:O.characterConfig,reference:O.referenceConfig,serie:O.serieConfig,song:O.songConfig,technology:O.technologyConfig,trivia:O.triviaConfig,vehicle:O.vehicleConfig,weapon:O.weaponConfig}},591:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"MapModule"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsIn"},{type:"AppearsInSingle"},{type:"BackToHome"}]}]}},592:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},593:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"MovieHeader"},{type:"MovieHeaderSmall"},{type:"Overview"},{type:"BasicInfo"},{type:"Trailer"},{type:"Cast"},{type:"BelongToSingle"},{type:"Shop"},{type:"TravelShop"},{type:"Curiosities"},{type:"PlacesShown"},{type:"Vehicles"},{type:"MovieSoundtrack"},{type:"Highlights"},{type:"DiveInModule"},{type:"Recommended"},{type:"BackToHome"}]}]}},594:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"ButtonHeader"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Fashion"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},595:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},596:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Video"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},597:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},598:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"MapModule"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},599:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"ButtonHeader"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Home"},{type:"CompleteTheDeco"},{type:"Curiosities"},{type:"AppearsIn"},{type:"AppearsInSingle"},{type:"BackToHome"}]}]}},600:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},601:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"BasicInfo"},{type:"Gallery"},{type:"MapModule"},{type:"Curiosities"},{type:"AppearsInLocation"},{type:"BackToHome"}]}]}},602:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"ButtonHeader"},{type:"Description"},{type:"Specifications"},{type:"Gallery"},{type:"Look"},{type:"Carry"},{type:"MoreLooks"},{type:"Curiosities"},{type:"BackToHome"}]}]}},603:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"MovieHeader"},{type:"MovieHeaderSmall"},{type:"Overview"},{type:"BasicInfo"},{type:"Trailer"},{type:"Cast"},{type:"Shop"},{type:"TravelShop"},{type:"Curiosities"},{type:"PlacesShown"},{type:"Vehicles"},{type:"MovieSoundtrack"},{type:"Highlights"},{type:"DiveInModule"},{type:"Recommended"},{type:"BackToHome"}]}]}},604:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Soundtrack"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"SoundsIn"},{type:"BackToHome"}]}]}},605:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Biography"},{type:"BasicInfo"},{type:"Gallery"},{type:"AwardsModuleList"},{type:"Shop"},{type:"TravelShop"},{type:"Curiosities"},{type:"Filmography"},{type:"BackToHome"}]}]}},606:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Biography"},{type:"Shop"},{type:"TravelShop"},{type:"BasicInfo"},{type:"Gallery"},{type:"Video"},{type:"Curiosities"},{type:"Highligts"},{type:"InterpretedBySingle"},{type:"InterpretedBy"},{type:"BackToHome"}]}]}},607:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Reference"},{type:"Gallery"},{type:"Video"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},608:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"MovieHeader"},{type:"MovieHeaderSmall"},{type:"Overview"},{type:"Seasons"},{type:"Trailer"},{type:"BasicInfo"},{type:"Gallery"},{type:"AwardsModuleList"},{type:"Cast"},{type:"Shop"},{type:"TravelShop"},{type:"Recommended"},{type:"BackToHome"}]}]}},609:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"MusicShop"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Curiosities"},{type:"SongBelongToSingle"},{type:"SongBelongTo"},{type:"BackToHome"}]}]}},610:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Video"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},611:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"FullCuriosity"},{type:"Gallery"},{type:"Video"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},612:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Video"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},613:function(e,t){e.exports={sections:[{title:"main",main:!0,modules:[{type:"Header"},{type:"Description"},{type:"Shop"},{type:"TravelShop"},{type:"Specifications"},{type:"Gallery"},{type:"Curiosities"},{type:"AppearsInSingle"},{type:"AppearsIn"},{type:"BackToHome"}]}]}},614:function(e,t,n){"use strict";function o(e){return e&&"validate"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidatable=o},615:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=n(22),p=n(18),l=n(16),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),n=t,t.prototype.getSubtitle=function(){return this.props.navigableSubtitle&&this.props.subtitle?c.createElement("div",{className:"subtitle"},c.createElement(p.NavigationContainer,{parent:this,columns:1},this.props.subtitle)):this.props.subtitle?c.createElement("div",{className:"subtitle"},this.props.subtitle):null},t.prototype.render=function(){var e=this.getSubtitle();return c.createElement("div",{className:"header cardModule"},c.createElement(p.CardAndCategory,{card:this.props.card}),c.createElement("div",{className:"rightPart"},c.createElement("div",{className:"info"},c.createElement("div",{className:"titleContainer"},c.createElement("p",{className:"title"},this.props.title),this.props.titleParenthesis?c.createElement("div",{className:"titleParenthesis"}," (",this.props.titleParenthesis,")"):null),e,this.props.categories?c.createElement("div",{className:"categories"},this.props.categories):null,this.props.time?c.createElement("div",{className:"time"},c.createElement("i",{className:"clock"}),c.createElement("span",null,this.props.time)):null,c.createElement("div",{className:"headerButtons"},c.createElement(p.NavigationContainer,{parent:this,columns:1,isDefault:!0,className:"likeButton genericBtn"},c.createElement("div",{className:"centeredContent"},c.createElement("i",{className:"icon like"}),c.createElement("span",null,u.Localize("CAROUSEL_CARD_SAVE"))))))))},t=n=s([l.statics({moduleName:"header",validate:function(e,t,o,r){var i=e.title,s=e.subtitle&&""!==e.subtitle?e.subtitle:null,p=null,h=null,f=null,d=!1;switch(e.type){case"movie":case"serie":case"chapter":var y=u.Helper.getContainer(e,"catalog");if(y&&y.data&&y.data[0]){var m=y.data[0];if(m.runtime){var v=m.runtime,g=Math.floor(v/3600);v%=3600;p=Math.floor(v/60)+" m",g>0&&(p=g+" h "+p)}m.year&&(h=""+y.data[0].year),m.genres&&m.genres.length>0&&(f=m.genres.join(", ")),m.director&&""!==m.director&&(s=m.director,d=!0)}}var E=l.navigable(n);return c.createElement(E,a({parent:o,isScrollable:!0,card:e,moduleType:t,title:i,subtitle:s,navigableSubtitle:d,time:p,titleParenthesis:h,categories:f},r))}})],t);var n}(c.PureComponent);t.Header=h},616:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(16),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.accept,n=e.acceptCharset,o=e.action,s=e.allowFullScreen,c=e.allowTransparency,u=e.alt,p=e.async,l=e.autoComplete,h=e.autoFocus,f=e.autoPlay,d=e.capture,y=e.cellPadding,m=e.cellSpacing,v=e.charSet,g=e.challenge,E=e.checked,C=e.cite,_=e.classID,S=e.cols,A=e.colSpan,T=e.content,b=e.controls,O=e.coords,I=e.crossOrigin,R=e.data,N=e.dateTime,L=e.defer,w=e.disabled,k=e.download,D=e.encType,P=e.form,M=e.formAction,x=e.formEncType,U=e.formMethod,B=e.formNoValidate,j=e.formTarget,H=e.frameBorder,F=e.headers,V=e.height,G=e.high,z=e.href,q=e.hrefLang,K=e.htmlFor,W=e.httpEquiv,Y=e.integrity,X=e.keyParams,J=e.keyType,$=e.kind,Z=e.label,Q=e.list,ee=e.loop,te=e.low,ne=e.manifest,oe=e.marginHeight,re=e.marginWidth,ie=e.max,ae=e.maxLength,se=e.media,ce=e.mediaGroup,ue=e.method,pe=e.min,le=e.minLength,he=e.multiple,fe=e.muted,de=e.name,ye=e.nonce,me=e.noValidate,ve=e.open,ge=e.optimum,Ee=e.pattern,Ce=e.placeholder,_e=e.playsInline,Se=e.poster,Ae=e.preload,Te=e.readOnly,be=e.rel,Oe=e.required,Ie=e.reversed,Re=e.rows,Ne=e.rowSpan,Le=e.sandbox,we=e.scope,ke=e.scoped,De=e.scrolling,Pe=e.seamless,Me=e.selected,xe=e.shape,Ue=e.size,Be=e.sizes,je=e.span,He=e.src,Fe=e.srcDoc,Ve=e.srcLang,Ge=e.srcSet,ze=e.start,qe=e.step,Ke=e.summary,We=e.target,Ye=e.type,Xe=e.useMap,Je=e.value,$e=e.width,Ze=e.wmode,Qe=e.wrap,et=e.defaultChecked,tt=e.defaultValue,nt=e.suppressContentEditableWarning,ot=e.accessKey,rt=e.contentEditable,it=e.contextMenu,at=e.dir,st=e.draggable,ct=e.hidden,ut=e.id,pt=e.lang,lt=e.spellCheck,ht=e.style,ft=e.tabIndex,dt=e.title,yt=e.inputMode,mt=e.is,vt=e.radioGroup,gt=e.role,Et=e.about,Ct=e.datatype,_t=e.inlist,St=e.prefix,At=e.property,Tt=e.resource,bt=e.vocab,Ot=e.autoCapitalize,It=e.autoCorrect,Rt=e.autoSave,Nt=e.color,Lt=e.itemProp,wt=e.itemScope,kt=e.itemType,Dt=e.itemID,Pt=e.itemRef,Mt=e.results,xt=e.security,Ut=e.unselectable,Bt=e.children,jt=e.dangerouslySetInnerHTML,Ht=e.onCopy,Ft=e.onCopyCapture,Vt=e.onCut,Gt=e.onCutCapture,zt=e.onPaste,qt=e.onPasteCapture,Kt=e.onCompositionEnd,Wt=e.onCompositionEndCapture,Yt=e.onCompositionStart,Xt=e.onCompositionStartCapture,Jt=e.onCompositionUpdate,$t=e.onCompositionUpdateCapture,Zt=e.onFocus,Qt=e.onFocusCapture,en=e.onBlur,tn=e.onBlurCapture,nn=e.onChange,on=e.onChangeCapture,rn=e.onInput,an=e.onInputCapture,sn=e.onReset,cn=e.onResetCapture,un=e.onSubmit,pn=e.onSubmitCapture,ln=e.onInvalid,hn=e.onInvalidCapture,fn=e.onLoad,dn=e.onLoadCapture,yn=e.onError,mn=e.onErrorCapture,vn=e.onKeyDown,gn=e.onKeyDownCapture,En=e.onKeyPress,Cn=e.onKeyPressCapture,_n=e.onKeyUp,Sn=e.onKeyUpCapture,An=e.onAbort,Tn=e.onAbortCapture,bn=e.onCanPlay,On=e.onCanPlayCapture,In=e.onCanPlayThrough,Rn=e.onCanPlayThroughCapture,Nn=e.onDurationChange,Ln=e.onDurationChangeCapture,wn=e.onEmptied,kn=e.onEmptiedCapture,Dn=e.onEncrypted,Pn=e.onEncryptedCapture,Mn=e.onEnded,xn=e.onEndedCapture,Un=e.onLoadedData,Bn=e.onLoadedDataCapture,jn=e.onLoadedMetadata,Hn=e.onLoadedMetadataCapture,Fn=e.onLoadStart,Vn=e.onLoadStartCapture,Gn=e.onPause,zn=e.onPauseCapture,qn=e.onPlay,Kn=e.onPlayCapture,Wn=e.onPlaying,Yn=e.onPlayingCapture,Xn=e.onProgress,Jn=e.onProgressCapture,$n=e.onRateChange,Zn=e.onRateChangeCapture,Qn=e.onSeeked,eo=e.onSeekedCapture,to=e.onSeeking,no=e.onSeekingCapture,oo=e.onStalled,ro=e.onStalledCapture,io=e.onSuspend,ao=e.onSuspendCapture,so=e.onTimeUpdate,co=e.onTimeUpdateCapture,uo=e.onVolumeChange,po=e.onVolumeChangeCapture,lo=e.onWaiting,ho=e.onWaitingCapture,fo=e.onClick,yo=e.onClickCapture,mo=e.onContextMenu,vo=e.onContextMenuCapture,go=e.onDoubleClick,Eo=e.onDoubleClickCapture,Co=e.onDrag,_o=e.onDragCapture,So=e.onDragEnd,Ao=e.onDragEndCapture,To=e.onDragEnter,bo=e.onDragEnterCapture,Oo=e.onDragExit,Io=e.onDragExitCapture,Ro=e.onDragLeave,No=e.onDragLeaveCapture,Lo=e.onDragOver,wo=e.onDragOverCapture,ko=e.onDragStart,Do=e.onDragStartCapture,Po=e.onDrop,Mo=e.onDropCapture,xo=e.onMouseDown,Uo=e.onMouseDownCapture,Bo=e.onMouseEnter,jo=e.onMouseLeave,Ho=e.onMouseMove,Fo=e.onMouseMoveCapture,Vo=e.onMouseOut,Go=e.onMouseOutCapture,zo=e.onMouseOver,qo=e.onMouseOverCapture,Ko=e.onMouseUp,Wo=e.onMouseUpCapture,Yo=e.onSelect,Xo=e.onSelectCapture,Jo=e.onTouchCancel,$o=e.onTouchCancelCapture,Zo=e.onTouchEnd,Qo=e.onTouchEndCapture,er=e.onTouchMove,tr=e.onTouchMoveCapture,nr=e.onTouchStart,or=e.onTouchStartCapture,rr=e.onScroll,ir=e.onScrollCapture,ar=e.onWheel,sr=e.onWheelCapture,cr=e.onAnimationStart,ur=e.onAnimationStartCapture,pr=e.onAnimationEnd,lr=e.onAnimationEndCapture,hr=e.onAnimationIteration,fr=e.onAnimationIterationCapture,dr=e.onTransitionEnd,yr=e.onTransitionEndCapture,mr=e.key,vr=(i(e,["accept","acceptCharset","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","cite","classID","cols","colSpan","content","controls","coords","crossOrigin","data","dateTime","defer","disabled","download","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","high","href","hrefLang","htmlFor","httpEquiv","integrity","keyParams","keyType","kind","label","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","nonce","noValidate","open","optimum","pattern","placeholder","playsInline","poster","preload","readOnly","rel","required","reversed","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcDoc","srcLang","srcSet","start","step","summary","target","type","useMap","value","width","wmode","wrap","defaultChecked","defaultValue","suppressContentEditableWarning","accessKey","contentEditable","contextMenu","dir","draggable","hidden","id","lang","spellCheck","style","tabIndex","title","inputMode","is","radioGroup","role","about","datatype","inlist","prefix","property","resource","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","children","dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture","key"]),this.props.className);vr=vr?"navigableContainer "+vr:"navigableContainer",vr="fillParent "+vr;var gr={accept:t,acceptCharset:n,action:o,allowFullScreen:s,allowTransparency:c,alt:u,async:p,autoComplete:l,autoFocus:h,autoPlay:f,capture:d,cellPadding:y,cellSpacing:m,charSet:v,challenge:g,checked:E,cite:C,classID:_,cols:S,colSpan:A,content:T,controls:b,coords:O,crossOrigin:I,data:R,dateTime:N,defer:L,disabled:w,download:k,encType:D,form:P,formAction:M,formEncType:x,formMethod:U,formNoValidate:B,formTarget:j,frameBorder:H,headers:F,height:V,high:G,href:z,hrefLang:q,htmlFor:K,httpEquiv:W,integrity:Y,keyParams:X,keyType:J,kind:$,label:Z,list:Q,loop:ee,low:te,manifest:ne,marginHeight:oe,marginWidth:re,max:ie,maxLength:ae,media:se,mediaGroup:ce,method:ue,min:pe,minLength:le,multiple:he,muted:fe,name:de,nonce:ye,noValidate:me,open:ve,optimum:ge,pattern:Ee,placeholder:Ce,playsInline:_e,poster:Se,preload:Ae,readOnly:Te,rel:be,required:Oe,reversed:Ie,rows:Re,rowSpan:Ne,sandbox:Le,scope:we,scoped:ke,scrolling:De,seamless:Pe,selected:Me,shape:xe,size:Ue,sizes:Be,span:je,src:He,srcDoc:Fe,srcLang:Ve,srcSet:Ge,start:ze,step:qe,summary:Ke,target:We,type:Ye,useMap:Xe,value:Je,width:$e,wmode:Ze,wrap:Qe,defaultChecked:et,defaultValue:tt,suppressContentEditableWarning:nt,accessKey:ot,className:vr,contentEditable:rt,contextMenu:it,dir:at,draggable:st,hidden:ct,id:ut,lang:pt,spellCheck:lt,style:ht,tabIndex:ft,title:dt,inputMode:yt,is:mt,radioGroup:vt,role:gt,about:Et,datatype:Ct,inlist:_t,prefix:St,property:At,resource:Tt,vocab:bt,autoCapitalize:Ot,autoCorrect:It,autoSave:Rt,color:Nt,itemProp:Lt,itemScope:wt,itemType:kt,itemID:Dt,itemRef:Pt,results:Mt,security:xt,unselectable:Ut,children:Bt,dangerouslySetInnerHTML:jt,onCopy:Ht,onCopyCapture:Ft,onCut:Vt,onCutCapture:Gt,onPaste:zt,onPasteCapture:qt,onCompositionEnd:Kt,onCompositionEndCapture:Wt,onCompositionStart:Yt,onCompositionStartCapture:Xt,onCompositionUpdate:Jt,onCompositionUpdateCapture:$t,onFocus:Zt,onFocusCapture:Qt,onBlur:en,onBlurCapture:tn,onChange:nn,onChangeCapture:on,onInput:rn,onInputCapture:an,onReset:sn,onResetCapture:cn,onSubmit:un,onSubmitCapture:pn,onInvalid:ln,onInvalidCapture:hn,onLoad:fn,onLoadCapture:dn,onError:yn,onErrorCapture:mn,onKeyDown:vn,onKeyDownCapture:gn,onKeyPress:En,onKeyPressCapture:Cn,onKeyUp:_n,onKeyUpCapture:Sn,onAbort:An,onAbortCapture:Tn,onCanPlay:bn,onCanPlayCapture:On,onCanPlayThrough:In,onCanPlayThroughCapture:Rn,onDurationChange:Nn,onDurationChangeCapture:Ln,onEmptied:wn,onEmptiedCapture:kn,onEncrypted:Dn,onEncryptedCapture:Pn,onEnded:Mn,onEndedCapture:xn,onLoadedData:Un,onLoadedDataCapture:Bn,onLoadedMetadata:jn,onLoadedMetadataCapture:Hn,onLoadStart:Fn,onLoadStartCapture:Vn,onPause:Gn,onPauseCapture:zn,onPlay:qn,onPlayCapture:Kn,onPlaying:Wn,onPlayingCapture:Yn,onProgress:Xn,onProgressCapture:Jn,onRateChange:$n,onRateChangeCapture:Zn,onSeeked:Qn,onSeekedCapture:eo,onSeeking:to,onSeekingCapture:no,onStalled:oo,onStalledCapture:ro,onSuspend:io,onSuspendCapture:ao,onTimeUpdate:so,onTimeUpdateCapture:co,onVolumeChange:uo,onVolumeChangeCapture:po,onWaiting:lo,onWaitingCapture:ho,onClick:fo,onClickCapture:yo,onContextMenu:mo,onContextMenuCapture:vo,onDoubleClick:go,onDoubleClickCapture:Eo,onDrag:Co,onDragCapture:_o,onDragEnd:So,onDragEndCapture:Ao,onDragEnter:To,onDragEnterCapture:bo,onDragExit:Oo,onDragExitCapture:Io,onDragLeave:Ro,onDragLeaveCapture:No,onDragOver:Lo,onDragOverCapture:wo,onDragStart:ko,onDragStartCapture:Do,onDrop:Po,onDropCapture:Mo,onMouseDown:xo,onMouseDownCapture:Uo,onMouseEnter:Bo,onMouseLeave:jo,onMouseMove:Ho,onMouseMoveCapture:Fo,onMouseOut:Vo,onMouseOutCapture:Go,onMouseOver:zo,onMouseOverCapture:qo,onMouseUp:Ko,onMouseUpCapture:Wo,onSelect:Yo,onSelectCapture:Xo,onTouchCancel:Jo,onTouchCancelCapture:$o,onTouchEnd:Zo,onTouchEndCapture:Qo,onTouchMove:er,onTouchMoveCapture:tr,onTouchStart:nr,onTouchStartCapture:or,onScroll:rr,onScrollCapture:ir,onWheel:ar,onWheelCapture:sr,onAnimationStart:cr,onAnimationStartCapture:ur,onAnimationEnd:pr,onAnimationEndCapture:lr,onAnimationIteration:hr,onAnimationIterationCapture:fr,onTransitionEnd:dr,onTransitionEndCapture:yr,key:mr};return a.createElement("div",r({},gr),this.props.children?this.recursiveCloneChildren(this.props.children):null)},t.prototype.recursiveCloneChildren=function(e){var t=this;return this.props.propagateParent?a.Children.map(e,function(e,n){if(!e)return e;var o=r({},e.props),i=!1;return void 0==e.props?e:e.type&&o.parent?(o=r({},o,{parent:t}),i=!0,e.props&&e.props.children&&(i||(o.children=t.recursiveCloneChildren(e.props.children))),a.cloneElement(e,r({},o))):e}):e},t}(a.Component);c.defaultProps={propagateParent:!1},t.NavigationContainer=s.navigable(c)},617:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(79),s=n(50),c=n(18),u=n(58),p=n(16),l=n(98);t.cardDetailInitialState={status:"LOADING"};var h=function(e){function n(n){var o=e.call(this,n)||this;return o.cardModules=[],o.state=t.cardDetailInitialState,o}return o(n,e),n.prototype.render=function(){return i.createElement("div",{className:"cardDetail fillParent"},i.createElement("div",{className:"bottomContainerTopButtons"},i.createElement("div",{className:"cardDetailBtn"},i.createElement(c.NavigationContainer,{key:"carouselClose",className:"bctButton close",parent:this,clickAction:function(){return""},columns:1}))),this.props.card?i.createElement(l.NavigableCardModuleList,{isDefault:!0,parent:this,columns:1,card:this.props.card,forceFirst:!0}):i.createElement(c.Loading,null))},n.prototype.closeAllCards=function(){console.log("CLOSE ALL CARDS"),this.props.uiActions.openSync()},n.prototype.componentDidUpdate=function(){this.props.card&&"DONE"!==this.state.status&&this.setState(r({},this.state,{status:"DONE"}))},n.prototype.addToArrayIfExists=function(e,t){t&&e.push(t)},n}(i.PureComponent);t.CardDetailClass=h;var f=function(e){return{uiActions:a.bindActionCreators(u.UIActions,e)}},d=function(e,t,n){return r({},e,n,t)};t.CardDetail=p.navigable(s.connect(void 0,f,d)(h))},618:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(22),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.card;if(e){var t=!1;e.image&&e.image.thumb&&(t=!0);var n=!t,o=!1,a=!1;switch(e.type){case"ost":case"song":t=!1,n=!0,o=!0,a=!0;break;case"quote":case"reference":case"trivia":t=!1,n=!1,o=!0}var s=i.Localize("CAROUSEL_ALIAS_"+e.type.toUpperCase())||e.type;return r.createElement("div",{className:"cardAndCategory"},r.createElement("div",{className:"image "+e.type,style:t?{backgroundImage:"url("+e.image.thumb+")",backgroundPosition:e.image.anchor_x+"% "+e.image.anchor_y+"%"}:void 0},n?r.createElement("div",{className:"icon"}):null,o?r.createElement("div",{className:"title"},e.title):null,a&&!n?r.createElement("div",{className:"subtitle"},e.subtitle):null),r.createElement("div",{className:"category"},s))}return null},t.defaultProps={card:null},t}(r.PureComponent);t.CardAndCategory=a},619:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(99),a=n(22),s=n(18),c=n(16),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.downAction=function(){t.scrollBox.scrollTop+=t.scrollBox.offsetHeight},t.upAction=function(){t.scrollBox.scrollTop-=t.scrollBox.offsetHeight},t}return o(t,e),t.prototype.render=function(){var e=this,t=void 0!==this.props.source&&void 0!==this.props.source.name&&""!==this.props.source.name,n=(i({full:t,scrollBox:!0}),this.props.source&&this.props.source.name?this.props.source.name:this.props.source&&this.props.source.url?this.props.source.url:null);return r.createElement("div",{className:"verticalScroll"},r.createElement("div",{className:"scrollBox",ref:function(t){t&&(e.scrollBox=t)}},this.props.children),n?r.createElement("div",{className:"source"},r.createElement("label",{className:"label"},a.Localize("SOURCE"),": "),r.createElement("label",{className:"text"},n)):null,r.createElement("div",{className:"btns"},r.createElement(s.DirectionButtonList,{parent:this,template:"horizontal",btns:[{direction:"up",action:this.upAction},{direction:"down",action:this.downAction}]})))},t}(r.PureComponent);t.VerticalScrollClass=u,t.VerticalScroll=c.navigable(u)},620:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(18),a=n(16),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=0,t.showElements=function(){var e=[];if(t.props.children instanceof Array)for(var n=t.offset;n<t.props.itemsShown+t.offset&&n<t.props.children.length;n++)e.push(t.props.children[n]);return e},t.leftAction=function(){t.offset-=t.props.itemsShown,t.offset<0&&(t.offset=0),t.forceUpdate()},t.rightAction=function(){t.offset+=t.props.itemsShown,t.props.children instanceof Array&&t.offset+t.props.itemsShown>=t.props.children.length&&(t.offset=t.props.children.length-t.props.itemsShown),t.forceUpdate()},t}return o(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",{className:"horizontalScroll"},r.createElement("div",{className:"scrollBox",ref:function(t){t&&(e.scrollBox=t)}},r.createElement(i.NavigationContainer,{parent:this,propagateParent:!0,className:"scrollBoxContent"},this.showElements())),r.createElement("div",{className:"btns"},r.createElement(i.DirectionButtonList,{parent:this,template:"vertical",btns:[{direction:"right",action:this.rightAction},{direction:"left",action:this.leftAction}]})))},t}(r.PureComponent);t.HorizontalScrollClass=s,t.HorizontalScroll=a.navigable(s)},621:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(16),a=n(18),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return r.createElement("ul",{className:"directionButtonList "+this.props.template},this.props.btns.map(function(t,n){return r.createElement("li",{className:"btn",key:n},r.createElement(a.DirectionButton,{direction:t.direction,clickAction:t.action,parent:e,columns:"vertical"!==e.props.template?e.props.btns.length:1}))}))},t}(r.PureComponent);t.DirectionButtonListClass=s,t.DirectionButtonList=i.navigable(s)},622:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(99),a=n(16),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=i("directionButton",this.props.direction);return r.createElement("div",{className:e})},t}(r.PureComponent);t.DirectionButtonClass=s,t.DirectionButton=a.navigable(s)},623:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(99),a=n(16),s=n(22),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){switch(this.props.type){case"MORE":return r.createElement("div",{className:"miniCardButton fillParent more",onClick:this.props.clickAction},"+");case"SAVE":var e=i({icon:!0,like:!this.props.liked,liked:!!this.props.liked});return r.createElement("div",{className:"miniCardButton fillParent",onClick:this.props.clickAction},r.createElement("span",{className:e}),this.props.liked?s.Localize("CAROUSEL_CARD_SAVED"):s.Localize("CAROUSEL_CARD_SAVE"));default:return r.createElement("div",{className:"miniCardButton fillParent",onClick:this.props.clickAction})}},t}(r.PureComponent);t.MiniCardButtonClass=c,t.MiniCardButton=a.navigable(c)},624:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(79),u=n(50),p=n(16),l=n(18),h=n(58),f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRelations=function(e){var t=[];if(e.relations instanceof Array)for(var n=0,o=0,r=e.relations;o<r.length;o++){var i=r[o];if(3==n)break;var a=i;switch(a.content_type){case"home_deco":var s=i;t.push.apply(t,s.data)}n++}return t},t}return i(n,e),n.prototype.shouldComponentUpdate=function(e){return r(this.props.elements)!==r(e.elements)||!(!e.elements||e.elements.length===this.props.elements.length)},n.prototype.componentWillUpdate=function(e){this.props.wasSelectedOnChangeScene&&(this.props.setNodeById&&this.props.idx&&this.props.setNodeById(this.props.idx),void 0!==this.props.setSelectedOnSceneChange&&this.props.elements.length>0&&this.props.setSelectedOnSceneChange(!1))},n.prototype.render=function(){var e=this;return console.log("Elements: ",this.props.elements),s.createElement("ul",{className:"miniCardList"},this.props.elements.map(function(t,n,o){return e.element({el:t,key:t.card_id+"#"+t.version,count:o.length,index:n,parent:parent})}))},n.prototype.element=function(e){var n=e.el,o=e.key,r=(e.count,e.index),i=(e.parent,e.el),a=this.getRelations(i),c=[s.createElement(l.MiniCard,{focusChainClass:"childFocused",activeGroupClass:"activeGroup",groupName:(n.card_id+""+n.version).toString(),element:i,parent:this,forceFirst:!0,forceOrder:r,clickActionMore:this.clickActionMore.bind(this)(i),clickActionLike:this.clickActionLike.bind(this)(i),onFocusCallback:this.onFocusCallback.bind(this)(i),key:i.card_id+"#"+i.version,id:""+o,isScrollable:!0,navClass:"scrollable"})];return a.length>0&&c.push(s.createElement(t.MiniCardList,{elements:a,movieId:this.props.movieId,getMovieTime:this.props.getMovieTime,parent:this,columns:1,forceOrder:r+1,groupName:"MiniCardList",setSelectedOnSceneChange:this.props.setSelectedOnSceneChange,wasSelectedOnChangeScene:this.props.wasSelectedOnChangeScene})),c},n.prototype.clickActionLike=function(e){var t=this;return function(n){var o=n||e;o&&(console.log("LIKE",o.card_id),t.props.userActions.likeCard(o).then(function(){console.log("Liked success")}))}},n.prototype.clickActionMore=function(e){var t=this;return function(n){var o=n||e;o&&(console.log("Card clicked",o),t.props.uiActions.openCard(o.card_id,"offmovie"))}},n.prototype.onFocusCallback=function(e){return function(e){}},n}(s.Component);t.MiniCardListClass=f;var d=function(e){return{uiActions:c.bindActionCreators(h.UIActions,e)}},y=function(e,t,n){return a({},e,n,t)};t.MiniCardList=u.connect(void 0,d,y,{withRef:!0})(p.navigable(f))},625:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(16),a=n(22),s=n(18),c=n(99),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniCard=function(){return r.createElement("div",{className:"cardLeft",onMouseOver:function(){return t.props.setNodeById(t.props.idx)}},r.createElement(s.CardAndCategory,{card:t.props.element}))},t.expandedInfo=function(){var e=t.expandedInfoText();return r.createElement("div",{className:"expandedInfoContainer"},r.createElement("div",{className:"expandedInfo"},r.createElement("div",{className:"expandedInfoInside"},r.createElement("div",{className:"text"},e),r.createElement("div",{className:"btn"},t.button("MORE")),r.createElement("div",{className:"btn"},t.button("SAVE")))))},t.expandedInfoText=function(){var e,n="",o=a.Helper.getContainer(t.props.element,"text");switch(void 0!==o&&o.data.length>0&&(n=o.data[0].text),t.props.element.type){case"quote":case"reference":e=r.createElement("div",{className:"text alone"},n);break;case"character":var i=a.Helper.getRelation(t.props.element.relations,"played_by"),s=i;if(s&&s.data instanceof Array&&s.data.length>0){var c=s.data[0].from,u=t.props.element.title;if(void 0!==c){t.openCard=c,void 0!==c.title&&(u=c.title+" as "+u);var p=a.Helper.getContainer(c,"text");void 0!==p&&p.data.length>0&&(n=p.data[0].text)}e=r.createElement("div",{className:"text"},r.createElement("div",{className:"title"},u),r.createElement("div",{className:"desc"},n));break}case"song":e=r.createElement("div",{className:"text"});break;default:e=r.createElement("div",{className:"text"},r.createElement("div",{className:"title"},t.props.element.title),r.createElement("div",{className:"desc"},n))}return e},t.button=function(e){var n=function(){t.props.clickActionMore(t.openCard)},o=function(){t.props.clickActionLike(t.openCard)};return r.createElement(s.MiniCardButton,{clickAction:"SAVE"===e?o:n,parent:t,columns:1,groupName:t.props.groupName,type:e})},t}return o(t,e),t.prototype.render=function(){var e=c({minicard:!0,relation:!1});return r.createElement("li",{id:this.props.id},r.createElement("div",{className:e},"",this.miniCard(),this.expandedInfo()))},t.prototype.componentWillMount=function(){this.openCard=this.props.element},t}(r.PureComponent);t.MiniCardClass=u,t.MiniCard=i.navigable(u)},626:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r.createElement("div",{className:"fillParent",style:{position:"relative"}},r.createElement("div",{className:"spinner"}))},t}(r.PureComponent);t.Loading=i},627:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=n(16),p=n(22),l=n(18),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),n=t,t.prototype.render=function(){var e=this.getTitle();return c.createElement("div",{className:"cardModuleText cardModule"},c.createElement("div",{className:"container"},c.createElement(l.VerticalScroll,{source:this.props.textData?this.props.textData.source:void 0,parent:this},e?c.createElement("div",{className:"cardTitle"},e):null,c.createElement("div",{className:"cardText"},this.props.textData.text))))},t.prototype.getTitle=function(){if(void 0===this.props.container)return"";switch(this.props.container.content_type){case"biography":return p.Localize("BIOGRAPHY");case"overview":return p.Localize("OVERVIEW");case"curiosity":case"reference":return p.Localize("CURIOSITY_TITLE");case"quote":case"reference":case"description":default:return null}},t=n=s([u.statics({moduleName:"text",validate:function(e,t,o,r){var i=p.Helper.getContainer(e,"text");if(void 0!==i&&void 0!==i.data&&i.data.length>0){var s=u.navigable(n);return c.createElement(s,a({container:i,textData:i.data[0],parent:o,isScrollable:!0,card:e,moduleType:t},r))}return null}})],t);var n}(c.PureComponent);t.Text=h},628:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(22),u=n(18),p=n(16),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTitle=function(){switch(t.props.container.content_type){case"specs":return c.Localize("SPECS");case"basic_data":default:return c.Localize("BASIC_DATA")}},t}return i(t,e),n=t,t.prototype.render=function(){return s.createElement("div",{className:"cardModuleTable cardModule"},s.createElement("div",{className:"container"},s.createElement(u.VerticalScroll,{parent:this},s.createElement("div",{className:"cardTitle"},this.getTitle()),s.createElement("div",{className:"table"},s.createElement("table",null,s.createElement("tbody",null,this.props.container.data.map(function(e,t){return s.createElement("tr",{key:t},s.createElement("td",null,e.text),s.createElement("td",null,e.value))})))))))},t=n=a([p.statics({moduleName:"table",validate:function(e,t,o,r){var i=c.Helper.getContainer(e,"listing");if(i&&i.data&&i.data.length>0){var a=p.navigable(n);return s.createElement(a,{container:i,parent:o,isScrollable:!0,card:e,moduleType:t})}return null}})],t);var n}(s.PureComponent);t.Table=l},629:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(22),u=n(18),p=n(16),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getList=function(){switch(t.props.moduleType){case"Gallery":return t.getGalleryList();case"Shop":case"TravelShop":return t.getShopList();case"Filmography":return t.getFilmographyList();case"Cast":return t.getCastList();case"AppearsInLocation":case"CompleteTheDeco":return t.getRelSingleList();case"Seasons":return t.getSeasonList()}},t.getGalleryList=function(){if(t.props.container){return t.props.container.data.map(function(e,n){return s.createElement(u.NavigationContainer,{key:t.props.container.content_type+"_show_"+n,parent:t,forceOrder:n%t.props.itemsShown,columns:2,className:"horizontalElement listElement focusable"},s.createElement("img",{src:e.thumb}))})}return null},t.getShopList=function(){if(t.props.container){return t.props.container.data.map(function(e,n){return t.getGenericElement(e.price.toString()+e.currency,e.image,n)})}return null},t.getFilmographyList=function(){if(t.props.container){return t.props.container.data.map(function(e,n){return t.getGenericElement(e.from.title,e.from.image?e.from.image.thumb:null,n)})}return null},t.getCastList=function(){if(t.props.container){return t.props.container.data.filter(function(e){return"plays"==e.rel_type&&null!==e.from.image}).map(function(e,n){return t.getGenericElement(e.from.title,e.from.image.thumb,n)})}return null},t.getRelSingleList=function(){if(t.props.container){return t.props.container.data.map(function(e,n){return t.getGenericElement(e.title,e.image.thumb,n)})}return null},t.getSeasonList=function(){if(t.props.container){return t.props.container.data.map(function(e,n){return t.getGenericElement("Season "+e.season_index,e.image.thumb,n)})}return null},t.getGenericElement=function(e,n,o){return s.createElement(u.NavigationContainer,{key:t.props.container.content_type+"_show_"+o,parent:t,forceOrder:o%t.props.itemsShown,columns:2,className:"horizontalElement listElement"},s.createElement("div",{className:"image focusable"},s.createElement("img",{src:n})),s.createElement("div",{className:"title focusable"},e))},t.getTitle=function(){switch(t.props.container.content_type){case"gallery":return c.Localize("GALLERY");default:return null}},t}return i(t,e),n=t,t.getContainer=function(e,t){switch(console.log("Filmography card: ",e),t){case"Gallery":return c.Helper.getContainer(e,"image");case"Shop":return{content_type:"products",data:e.products,type:"listing"};case"TravelShop":return{content_type:"products",data:e.products,type:"listing"};case"Filmography":return c.Helper.getRelation(e.relations,"filmography","content_type");case"Cast":return c.Helper.getRelation(e.relations,"casting","content_type");case"Seasons":return c.Helper.getContainer(e,"seasons");case"AppearsInLocation":return c.Helper.getRelation(e.relations,"filmed_in","content_type");case"CompleteTheDeco":return c.Helper.getRelation(e.relations,"home_deco","content_type");default:return}},t.prototype.render=function(){var e=this.getTitle();return s.createElement("div",{className:"cardModuleList cardModule"},s.createElement("div",{className:"container"},s.createElement("div",{className:"cardTitle"},e),s.createElement("div",{className:"listContent"},s.createElement(u.HorizontalScroll,{parent:this,uniqueId:this.props.container.content_type,itemsShown:this.props.itemsShown},this.getList()))))},t=n=a([p.statics({moduleName:"list",validate:function(e,t,o,r){var i=n.getContainer(e,t);if(void 0!==i&&void 0!==i.data&&i.data.length>0){var a=p.navigable(n);return s.createElement(a,{itemsShown:2,container:i,parent:o,isScrollable:!0,card:e,moduleType:t})}return null}})],t);var n}(s.PureComponent);t.List=l},630:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(22),u=n(18),p=n(16),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTitle=function(){return Localize("AWARDS")},t}return i(t,e),n=t,t.prototype.render=function(){return s.createElement("div",{className:"cardModuleAwards cardModule"},s.createElement("div",{className:"container"},s.createElement(u.VerticalScroll,{parent:this},s.createElement("div",{className:"cardTitle"},this.getTitle()),s.createElement("div",{className:"awards"},s.createElement("table",null,s.createElement("tbody",null,this.props.container.data.map(function(e,t){var n=e.winner instanceof Array&&e.winner.length>0?e.winner.length:0,o=e.nominee instanceof Array&&e.nominee.length>0?e.nominee.length:0,r=o>0?o+" "+(o>1?Localize("NOMINEE_PLURAL"):Localize("NOMINEE_SINGULAR")):"",i=n>0?n+" "+(n>1?Localize("WINNER_PLURAL"):Localize("WINNER_SINGULAR"))+(o>0?" / "+r:""):r;return s.createElement("tr",{key:t},s.createElement("td",null,s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",{key:"name",className:"awardName"},s.createElement("td",null,e.title)),s.createElement("tr",{key:"num",className:"awardNums"},s.createElement("td",null,i))))))})))))))},t=n=a([p.statics({moduleName:"awards",validate:function(e,t,o,r){var i=c.Helper.getContainer(e,"awards");if(i&&i.data&&i.data.length>0){var a=p.navigable(n);return s.createElement(a,{container:i,parent:o,isScrollable:!0,card:e,moduleType:t})}return null}})],t);var n}(s.PureComponent);t.Awards=l},631:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=n(22),p=n(16),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),n=t,t.prototype.render=function(){var e=this.getTitle(),t=this.props.mapData,n=t.latitude,o=t.longitude,r=t.zoom,i="https://maps.googleapis.com/maps/api/staticmap?center="+n+","+o+"&size=300x168",a=parseInt(""+r,10);return a&&(i+="&zoom="+a),c.createElement("div",{className:"cardModuleMap cardModule"},c.createElement("div",{className:"container"},e?c.createElement("div",{className:"cardTitle"},e):null,c.createElement("div",{className:"map"},c.createElement("img",{src:i,className:"mapThumbnail"}))))},t.prototype.getTitle=function(){return void 0===this.props.container?"":u.Localize("LOCATION")},t=n=s([p.statics({moduleName:"map",validate:function(e,t,o,r){console.log("[Map] card: ",e);var i=u.Helper.getContainer(e,"map");if(void 0!==i&&void 0!==i.data&&i.data.length>0&&i.data[0].latitude&&i.data[0].longitude){var s=p.navigable(n);return c.createElement(s,a({},r,{container:i,mapData:i.data[0],parent:o,card:e,moduleType:t}))}return null}})],t);var n}(c.PureComponent);t.Map=l},632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(273);t.cardModuleClasses={Header:o.Header,ButtonHeader:o.Header,MovieHeader:o.Header,Description:o.Text,Biography:o.Text,Reference:o.Text,FullCuriosity:o.Text,Overview:o.Text,Gallery:o.List,Shop:o.List,TravelShop:o.List,Directors:o.List,Seasons:o.List,Filmography:o.List,Cast:o.List,AppearsInLocation:o.List,CompleteTheDeco:o.List,Specifications:o.Table,BasicInfo:o.Table,AwardsModuleList:o.Awards,MapModule:o.Map}},633:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(18),s=n(16),c=function(e){function t(){var t=e.call(this)||this;return t.state={status:"LOADING",card:void 0},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.state&&"LOADING"===this.state.status&&(null!=this.props.version?DiveAPI.getCardVersion({cardId:this.props.cardId,version:this.props.version,products:!0}).then(function(t){console.log("[card] "+t.title+": ",t),e.setState(r({},e.state,{status:"LOADED",card:t}))}):DiveAPI.getCard({cardId:this.props.cardId,products:!0}).then(function(t){console.log("[card] "+t.title+": ",t),e.setState(r({},e.state,{status:"LOADED",card:t}))}))},t.prototype.render=function(){return this.state&&"LOADED"===this.state.status?i.createElement(a.CardDetail,{parent:this,card:this.state.card,columns:1,navClass:"cardDetailNav",isDefault:!0}):i.createElement(a.Loading,null)},t}(i.PureComponent);t.CardDetailContainerClass=c,t.CardDetailContainer=s.navigable(c)},634:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(18),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hidden:!1},n}return o(t,e),t.prototype.render=function(){return this.state&&this.state.hidden?null:this.getChildren()},t.prototype.getChildren=function(){var e=this;return r.createElement("div",{className:"bottomMessage fillParent"},r.createElement(i.NavigationContainer,{modal:!0,parent:this.props.navigationParent,isDefault:!0,propagateParent:!0,columns:1},r.createElement("div",{className:"messageContainer"},r.createElement("div",{className:"closeContainer"},r.createElement(i.NavigationContainer,{className:"carouselButton carouselClose",parent:this,isDefault:!0,columns:1,onClick:function(){e.setState({hidden:!0})}})),this.props.children)))},t}(r.PureComponent);t.BottomOverlayMessage=a},635:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(50),s=n(79),c=n(16),u=n(18),p=n(58),l=n(22),h=n(263),f=n(98),d=function(e){function t(t){var n=e.call(this,t)||this;return n.chunkRequested=!1,n.currentSceneText=l.Localize("CURRENT_SCENE"),n.getState=function(){return n.props.state},n.state={rewinded:!1},n.closeCarousel=n.closeCarousel.bind(n),n.getCurrentTime=n.getCurrentTime.bind(n),n.adMessageContent=i.createElement("div",{key:"adMessageContent",className:"fillParent adMessage carouselMessageContent"},i.createElement("div",{className:"adMessageLeft"},i.createElement("h1",null,l.Localize("PIZZA_OR_POP_CORN")),i.createElement("p",{className:"text1"},l.Localize("WE_RECOMMEND")),i.createElement("p",{className:"text2"},l.Localize("MAKE_POP_CORN"))),i.createElement("div",{className:"adMessageRight"},i.createElement("h1",null,l.Localize("TVGRID_COMMERCIAL_TXT")))),n.endMessageContent=i.createElement("div",{key:"endMessageContent",className:"fillParent endMessage carouselMessageContent centeredMessage"},i.createElement("div",{className:"messageCenter"},i.createElement("h1",null,l.Localize("EVERYTHING_END")),i.createElement("p",{className:"text1"},l.Localize("MOVIE_ENDED")),i.createElement("div",{className:"buttonsContainer"},i.createElement(u.NavigationContainer,{className:"genericBtn",parent:n,isDefault:!0,columns:1,key:"messageCloseCarousel",onClick:function(){n.props.uiActions.open({top:"TV",bottom:"GRID"})}},l.Localize("OKAY"))))),n.offMessageContent=i.createElement("div",{key:"offMessageContent",className:"fillParent offMessageContent carouselMessageContent centeredMessage"},i.createElement("div",{className:"messageCenter"},i.createElement("h1",null,l.Localize("EVERYTHING_END")),i.createElement("p",{className:"text1"},l.Localize("MOVIE_OFF")),i.createElement("div",{className:"buttonsContainer"},i.createElement(u.NavigationContainer,{className:"genericBtn",key:"messageCloseCarousel",parent:n,isDefault:!0,columns:1,onClick:function(){n.props.uiActions.open({top:"TV",bottom:"GRID"})}},l.Localize("OKAY"))))),n.readyMessageContent=i.createElement("div",{key:"offMessageContent",className:"fillParent readyMessageContent carouselMessageContent centeredMessage"},i.createElement("div",{className:"messageCenter"},i.createElement("h1",null,l.Localize("LIGHTS_CAMERA")),i.createElement("p",{className:"text1"},l.Localize("WE_ARE_LOADING")))),n}return o(t,e),t.prototype.componentWillUpdate=function(e){},t.prototype.componentWillMount=function(){this.props.syncChannel(),this.activeFilters=[this.allCategoriesFilter]},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(){var e=this,t=void 0!==this.props.state.cards?this.props.state.cards:[];return t=t.filter(function(e){return e&&e.type&&h.SUPPORTED_CARD_TYPES.indexOf(e.type)>-1&&"person"!==e.type}),i.createElement("div",{className:"containerCarousel fillParent"},i.createElement(u.NavigationContainer,{key:"buttonContainer",ref:function(t){t&&(e.buttonsContainer=t.getWrappedInstance().refComponent)},propagateParent:!1,parent:this,forceFirst:!0,columns:1},this.buttonsContainer?this.getButtons():""),i.createElement("div",{className:"cards"},0===t.length?i.createElement(u.Loading,null):i.createElement(u.MiniCardList,{elements:t,movieId:this.getState().movieId,getMovieTime:this.getCurrentTime,parent:this,columns:1,groupName:"MiniCardList",setSelectedOnSceneChange:this.props.setSelectedOnSceneChange,wasSelectedOnChangeScene:this.props.state.selectedOnSceneChange})),this.getMessageForCarousel())},t.prototype.getCurrentTime=function(){return this.props.state.currentTime},t.prototype.getButtons=function(){var e=this.props.state.currentTime;Math.floor(e/3600);e%=3600;var t=(Math.floor(e/60),parseInt((e%60).toFixed(0),10),7);!1===this.state.rewinded&&t--;var n=[];return n.push(i.createElement(u.NavigationContainer,{key:"carouselClose",className:"carouselButton bctButton close",forceOrder:0,parent:this.buttonsContainer,onClick:this.closeCarousel})),i.createElement("div",{id:"carouselButtons",className:"bottomContainerTopButtons"},n)},t.prototype.closeCarousel=function(){this.props.uiActions.open({top:"TV",bottom:"GRID"})},t.prototype.getMessageForCarousel=function(){var e,t=this.getState().channelStatus;if("paused"===t?e=this.adMessageContent:"end"===t?e=this.endMessageContent:"off"===t?e=this.offMessageContent:"ready"===t&&(e=this.readyMessageContent),e)return i.createElement(f.BottomOverlayMessage,{key:"bottomMessage#"+this.props.state.timeMovieSynced+"#"+t,navigationParent:this},e)},t.prototype.allCategoriesFilter=function(){return!0},t}(i.PureComponent);t.CarouselClass=d;var y=function(e){return{state:r({},e.carousel)}},m=function(e){return r({},s.bindActionCreators(p.SyncActions,e),{uiActions:s.bindActionCreators(p.UIActions,e)})};t.Carousel=c.navigable(a.connect(y,m)(d))},98:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(523)),o(n(588)),o(n(589)),o(n(633)),o(n(634)),o(n(635))}},[310])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9EaXZlU0RLLmZyb250LmpzIiwid2VicGFjazovLy8uL0hPQy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vY29uc3RhbnRzLnRzeCIsIndlYnBhY2s6Ly8vL1VzZXJzL2RhbmllbC5tYXJpbm8vRGVza3RvcC9SRUFDVC9hcGktdHlwZXNjcmlwdC1saWJyYXJ5L2Rpc3QvYXBpLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkTW9kdWxlcy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vbWFpbi50c3giLCJ3ZWJwYWNrOi8vLy4vc3RvcmUvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vbWlkZGxld2FyZS9zb2NrZXQubWlkZGxld2FyZS50c3giLCJ3ZWJwYWNrOi8vLy4vYWN0aW9ucy91aS5hY3Rpb25zLnRzIiwid2VicGFjazovLy8uL2FjdGlvbnMvbmF2LmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vYWN0aW9ucy9zeW5jLmFjdGlvbnMudHN4Iiwid2VicGFjazovLy8uL2FjdGlvbnMvc29ja2V0LmFjdGlvbnMudHN4Iiwid2VicGFjazovLy8uL2FjdGlvbnMvdXNlci5hY3Rpb25zLnRzeCIsIndlYnBhY2s6Ly8vLi9yZWR1Y2Vycy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9yZWR1Y2Vycy9uYXYucmVkdWNlci50cyIsIndlYnBhY2s6Ly8vLi9yZWR1Y2Vycy91aS5yZWR1Y2VyLnRzIiwid2VicGFjazovLy8uL3JlZHVjZXJzL3N5bmMucmVkdWNlci50c3giLCJ3ZWJwYWNrOi8vLy4vcmVkdWNlcnMvdXNlci5yZWR1Y2VyLnRzeCIsIndlYnBhY2s6Ly8vLi9jb250YWluZXJzL2xheW91dC9sYXlvdXQuY29udGFpbmVyLnRzeCIsIndlYnBhY2s6Ly8vLi9IT0MvbmF2aWdhYmxlL25hdmlnYWJsZS5IT0MudHN4Iiwid2VicGFjazovLy8uL3NlcnZpY2VzL2hlbHBlci50c3giLCJ3ZWJwYWNrOi8vLy4vc2VydmljZXMvbG9jYWxpemVkX3RleHRzLnRzeCIsIndlYnBhY2s6Ly8vLi9hY3Rpb25zL2luZGV4LnRzIiwid2VicGFjazovLy8uL2Fzc2V0cy9FUy9sb2NhbGl6ZWRfdGV4dHMuanNvbiIsIndlYnBhY2s6Ly8vLi9hc3NldHMvRU4vbG9jYWxpemVkX3RleHRzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL0RFL2xvY2FsaXplZF90ZXh0cy5qc29uIiwid2VicGFjazovLy8uL3NlcnZpY2VzL2tleW1hcC50c3giLCJ3ZWJwYWNrOi8vLy4vSE9DL3N0YXRpY3Mvc3RhdGljcy5IT0MudHN4Iiwid2VicGFjazovLy8uL2NvbnRhaW5lcnMvQXBwL2FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVycy9jYXJkTW9kdWxlTGlzdC9jYXJkTW9kdWxlTGlzdC5jb250YWluZXIudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkTW9kdWxlcy9jYXJkRGV0YWlsLmNvbmZpZy50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9hcnQuanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2J1c2luZXNzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9jaGFwdGVyLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9mYXNoaW9uLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9mYXVuYV9mbG9yYS5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvZm9vZF9kcmluay5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvaGVhbHRoX2JlYXV0eS5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvaGlzdG9yaWMuanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2hvbWUuanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2xlaXN1cmVfc3BvcnQuanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2xvY2F0aW9uLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9sb29rLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9tb3ZpZS5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvb3N0Lmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9wZXJzb24uanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2NoYXJhY3Rlci5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvcmVmZXJlbmNlLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9zZXJpZS5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvc29uZy5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvdGVjaG5vbG9neS5qc29uIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvdHJpdmlhLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy92ZWhpY2xlLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy93ZWFwb24uanNvbiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvY2FyZE1vZHVsZS5iYXNlLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmRNb2R1bGVzL2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL25hdmlnYXRpb25Db250YWluZXIvbmF2aWdhdGlvbkNvbnRhaW5lci5jb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkRGV0YWlsLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkQW5kQ2F0ZWdvcnkvY2FyZEFuZENhdGVnb3J5LmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy92ZXJ0aWNhbFNjcm9sbC92ZXJ0aWNhbFNjcm9sbC5jb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvaG9yaXpvbnRhbFNjcm9sbC9ob3Jpem9udGFsU2Nyb2xsLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9kaXJlY3Rpb25CdXR0b25MaXN0L2RpcmVjdGlvbkJ1dHRvbkxpc3QuY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2RpcmVjdGlvbkJ1dHRvbkxpc3QvZGlyZWN0aW9uQnV0dG9uL2RpcmVjdGlvbkJ1dHRvbi5jb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbWluaUNhcmQvbWluaUNhcmRCdXR0b24vbWluaUNhcmRCdXR0b24uY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL21pbmlDYXJkTGlzdC9taW5pQ2FyZExpc3QuY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL21pbmlDYXJkL21pbmlDYXJkLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcuY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvdGV4dC90ZXh0LmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmRNb2R1bGVzL3RhYmxlL3RhYmxlLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmRNb2R1bGVzL2xpc3QvbGlzdC5jb21wb25lbnQudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkTW9kdWxlcy9hd2FyZHMvYXdhcmRzLmNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmRNb2R1bGVzL21hcC9tYXAuY29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvY2FyZERldGFpbC5tb2R1bGVzLnRzeCIsIndlYnBhY2s6Ly8vLi9jb250YWluZXJzL2NhcmREZXRhaWwvY2FyZERldGFpbC5jb250YWluZXIudHN4Iiwid2VicGFjazovLy8uL2NvbnRhaW5lcnMvdWkvYm90dG9tT3ZlcmxheU1lc3NhZ2UuY29udGFpbmVyLnRzeCIsIndlYnBhY2s6Ly8vLi9jb250YWluZXJzL2Nhcm91c2VsL2Nhcm91c2VsLmNvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVycy9pbmRleC50c3giXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIndlYnBhY2tKc29ucERpdmVTREtfX25hbWVfIiwiMTYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX19leHBvcnQiLCJtIiwicCIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIjE4IiwiMjIiLCIyNjMiLCJTRVNTSU9OX1NUT1JBR0VfS0VZIiwiRElWRV9FTlZJUk9OTUVOVCIsIkVOQUJMRV9ST0xMQkFSIiwiU1VQUE9SVEVEX0NBUkRfVFlQRVMiLCIyNzIiLCJtb2R1bGVzIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwicyIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJlIiwid2luZG93IiwicHJvY2VzcyIsInVzZUNvbG9ycyIsInR5cGUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiV2Via2l0QXBwZWFyYW5jZSIsImNvbnNvbGUiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwidGFibGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwicGFyc2VJbnQiLCJSZWdFeHAiLCIkMSIsImZvcm1hdEFyZ3MiLCJhcmdzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJkaWZmIiwiY29sb3IiLCJzcGxpY2UiLCJpbmRleCIsImxhc3RDIiwicmVwbGFjZSIsImxvZyIsImFwcGx5IiwiYXJndW1lbnRzIiwic2F2ZSIsIm5hbWVzcGFjZXMiLCJzdG9yYWdlIiwicmVtb3ZlSXRlbSIsImRlYnVnIiwibG9hZCIsInIiLCJlbnYiLCJERUJVRyIsImNocm9tZSIsImxvY2FsIiwibG9jYWxTdG9yYWdlIiwiY29sb3JzIiwiZm9ybWF0dGVycyIsImoiLCJ2IiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsIm1lc3NhZ2UiLCJlbmFibGUiLCJFbWl0dGVyIiwib2JqIiwibWl4aW4iLCJrZXkiLCJvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZuIiwiX2NhbGxiYWNrcyIsInB1c2giLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGVuZ3RoIiwiY2FsbGJhY2tzIiwiY2IiLCJlbWl0Iiwic2xpY2UiLCJsZW4iLCJsaXN0ZW5lcnMiLCJoYXNMaXN0ZW5lcnMiLCJnbG9iYWwiLCJlbmNvZGVCYXNlNjRPYmplY3QiLCJwYWNrZXQiLCJjYWxsYmFjayIsInBhY2tldHMiLCJkYXRhIiwiZW5jb2RlQXJyYXlCdWZmZXIiLCJzdXBwb3J0c0JpbmFyeSIsImVuY29kZUJhc2U2NFBhY2tldCIsImNvbnRlbnRBcnJheSIsIlVpbnQ4QXJyYXkiLCJyZXN1bHRCdWZmZXIiLCJieXRlTGVuZ3RoIiwiYnVmZmVyIiwiZW5jb2RlQmxvYkFzQXJyYXlCdWZmZXIiLCJmciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJlbmNvZGVQYWNrZXQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImVuY29kZUJsb2IiLCJkb250U2VuZEJsb2JzIiwiQmxvYiIsInRyeURlY29kZSIsInV0ZjgiLCJkZWNvZGUiLCJzdHJpY3QiLCJtYXAiLCJhcnkiLCJlYWNoIiwiZG9uZSIsIkFycmF5IiwibmV4dCIsImFmdGVyIiwiZWwiLCJlcnJvciIsIm1zZyIsImJhc2U2NGVuY29kZXIiLCJrZXlzIiwiaGFzQmluYXJ5Iiwic2xpY2VCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImlzQW5kcm9pZCIsInRlc3QiLCJpc1BoYW50b21KUyIsInByb3RvY29sIiwib3BlbiIsImNsb3NlIiwicGluZyIsInBvbmciLCJ1cGdyYWRlIiwibm9vcCIsInBhY2tldHNsaXN0IiwidXRmOGVuY29kZSIsInVuZGVmaW5lZCIsImJhc2U2NCIsImVuY29kZWQiLCJlbmNvZGUiLCJTdHJpbmciLCJiNjQiLCJzcGxpdCIsInJlYWRBc0RhdGFVUkwiLCJiNjRkYXRhIiwiZnJvbUNoYXJDb2RlIiwidHlwZWQiLCJiYXNpYyIsImJ0b2EiLCJkZWNvZGVQYWNrZXQiLCJiaW5hcnlUeXBlIiwidXRmOGRlY29kZSIsImNoYXJBdCIsImRlY29kZUJhc2U2NFBhY2tldCIsInN1YnN0ciIsIk51bWJlciIsInN1YnN0cmluZyIsImFzQXJyYXkiLCJyZXN0IiwiZW5jb2RlUGF5bG9hZCIsInNldExlbmd0aEhlYWRlciIsImVuY29kZU9uZSIsImRvbmVDYWxsYmFjayIsImlzQmluYXJ5IiwiZW5jb2RlUGF5bG9hZEFzQmxvYiIsImVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyIiwicmVzdWx0cyIsImpvaW4iLCJkZWNvZGVQYXlsb2FkIiwiZGVjb2RlUGF5bG9hZEFzQmluYXJ5IiwiY2hyIiwiZW5jb2RlZFBhY2tldHMiLCJ0b3RhbExlbmd0aCIsInJlZHVjZSIsImFjYyIsInRvU3RyaW5nIiwicmVzdWx0QXJyYXkiLCJidWZmZXJJbmRleCIsImZvckVhY2giLCJpc1N0cmluZyIsImFiIiwidmlldyIsImNoYXJDb2RlQXQiLCJsZW5TdHIiLCJiaW5hcnlJZGVudGlmaWVyIiwic2l6ZSIsImxlbmd0aEFyeSIsImJsb2IiLCJidWZmZXJUYWlsIiwiYnVmZmVycyIsInRhaWxBcnJheSIsIm1zZ0xlbmd0aCIsInRvdGFsIiwic3RyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicXMiLCJxcnkiLCJwYWlycyIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJhIiwiYiIsImNvbnN0cnVjdG9yIiwiRW5jb2RlciIsImVuY29kZUFzU3RyaW5nIiwiQklOQVJZX0VWRU5UIiwiQklOQVJZX0FDSyIsImF0dGFjaG1lbnRzIiwibnNwIiwiaWQiLCJlbmNvZGVBc0JpbmFyeSIsIndyaXRlRW5jb2RpbmciLCJibG9ibGVzc0RhdGEiLCJkZWNvbnN0cnVjdGlvbiIsImJpbmFyeSIsImRlY29uc3RydWN0UGFja2V0IiwicGFjayIsInVuc2hpZnQiLCJyZW1vdmVCbG9icyIsIkRlY29kZXIiLCJyZWNvbnN0cnVjdG9yIiwiZGVjb2RlU3RyaW5nIiwidHlwZXMiLCJidWYiLCJFcnJvciIsInRyeVBhcnNlIiwicGFyc2UiLCJCaW5hcnlSZWNvbnN0cnVjdG9yIiwicmVjb25QYWNrIiwiRVJST1IiLCJoYXNCaW4iLCJpc0J1ZiIsIkNPTk5FQ1QiLCJESVNDT05ORUNUIiwiRVZFTlQiLCJBQ0siLCJhZGQiLCJ0YWtlQmluYXJ5RGF0YSIsImRlc3Ryb3kiLCJmaW5pc2hlZFJlY29uc3RydWN0aW9uIiwiYmluRGF0YSIsInJlY29uc3RydWN0UGFja2V0IiwiaGFzQ09SUyIsIm9wdHMiLCJ4ZG9tYWluIiwieHNjaGVtZSIsImVuYWJsZXNYRFIiLCJYTUxIdHRwUmVxdWVzdCIsIlhEb21haW5SZXF1ZXN0IiwiY29uY2F0IiwiVHJhbnNwb3J0IiwicGF0aCIsImhvc3RuYW1lIiwicG9ydCIsInNlY3VyZSIsInF1ZXJ5IiwidGltZXN0YW1wUGFyYW0iLCJ0aW1lc3RhbXBSZXF1ZXN0cyIsInJlYWR5U3RhdGUiLCJhZ2VudCIsInNvY2tldCIsInBmeCIsInBhc3NwaHJhc2UiLCJjZXJ0IiwiY2EiLCJjaXBoZXJzIiwicmVqZWN0VW5hdXRob3JpemVkIiwiZm9yY2VOb2RlIiwiZXh0cmFIZWFkZXJzIiwibG9jYWxBZGRyZXNzIiwicGFyc2VyIiwib25FcnJvciIsImRlc2MiLCJkZXNjcmlwdGlvbiIsImRvT3BlbiIsImRvQ2xvc2UiLCJvbkNsb3NlIiwic2VuZCIsIndyaXRlIiwib25PcGVuIiwid3JpdGFibGUiLCJvbkRhdGEiLCJvblBhY2tldCIsIk1hdGgiLCJzZWxmIiwiX19nIiwiaXQiLCJleGVjIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsInJlIiwicGFydHMiLCJzcmMiLCJpbmRleE9mIiwidXJpIiwic291cmNlIiwiaG9zdCIsImF1dGhvcml0eSIsImlwdjZ1cmkiLCJpc0FycmF5IiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJ3aXRoTmF0aXZlQmxvYiIsIndpdGhOYXRpdmVGaWxlIiwiRmlsZSIsInRvSlNPTiIsIk1hbmFnZXIiLCJuc3BzIiwic3VicyIsInJlY29ubmVjdGlvbiIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwiSW5maW5pdHkiLCJyZWNvbm5lY3Rpb25EZWxheSIsInJlY29ubmVjdGlvbkRlbGF5TWF4IiwicmFuZG9taXphdGlvbkZhY3RvciIsImJhY2tvZmYiLCJCYWNrb2ZmIiwibWluIiwibWF4Iiwiaml0dGVyIiwidGltZW91dCIsImNvbm5lY3RpbmciLCJsYXN0UGluZyIsImVuY29kaW5nIiwicGFja2V0QnVmZmVyIiwiX3BhcnNlciIsImVuY29kZXIiLCJkZWNvZGVyIiwiYXV0b0Nvbm5lY3QiLCJlaW8iLCJTb2NrZXQiLCJiaW5kIiwiaGFzIiwiZW1pdEFsbCIsInVwZGF0ZVNvY2tldElkcyIsImdlbmVyYXRlSWQiLCJlbmdpbmUiLCJfcmVjb25uZWN0aW9uIiwiX3JlY29ubmVjdGlvbkF0dGVtcHRzIiwiX3JlY29ubmVjdGlvbkRlbGF5Iiwic2V0TWluIiwiX3JhbmRvbWl6YXRpb25GYWN0b3IiLCJzZXRKaXR0ZXIiLCJfcmVjb25uZWN0aW9uRGVsYXlNYXgiLCJzZXRNYXgiLCJfdGltZW91dCIsIm1heWJlUmVjb25uZWN0T25PcGVuIiwicmVjb25uZWN0aW5nIiwiYXR0ZW1wdHMiLCJyZWNvbm5lY3QiLCJjb25uZWN0Iiwic2tpcFJlY29ubmVjdCIsIm9wZW5TdWIiLCJvbm9wZW4iLCJlcnJvclN1YiIsImNsZWFudXAiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJvbnBpbmciLCJEYXRlIiwib25wb25nIiwib25kYXRhIiwib25kZWNvZGVkIiwib25lcnJvciIsIm9uQ29ubmVjdGluZyIsIm9wdGlvbnMiLCJwcm9jZXNzUGFja2V0UXVldWUiLCJzaGlmdCIsInN1YnNMZW5ndGgiLCJkaXNjb25uZWN0IiwicmVzZXQiLCJvbmNsb3NlIiwicmVhc29uIiwiZGVsYXkiLCJkdXJhdGlvbiIsIm9ucmVjb25uZWN0IiwiYXR0ZW1wdCIsInBvbGxpbmciLCJ4ZCIsInhzIiwianNvbnAiLCJsb2NhdGlvbiIsImlzU1NMIiwiZm9yY2VKU09OUCIsIlhIUiIsIkpTT05QIiwid2Vic29ja2V0IiwiUG9sbGluZyIsImZvcmNlQmFzZTY0IiwiaGFzWEhSMiIsInBhcnNlcXMiLCJpbmhlcml0IiwieWVhc3QiLCJyZXNwb25zZVR5cGUiLCJwb2xsIiwicGF1c2UiLCJvblBhdXNlIiwiZG9Qb2xsIiwiY2FsbGJhY2tmbiIsImRvV3JpdGUiLCJzY2hlbWEiLCJzaWQiLCJudW0iLCJhbHBoYWJldCIsImZsb29yIiwiZGVjb2RlZCIsIm5vdyIsInByZXYiLCJzZWVkIiwiYXJyIiwiaW8iLCJqc29uIiwiaWRzIiwiYWNrcyIsInJlY2VpdmVCdWZmZXIiLCJzZW5kQnVmZmVyIiwiY29ubmVjdGVkIiwiZGlzY29ubmVjdGVkIiwidG9BcnJheSIsImV2ZW50cyIsImNvbm5lY3RfZXJyb3IiLCJjb25uZWN0X3RpbWVvdXQiLCJyZWNvbm5lY3RfYXR0ZW1wdCIsInJlY29ubmVjdF9mYWlsZWQiLCJyZWNvbm5lY3RfZXJyb3IiLCJzdWJFdmVudHMiLCJldiIsImNvbXByZXNzIiwiZmxhZ3MiLCJwb3AiLCJvbnBhY2tldCIsIm9uY29ubmVjdCIsIm9uZXZlbnQiLCJvbmFjayIsIm9uZGlzY29ubmVjdCIsImFjayIsInNlbnQiLCJlbWl0QnVmZmVyZWQiLCJjb3JlIiwidmVyc2lvbiIsIl9fZSIsIklPYmplY3QiLCJkZWZpbmVkIiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJUeXBlRXJyb3IiLCJjZWlsIiwiaXNOYU4iLCJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfXyIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInF1ZXJ5c3RyaW5nIiwidXJsIiwiZmV0Y2hfaXNvIiwiQkFTRV9QQVRIIiwiQmFzZUFQSSIsImJhc2VQYXRoIiwiZmV0Y2giLCJEZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IiLCJkZWxldGVMaWtlcyIsInBhcmFtcyIsImJhc2VVcmwiLCJ1cmxPYmoiLCJmZXRjaE9wdGlvbnMiLCJtZXRob2QiLCJjb250ZW50VHlwZUhlYWRlciIsImhlYWRlcnMiLCJBY2NlcHQtTGFuZ3VhZ2UiLCJBdXRob3JpemF0aW9uIiwiZm9ybWF0IiwiZ2V0Q2FyZCIsInByb2R1Y3RzIiwidXNlcl9kYXRhIiwiaW1hZ2Vfc2l6ZSIsImdldENhcmRWZXJzaW9uIiwicmVsYXRpb25zIiwiZ2V0Q2F0YWxvZ01vdmllIiwiZ2V0Q2hhbm5lbEdyaWQiLCJnZXRDaGFubmVsTW92aWUiLCJnZXRMaWtlcyIsInBhZ2luYXRlX2tleSIsImdldFJlYWR5Q2hhbm5lbHMiLCJnZXRSZWFkeU1vdmllcyIsImdldFN0YXRpY0NoYW5uZWxTY2VuZSIsImdldFN0YXRpY01vdmllU2NlbmUiLCJwb3N0TGlrZXMiLCJwb3N0VG9rZW4iLCJncmFudF90eXBlIiwiQ29udGVudC1UeXBlIiwiYm9keSIsImRldmljZV9pZCIsInJlZnJlc2hfdG9rZW4iLCJEZWZhdWx0QXBpRnAiLCJmZXRjaEFyZ3MiLCJ0aGVuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjYXRjaCIsIkRlZmF1bHRBcGkiLCJfc3VwZXIiLCJEZWZhdWx0QXBpRmFjdG9yeSIsIkRpdmVBUElDbGFzcyIsIl90aGlzIiwiZW52aXJvbm1lbnQiLCJub0F1dGhTZXJ2aWNlcyIsImFwaUtleSIsImRldmljZUlkIiwic2V0RGV2aWNlSWQiLCJldmVudE5hbWVzcGFjZSIsInNldEVudmlyb25tZW50Iiwic3RvcmVUb2tlblR5cGUiLCJzdG9yZVRva2VuIiwiZ2V0U2F2ZWRUb2tlbiIsImdldFRva2VuRnJvbUNvb2tpZXMiLCJnZXRUb2tlbkZyb21XZWJTdG9yYWdlIiwic2V0TG9jYWxlIiwibG9jYWxlIiwiZ2V0TG9jYWxlIiwid3JpdGVUb2tlbiIsIm5ld1Rva2VuIiwid3JpdGVUb2tlblRvQ29va2llIiwid3JpdGVUb2tlblRvV2ViU3RvcmFnZSIsImRpdmVUb2tlblJlZnJlc2hJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJleHBpcmVzX2luIiwic2V0SW50ZXJ2YWwiLCJyZWZyZXNoVG9rZW4iLCJnYXRoZXJDb21tb25IZWFkZXJzIiwibmV3UGFyYW1zIiwiY29ubmVjdGlvbiIsImFjY2VwdEVuY29kaW5nIiwiYXV0aG9yaXphdGlvbiIsInRva2VuX3R5cGUiLCJ0b1VwcGVyQ2FzZSIsImFjY2Vzc190b2tlbiIsImFjY2VwdExhbmd1YWdlIiwiZGVsZXRlU2F2ZWRUb2tlbiIsImRlbGV0ZVRva2VuRnJvbUNvb2tpZXMiLCJkZWxldGVUb2tlbkZyb21XZWJTdG9yYWdlIiwiaW5pdGlhbGl6ZVRva2VuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwb3N0VG9rZW5BbmRTYXZlIiwic3luY1dpdGhNb3ZpZVZPRCIsIm1vdmllSWQiLCJ0aW1lc3RhbXAiLCJzeW5jV2l0aE1vdmllIiwic3luY1dpdGhNb3ZpZVN0cmVhbWluZyIsImNoYW5uZWxJZCIsImNsZWFyU29ja2V0Iiwic3luY1R5cGUiLCJtb3ZpZV9pZCIsImNoYW5uZWxfaWQiLCJtdWx0aXBsZXgiLCJ0cmFuc3BvcnRzIiwidG9rZW4iLCJtb3ZpZSIsIm9uTW92aWVTdGFydCIsIm9uTW92aWVFbmQiLCJzY2VuZSIsIm9uU2NlbmVTdGFydCIsIm9uU2NlbmVVcGRhdGUiLCJvblNjZW5lRW5kIiwib25QYXVzZVN0YXJ0Iiwib25QYXVzZUVuZCIsInNlcnZpY2VSZXF1aXJlc1Rva2VuIiwiZ3JhbnRUeXBlIiwiZXJyb3JSZWZyZXNoaW5nVG9rZW4iLCJtZXRob2ROYW1lIiwic2V0Q29va2llIiwic2V0SXRlbSIsImN1cnJUb2tlbiIsImNuYW1lIiwiY3ZhbHVlIiwiZXhkYXlzIiwic2V0VGltZSIsImdldFRpbWUiLCJleHBpcmVzIiwidG9VVENTdHJpbmciLCJjb29raWUiLCJnZXRDb29raWUiLCJkZWNvZGVkQ29va2llIiwiZ2V0SXRlbSIsInByb3AiLCJzZXAiLCJlcSIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImsiLCJ4IiwiaWR4IiwiZiIsInJlcyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwib2JqZWN0S2V5cyIsImtzIiwiVXJsIiwic2xhc2hlcyIsImF1dGgiLCJoYXNoIiwic2VhcmNoIiwicGF0aG5hbWUiLCJocmVmIiwidXJsUGFyc2UiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJ1dGlsIiwiaXNPYmplY3QiLCJ1IiwidXJsRm9ybWF0IiwidXJsUmVzb2x2ZSIsInJlbGF0aXZlIiwidXJsUmVzb2x2ZU9iamVjdCIsInJlc29sdmVPYmplY3QiLCJwdW55Y29kZSIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJkZWxpbXMiLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJqYXZhc2NyaXB0IiwiamF2YXNjcmlwdDoiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwiZmlsZSIsImh0dHA6IiwiaHR0cHM6IiwiZnRwOiIsImdvcGhlcjoiLCJmaWxlOiIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInNsYXNoUmVnZXgiLCJ0cmltIiwic2ltcGxlUGF0aCIsInByb3RvIiwibG93ZXJQcm90byIsImhvc3RFbmQiLCJoZWMiLCJhdFNpZ24iLCJsYXN0SW5kZXhPZiIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiaCIsImFlIiwiZXNjIiwiZXNjYXBlIiwicW0iLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJpc051bGwiLCJsYXN0IiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiUmFuZ2VFcnJvciIsImVycm9ycyIsImFycmF5IiwibWFwRG9tYWluIiwic3RyaW5nIiwicmVnZXhTZXBhcmF0b3JzIiwidWNzMmRlY29kZSIsImV4dHJhIiwib3V0cHV0IiwiY291bnRlciIsInVjczJlbmNvZGUiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJiYXNpY1RvRGlnaXQiLCJjb2RlUG9pbnQiLCJiYXNlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJkZWx0YSIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImRhbXAiLCJiYXNlTWludXNUTWluIiwidE1heCIsInNrZXciLCJpbnB1dCIsIm91dCIsIm9sZGkiLCJ3IiwiYmFzZU1pbnVzVCIsImlucHV0TGVuZ3RoIiwiaW5pdGlhbE4iLCJiaWFzIiwiaW5pdGlhbEJpYXMiLCJkZWxpbWl0ZXIiLCJtYXhJbnQiLCJ0TWluIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsInEiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidG9Vbmljb2RlIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJmcmVlR2xvYmFsIiwibm9kZVR5cGUiLCJvdmVyZmxvdyIsIm5vdC1iYXNpYyIsImludmFsaWQtaW5wdXQiLCJ1Y3MyIiwiYXJnIiwibm9ybWFsaXplTmFtZSIsIm5vcm1hbGl6ZVZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwic3VwcG9ydCIsIml0ZXJhYmxlIiwiU3ltYm9sIiwiSGVhZGVycyIsImFwcGVuZCIsImhlYWRlciIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25zdW1lZCIsImJvZHlVc2VkIiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwicHJvbWlzZSIsInJlYWRCbG9iQXNUZXh0IiwicmVhZEFzVGV4dCIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImNoYXJzIiwiYnVmZmVyQ2xvbmUiLCJzZXQiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJfYm9keUZvcm1EYXRhIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXJyYXlCdWZmZXIiLCJpc0RhdGFWaWV3IiwiX2JvZHlBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXJWaWV3IiwicmVqZWN0ZWQiLCJ0ZXh0Iiwibm9ybWFsaXplTWV0aG9kIiwidXBjYXNlZCIsIm1ldGhvZHMiLCJSZXF1ZXN0IiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwiYnl0ZXMiLCJwYXJzZUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwibGluZSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJvayIsInN0YXR1c1RleHQiLCJ2aWV3Q2xhc3NlcyIsIkRhdGFWaWV3IiwiaXNWaWV3Iiwib2xkVmFsdWUiLCJ0aGlzQXJnIiwidmFsdWVzIiwiZW50cmllcyIsImNsb25lIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiaW5pdCIsInJlcXVlc3QiLCJ4aHIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIndpdGhDcmVkZW50aWFscyIsInNldFJlcXVlc3RIZWFkZXIiLCJwb2x5ZmlsbCIsImxvb2t1cCIsInBhcnNlZCIsInNhbWVOYW1lc3BhY2UiLCJjYWNoZSIsIm5ld0Nvbm5lY3Rpb24iLCJmb3JjZU5ldyIsIm1hbmFnZXJzIiwibG9jIiwicGFyc2V1cmkiLCJpcHY2IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInJ1biIsIkl0ZW0iLCJuZXh0VGljayIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwic2VsZWN0Q29sb3IiLCJhYnMiLCJjcmVhdGVEZWJ1ZyIsImVuYWJsZWQiLCJjdXJyIiwibXMiLCJwcmV2VGltZSIsImNvZXJjZSIsImZvcm1hdHRlciIsInZhbCIsIm5hbWVzIiwic2tpcHMiLCJkaXNhYmxlIiwic3RhY2siLCJwYXJzZUZsb2F0IiwieSIsImZtdFNob3J0Iiwicm91bmQiLCJmbXRMb25nIiwicGx1cmFsIiwibG9uZyIsIl9kZWNvbnN0cnVjdFBhY2tldCIsInBsYWNlaG9sZGVyIiwiX3BsYWNlaG9sZGVyIiwibmV3RGF0YSIsIl9yZWNvbnN0cnVjdFBhY2tldCIsInBhY2tldERhdGEiLCJfcmVtb3ZlQmxvYnMiLCJjdXJLZXkiLCJjb250YWluaW5nT2JqZWN0IiwicGVuZGluZ0Jsb2JzIiwiZmlsZVJlYWRlciIsInRyYW5zcG9ydE9wdGlvbnMiLCJ3cml0ZUJ1ZmZlciIsInByZXZCdWZmZXJMZW4iLCJwb2xpY3lQb3J0IiwicmVtZW1iZXJVcGdyYWRlIiwib25seUJpbmFyeVVwZ3JhZGVzIiwicGVyTWVzc2FnZURlZmxhdGUiLCJ0aHJlc2hvbGQiLCJ1cGdyYWRlcyIsInBpbmdJbnRlcnZhbCIsInBpbmdUaW1lb3V0IiwicGluZ0ludGVydmFsVGltZXIiLCJwaW5nVGltZW91dFRpbWVyIiwicGFyc2Vqc29uIiwicHJpb3JXZWJzb2NrZXRTdWNjZXNzIiwiY3JlYXRlVHJhbnNwb3J0IiwiRUlPIiwidHJhbnNwb3J0IiwicmVxdWVzdFRpbWVvdXQiLCJwcm90b2NvbHMiLCJzZXRUcmFuc3BvcnQiLCJvbkRyYWluIiwicHJvYmUiLCJvblRyYW5zcG9ydE9wZW4iLCJ1cGdyYWRlTG9zZXNCaW5hcnkiLCJmYWlsZWQiLCJ1cGdyYWRpbmciLCJmbHVzaCIsImZyZWV6ZVRyYW5zcG9ydCIsIm9uVHJhbnNwb3J0Q2xvc2UiLCJvbnVwZ3JhZGUiLCJ0byIsIm9uSGFuZHNoYWtlIiwic2V0UGluZyIsImNvZGUiLCJmaWx0ZXJVcGdyYWRlcyIsIm9uSGVhcnRiZWF0Iiwic2VuZFBhY2tldCIsImNsZWFudXBBbmRDbG9zZSIsIndhaXRGb3JVcGdyYWRlIiwiZmlsdGVyZWRVcGdyYWRlcyIsImVtcHR5IiwiYXN5bmMiLCJ1bmxvYWRIYW5kbGVyIiwicmVxdWVzdHMiLCJhYm9ydCIsInJlcSIsInNlbmRYaHIiLCJwb2xsWGhyIiwic2V0RGlzYWJsZUhlYWRlckNoZWNrIiwiaGFzWERSIiwib25Mb2FkIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiY29udGVudFR5cGUiLCJnZXRSZXNwb25zZUhlYWRlciIsInJlcXVlc3RzQ291bnQiLCJvblN1Y2Nlc3MiLCJmcm9tRXJyb3IiLCJhdHRhY2hFdmVudCIsImFycmF5YnVmZmVyIiwic3RhcnQiLCJlbmQiLCJhYnYiLCJpaSIsImNvdW50IiwiZXJyX2NiIiwicHJveHkiLCJiYWlsIiwiY2hlY2tTY2FsYXJWYWx1ZSIsImNyZWF0ZUJ5dGUiLCJlbmNvZGVDb2RlUG9pbnQiLCJzeW1ib2wiLCJjb2RlUG9pbnRzIiwiYnl0ZVN0cmluZyIsInJlYWRDb250aW51YXRpb25CeXRlIiwiYnl0ZUluZGV4IiwiYnl0ZUNvdW50IiwiY29udGludWF0aW9uQnl0ZSIsImJ5dGVBcnJheSIsImRlY29kZVN5bWJvbCIsImJ5dGUxIiwiYnl0ZTIiLCJieXRlMyIsImJ5dGU0IiwidG1wIiwiZnJlZUV4cG9ydHMiLCJlbmNvZGVkMSIsImVuY29kZWQyIiwiZW5jb2RlZDMiLCJlbmNvZGVkNCIsImJ1ZmZlckxlbmd0aCIsIm1hcEFycmF5QnVmZmVyVmlld3MiLCJjaHVuayIsImNvcHkiLCJieXRlT2Zmc2V0IiwiQmxvYkJ1aWxkZXJDb25zdHJ1Y3RvciIsImJiIiwiQmxvYkJ1aWxkZXIiLCJnZXRCbG9iIiwiQmxvYkNvbnN0cnVjdG9yIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJibG9iU3VwcG9ydGVkIiwiYmxvYlN1cHBvcnRzQXJyYXlCdWZmZXJWaWV3IiwiYmxvYkJ1aWxkZXJTdXBwb3J0ZWQiLCJKU09OUFBvbGxpbmciLCJfX19laW8iLCJzY3JpcHQiLCJyTmV3bGluZSIsInJFc2NhcGVkTmV3bGluZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlmcmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJpbnNlcnRBdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5zZXJ0QmVmb3JlIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiY29tcGxldGUiLCJpbml0SWZyYW1lIiwiaHRtbCIsImlmcmFtZUlkIiwiYXJlYSIsImNsYXNzTmFtZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInRhcmdldCIsInNldEF0dHJpYnV0ZSIsImFjdGlvbiIsInN1Ym1pdCIsIldTIiwidXNpbmdCcm93c2VyV2ViU29ja2V0IiwiQnJvd3NlcldlYlNvY2tldCIsIldlYlNvY2tldCIsIk5vZGVXZWJTb2NrZXQiLCJNb3pXZWJTb2NrZXQiLCJjaGVjayIsIndzIiwic3VwcG9ydHMiLCJhZGRFdmVudExpc3RlbmVycyIsIm9ubWVzc2FnZSIsInJ2YWxpZGNoYXJzIiwicnZhbGlkZXNjYXBlIiwicnZhbGlkdG9rZW5zIiwicnZhbGlkYnJhY2VzIiwicnRyaW1MZWZ0IiwicnRyaW1SaWdodCIsImxpc3QiLCJmYWN0b3IiLCJwb3ciLCJyYW5kIiwicmFuZG9tIiwiZGV2aWF0aW9uIiwiJGV4cG9ydCIsIlMiLCJGIiwiY3R4IiwiaGlkZSIsIm93biIsIklTX0ZPUkNFRCIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJJU19QUk9UTyIsIlAiLCJJU19CSU5EIiwiQiIsIklTX1dSQVAiLCJXIiwiZXhwUHJvdG8iLCJDIiwidmlydHVhbCIsIlIiLCJVIiwiYUZ1bmN0aW9uIiwidGhhdCIsImRQIiwiY3JlYXRlRGVzYyIsImFuT2JqZWN0IiwiSUU4X0RPTV9ERUZJTkUiLCJ0b1ByaW1pdGl2ZSIsIk8iLCJBdHRyaWJ1dGVzIiwiaXMiLCJ2YWx1ZU9mIiwiYml0bWFwIiwiZ2V0S2V5cyIsImdPUFMiLCJwSUUiLCJ0b09iamVjdCIsIiRhc3NpZ24iLCJBIiwiSyIsIlQiLCJhTGVuIiwiZ2V0U3ltYm9scyIsImlzRW51bSIsIiRrZXlzIiwiZW51bUJ1Z0tleXMiLCJ0b0lPYmplY3QiLCJhcnJheUluZGV4T2YiLCJJRV9QUk9UTyIsInRvTGVuZ3RoIiwidG9BYnNvbHV0ZUluZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImZyb21JbmRleCIsInRvSW50ZWdlciIsInNoYXJlZCIsInVpZCIsInN0b3JlIiwicHgiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCIyNzMiLCIzMTAiLCIzMjQiLCJfdHlwZW9mMiIsIl90eXBlb2YiLCJSZWFjdCIsIlJlYWN0RE9NIiwicmVhY3RfcmVkdXhfMSIsImhpc3RvcnlfMSIsInN0b3JlXzEiLCJDb250YWluZXJzXzEiLCJhcGlfdHlwZXNjcmlwdF9saWJyYXJ5XzEiLCJTZXJ2aWNlc18xIiwiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCJLZXlFdmVudCIsImttIiwiS2V5TWFwIiwiVVAiLCJWS19VUCIsIkRPV04iLCJWS19ET1dOIiwiTEVGVCIsIlZLX0xFRlQiLCJSSUdIVCIsIlZLX1JJR0hUIiwiRU5URVIiLCJWS19FTlRFUiIsIkFQSWluc3RhbmNlIiwiRGl2ZUFQSSIsInNlbGVjdG9yIiwicmVuZGVyIiwiUHJvdmlkZXIiLCJBcHAiLCJxdWVyeVNlbGVjdG9yIiwiNDM5IiwicmVkdXhfMSIsInJlZHV4X3RodW5rXzEiLCJzb2NrZXRfbWlkZGxld2FyZV8xIiwiUmVkdWNlcnNfMSIsIndpbmRvd0lmRGVmaW5lZCIsImNvbXBvc2VFbmhhbmNlcnMiLCJfX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18iLCJjb21wb3NlIiwiY3JlYXRlU3RvcmUiLCJjb21iaW5lUmVkdWNlcnMiLCJuYXYiLCJOYXZSZWR1Y2VyIiwiY2Fyb3VzZWwiLCJTeW5jUmVkdWNlciIsInVpIiwiVUlSZWR1Y2VyIiwiYXBwbHlNaWRkbGV3YXJlIiwiZGVmYXVsdCIsIjQ0MSIsIkFjdGlvbnNfMSIsIkNvbnN0YW50c18xIiwic29ja2V0TWlkZGxld2FyZSIsInNvY2tldElvIiwiY2hhbm5lbCIsImV2dCIsImRpc3BhdGNoIiwiU29ja2V0QWN0aW9ucyIsInNvY2tldENvbm5lY3RlZCIsIm9uTWVzc2FnZSIsInNvY2tldERpc2Nvbm5lY3RlZCIsIm9uRW5kIiwib25UaW1lb3V0IiwiYXV0aFJlY2VpdmVkIiwidW5hdXRoUmVjZWl2ZWQiLCJlcnJvclJlY2VpdmVkIiwibW92aWVTdGFydFJlY2VpdmVkIiwibW92aWVFbmRSZWNpZXZlZCIsInNjZW5lU3RhcnRSZWNlaXZlZCIsImNhcmRzIiwic2NlbmVVcGRhdGVSZWNlaXZlZCIsInNjZW5lRW5kUmVjZWl2ZWQiLCJnZXRVcmwiLCJzb2NrZXRDb25uZWN0aW5nIiwiZGl2ZVRva2VuIiwicGF5bG9hZCIsIjQ0MiIsInJlZHV4X2FjdGlvbnNfMSIsInVpQ3JlYXRlQWN0aW9uIiwiY3JlYXRlQWN0aW9uIiwiVUlBY3Rpb25zIiwiZ29CYWNrIiwic2V0RGl2aWRlciIsImRpdmlkZXIiLCJvcGVuQ2FyZCIsImNhcmRJZCIsInBlcmZvcm1PcGVuQ2FyZCIsImNhcmQiLCJvcGVuU3luYyIsImdyb3VwIiwicGVyZm9ybU9wZW4iLCJhZGRUZXN0Q2FyZHMiLCI0ODQiLCJuYXZDcmVhdGVBY3Rpb24iLCJOYXZBY3Rpb25zIiwiYWRkTm9kZSIsInNldExhc3RLZXkiLCJzZXRTZWxlY3RlZCIsInNldExlYWYiLCJzZXRBY3RpdmF0ZWQiLCJtb3ZlSG9yaXpvbnRhbCIsIm1vdmVWZXJ0aWNhbCIsImRlbGV0ZU5vZGUiLCJzZXROb2RlQnlOYW1lIiwic2V0Tm9kZUJ5SWQiLCI0ODUiLCJzeW5jQ3JlYXRlQWN0aW9uIiwiU3luY0FjdGlvbnMiLCJzZXRNb3ZpZSIsInNldENodW5rU3RhdHVzIiwiY2h1bmtTdGF0dXMiLCJzZXRTeW5jVHlwZSIsInNldFNlbGVjdGVkT25TY2VuZUNoYW5nZSIsInN5bmNDaGFubmVsIiwidHZFdmVudCIsInN0YXJ0U2NlbmUiLCJ1cGRhdGVTY2VuZSIsImVuZFNjZW5lIiwiZGF0YVN5bmMiLCJ0aW1lIiwiNDg2Iiwic29ja2V0Q3JlYXRlQWN0aW9uIiwibW92aWVFbmRSZWNlaXZlZCIsIjQ4NyIsInVzZXJDcmVhdGVBY3Rpb24iLCI1MTQiLCI1MTgiLCI1MTkiLCJzdGF0ZSIsImluaXRpYWxOYXZTdGF0ZSIsInBhcmVudElkIiwicGFyZW50U3RhdGUiLCJuYXZpZ2F0aW9uIiwiY29sdW1ucyIsImxhc3RDaGlsZHJlblR1cGxhSW5kZXgiLCJsYXN0Q2hpbGRyZW5UdXBsYUxlbmd0aCIsImZvcmNlT3JkZXIiLCJuYXZTdGF0ZSIsIm5hdk5hbWVzIiwiZGVsZXRlTmF2IiwiZGVsZXRlTmF2UGFyZW50IiwiZGVsZXRlIiwibGFzdEtleSIsImlzT3V0T2ZNb2RhbCIsInNlbGVjdGVkIiwibGFzdFNlbGVjdGVkIiwic2VsZWN0ZWROYXYiLCJnZXRGaXJzdExlYWYiLCJsYXN0QWN0aXZhdGVkIiwiYWN0aXZhdGVkIiwibmV3U2VsZWN0ZWQiLCJsb29wU2VsZWN0ZWQiLCJjdXJyZW50IiwicGFyZW50XzEiLCJsb29waW5nIiwibG9vcFdoaWxlIiwibG9vcDEiLCJfaSIsIl9hIiwibW9kYWwiLCJnZXRMYXN0TGVhZiIsIm5ld1NlbGVjdGVkMiIsImxvb3BTZWxlY3RlZDIiLCJjdXJyZW50MiIsInBhcmVudF8yIiwibmFtZV8xIiwic2VsZWN0aW9uQnlOYW1lIiwic2VsZWN0aW9uQnlJZCIsImZvcmNlRmlyc3QiLCJwb3MiLCJuZXdJZCIsImlkTW9kYWwiLCJNYXAiLCI1MjAiLCJpbml0aWFsVUlTdGF0ZSIsIm5ld0NvbnRhaW5lcnMiLCJjb250YWluZXJzIiwiY29tcG9uZW50IiwibmV3Q29udGFpbmVyczIiLCJib3R0b20iLCJkaXZpZGVyVmFsIiwibmV3Q29udGFpbmVyczMiLCJ0ZXN0Q2FyZHMiLCJjYXJkX2lkIiwiNTIxIiwiaW5pdGlhbFN5bmNTdGF0ZSIsImN1cnJlbnRUaW1lIiwiY2FsY1RpbWUiLCJsYXN0VXBkYXRlZFRpbWUiLCJzZWxlY3RlZE9uU2NlbmVDaGFuZ2UiLCJkZW1vIiwic29ja2V0U3RhdHVzIiwidGltZU1vdmllU3luY2VkIiwidGltZU1vdmllIiwidGltZVJhdGlvIiwiNTIyIiwiVXNlclJlZHVjZXIiLCJpbml0aWFsVXNlclN0YXRlIiwiNTIzIiwiSE9DXzEiLCJMYXlvdXRDbGFzcyIsInByb3BzIiwidG9wVHlwZSIsInRvcFN0eWxlIiwiaGVpZ2h0IiwiYm90dG9tVHlwZSIsImJvdHRvbVN0eWxlIiwiZ2V0VG9wIiwiZ2V0Qm90dG9tIiwiY29tcG9uZW50RGlkTW91bnQiLCJnZXRWaWRlb1N0YXR1cyIsImNvbXBvbmVudERpZFVwZGF0ZSIsInZpZGVsZW0xXzEiLCJnZXRFbGVtZW50QnlJZCIsInBsYXkiLCJvblBsYXlTdGF0ZUNoYW5nZSIsInBsYXlTdGF0ZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmb250U2l6ZSIsImlubmVySFRNTCIsImNvbXBvbmVudFR5cGUiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIkNhcm91c2VsIiwibGFzdFRpbWVNZW51Q2xpY2tlZCIsInBhcmVudCIsImdyb3VwTmFtZSIsImlzRGVmYXVsdCIsIkNhcmREZXRhaWxDb250YWluZXIiLCJuYXZDbGFzcyIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJQdXJlQ29tcG9uZW50IiwibWFwU3RhdGVUb1Byb3BzIiwiTGF5b3V0IiwibmF2aWdhYmxlIiwiNTI0IiwiX19yZXN0IiwiY2xhc3NOYW1lcyIsImN1cnJlbnROYXZJZCIsIk5hdmlnYWJsZUNsYXNzIiwiSW5uZXJDb21wb25lbnQiLCJOYXZpZ2FibGUiLCJuYXZJZCIsImZvY3VzVHJhY2tlZCIsImdldE5ld0lkIiwib25Nb3VzZUVudGVyIiwidGhpc0lkIiwiZ2V0SWQiLCJ3cmFwcGVyIiwiZm9jdXMiLCJvbkNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJidXR0b25zIiwia2V5Q29kZSIsImV2ZW50Q29uc3VtZWQiLCJjbGlja0FjdGlvbiIsIm9uRm9jdXMiLCJkb1NlbGZTY3JvbGwiLCJvbkZvY3VzQ2FsbGJhY2siLCJvbkZvY3VzQ2FsbGJhY2tSZXBlYXQiLCJvbktleVByZXNzIiwib25LZXlQcmVzc0Rvd24iLCJmaW5kRE9NTm9kZSIsInJlZkNvbXBvbmVudCIsImNsaWNrIiwiaXNTY3JvbGxhYmxlIiwiaXNTZWxlY3RlZCIsImdldFNjcm9sbGFibGVFbGVtZW50IiwiZWxlbWVudCIsImNsb3Nlc3QiLCJjYWxjdWxhdGVTY3JvbGwiLCJIVE1MTGlzdCIsIkhUTUxTY3JvbGxhYmxlIiwiSFRNTExpc3RfMSIsInBhcmVudEVsZW1lbnQiLCJtYXJnaW4iLCJzY3JvbGxQYWRkaW5nIiwib2Zmc2V0TGVmdCIsInJpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJwYXJlbnRMZWZ0IiwicGFyZW50UmlnaHQiLCJwYXJlbnRXaWR0aCIsInNjcm9sbExlZnQiLCJjYWxsYmFja09rIiwiSFRNTEl0ZW0iLCJzY3JvbGwiLCJwYXJlbnRDb21wb25lbnQiLCJuYXZTZWxlY3RlZCIsImZvcmNlVXBkYXRlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJvbkJlZm9yZVVubW91bnQiLCJhY3RpdmUiLCJjbGFzc2VzIiwibmF2QWN0aXZlIiwiZm9jdXNDaGFpbkNsYXNzIiwiaW5Gb2N1c0NoYWluIiwiYWN0aXZlR3JvdXBDbGFzcyIsImNsYXNzZXNBcHBsaWVkIiwibm9OYXZPd25Qcm9wcyIsInRhYkluZGV4IiwiY2hpbGRQcm9wcyIsIkNoaWxkQ29tcG9uZW50IiwicmVmIiwib25LZXlVcCIsIm9uS2V5RG93biIsIm9uTW91c2VEb3duIiwibXlJZCIsIm1hcElVSVN0YXRlVG9Qcm9wcyIsIndpdGhSZWYiLCI1MjUiLCJIZWxwZXJDbGFzcyIsImdldENvbnRhaW5lciIsImluZm8iLCJmaWx0ZXIiLCJnZXRSZWxhdGlvbiIsImZpZWxkIiwiY3V0VGV4dCIsIkhlbHBlciIsIjUyNiIsIm1lbW9pemVlIiwiRVMiLCJFTiIsIkRFIiwiTG9jYWxpemVTZXJ2aWNlIiwibGFuZ3VhZ2UiLCJ0ZXh0cyIsInNldExhbmd1YWdlIiwibGFuZyIsImdldExhbmd1YWdlIiwiZ2V0TGl0ZXJhbCIsInN1YnN0aXR1dGlvbnMiLCJiYXNlVGV4dCIsImdldExpdGVyYWxXaXRoTGFuZ3VhZ2UiLCJ0ZXh0QmxvY2tBcnJheSIsImxlbmd0aF8xIiwicmVzdWx0QXJyYXlfMSIsInRleHRCbG9jayIsInRleHRBcnJheSIsIm1heExvb3AiLCJkYXRhLWluZGV4IiwidGV4dFRvTWFya3VwV2l0aExpbmVCcmVha3MiLCJzZXBhcmF0b3IiLCJpdGVtIiwiTG9jYWxpemVkIiwiTG9jYWxpemUiLCI1OCIsIjU4MyIsIlZFUlNJT05fT1VUREFURURfVElUTEUiLCJWRVJTSU9OX09VVERBVEVEX1RFWFQiLCJWRVJTSU9OX0RFUFJFQ0FURURfVElUTEUiLCJWRVJTSU9OX0RFUFJFQ0FURURfVEVYVCIsIkdPVF9JVCIsIk5PV19USVRMRSIsIk5PV19TVUJUSVRMRSIsIlVQQ09NSU5HX1RJVExFIiwiR1JJRF9OT19EQVRBX1RFWFQiLCJUUllfREVNTyIsIk1FTlVfU0VUVElOR1MiLCJNRU5VX0RFTU8iLCJNRU5VX1BST0ZJTEUiLCJNRU5VX0NBUkRTIiwiTUVOVV9TWU5DIiwiU0VFX0lORk8iLCJUVkdSSURfQlJPQURDQVNUX1RJVExFMSIsIlRWR1JJRF9CUk9BRENBU1RfVElUTEUyIiwiVFZHUklEX1VQQ09NSU5HX1RJVExFIiwiVFZHUklEX0JST0FEQ0FTVF9OT19DT05URU5UIiwiVFZHUklEX0JST0FEQ0FTVF9OT19DT05URU5UX1RSWV9ERU1PIiwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlQiLCJUVkdSSURfVVBDT01JTkdfTk9fQ09OVEVOVF9UUllfREVNTyIsIkdFTkVSSUNfRVJST1JfVElUTEUiLCJHRU5FUklDX0VSUk9SX1RFWFQiLCJFWElUX1RJVExFIiwiRVhJVF9URVhUIiwiRVhJVF9CVVRUT05fT0siLCJORVRXT1JLX0VSUk9SX1RJVExFIiwiTkVUV09SS19FUlJPUl9URVhUIiwiVFZHUklEX0VNUFRZX0JST0FEQ0FTVF9USVRMRTEiLCJUVkdSSURfRU1QVFlfQlJPQURDQVNUX1RJVExFMiIsIlRWR1JJRF9FTVBUWV9VUENPTUlOR19UWFQxIiwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDIiLCJUVkdSSURfRU1QVFlfV0FUQ0hfT1VSX0RFTU8iLCJTRUxFQ1RPUl9BTExfQ0FURUdPUklFUyIsIlNFTEVDVE9SX0NBU1RfQ0hBUkFDVEVSIiwiU0VMRUNUT1JfRkFTSElPTl9CRUFVVFkiLCJTRUxFQ1RPUl9NVVNJQyIsIlNFTEVDVE9SX1BMQUNFU19UUkFWRUwiLCJTRUxFQ1RPUl9DQVJTX01PUkUiLCJTRUxFQ1RPUl9GVU5fRkFDVFMiLCJTRUxFQ1RPUl9PVEhFUl9DQVRFR09SSUVTIiwiQklPR1JBUEhZIiwiQ09NRURZIiwiQ1JJTUUiLCJBQ1RJT04iLCJUSFJJTExFUiIsIkFEVkVOVFVSRSIsIlNDSV9GSSIsIkZBTlRBU1kiLCJEUkFNQSIsIlJPTUFOQ0UiLCJURVJST1IiLCJISVNUT1JZIiwiV0VTVEVSTiIsIldBUiIsIk1JU1RFUlkiLCJGQU1JTFkiLCJTUE9SVCIsIk1VU0lDIiwiTVVTSUNBTCIsIkFOSU1BVElPTiIsIkRPQ1VNRU5UQVJZIiwiRklMTV9OT0lSIiwiTkVXUyIsIktJRFMiLCJUQUxLX1NIT1ciLCJDVVJSRU5UX1NDRU5FIiwiUElaWkFfT1JfUE9QX0NPUk4iLCJXRV9SRUNPTU1FTkQiLCJNQUtFX1BPUF9DT1JOIiwiTElHSFRTX0NBTUVSQSIsIldFX0FSRV9MT0FESU5HIiwiRVZFUllUSElOR19FTkQiLCJNT1ZJRV9PRkYiLCJNT1ZJRV9FTkRFRCIsIk9LQVkiLCJDQVJPVVNFTF9DQVJEX1NBVkUiLCJDQVJPVVNFTF9DQVJEX1NBVkVEIiwiQ0FST1VTRUxfTkVXX0NBUkRfQURERUQiLCJDQVJPVVNFTF9ORVdfQ0FSRFNfQURERUQiLCJUVkdSSURfQ09NTUVSQ0lBTF9UWFQiLCJUVkdSSURfVE9EQVkiLCJUVkdSSURfVE9NT1JST1ciLCJFWElUX0JVVFRPTl9DQU5DRUwiLCJFUlJPUl9TQ0FOX0NIQU5ORUxTX1RJVExFIiwiRVJST1JfU0NBTl9DSEFOTkVMU19URVhUIiwiRVJST1JfU0NBTl9DSEFOTkVMU19CVE5fU0NBTiIsIlNDQU5fRklSU1RfVElNRV9USVRMRSIsIlNDQU5fRklSU1RfVElNRV9URVhUIiwiU0NBTl9GSVJTVF9USU1FX0JUTiIsIlNDQU5fSEVMUF9SRVNDQU5fVElUTEUiLCJTQ0FOX0hFTFBfUkVTQ0FOX1RFWFQiLCJTQ0FOX0hFTFBfUkVTQ0FOX0JUTiIsIlNDQU5fSEVMUF9USVRMRV8xIiwiU0NBTl9IRUxQX1RJVExFXzIiLCJTQ0FOX0hFTFBfU1VHR0VTVElPTiIsIlNDQU5fSEVMUF9QTEVBU0VfQ09OVEFDVCIsIlNDQU5fSEVMUF9FTUFJTCIsIlNDQU5fSEVMUF9TVUJKRUNUIiwiU0NBTl9IRUxQX1ZFUlNJT04iLCJSRUdJT05fU0VUX1RJVExFIiwiUkVHSU9OX1NFVF9URVhUIiwiUkVHSU9OX1NFVF9TUEFJTiIsIlJFR0lPTl9TRVRfR0VSTUFOWSIsIlJFR0lPTl9TRVRfVVNBIiwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX1RJVExFIiwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX1RFWFQiLCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfQlROIiwiQ0FST1VTRUxfQUxJQVNfTU9WSUUiLCJDQVJPVVNFTF9BTElBU19TRVJJRSIsIkNBUk9VU0VMX0FMSUFTX1BFUlNPTiIsIkNBUk9VU0VMX0FMSUFTX0NIQVJBQ1RFUiIsIkNBUk9VU0VMX0FMSUFTX1ZFSElDTEUiLCJDQVJPVVNFTF9BTElBU19GQVNISU9OIiwiQ0FST1VTRUxfQUxJQVNfTE9DQVRJT04iLCJDQVJPVVNFTF9BTElBU19ISVNUT1JJQyIsIkNBUk9VU0VMX0FMSUFTX1RSSVZJQSIsIkNBUk9VU0VMX0FMSUFTX1FVT1RFIiwiQ0FST1VTRUxfQUxJQVNfT1NUIiwiQ0FST1VTRUxfQUxJQVNfSE9NRSIsIkNBUk9VU0VMX0FMSUFTX1RFQ0hOT0xPR1kiLCJDQVJPVVNFTF9BTElBU19BUlQiLCJDQVJPVVNFTF9BTElBU19TT05HIiwiQ0FST1VTRUxfQUxJQVNfTE9PSyIsIkNBUk9VU0VMX0FMSUFTX1RSQUlMRVIiLCJDQVJPVVNFTF9BTElBU19XRUFQT04iLCJDQVJPVVNFTF9BTElBU19MRUlTVVJFX1NQT1JUIiwiQ0FST1VTRUxfQUxJQVNfSEVBTFRIX0JFQVVUWSIsIkNBUk9VU0VMX0FMSUFTX0ZPT0RfRFJJTksiLCJDQVJPVVNFTF9BTElBU19GQVVOQV9GTE9SQSIsIkNBUk9VU0VMX0FMSUFTX0JVU0lORVNTIiwiQ0FST1VTRUxfQUxJQVNfUkVGRVJFTkNFIiwiQ0FST1VTRUxfQUxJQVNfVklERU9DTElQIiwiQ0FST1VTRUxfQUxJQVNfQ0hBUFRFUiIsIkNBUk9VU0VMX0FMSUFTX0FDVElPTl9FTU9USU9OIiwiQ0FST1VTRUxfQUxJQVNfU0VFX01PUkUiLCJTT1VSQ0UiLCJTUEVDUyIsIkJBU0lDX0RBVEEiLCJBV0FSRFMiLCJXSU5ORVJfU0lOR1VMQVIiLCJXSU5ORVJfUExVUkFMIiwiTk9NSU5FRV9TSU5HVUxBUiIsIk5PTUlORUVfUExVUkFMIiwiUE9DS0VUX1RJVExFXzEiLCJQT0NLRVRfVElUTEVfMiIsIlBPQ0tFVF9OT19DQVJEU19USVRMRSIsIlBPQ0tFVF9OT19DQVJEU19UWFQiLCJHQUxMRVJZIiwiTE9DQVRJT04iLCJDVVJJT1NJVFlfVElUTEUiLCJPVkVSVklFVyIsIjU4NCIsIjU4NSIsIjU4NiIsIktleU1hcF9IQkJUViIsImxvYWRIYmJ0dktleXMiLCI1ODciLCJzdGF0aWNzIiwiNTg4IiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwibWVyZ2VQcm9wcyIsInN0YXRlUHJvcHMiLCJkaXNwYXRjaFByb3BzIiwib3duUHJvcHMiLCJBcHBDbGFzcyIsIkNvbXBvbmVudCIsIjU4OSIsIkNhcmRNb2R1bGVzXzEiLCJDb21wb25lbnRzXzEiLCJDYXJkTW9kdWxlTGlzdCIsImRlY2lkZU1vZHVsZXMiLCJMb2FkaW5nIiwibW9kdWxlTGlzdCIsImNhcmRNb2R1bGVPcmRlciIsImNhcmRNb2R1bGVDb25maWciLCJzZWN0aW9ucyIsImNhcmRNb2R1bGUiLCJjYW5kaWRhdGUiLCJjYXJkTW9kdWxlQ2xhc3NlcyIsImlzVmFsaWRhdGFibGUiLCJ3YXJuIiwibW9kdWxlSW5zdGFuY2UiLCJ2YWxpZGF0ZSIsIm1vZHVsZU5hbWUiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIk5hdmlnYWJsZUNhcmRNb2R1bGVMaXN0IiwiNTkwIiwiYXJ0Q29uZmlnIiwiYnVzaW5lc3NDb25maWciLCJjaGFwdGVyQ29uZmlnIiwiZmFzaGlvbkNvbmZpZyIsImZhdW5hX2Zsb3JhQ29uZmlnIiwiZm9vZF9kcmlua0NvbmZpZyIsImhlYWx0aF9iZWF1dHlDb25maWciLCJoaXN0b3JpY0NvbmZpZyIsImhvbWVDb25maWciLCJsZWlzdXJlX3Nwb3J0Q29uZmlnIiwibG9jYXRpb25Db25maWciLCJsb29rQ29uZmlnIiwibW92aWVDb25maWciLCJvc3RDb25maWciLCJwZXJzb25Db25maWciLCJjaGFyYWN0ZXJDb25maWciLCJyZWZlcmVuY2VDb25maWciLCJzZXJpZUNvbmZpZyIsInNvbmdDb25maWciLCJ0ZWNobm9sb2d5Q29uZmlnIiwidHJpdmlhQ29uZmlnIiwidmVoaWNsZUNvbmZpZyIsIndlYXBvbkNvbmZpZyIsImNhcmREZXRhaWxDb25maWciLCJhcnQiLCJidXNpbmVzcyIsImNoYXB0ZXIiLCJmYXNoaW9uIiwiZmF1bmFfZmxvcmEiLCJmb29kX2RyaW5rIiwiaGVhbHRoX2JlYXV0eSIsImhpc3RvcmljIiwiaG9tZSIsImxlaXN1cmVfc3BvcnQiLCJsb29rIiwib3N0IiwicGVyc29uIiwiY2hhcmFjdGVyIiwicmVmZXJlbmNlIiwic2VyaWUiLCJzb25nIiwidGVjaG5vbG9neSIsInRyaXZpYSIsInZlaGljbGUiLCJ3ZWFwb24iLCI1OTEiLCJtYWluIiwiNTkyIiwiNTkzIiwiNTk0IiwiNTk1IiwiNTk2IiwiNTk3IiwiNTk4IiwiNTk5IiwiNjAwIiwiNjAxIiwiNjAyIiwiNjAzIiwiNjA0IiwiNjA1IiwiNjA2IiwiNjA3IiwiNjA4IiwiNjA5IiwiNjEwIiwiNjExIiwiNjEyIiwiNjEzIiwiNjE0IiwiNjE1IiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJIZWFkZXIiLCJIZWFkZXJfMSIsImdldFN1YnRpdGxlIiwibmF2aWdhYmxlU3VidGl0bGUiLCJzdWJ0aXRsZSIsIk5hdmlnYXRpb25Db250YWluZXIiLCJDYXJkQW5kQ2F0ZWdvcnkiLCJ0aXRsZVBhcmVudGhlc2lzIiwiY2F0ZWdvcmllcyIsIm1vZHVsZVR5cGUiLCJjYXRhbG9nSW5mbyIsIm1lZGlhRGF0YSIsInJ1bnRpbWUiLCJjdXJyZW50VGltZUluU2VjcyIsImhvdXJzIiwieWVhciIsImdlbnJlcyIsImRpcmVjdG9yIiwiSW5zdGFudGlhdGVkIiwiNjE2IiwiTmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzIiwiYWNjZXB0IiwiYWNjZXB0Q2hhcnNldCIsImFsbG93RnVsbFNjcmVlbiIsImFsbG93VHJhbnNwYXJlbmN5IiwiYWx0IiwiYXV0b0NvbXBsZXRlIiwiYXV0b0ZvY3VzIiwiYXV0b1BsYXkiLCJjYXB0dXJlIiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsImNoYXJTZXQiLCJjaGFsbGVuZ2UiLCJjaGVja2VkIiwiY2l0ZSIsImNsYXNzSUQiLCJjb2xzIiwiY29sU3BhbiIsImNvbnRlbnQiLCJjb250cm9scyIsImNvb3JkcyIsImNyb3NzT3JpZ2luIiwiZGF0ZVRpbWUiLCJkZWZlciIsImRpc2FibGVkIiwiZG93bmxvYWQiLCJlbmNUeXBlIiwiZm9ybUFjdGlvbiIsImZvcm1FbmNUeXBlIiwiZm9ybU1ldGhvZCIsImZvcm1Ob1ZhbGlkYXRlIiwiZm9ybVRhcmdldCIsImZyYW1lQm9yZGVyIiwiaGlnaCIsImhyZWZMYW5nIiwiaHRtbEZvciIsImh0dHBFcXVpdiIsImludGVncml0eSIsImtleVBhcmFtcyIsImtleVR5cGUiLCJraW5kIiwibGFiZWwiLCJsb29wIiwibG93IiwibWFuaWZlc3QiLCJtYXJnaW5IZWlnaHQiLCJtYXJnaW5XaWR0aCIsIm1heExlbmd0aCIsIm1lZGlhIiwibWVkaWFHcm91cCIsIm1pbkxlbmd0aCIsIm11bHRpcGxlIiwibXV0ZWQiLCJub25jZSIsIm5vVmFsaWRhdGUiLCJvcHRpbXVtIiwicGF0dGVybiIsInBsYXlzSW5saW5lIiwicG9zdGVyIiwicHJlbG9hZCIsInJlYWRPbmx5IiwicmVxdWlyZWQiLCJyZXZlcnNlZCIsInJvd3MiLCJyb3dTcGFuIiwic2FuZGJveCIsInNjb3BlIiwic2NvcGVkIiwic2Nyb2xsaW5nIiwic2VhbWxlc3MiLCJzaGFwZSIsInNpemVzIiwic3BhbiIsInNyY0RvYyIsInNyY0xhbmciLCJzcmNTZXQiLCJzdGVwIiwic3VtbWFyeSIsInVzZU1hcCIsIndpZHRoIiwid21vZGUiLCJ3cmFwIiwiZGVmYXVsdENoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmciLCJhY2Nlc3NLZXkiLCJjb250ZW50RWRpdGFibGUiLCJjb250ZXh0TWVudSIsImRyYWdnYWJsZSIsImhpZGRlbiIsInNwZWxsQ2hlY2siLCJpbnB1dE1vZGUiLCJyYWRpb0dyb3VwIiwicm9sZSIsImFib3V0IiwiZGF0YXR5cGUiLCJpbmxpc3QiLCJwcmVmaXgiLCJyZXNvdXJjZSIsInZvY2FiIiwiYXV0b0NhcGl0YWxpemUiLCJhdXRvQ29ycmVjdCIsImF1dG9TYXZlIiwiaXRlbVByb3AiLCJpdGVtU2NvcGUiLCJpdGVtVHlwZSIsIml0ZW1JRCIsIml0ZW1SZWYiLCJzZWN1cml0eSIsInVuc2VsZWN0YWJsZSIsIm9uQ29weSIsIm9uQ29weUNhcHR1cmUiLCJvbkN1dCIsIm9uQ3V0Q2FwdHVyZSIsIm9uUGFzdGUiLCJvblBhc3RlQ2FwdHVyZSIsIm9uQ29tcG9zaXRpb25FbmQiLCJvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmUiLCJvbkNvbXBvc2l0aW9uVXBkYXRlIiwib25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUiLCJvbkZvY3VzQ2FwdHVyZSIsIm9uQmx1ciIsIm9uQmx1ckNhcHR1cmUiLCJvbkNoYW5nZSIsIm9uQ2hhbmdlQ2FwdHVyZSIsIm9uSW5wdXQiLCJvbklucHV0Q2FwdHVyZSIsIm9uUmVzZXQiLCJvblJlc2V0Q2FwdHVyZSIsIm9uU3VibWl0Iiwib25TdWJtaXRDYXB0dXJlIiwib25JbnZhbGlkIiwib25JbnZhbGlkQ2FwdHVyZSIsIm9uTG9hZENhcHR1cmUiLCJvbkVycm9yQ2FwdHVyZSIsIm9uS2V5RG93bkNhcHR1cmUiLCJvbktleVByZXNzQ2FwdHVyZSIsIm9uS2V5VXBDYXB0dXJlIiwib25BYm9ydCIsIm9uQWJvcnRDYXB0dXJlIiwib25DYW5QbGF5Iiwib25DYW5QbGF5Q2FwdHVyZSIsIm9uQ2FuUGxheVRocm91Z2giLCJvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZSIsIm9uRHVyYXRpb25DaGFuZ2UiLCJvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZSIsIm9uRW1wdGllZCIsIm9uRW1wdGllZENhcHR1cmUiLCJvbkVuY3J5cHRlZCIsIm9uRW5jcnlwdGVkQ2FwdHVyZSIsIm9uRW5kZWQiLCJvbkVuZGVkQ2FwdHVyZSIsIm9uTG9hZGVkRGF0YSIsIm9uTG9hZGVkRGF0YUNhcHR1cmUiLCJvbkxvYWRlZE1ldGFkYXRhIiwib25Mb2FkZWRNZXRhZGF0YUNhcHR1cmUiLCJvbkxvYWRTdGFydCIsIm9uTG9hZFN0YXJ0Q2FwdHVyZSIsIm9uUGF1c2VDYXB0dXJlIiwib25QbGF5Iiwib25QbGF5Q2FwdHVyZSIsIm9uUGxheWluZyIsIm9uUGxheWluZ0NhcHR1cmUiLCJvblByb2dyZXNzIiwib25Qcm9ncmVzc0NhcHR1cmUiLCJvblJhdGVDaGFuZ2UiLCJvblJhdGVDaGFuZ2VDYXB0dXJlIiwib25TZWVrZWQiLCJvblNlZWtlZENhcHR1cmUiLCJvblNlZWtpbmciLCJvblNlZWtpbmdDYXB0dXJlIiwib25TdGFsbGVkIiwib25TdGFsbGVkQ2FwdHVyZSIsIm9uU3VzcGVuZCIsIm9uU3VzcGVuZENhcHR1cmUiLCJvblRpbWVVcGRhdGUiLCJvblRpbWVVcGRhdGVDYXB0dXJlIiwib25Wb2x1bWVDaGFuZ2UiLCJvblZvbHVtZUNoYW5nZUNhcHR1cmUiLCJvbldhaXRpbmciLCJvbldhaXRpbmdDYXB0dXJlIiwib25DbGlja0NhcHR1cmUiLCJvbkNvbnRleHRNZW51Iiwib25Db250ZXh0TWVudUNhcHR1cmUiLCJvbkRvdWJsZUNsaWNrIiwib25Eb3VibGVDbGlja0NhcHR1cmUiLCJvbkRyYWciLCJvbkRyYWdDYXB0dXJlIiwib25EcmFnRW5kIiwib25EcmFnRW5kQ2FwdHVyZSIsIm9uRHJhZ0VudGVyIiwib25EcmFnRW50ZXJDYXB0dXJlIiwib25EcmFnRXhpdCIsIm9uRHJhZ0V4aXRDYXB0dXJlIiwib25EcmFnTGVhdmUiLCJvbkRyYWdMZWF2ZUNhcHR1cmUiLCJvbkRyYWdPdmVyIiwib25EcmFnT3ZlckNhcHR1cmUiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ1N0YXJ0Q2FwdHVyZSIsIm9uRHJvcCIsIm9uRHJvcENhcHR1cmUiLCJvbk1vdXNlRG93bkNhcHR1cmUiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VNb3ZlQ2FwdHVyZSIsIm9uTW91c2VPdXQiLCJvbk1vdXNlT3V0Q2FwdHVyZSIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU92ZXJDYXB0dXJlIiwib25Nb3VzZVVwIiwib25Nb3VzZVVwQ2FwdHVyZSIsIm9uU2VsZWN0Iiwib25TZWxlY3RDYXB0dXJlIiwib25Ub3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWxDYXB0dXJlIiwib25Ub3VjaEVuZCIsIm9uVG91Y2hFbmRDYXB0dXJlIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoTW92ZUNhcHR1cmUiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoU3RhcnRDYXB0dXJlIiwib25TY3JvbGwiLCJvblNjcm9sbENhcHR1cmUiLCJvbldoZWVsIiwib25XaGVlbENhcHR1cmUiLCJvbkFuaW1hdGlvblN0YXJ0Iiwib25BbmltYXRpb25TdGFydENhcHR1cmUiLCJvbkFuaW1hdGlvbkVuZCIsIm9uQW5pbWF0aW9uRW5kQ2FwdHVyZSIsIm9uQW5pbWF0aW9uSXRlcmF0aW9uIiwib25BbmltYXRpb25JdGVyYXRpb25DYXB0dXJlIiwib25UcmFuc2l0aW9uRW5kIiwib25UcmFuc2l0aW9uRW5kQ2FwdHVyZSIsImRpdlByb3BzIiwicmVjdXJzaXZlQ2xvbmVDaGlsZHJlbiIsInByb3BhZ2F0ZVBhcmVudCIsIkNoaWxkcmVuIiwiY2hpbGQiLCJmb3VuZE5hdiIsImNsb25lRWxlbWVudCIsImRlZmF1bHRQcm9wcyIsIjYxNyIsImNhcmREZXRhaWxJbml0aWFsU3RhdGUiLCJDYXJkRGV0YWlsQ2xhc3MiLCJjYXJkTW9kdWxlcyIsImNsb3NlQWxsQ2FyZHMiLCJ1aUFjdGlvbnMiLCJzZXRTdGF0ZSIsImFkZFRvQXJyYXlJZkV4aXN0cyIsInRhcmdldEFycmF5IiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiQ2FyZERldGFpbCIsIjYxOCIsInNob3dJbWFnZSIsImltYWdlIiwidGh1bWIiLCJzaG93SWNvbiIsInNob3dUaXRsZSIsInNob3dTdWJ0aXRsZSIsImNhdGVnb3J5IiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYW5jaG9yX3giLCJhbmNob3JfeSIsIjYxOSIsIlZlcnRpY2FsU2Nyb2xsQ2xhc3MiLCJkb3duQWN0aW9uIiwic2Nyb2xsQm94Iiwic2Nyb2xsVG9wIiwib2Zmc2V0SGVpZ2h0IiwidXBBY3Rpb24iLCJmdWxsIiwiRGlyZWN0aW9uQnV0dG9uTGlzdCIsInRlbXBsYXRlIiwiYnRucyIsImRpcmVjdGlvbiIsIlZlcnRpY2FsU2Nyb2xsIiwiNjIwIiwiSG9yaXpvbnRhbFNjcm9sbENsYXNzIiwib2Zmc2V0Iiwic2hvd0VsZW1lbnRzIiwiZWxlbWVudHMiLCJpdGVtc1Nob3duIiwibGVmdEFjdGlvbiIsInJpZ2h0QWN0aW9uIiwiSG9yaXpvbnRhbFNjcm9sbCIsIjYyMSIsIkRpcmVjdGlvbkJ1dHRvbkxpc3RDbGFzcyIsImJ0biIsIkRpcmVjdGlvbkJ1dHRvbiIsIjYyMiIsIkRpcmVjdGlvbkJ1dHRvbkNsYXNzIiwiNjIzIiwiTWluaUNhcmRCdXR0b25DbGFzcyIsImljb24iLCJsaWtlIiwibGlrZWQiLCJNaW5pQ2FyZEJ1dHRvbiIsIjYyNCIsIk1pbmlDYXJkTGlzdENsYXNzIiwiZ2V0UmVsYXRpb25zIiwicmVscyIsImNvbnRlbnRfdHlwZSIsInJlbFNpbmdsZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIndhc1NlbGVjdGVkT25DaGFuZ2VTY2VuZSIsInNjZW5lQ2FyZCIsInNjZW5lQ2FyZHMiLCJyZWxhdGVkQ2FyZHMiLCJNaW5pQ2FyZCIsImNsaWNrQWN0aW9uTW9yZSIsImNsaWNrQWN0aW9uTGlrZSIsIk1pbmlDYXJkTGlzdCIsImdldE1vdmllVGltZSIsIm9yaWdpbmFsQ2FyZCIsInBhcmFtQ2FyZCIsInVzZXJBY3Rpb25zIiwibGlrZUNhcmQiLCI2MjUiLCJNaW5pQ2FyZENsYXNzIiwibWluaUNhcmQiLCJleHBhbmRlZEluZm8iLCJleHBhbmRlZEluZm9UZXh0IiwiYnV0dG9uIiwiYm94IiwidGV4dENvbnRhaW5lciIsInJlbGF0aW9uIiwiZHVwbGUiLCJmcm9tIiwidGV4dFBlcnNvbkNvbnRhaW5lciIsImFjdGlvbldoZW5Nb3JlIiwiYWN0aW9uV2hlbkxpa2UiLCJtaW5pY2FyZCIsIjYyNiIsIjYyNyIsIlRleHQiLCJUZXh0XzEiLCJ0ZXh0VGl0bGUiLCJnZXRUaXRsZSIsInRleHREYXRhIiwiY29udGFpbmVyIiwiNjI4IiwiVGFibGUiLCJUYWJsZV8xIiwibGlzdEl0ZW0iLCI2MjkiLCJMaXN0IiwiZ2V0TGlzdCIsImdldEdhbGxlcnlMaXN0IiwiZ2V0U2hvcExpc3QiLCJnZXRGaWxtb2dyYXBoeUxpc3QiLCJnZXRDYXN0TGlzdCIsImdldFJlbFNpbmdsZUxpc3QiLCJnZXRTZWFzb25MaXN0IiwiZ2V0R2VuZXJpY0VsZW1lbnQiLCJwcmljZSIsImN1cnJlbmN5IiwicmVsX3R5cGUiLCJzZWFzb25faW5kZXgiLCJvcmRlciIsIkxpc3RfMSIsInVuaXF1ZUlkIiwiNjMwIiwiQXdhcmRzIiwiQXdhcmRzXzEiLCJ3aW5uZXJOdW0iLCJ3aW5uZXIiLCJub21pbmVlTnVtIiwibm9taW5lZSIsIm5vbWluZWVUZXh0cyIsInRvdGFsQXdhcmRzVGV4dHMiLCI2MzEiLCJNYXBfMSIsIm1hcERhdGEiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInpvb20iLCJtYXBVcmwiLCJhcHBsaWVkWm9vbSIsIjYzMiIsIkJ1dHRvbkhlYWRlciIsIk1vdmllSGVhZGVyIiwiRGVzY3JpcHRpb24iLCJCaW9ncmFwaHkiLCJSZWZlcmVuY2UiLCJGdWxsQ3VyaW9zaXR5IiwiT3ZlcnZpZXciLCJHYWxsZXJ5IiwiU2hvcCIsIlRyYXZlbFNob3AiLCJEaXJlY3RvcnMiLCJTZWFzb25zIiwiRmlsbW9ncmFwaHkiLCJDYXN0IiwiQXBwZWFyc0luTG9jYXRpb24iLCJDb21wbGV0ZVRoZURlY28iLCJTcGVjaWZpY2F0aW9ucyIsIkJhc2ljSW5mbyIsIkF3YXJkc01vZHVsZUxpc3QiLCJNYXBNb2R1bGUiLCI2MzMiLCJDYXJkRGV0YWlsQ29udGFpbmVyQ2xhc3MiLCI2MzQiLCJCb3R0b21PdmVybGF5TWVzc2FnZSIsImdldENoaWxkcmVuIiwibmF2aWdhdGlvblBhcmVudCIsIjYzNSIsIkNhcm91c2VsQ2xhc3MiLCJjaHVua1JlcXVlc3RlZCIsImN1cnJlbnRTY2VuZVRleHQiLCJnZXRTdGF0ZSIsInJld2luZGVkIiwiY2xvc2VDYXJvdXNlbCIsImdldEN1cnJlbnRUaW1lIiwiYWRNZXNzYWdlQ29udGVudCIsImVuZE1lc3NhZ2VDb250ZW50Iiwib2ZmTWVzc2FnZUNvbnRlbnQiLCJyZWFkeU1lc3NhZ2VDb250ZW50IiwiYWN0aXZlRmlsdGVycyIsImFsbENhdGVnb3JpZXNGaWx0ZXIiLCJidXR0b25zQ29udGFpbmVyIiwiZ2V0V3JhcHBlZEluc3RhbmNlIiwiZ2V0QnV0dG9ucyIsImdldE1lc3NhZ2VGb3JDYXJvdXNlbCIsImJ1dHRvbkNvdW50IiwidG9GaXhlZCIsImJ1dHRvbnNUb1JlbmRlciIsIm1lc3NhZ2VDb250ZW50IiwiY2hhbm5lbFN0YXR1cyIsIjk4Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsVUFBQUgsR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxNQUFBRCxLQUVBRCxFQUFBLFFBQUFBLEVBQUEsWUFBeUNBLEVBQUEsY0FBQUMsTUFDeENLLEtBQUEsV0FDRCxNQ0FPQyw2QkFBNEIsSUFFN0JDLEdBQ0EsU0FBVUwsRUFBUUQsRUFBU08sR0FFakMsWUFHQSxTQUFTQyxHQUFTQyxHQUNkLElBQUssR0FBSUMsS0FBS0QsR0FDTFQsRUFBUVcsZUFBZUQsS0FBSVYsRUFBUVUsR0FBS0QsRUFBRUMsSUFHdkRFLE9BQU9DLGVBQWViLEVBQVMsY0FBZ0JjLE9BQU8sSUN2QnRETixFQUFBRCxFQUEwQyxNQUMxQ0MsRUFBQUQsRUFBc0MsT0Q0QmhDUSxHQUNBLFNBQVVkLEVBQVFELEVBQVNPLEdBRWpDLFlBR0EsU0FBU0MsR0FBU0MsR0FDZCxJQUFLLEdBQUlDLEtBQUtELEdBQ0xULEVBQVFXLGVBQWVELEtBQUlWLEVBQVFVLEdBQUtELEVBQUVDLElBR3ZERSxPQUFPQyxlQUFlYixFQUFTLGNBQWdCYyxPQUFPLElFeEN0RE4sRUFBQUQsRUFBb0UsTUFDcEVDLEVBQUFELEVBQWtELE1BQ2xEQyxFQUFBRCxFQUE0RCxNQUM1REMsRUFBQUQsRUFBMEQsTUFDMURDLEVBQUFELEVBQThELE1BQzlEQyxFQUFBRCxFQUFvRSxNQUNwRUMsRUFBQUQsRUFBZ0YsTUFDaEZDLEVBQUFELEVBQW1FLE1BQ25FQyxFQUFBRCxFQUFzRCxNQUN0REMsRUFBQUQsRUFBOEMsTUFDOUNDLEVBQUFELEVBQTRDLE9GNkN0Q1MsR0FDQSxTQUFVZixFQUFRRCxFQUFTTyxHQUVqQyxZQUdBLFNBQVNDLEdBQVNDLEdBQ2QsSUFBSyxHQUFJQyxLQUFLRCxHQUNMVCxFQUFRVyxlQUFlRCxLQUFJVixFQUFRVSxHQUFLRCxFQUFFQyxJQUd2REUsT0FBT0MsZUFBZWIsRUFBUyxjQUFnQmMsT0FBTyxJR2xFdEROLEVBQUFELEVBQXlCLE1BQ3pCQyxFQUFBRCxFQUFrQyxNQUNsQ0MsRUFBQUQsRUFBeUIsTUFDekJDLEVBQUFELEVBQWdELE9IdUUxQ1UsSUFDQSxTQUFVaEIsRUFBUUQsRUFBU08sR0FFakMsWUFHQUssUUFBT0MsZUFBZWIsRUFBUyxjQUFnQmMsT0FBTyxHSWpFekNkLEdBQW1Ca0Isb0JBQWUsWUFNbENsQixFQUFnQm1CLGlCQVYyQixNQVczQ25CLEVBQWNvQixnQkFUVSxFQVd4QnBCLEVBQW9CcUIsc0JBQ3RCLFFBQ0EsUUFDQyxTQUNHLFlBQ0YsVUFDQSxVQUNDLFdBQ0EsV0FDRixTQUNELFFBQ0YsTUFDQyxPQUNNLGFBQ1AsTUFDQyxPQUdFLFNBQ08sZ0JBQ0EsZ0JBQ0gsYUFDQyxjQUNILFdBQ0MsWUFJYixZSnNDSUMsSUFDQSxTQUFVckIsRUFBUUQsRUFBU08sSUszRmpDLFNBQUFULEVBQUFDLEdBRUFFLEVBQUFELFFBQUFELEtBT0NLLEVBQUEsV0FDRCxnQkFBQW1CLEdBS0EsUUFBQWhCLEdBQUFpQixHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQXhCLE9BR0EsSUFBQUMsR0FBQXdCLEVBQUFELElBQ0FFLEVBQUFGLEVBQ0FHLEdBQUEsRUFDQTNCLFdBVUEsT0FOQXVCLEdBQUFDLEdBQUFJLEtBQUEzQixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTyxHQUdBTixFQUFBMEIsR0FBQSxFQUdBMUIsRUFBQUQsUUF2QkEsR0FBQXlCLEtBNERBLE9BaENBbEIsR0FBQUUsRUFBQWMsRUFHQWhCLEVBQUFzQixFQUFBSixFQUdBbEIsRUFBQXVCLEVBQUEsU0FBQTlCLEVBQUErQixFQUFBQyxHQUNBekIsRUFBQTBCLEVBQUFqQyxFQUFBK0IsSUFDQW5CLE9BQUFDLGVBQUFiLEVBQUErQixHQUNBRyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQUosS0FNQXpCLEVBQUE4QixFQUFBLFNBQUFwQyxHQUNBLEdBQUErQixHQUFBL0IsS0FBQXFDLFdBQ0EsV0FBbUMsTUFBQXJDLEdBQUEsU0FDbkMsV0FBeUMsTUFBQUEsR0FFekMsT0FEQU0sR0FBQXVCLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQXpCLEVBQUEwQixFQUFBLFNBQUFNLEVBQUFDLEdBQThELE1BQUE1QixRQUFBNkIsVUFBQTlCLGVBQUFpQixLQUFBVyxFQUFBQyxJQUc5RGpDLEVBQUFHLEVBQUEsR0FHQUgsSUFBQW1DLEVBQUEsTUFLQSxTQUFBekMsRUFBQUQsR0FFQSxHQUFBMkMsRUFHQUEsR0FBQSxXQUNBLE1BQUF2QyxRQUdBLEtBRUF1QyxLQUFBQyxTQUFBLHFCQUFBQyxNQUFBLFFBQ0MsTUFBQUMsR0FFRCxnQkFBQUMsVUFDQUosRUFBQUksUUFPQTlDLEVBQUFELFFBQUEyQyxHQUtBLFNBQUExQyxFQUFBRCxFQUFBTyxJQUVBLFNBQUF5QyxHQXNDQSxRQUFBQyxLQUlBLDJCQUFBRixpQkFBQUMsU0FBQSxhQUFBRCxPQUFBQyxRQUFBRSxRQU1BLG1CQUFBQyxvQkFBQUMsaUJBQUFELFNBQUFDLGdCQUFBQyxPQUFBRixTQUFBQyxnQkFBQUMsTUFBQUMsa0JBRUEsbUJBQUFQLGdCQUFBUSxVQUFBUixPQUFBUSxRQUFBQyxTQUFBVCxPQUFBUSxRQUFBRSxXQUFBVixPQUFBUSxRQUFBRyxRQUdBLG1CQUFBQyxzQkFBQUMsV0FBQUQsVUFBQUMsVUFBQUMsY0FBQUMsTUFBQSxtQkFBQUMsU0FBQUMsT0FBQUMsR0FBQSxTQUVBLG1CQUFBTixzQkFBQUMsV0FBQUQsVUFBQUMsVUFBQUMsY0FBQUMsTUFBQSx1QkFzQkEsUUFBQUksR0FBQUMsR0FDQSxHQUFBbEIsR0FBQTdDLEtBQUE2QyxTQVNBLElBUEFrQixFQUFBLElBQUFsQixFQUFBLFNBQ0E3QyxLQUFBZ0UsV0FDQW5CLEVBQUEsV0FDQWtCLEVBQUEsSUFDQWxCLEVBQUEsV0FDQSxJQUFBakQsRUFBQXFFLFNBQUFqRSxLQUFBa0UsTUFFQXJCLEVBQUEsQ0FFQSxHQUFBcEIsR0FBQSxVQUFBekIsS0FBQW1FLEtBQ0FKLEdBQUFLLE9BQUEsSUFBQTNDLEVBQUEsaUJBS0EsSUFBQTRDLEdBQUEsRUFDQUMsRUFBQSxDQUNBUCxHQUFBLEdBQUFRLFFBQUEsdUJBQUFiLEdBQ0EsT0FBQUEsSUFDQVcsSUFDQSxPQUFBWCxJQUdBWSxFQUFBRCxNQUlBTixFQUFBSyxPQUFBRSxFQUFBLEVBQUE3QyxJQVVBLFFBQUErQyxLQUdBLHNCQUFBckIsVUFDQUEsUUFBQXFCLEtBQ0FoQyxTQUFBSCxVQUFBb0MsTUFBQWpELEtBQUEyQixRQUFBcUIsSUFBQXJCLFFBQUF1QixXQVVBLFFBQUFDLEdBQUFDLEdBQ0EsSUFDQSxNQUFBQSxFQUNBaEYsRUFBQWlGLFFBQUFDLFdBQUEsU0FFQWxGLEVBQUFpRixRQUFBRSxNQUFBSCxFQUVHLE1BQUFsQyxLQVVILFFBQUFzQyxLQUNBLEdBQUFDLEVBQ0EsS0FDQUEsRUFBQXJGLEVBQUFpRixRQUFBRSxNQUNHLE1BQUFyQyxJQU9ILE9BSkF1QyxPQUFBLEtBQUFyQyxHQUFBLE9BQUFBLEtBQ0FxQyxFQUFBckMsRUFBQXNDLElBQUFDLE9BR0FGLEVBMUpBckYsRUFBQUMsRUFBQUQsUUFBQU8sRUFBQSxJQUNBUCxFQUFBNEUsTUFDQTVFLEVBQUFrRSxhQUNBbEUsRUFBQStFLE9BQ0EvRSxFQUFBb0YsT0FDQXBGLEVBQUFpRCxZQUNBakQsRUFBQWlGLFFBQUEsbUJBQUFPLGFBQ0EsS0FBQUEsT0FBQVAsUUFDQU8sT0FBQVAsUUFBQVEsTUFzS0EsV0FDQSxJQUNBLE1BQUExQyxRQUFBMkMsYUFDRyxNQUFBNUMsUUFsS0g5QyxFQUFBMkYsUUFDQSxnQkFDQSxjQUNBLFlBQ0EsYUFDQSxhQUNBLFdBbUNBM0YsRUFBQTRGLFdBQUFDLEVBQUEsU0FBQUMsR0FDQSxJQUNBLE1BQUFDLE1BQUFDLFVBQUFGLEdBQ0csTUFBQUcsR0FDSCxxQ0FBQUEsRUFBQUMsVUFxR0FsRyxFQUFBbUcsT0FBQWYsT0FtQjRCeEQsS0FBQTVCLEVBQUFPLEVBQUEsTUFJNUIsU0FBQU4sRUFBQUQsRUFBQU8sR0FpQkEsUUFBQTZGLEdBQUFDLEdBQ0EsR0FBQUEsRUFBQSxNQUFBQyxHQUFBRCxHQVdBLFFBQUFDLEdBQUFELEdBQ0EsT0FBQUUsS0FBQUgsR0FBQTNELFVBQ0E0RCxFQUFBRSxHQUFBSCxFQUFBM0QsVUFBQThELEVBRUEsT0FBQUYsR0F6QkFwRyxFQUFBRCxRQUFBb0csRUFxQ0FBLEVBQUEzRCxVQUFBK0QsR0FDQUosRUFBQTNELFVBQUFnRSxpQkFBQSxTQUFBQyxFQUFBQyxHQUlBLE1BSEF2RyxNQUFBd0csV0FBQXhHLEtBQUF3RyxnQkFDQXhHLEtBQUF3RyxXQUFBLElBQUFGLEdBQUF0RyxLQUFBd0csV0FBQSxJQUFBRixRQUNBRyxLQUFBRixHQUNBdkcsTUFhQWdHLEVBQUEzRCxVQUFBcUUsS0FBQSxTQUFBSixFQUFBQyxHQUNBLFFBQUFILEtBQ0FwRyxLQUFBMkcsSUFBQUwsRUFBQUYsR0FDQUcsRUFBQTlCLE1BQUF6RSxLQUFBMEUsV0FLQSxNQUZBMEIsR0FBQUcsS0FDQXZHLEtBQUFvRyxHQUFBRSxFQUFBRixHQUNBcEcsTUFhQWdHLEVBQUEzRCxVQUFBc0UsSUFDQVgsRUFBQTNELFVBQUF1RSxlQUNBWixFQUFBM0QsVUFBQXdFLG1CQUNBYixFQUFBM0QsVUFBQXlFLG9CQUFBLFNBQUFSLEVBQUFDLEdBSUEsR0FIQXZHLEtBQUF3RyxXQUFBeEcsS0FBQXdHLGVBR0EsR0FBQTlCLFVBQUFxQyxPQUVBLE1BREEvRyxNQUFBd0csY0FDQXhHLElBSUEsSUFBQWdILEdBQUFoSCxLQUFBd0csV0FBQSxJQUFBRixFQUNBLEtBQUFVLEVBQUEsTUFBQWhILEtBR0EsT0FBQTBFLFVBQUFxQyxPQUVBLGFBREEvRyxNQUFBd0csV0FBQSxJQUFBRixHQUNBdEcsSUFLQSxRQURBaUgsR0FDQTNGLEVBQUEsRUFBaUJBLEVBQUEwRixFQUFBRCxPQUFzQnpGLElBRXZDLElBREEyRixFQUFBRCxFQUFBMUYsTUFDQWlGLEdBQUFVLEVBQUFWLE9BQUEsQ0FDQVMsRUFBQTVDLE9BQUE5QyxFQUFBLEVBQ0EsT0FHQSxNQUFBdEIsT0FXQWdHLEVBQUEzRCxVQUFBNkUsS0FBQSxTQUFBWixHQUNBdEcsS0FBQXdHLFdBQUF4RyxLQUFBd0csY0FDQSxJQUFBekMsTUFBQW9ELE1BQUEzRixLQUFBa0QsVUFBQSxHQUNBc0MsRUFBQWhILEtBQUF3RyxXQUFBLElBQUFGLEVBRUEsSUFBQVUsRUFBQSxDQUNBQSxJQUFBRyxNQUFBLEVBQ0EsUUFBQTdGLEdBQUEsRUFBQThGLEVBQUFKLEVBQUFELE9BQTJDekYsRUFBQThGLElBQVM5RixFQUNwRDBGLEVBQUExRixHQUFBbUQsTUFBQXpFLEtBQUErRCxHQUlBLE1BQUEvRCxPQVdBZ0csRUFBQTNELFVBQUFnRixVQUFBLFNBQUFmLEdBRUEsTUFEQXRHLE1BQUF3RyxXQUFBeEcsS0FBQXdHLGVBQ0F4RyxLQUFBd0csV0FBQSxJQUFBRixRQVdBTixFQUFBM0QsVUFBQWlGLGFBQUEsU0FBQWhCLEdBQ0EsUUFBQXRHLEtBQUFxSCxVQUFBZixHQUFBUyxTQU1BLFNBQUFsSCxFQUFBRCxFQUFBTyxJQUVBLFNBQUFvSCxHQThIQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUdBLE1BQUFBLEdBREEsSUFBQTlILEVBQUErSCxRQUFBRixFQUFBM0UsTUFBQTJFLEVBQUFHLFdBUUEsUUFBQUMsR0FBQUosRUFBQUssRUFBQUosR0FDQSxJQUFBSSxFQUNBLE1BQUFsSSxHQUFBbUksbUJBQUFOLEVBQUFDLEVBR0EsSUFBQUUsR0FBQUgsRUFBQUcsS0FDQUksRUFBQSxHQUFBQyxZQUFBTCxHQUNBTSxFQUFBLEdBQUFELFlBQUEsRUFBQUwsRUFBQU8sV0FFQUQsR0FBQSxHQUFBUCxFQUFBRixFQUFBM0UsS0FDQSxRQUFBeEIsR0FBQSxFQUFpQkEsRUFBQTBHLEVBQUFqQixPQUF5QnpGLElBQzFDNEcsRUFBQTVHLEVBQUEsR0FBQTBHLEVBQUExRyxFQUdBLE9BQUFvRyxHQUFBUSxFQUFBRSxRQUdBLFFBQUFDLEdBQUFaLEVBQUFLLEVBQUFKLEdBQ0EsSUFBQUksRUFDQSxNQUFBbEksR0FBQW1JLG1CQUFBTixFQUFBQyxFQUdBLElBQUFZLEdBQUEsR0FBQUMsV0FLQSxPQUpBRCxHQUFBRSxPQUFBLFdBQ0FmLEVBQUFHLEtBQUFVLEVBQUFHLE9BQ0E3SSxFQUFBOEksYUFBQWpCLEVBQUFLLEdBQUEsRUFBQUosSUFFQVksRUFBQUssa0JBQUFsQixFQUFBRyxNQUdBLFFBQUFnQixHQUFBbkIsRUFBQUssRUFBQUosR0FDQSxJQUFBSSxFQUNBLE1BQUFsSSxHQUFBbUksbUJBQUFOLEVBQUFDLEVBR0EsSUFBQW1CLEVBQ0EsTUFBQVIsR0FBQVosRUFBQUssRUFBQUosRUFHQSxJQUFBWCxHQUFBLEdBQUFrQixZQUFBLEVBSUEsT0FIQWxCLEdBQUEsR0FBQVksRUFBQUYsRUFBQTNFLE1BR0E0RSxFQUZBLEdBQUFvQixJQUFBL0IsRUFBQXFCLE9BQUFYLEVBQUFHLFFBb0ZBLFFBQUFtQixHQUFBbkIsR0FDQSxJQUNBQSxFQUFBb0IsRUFBQUMsT0FBQXJCLEdBQThCc0IsUUFBQSxJQUMzQixNQUFBeEcsR0FDSCxTQUVBLE1BQUFrRixHQWdGQSxRQUFBdUIsR0FBQUMsRUFBQUMsRUFBQUMsR0FXQSxPQVZBYixHQUFBLEdBQUFjLE9BQUFILEVBQUFyQyxRQUNBeUMsRUFBQUMsRUFBQUwsRUFBQXJDLE9BQUF1QyxHQVNBaEksRUFBQSxFQUFpQkEsRUFBQThILEVBQUFyQyxPQUFnQnpGLEtBUGpDLFNBQUFBLEVBQUFvSSxFQUFBekMsR0FDQW9DLEVBQUFLLEVBQUEsU0FBQUMsRUFBQUMsR0FDQW5CLEVBQUFuSCxHQUFBc0ksRUFDQTNDLEVBQUEwQyxFQUFBbEIsTUFLQW5ILEVBQUE4SCxFQUFBOUgsR0FBQWtJLEdBbldBLEdBTUFLLEdBTkFDLEVBQUEzSixFQUFBLElBQ0E0SixFQUFBNUosRUFBQSxJQUNBNkosRUFBQTdKLEVBQUEsSUFDQXNKLEVBQUF0SixFQUFBLElBQ0E2SSxFQUFBN0ksRUFBQSxHQUdBb0gsTUFBQTBDLGNBQ0FKLEVBQUExSixFQUFBLElBVUEsSUFBQStKLEdBQUEsbUJBQUEzRyxZQUFBLFdBQUE0RyxLQUFBNUcsVUFBQUMsV0FRQTRHLEVBQUEsbUJBQUE3RyxZQUFBLGFBQUE0RyxLQUFBNUcsVUFBQUMsV0FNQXFGLEVBQUFxQixHQUFBRSxDQU1BeEssR0FBQXlLLFNBQUEsQ0FNQSxJQUFBMUMsR0FBQS9ILEVBQUErSCxTQUNBMkMsS0FBQSxFQUNBQyxNQUFBLEVBQ0FDLEtBQUEsRUFDQUMsS0FBQSxFQUNBM0UsUUFBQSxFQUNBNEUsUUFBQSxFQUNBQyxLQUFBLEdBR0FDLEVBQUFkLEVBQUFuQyxHQU1BOUIsR0FBVy9DLEtBQUEsUUFBQThFLEtBQUEsZ0JBTVhrQixFQUFBM0ksRUFBQSxHQWtCQVAsR0FBQThJLGFBQUEsU0FBQWpCLEVBQUFLLEVBQUErQyxFQUFBbkQsR0FDQSxrQkFBQUksS0FDQUosRUFBQUksRUFDQUEsR0FBQSxHQUdBLGtCQUFBK0MsS0FDQW5ELEVBQUFtRCxFQUNBQSxFQUFBLEtBR0EsSUFBQWpELE9BQUFrRCxLQUFBckQsRUFBQUcsU0FDQWtELEdBQ0FyRCxFQUFBRyxLQUFBUSxRQUFBWCxFQUFBRyxJQUVBLElBQUFMLEVBQUEwQyxhQUFBckMsWUFBQXFDLGFBQ0EsTUFBQXBDLEdBQUFKLEVBQUFLLEVBQUFKLEVBQ0csSUFBQW9CLEdBQUFsQixZQUFBTCxHQUFBdUIsS0FDSCxNQUFBRixHQUFBbkIsRUFBQUssRUFBQUosRUFJQSxJQUFBRSxLQUFBbUQsT0FDQSxNQUFBdkQsR0FBQUMsRUFBQUMsRUFJQSxJQUFBc0QsR0FBQXJELEVBQUFGLEVBQUEzRSxLQU9BLFlBSkFnSSxLQUFBckQsRUFBQUcsT0FDQW9ELEdBQUFILEVBQUE3QixFQUFBaUMsT0FBQUMsT0FBQXpELEVBQUFHLE9BQThEc0IsUUFBQSxJQUFnQmdDLE9BQUF6RCxFQUFBRyxPQUc5RUYsRUFBQSxHQUFBc0QsSUFtRUFwTCxFQUFBbUksbUJBQUEsU0FBQU4sRUFBQUMsR0FDQSxHQUFBNUIsR0FBQSxJQUFBbEcsRUFBQStILFFBQUFGLEVBQUEzRSxLQUNBLElBQUFnRyxHQUFBckIsRUFBQUcsZUFBQUwsR0FBQXVCLEtBQUEsQ0FDQSxHQUFBUixHQUFBLEdBQUFDLFdBS0EsT0FKQUQsR0FBQUUsT0FBQSxXQUNBLEdBQUEyQyxHQUFBN0MsRUFBQUcsT0FBQTJDLE1BQUEsT0FDQTFELEdBQUE1QixFQUFBcUYsSUFFQTdDLEVBQUErQyxjQUFBNUQsRUFBQUcsTUFHQSxHQUFBMEQsRUFDQSxLQUNBQSxFQUFBSixPQUFBSyxhQUFBOUcsTUFBQSxRQUFBd0QsWUFBQVIsRUFBQUcsT0FDRyxNQUFBbEYsR0FJSCxPQUZBOEksR0FBQSxHQUFBdkQsWUFBQVIsRUFBQUcsTUFDQTZELEVBQUEsR0FBQWxDLE9BQUFpQyxFQUFBekUsUUFDQXpGLEVBQUEsRUFBbUJBLEVBQUFrSyxFQUFBekUsT0FBa0J6RixJQUNyQ21LLEVBQUFuSyxHQUFBa0ssRUFBQWxLLEVBRUFnSyxHQUFBSixPQUFBSyxhQUFBOUcsTUFBQSxLQUFBZ0gsR0FHQSxNQURBM0YsSUFBQXlCLEVBQUFtRSxLQUFBSixHQUNBNUQsRUFBQTVCLElBVUFsRyxFQUFBK0wsYUFBQSxTQUFBL0QsRUFBQWdFLEVBQUFDLEdBQ0EsT0FBQWYsS0FBQWxELEVBQ0EsTUFBQS9CLEVBR0Esb0JBQUErQixHQUFBLENBQ0EsU0FBQUEsRUFBQWtFLE9BQUEsR0FDQSxNQUFBbE0sR0FBQW1NLG1CQUFBbkUsRUFBQW9FLE9BQUEsR0FBQUosRUFHQSxJQUFBQyxJQUVBLEtBREFqRSxFQUFBbUIsRUFBQW5CLElBRUEsTUFBQS9CLEVBR0EsSUFBQS9DLEdBQUE4RSxFQUFBa0UsT0FBQSxFQUVBLE9BQUFHLFFBQUFuSixPQUFBOEgsRUFBQTlILEdBSUE4RSxFQUFBYixPQUFBLEdBQ2NqRSxLQUFBOEgsRUFBQTlILEdBQUE4RSxPQUFBc0UsVUFBQSxLQUVBcEosS0FBQThILEVBQUE5SCxJQU5kK0MsRUFVQSxHQUFBc0csR0FBQSxHQUFBbEUsWUFBQUwsR0FDQTlFLEVBQUFxSixFQUFBLEdBQ0FDLEVBQUFwQyxFQUFBcEMsRUFBQSxFQUlBLE9BSEFrQixJQUFBLFNBQUE4QyxJQUNBUSxFQUFBLEdBQUF0RCxJQUFBc0QsTUFFVXRKLEtBQUE4SCxFQUFBOUgsR0FBQThFLEtBQUF3RSxJQW1CVnhNLEVBQUFtTSxtQkFBQSxTQUFBbkMsRUFBQWdDLEdBQ0EsR0FBQTlJLEdBQUE4SCxFQUFBaEIsRUFBQWtDLE9BQUEsR0FDQSxLQUFBakMsRUFDQSxPQUFZL0csT0FBQThFLE1BQW9CbUQsUUFBQSxFQUFBbkQsS0FBQWdDLEVBQUFvQyxPQUFBLElBR2hDLElBQUFwRSxHQUFBaUMsRUFBQVosT0FBQVcsRUFBQW9DLE9BQUEsR0FNQSxPQUpBLFNBQUFKLEdBQUE5QyxJQUNBbEIsRUFBQSxHQUFBa0IsSUFBQWxCLE1BR1U5RSxPQUFBOEUsU0FtQlZoSSxFQUFBeU0sY0FBQSxTQUFBMUUsRUFBQUcsRUFBQUosR0FvQkEsUUFBQTRFLEdBQUF4RyxHQUNBLE1BQUFBLEdBQUFpQixPQUFBLElBQUFqQixFQUdBLFFBQUF5RyxHQUFBOUUsRUFBQStFLEdBQ0E1TSxFQUFBOEksYUFBQWpCLElBQUFnRixHQUFBM0UsR0FBQSxXQUFBaEMsR0FDQTBHLEVBQUEsS0FBQUYsRUFBQXhHLE1BekJBLGtCQUFBZ0MsS0FDQUosRUFBQUksRUFDQUEsRUFBQSxLQUdBLElBQUEyRSxHQUFBMUMsRUFBQXBDLEVBRUEsT0FBQUcsSUFBQTJFLEVBQ0EzRCxJQUFBRCxFQUNBakosRUFBQThNLG9CQUFBL0UsRUFBQUQsR0FHQTlILEVBQUErTSwyQkFBQWhGLEVBQUFELEdBR0FDLEVBQUFaLFdBY0FvQyxHQUFBeEIsRUFBQTRFLEVBQUEsU0FBQTFHLEVBQUErRyxHQUNBLE1BQUFsRixHQUFBa0YsRUFBQUMsS0FBQSxPQWRBbkYsRUFBQSxPQThDQTlILEVBQUFrTixjQUFBLFNBQUFsRixFQUFBZ0UsRUFBQWxFLEdBQ0EsbUJBQUFFLEdBQ0EsTUFBQWhJLEdBQUFtTixzQkFBQW5GLEVBQUFnRSxFQUFBbEUsRUFHQSxtQkFBQWtFLEtBQ0FsRSxFQUFBa0UsRUFDQUEsRUFBQSxLQUdBLElBQUFuRSxFQUNBLFNBQUFHLEVBRUEsTUFBQUYsR0FBQTdCLEVBQUEsSUFLQSxRQUZBNUQsR0FBQTJILEVBQUE3QyxFQUFBLEdBRUF6RixFQUFBLEVBQUFDLEVBQUFxRyxFQUFBYixPQUFrQ3pGLEVBQUFDLEVBQU9ELElBQUEsQ0FDekMsR0FBQTBMLEdBQUFwRixFQUFBa0UsT0FBQXhLLEVBRUEsVUFBQTBMLEVBQUEsQ0FLQSxRQUFBakcsT0FBQTlFLEVBQUFnSyxPQUFBbEYsSUFFQSxNQUFBVyxHQUFBN0IsRUFBQSxJQUtBLElBRkErRCxFQUFBaEMsRUFBQW9FLE9BQUExSyxFQUFBLEVBQUFXLEdBRUE4RSxHQUFBNkMsRUFBQTdDLE9BRUEsTUFBQVcsR0FBQTdCLEVBQUEsSUFHQSxJQUFBK0QsRUFBQTdDLE9BQUEsQ0FHQSxHQUZBVSxFQUFBN0gsRUFBQStMLGFBQUEvQixFQUFBZ0MsR0FBQSxHQUVBL0YsRUFBQS9DLE9BQUEyRSxFQUFBM0UsTUFBQStDLEVBQUErQixPQUFBSCxFQUFBRyxLQUVBLE1BQUFGLEdBQUE3QixFQUFBLElBSUEsU0FEQTZCLEVBQUFELEVBQUFuRyxFQUFBVyxFQUFBVixHQUNBLE9BSUFELEdBQUFXLEVBQ0E4RSxFQUFBLE9BOUJBQSxJQUFBaUcsRUFpQ0EsV0FBQWpHLEVBRUFXLEVBQUE3QixFQUFBLFNBRkEsSUFxQkFqRyxFQUFBK00sMkJBQUEsU0FBQWhGLEVBQUFELEdBS0EsUUFBQTZFLEdBQUE5RSxFQUFBK0UsR0FDQTVNLEVBQUE4SSxhQUFBakIsR0FBQSxjQUFBRyxHQUNBLE1BQUE0RSxHQUFBLEtBQUE1RSxLQU5BLElBQUFELEVBQUFaLE9BQ0EsTUFBQVcsR0FBQSxHQUFBdUMsYUFBQSxHQVNBZCxHQUFBeEIsRUFBQTRFLEVBQUEsU0FBQTFHLEVBQUFvSCxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLE9BQUEsU0FBQUMsRUFBQTlNLEdBQ0EsR0FBQThHLEVBTUEsT0FKQUEsR0FEQSxnQkFBQTlHLEdBQ0FBLEVBQUF5RyxPQUVBekcsRUFBQTZILFdBRUFpRixFQUFBaEcsRUFBQWlHLFdBQUF0RyxPQUFBSyxFQUFBLEdBQ0ssR0FFTGtHLEVBQUEsR0FBQXJGLFlBQUFpRixHQUVBSyxFQUFBLENBOEJBLE9BN0JBTixHQUFBTyxRQUFBLFNBQUFsTixHQUNBLEdBQUFtTixHQUFBLGdCQUFBbk4sR0FDQW9OLEVBQUFwTixDQUNBLElBQUFtTixFQUFBLENBRUEsT0FEQUUsR0FBQSxHQUFBMUYsWUFBQTNILEVBQUF5RyxRQUNBekYsRUFBQSxFQUF1QkEsRUFBQWhCLEVBQUF5RyxPQUFjekYsSUFDckNxTSxFQUFBck0sR0FBQWhCLEVBQUFzTixXQUFBdE0sRUFFQW9NLEdBQUFDLEVBQUF2RixPQUlBa0YsRUFBQUMsS0FEQUUsRUFDQSxFQUVBLENBSUEsUUFEQUksR0FBQUgsRUFBQXZGLFdBQUFrRixXQUNBL0wsRUFBQSxFQUFxQkEsRUFBQXVNLEVBQUE5RyxPQUFtQnpGLElBQ3hDZ00sRUFBQUMsS0FBQTVKLFNBQUFrSyxFQUFBdk0sR0FFQWdNLEdBQUFDLEtBQUEsR0FHQSxRQURBSSxHQUFBLEdBQUExRixZQUFBeUYsR0FDQXBNLEVBQUEsRUFBcUJBLEVBQUFxTSxFQUFBNUcsT0FBaUJ6RixJQUN0Q2dNLEVBQUFDLEtBQUFJLEVBQUFyTSxLQUlBb0csRUFBQTRGLEVBQUFsRixXQVFBeEksRUFBQThNLG9CQUFBLFNBQUEvRSxFQUFBRCxHQUNBLFFBQUE2RSxHQUFBOUUsRUFBQStFLEdBQ0E1TSxFQUFBOEksYUFBQWpCLEdBQUEsY0FBQXVELEdBQ0EsR0FBQThDLEdBQUEsR0FBQTdGLFlBQUEsRUFFQSxJQURBNkYsRUFBQSxLQUNBLGdCQUFBOUMsR0FBQSxDQUVBLE9BREEyQyxHQUFBLEdBQUExRixZQUFBK0MsRUFBQWpFLFFBQ0F6RixFQUFBLEVBQXVCQSxFQUFBMEosRUFBQWpFLE9BQW9CekYsSUFDM0NxTSxFQUFBck0sR0FBQTBKLEVBQUE0QyxXQUFBdE0sRUFFQTBKLEdBQUEyQyxFQUFBdkYsT0FDQTBGLEVBQUEsS0FTQSxPQU5BMUcsR0FBQTRELFlBQUFmLGFBQ0FlLEVBQUE3QyxXQUNBNkMsRUFBQStDLEtBRUFGLEVBQUF6RyxFQUFBaUcsV0FDQVcsRUFBQSxHQUFBL0YsWUFBQTRGLEVBQUE5RyxPQUFBLEdBQ0F6RixFQUFBLEVBQXFCQSxFQUFBdU0sRUFBQTlHLE9BQW1CekYsSUFDeEMwTSxFQUFBMU0sR0FBQXFDLFNBQUFrSyxFQUFBdk0sR0FJQSxJQUZBME0sRUFBQUgsRUFBQTlHLFFBQUEsSUFFQStCLEVBQUEsQ0FDQSxHQUFBbUYsR0FBQSxHQUFBbkYsSUFBQWdGLEVBQUExRixPQUFBNEYsRUFBQTVGLE9BQUE0QyxHQUNBd0IsR0FBQSxLQUFBeUIsTUFLQTlFLEVBQUF4QixFQUFBNEUsRUFBQSxTQUFBMUcsRUFBQStHLEdBQ0EsTUFBQWxGLEdBQUEsR0FBQW9CLEdBQUE4RCxPQWFBaE4sRUFBQW1OLHNCQUFBLFNBQUFuRixFQUFBZ0UsRUFBQWxFLEdBQ0Esa0JBQUFrRSxLQUNBbEUsRUFBQWtFLEVBQ0FBLEVBQUEsS0FNQSxLQUhBLEdBQUFzQyxHQUFBdEcsRUFDQXVHLEtBRUFELEVBQUEvRixXQUFBLElBS0EsT0FKQWlHLEdBQUEsR0FBQW5HLFlBQUFpRyxHQUNBVCxFQUFBLElBQUFXLEVBQUEsR0FDQUMsRUFBQSxHQUVBL00sRUFBQSxFQUNBLE1BQUE4TSxFQUFBOU0sR0FEcUJBLElBQUEsQ0FJckIsR0FBQStNLEVBQUF0SCxPQUFBLElBQ0EsTUFBQVcsR0FBQTdCLEVBQUEsSUFHQXdJLElBQUFELEVBQUE5TSxHQUdBNE0sRUFBQWxFLEVBQUFrRSxFQUFBLEVBQUFHLEVBQUF0SCxRQUNBc0gsRUFBQTFLLFNBQUEwSyxFQUVBLElBQUF6RSxHQUFBSSxFQUFBa0UsRUFBQSxFQUFBRyxFQUNBLElBQUFaLEVBQ0EsSUFDQTdELEVBQUFzQixPQUFBSyxhQUFBOUcsTUFBQSxRQUFBd0QsWUFBQTJCLElBQ08sTUFBQWxILEdBRVAsR0FBQThJLEdBQUEsR0FBQXZELFlBQUEyQixFQUNBQSxHQUFBLEVBQ0EsUUFBQXRJLEdBQUEsRUFBdUJBLEVBQUFrSyxFQUFBekUsT0FBa0J6RixJQUN6Q3NJLEdBQUFzQixPQUFBSyxhQUFBQyxFQUFBbEssSUFLQTZNLEVBQUExSCxLQUFBbUQsR0FDQXNFLEVBQUFsRSxFQUFBa0UsRUFBQUcsR0FHQSxHQUFBQyxHQUFBSCxFQUFBcEgsTUFDQW9ILEdBQUFYLFFBQUEsU0FBQXBGLEVBQUE5RyxHQUNBb0csRUFBQTlILEVBQUErTCxhQUFBdkQsRUFBQXdELEdBQUEsR0FBQXRLLEVBQUFnTixRQUk0QjlNLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEdBVUFBLEVBQUFxTCxPQUFBLFNBQUFoRixHQUNBLEdBQUFzSSxHQUFBLEVBRUEsUUFBQWpOLEtBQUEyRSxHQUNBQSxFQUFBMUYsZUFBQWUsS0FDQWlOLEVBQUF4SCxTQUFBd0gsR0FBQSxLQUNBQSxHQUFBQyxtQkFBQWxOLEdBQUEsSUFBQWtOLG1CQUFBdkksRUFBQTNFLElBSUEsT0FBQWlOLElBVUEzTyxFQUFBcUosT0FBQSxTQUFBd0YsR0FHQSxPQUZBQyxNQUNBQyxFQUFBRixFQUFBckQsTUFBQSxLQUNBOUosRUFBQSxFQUFBQyxFQUFBb04sRUFBQTVILE9BQW1DekYsRUFBQUMsRUFBT0QsSUFBQSxDQUMxQyxHQUFBc04sR0FBQUQsRUFBQXJOLEdBQUE4SixNQUFBLElBQ0FzRCxHQUFBRyxtQkFBQUQsRUFBQSxLQUFBQyxtQkFBQUQsRUFBQSxJQUVBLE1BQUFGLEtBTUEsU0FBQTdPLEVBQUFELEdBR0FDLEVBQUFELFFBQUEsU0FBQWtQLEVBQUFDLEdBQ0EsR0FBQXhJLEdBQUEsWUFDQUEsR0FBQWxFLFVBQUEwTSxFQUFBMU0sVUFDQXlNLEVBQUF6TSxVQUFBLEdBQUFrRSxHQUNBdUksRUFBQXpNLFVBQUEyTSxZQUFBRixJQUtBLFNBQUFqUCxFQUFBRCxFQUFBTyxHQW1IQSxRQUFBOE8sTUFvQ0EsUUFBQUMsR0FBQWpKLEdBR0EsR0FBQXNJLEdBQUEsR0FBQXRJLEVBQUFuRCxJQXdCQSxPQXJCQWxELEdBQUF1UCxlQUFBbEosRUFBQW5ELE1BQUFsRCxFQUFBd1AsYUFBQW5KLEVBQUFuRCxPQUNBeUwsR0FBQXRJLEVBQUFvSixZQUFBLEtBS0FwSixFQUFBcUosS0FBQSxNQUFBckosRUFBQXFKLE1BQ0FmLEdBQUF0SSxFQUFBcUosSUFBQSxLQUlBLE1BQUFySixFQUFBc0osS0FDQWhCLEdBQUF0SSxFQUFBc0osSUFJQSxNQUFBdEosRUFBQTJCLE9BQ0EyRyxHQUFBNUksS0FBQUMsVUFBQUssRUFBQTJCLE9BR0E3QyxFQUFBLG1CQUFBa0IsRUFBQXNJLEdBQ0FBLEVBYUEsUUFBQWlCLEdBQUF2SixFQUFBeUIsR0FFQSxRQUFBK0gsR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxFQUFBQyxrQkFBQUgsR0FDQUksRUFBQVosRUFBQVMsRUFBQWxJLFFBQ0EwRyxFQUFBd0IsRUFBQXhCLE9BRUFBLEdBQUE0QixRQUFBRCxHQUNBcEksRUFBQXlHLEdBR0F5QixFQUFBSSxZQUFBL0osRUFBQXdKLEdBVUEsUUFBQVEsS0FDQWpRLEtBQUFrUSxjQUFBLEtBd0RBLFFBQUFDLEdBQUE1QixHQUNBLEdBQUFqTixHQUFBLEVBRUFoQixHQUNBd0MsS0FBQW1KLE9BQUFzQyxFQUFBekMsT0FBQSxJQUdBLFVBQUFsTSxFQUFBd1EsTUFBQTlQLEVBQUF3QyxNQUFBLE1BQUE2RyxJQUdBLElBQUEvSixFQUFBdVAsZUFBQTdPLEVBQUF3QyxNQUFBbEQsRUFBQXdQLGFBQUE5TyxFQUFBd0MsS0FBQSxDQUVBLElBREEsR0FBQXVOLEdBQUEsR0FDQSxNQUFBOUIsRUFBQXpDLFNBQUF4SyxLQUNBK08sR0FBQTlCLEVBQUF6QyxPQUFBeEssR0FDQUEsR0FBQWlOLEVBQUF4SCxVQUVBLEdBQUFzSixHQUFBcEUsT0FBQW9FLElBQUEsTUFBQTlCLEVBQUF6QyxPQUFBeEssR0FDQSxTQUFBZ1AsT0FBQSxzQkFFQWhRLEdBQUErTyxZQUFBcEQsT0FBQW9FLEdBSUEsU0FBQTlCLEVBQUF6QyxPQUFBeEssRUFBQSxHQUVBLElBREFoQixFQUFBZ1AsSUFBQSxLQUNBaE8sR0FBQSxDQUNBLEdBQUFHLEdBQUE4TSxFQUFBekMsT0FBQXhLLEVBQ0EsVUFBQUcsRUFBQSxLQUVBLElBREFuQixFQUFBZ1AsS0FBQTdOLEVBQ0FILElBQUFpTixFQUFBeEgsT0FBQSxVQUdBekcsR0FBQWdQLElBQUEsR0FJQSxJQUFBOUYsR0FBQStFLEVBQUF6QyxPQUFBeEssRUFBQSxFQUNBLFNBQUFrSSxHQUFBeUMsT0FBQXpDLE1BQUEsQ0FFQSxJQURBbEosRUFBQWlQLEdBQUEsS0FDQWpPLEdBQUEsQ0FDQSxHQUFBRyxHQUFBOE0sRUFBQXpDLE9BQUF4SyxFQUNBLFVBQUFHLEdBQUF3SyxPQUFBeEssTUFBQSxHQUNBSCxDQUNBLE9BR0EsR0FEQWhCLEVBQUFpUCxJQUFBaEIsRUFBQXpDLE9BQUF4SyxHQUNBQSxJQUFBaU4sRUFBQXhILE9BQUEsTUFFQXpHLEVBQUFpUCxHQUFBdEQsT0FBQTNMLEVBQUFpUCxJQVNBLE1BTEFoQixHQUFBekMsU0FBQXhLLEtBQ0FoQixFQUFBaVEsRUFBQWpRLEVBQUFpTyxFQUFBdkMsT0FBQTFLLEtBR0F5RCxFQUFBLG1CQUFBd0osRUFBQWpPLEdBQ0FBLEVBR0EsUUFBQWlRLEdBQUFqUSxFQUFBaU8sR0FDQSxJQUNBak8sRUFBQXNILEtBQUFqQyxLQUFBNkssTUFBQWpDLEdBQ0csTUFBQTdMLEdBQ0gsTUFBQWlILEtBRUEsTUFBQXJKLEdBeUJBLFFBQUFtUSxHQUFBaEosR0FDQXpILEtBQUEwUSxVQUFBakosRUFDQXpILEtBQUFtTyxXQWtDQSxRQUFBeEUsS0FDQSxPQUNBN0csS0FBQWxELEVBQUErUSxNQUNBL0ksS0FBQSxnQkF4WUEsR0FBQTdDLEdBQUE1RSxFQUFBLHVCQUNBNkYsRUFBQTdGLEVBQUEsR0FDQXlRLEVBQUF6USxFQUFBLElBQ0F5UCxFQUFBelAsRUFBQSxJQUNBMFEsRUFBQTFRLEVBQUEsR0FRQVAsR0FBQXlLLFNBQUEsRUFRQXpLLEVBQUF3USxPQUNBLFVBQ0EsYUFDQSxRQUNBLE1BQ0EsUUFDQSxlQUNBLGNBU0F4USxFQUFBa1IsUUFBQSxFQVFBbFIsRUFBQW1SLFdBQUEsRUFRQW5SLEVBQUFvUixNQUFBLEVBUUFwUixFQUFBcVIsSUFBQSxFQVFBclIsRUFBQStRLE1BQUEsRUFRQS9RLEVBQUF1UCxhQUFBLEVBUUF2UCxFQUFBd1AsV0FBQSxFQVFBeFAsRUFBQXFQLFVBUUFyUCxFQUFBcVEsVUFvQkFoQixFQUFBNU0sVUFBQTRJLE9BQUEsU0FBQWhGLEVBQUF5QixHQU9BLEdBTkF6QixFQUFBbkQsT0FBQWxELEVBQUFvUixPQUFBL0ssRUFBQW5ELE9BQUFsRCxFQUFBcVIsTUFBQUwsRUFBQTNLLEVBQUEyQixRQUNBM0IsRUFBQW5ELEtBQUFtRCxFQUFBbkQsT0FBQWxELEVBQUFvUixNQUFBcFIsRUFBQXVQLGFBQUF2UCxFQUFBd1AsWUFHQXJLLEVBQUEscUJBQUFrQixHQUVBckcsRUFBQXVQLGVBQUFsSixFQUFBbkQsTUFBQWxELEVBQUF3UCxhQUFBbkosRUFBQW5ELEtBQ0EwTSxFQUFBdkosRUFBQXlCLE9BRUEsQ0FFQUEsR0FEQXdILEVBQUFqSixPQWtGQUQsRUFBQWlLLEVBQUE1TixXQVVBNE4sRUFBQTVOLFVBQUE2TyxJQUFBLFNBQUFqTCxHQUNBLEdBQUF3QixFQUNBLG9CQUFBeEIsR0FDQXdCLEVBQUEwSSxFQUFBbEssR0FDQXJHLEVBQUF1UCxlQUFBMUgsRUFBQTNFLE1BQUFsRCxFQUFBd1AsYUFBQTNILEVBQUEzRSxNQUNBOUMsS0FBQWtRLGNBQUEsR0FBQU8sR0FBQWhKLEdBR0EsSUFBQXpILEtBQUFrUSxjQUFBUSxVQUFBckIsYUFDQXJQLEtBQUFrSCxLQUFBLFVBQUFPLElBR0F6SCxLQUFBa0gsS0FBQSxVQUFBTyxPQUdBLEtBQUFvSixFQUFBNUssT0FBQThFLE9BWUEsU0FBQXVGLE9BQUEsaUJBQUFySyxFQVhBLEtBQUFqRyxLQUFBa1EsY0FDQSxTQUFBSSxPQUFBLHFEQUVBN0ksRUFBQXpILEtBQUFrUSxjQUFBaUIsZUFBQWxMLE1BRUFqRyxLQUFBa1EsY0FBQSxLQUNBbFEsS0FBQWtILEtBQUEsVUFBQU8sTUE0RkF3SSxFQUFBNU4sVUFBQStPLFFBQUEsV0FDQXBSLEtBQUFrUSxlQUNBbFEsS0FBQWtRLGNBQUFtQiwwQkE2QkFaLEVBQUFwTyxVQUFBOE8sZUFBQSxTQUFBRyxHQUVBLEdBREF0UixLQUFBbU8sUUFBQTFILEtBQUE2SyxHQUNBdFIsS0FBQW1PLFFBQUFwSCxTQUFBL0csS0FBQTBRLFVBQUFyQixZQUFBLENBQ0EsR0FBQTVILEdBQUFtSSxFQUFBMkIsa0JBQUF2UixLQUFBMFEsVUFBQTFRLEtBQUFtTyxRQUVBLE9BREFuTyxNQUFBcVIseUJBQ0E1SixFQUVBLGFBU0FnSixFQUFBcE8sVUFBQWdQLHVCQUFBLFdBQ0FyUixLQUFBMFEsVUFBQSxLQUNBMVEsS0FBQW1PLGFBYUEsU0FBQXRPLEVBQUFELEVBQUFPLElBRUEsU0FBQW9ILEdBRUEsR0FBQWlLLEdBQUFyUixFQUFBLEdBRUFOLEdBQUFELFFBQUEsU0FBQTZSLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUMsUUFJQUMsRUFBQUYsRUFBQUUsUUFJQUMsRUFBQUgsRUFBQUcsVUFHQSxLQUNBLHNCQUFBQyxtQkFBQUgsR0FBQUYsR0FDQSxVQUFBSyxnQkFFRyxNQUFBblAsSUFLSCxJQUNBLHNCQUFBb1Asa0JBQUFILEdBQUFDLEVBQ0EsVUFBQUUsZ0JBRUcsTUFBQXBQLElBRUgsSUFBQWdQLEVBQ0EsSUFDQSxXQUFBbkssR0FBQSxVQUFBd0ssT0FBQSxVQUFBbEYsS0FBQSw0QkFDSyxNQUFBbkssUUFJdUJsQixLQUFBNUIsRUFBQU8sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxFQUFBTyxHQXNCQSxRQUFBNlIsR0FBQVAsR0FDQXpSLEtBQUFpUyxLQUFBUixFQUFBUSxLQUNBalMsS0FBQWtTLFNBQUFULEVBQUFTLFNBQ0FsUyxLQUFBbVMsS0FBQVYsRUFBQVUsS0FDQW5TLEtBQUFvUyxPQUFBWCxFQUFBVyxPQUNBcFMsS0FBQXFTLE1BQUFaLEVBQUFZLE1BQ0FyUyxLQUFBc1MsZUFBQWIsRUFBQWEsZUFDQXRTLEtBQUF1UyxrQkFBQWQsRUFBQWMsa0JBQ0F2UyxLQUFBd1MsV0FBQSxHQUNBeFMsS0FBQXlTLE1BQUFoQixFQUFBZ0IsUUFBQSxFQUNBelMsS0FBQTBTLE9BQUFqQixFQUFBaUIsT0FDQTFTLEtBQUE0UixXQUFBSCxFQUFBRyxXQUdBNVIsS0FBQTJTLElBQUFsQixFQUFBa0IsSUFDQTNTLEtBQUFtRyxJQUFBc0wsRUFBQXRMLElBQ0FuRyxLQUFBNFMsV0FBQW5CLEVBQUFtQixXQUNBNVMsS0FBQTZTLEtBQUFwQixFQUFBb0IsS0FDQTdTLEtBQUE4UyxHQUFBckIsRUFBQXFCLEdBQ0E5UyxLQUFBK1MsUUFBQXRCLEVBQUFzQixRQUNBL1MsS0FBQWdULG1CQUFBdkIsRUFBQXVCLG1CQUNBaFQsS0FBQWlULFVBQUF4QixFQUFBd0IsVUFHQWpULEtBQUFrVCxhQUFBekIsRUFBQXlCLGFBQ0FsVCxLQUFBbVQsYUFBQTFCLEVBQUEwQixhQXpDQSxHQUFBQyxHQUFBalQsRUFBQSxHQUNBNkYsRUFBQTdGLEVBQUEsRUFNQU4sR0FBQUQsUUFBQW9TLEVBeUNBaE0sRUFBQWdNLEVBQUEzUCxXQVVBMlAsRUFBQTNQLFVBQUFnUixRQUFBLFNBQUF6SixFQUFBMEosR0FDQSxHQUFBek4sR0FBQSxHQUFBeUssT0FBQTFHLEVBSUEsT0FIQS9ELEdBQUEvQyxLQUFBLGlCQUNBK0MsRUFBQTBOLFlBQUFELEVBQ0F0VCxLQUFBa0gsS0FBQSxRQUFBckIsR0FDQTdGLE1BU0FnUyxFQUFBM1AsVUFBQWlJLEtBQUEsV0FNQSxNQUxBLFdBQUF0SyxLQUFBd1MsWUFBQSxLQUFBeFMsS0FBQXdTLGFBQ0F4UyxLQUFBd1MsV0FBQSxVQUNBeFMsS0FBQXdULFVBR0F4VCxNQVNBZ1MsRUFBQTNQLFVBQUFrSSxNQUFBLFdBTUEsTUFMQSxZQUFBdkssS0FBQXdTLFlBQUEsU0FBQXhTLEtBQUF3UyxhQUNBeFMsS0FBQXlULFVBQ0F6VCxLQUFBMFQsV0FHQTFULE1BVUFnUyxFQUFBM1AsVUFBQXNSLEtBQUEsU0FBQWhNLEdBQ0EsWUFBQTNILEtBQUF3UyxXQUdBLFNBQUFsQyxPQUFBLHFCQUZBdFEsTUFBQTRULE1BQUFqTSxJQVlBcUssRUFBQTNQLFVBQUF3UixPQUFBLFdBQ0E3VCxLQUFBd1MsV0FBQSxPQUNBeFMsS0FBQThULFVBQUEsRUFDQTlULEtBQUFrSCxLQUFBLFNBVUE4SyxFQUFBM1AsVUFBQTBSLE9BQUEsU0FBQW5NLEdBQ0EsR0FBQUgsR0FBQTJMLEVBQUF6SCxhQUFBL0QsRUFBQTVILEtBQUEwUyxPQUFBOUcsV0FDQTVMLE1BQUFnVSxTQUFBdk0sSUFPQXVLLEVBQUEzUCxVQUFBMlIsU0FBQSxTQUFBdk0sR0FDQXpILEtBQUFrSCxLQUFBLFNBQUFPLElBU0F1SyxFQUFBM1AsVUFBQXFSLFFBQUEsV0FDQTFULEtBQUF3UyxXQUFBLFNBQ0F4UyxLQUFBa0gsS0FBQSxXQU1BLFNBQUFySCxFQUFBRCxHQUdBLEdBQUEySCxHQUFBMUgsRUFBQUQsUUFBQSxtQkFBQStDLGdCQUFBc1IsV0FDQXRSLE9BQUEsbUJBQUF1UixZQUFBRCxXQUFBQyxLQUVBMVIsU0FBQSxnQkFDQSxpQkFBQTJSLFdBQUE1TSxJQUtBLFNBQUExSCxFQUFBRCxHQUVBQyxFQUFBRCxRQUFBLFNBQUF3VSxHQUNBLHNCQUFBQSxHQUFBLE9BQUFBLEVBQUEsa0JBQUFBLEtBTUEsU0FBQXZVLEVBQUFELEVBQUFPLEdBR0FOLEVBQUFELFNBQUFPLEVBQUEsZUFDQSxNQUEwRSxJQUExRUssT0FBQUMsa0JBQWlDLEtBQVF1QixJQUFBLFdBQW1CLFlBQWM4TSxLQU0xRSxTQUFBalAsRUFBQUQsR0FFQUMsRUFBQUQsUUFBQSxTQUFBeVUsR0FDQSxJQUNBLFFBQUFBLElBQ0csTUFBQTNSLEdBQ0gsWUFPQSxTQUFBN0MsRUFBQUQsRUFBQU8sR0FFQSxZQUdBUCxHQUFBcUosT0FBQXJKLEVBQUE0USxNQUFBclEsRUFBQSxJQUNBUCxFQUFBcUwsT0FBQXJMLEVBQUFnRyxVQUFBekYsRUFBQSxLQUtBLFNBQUFOLEVBQUFELEdBRUFDLEVBQUFELFFBQUEsU0FBQUMsR0FvQkEsTUFuQkFBLEdBQUF5VSxrQkFDQXpVLEVBQUEwVSxVQUFBLGFBQ0ExVSxFQUFBMlUsU0FFQTNVLEVBQUE0VSxXQUFBNVUsRUFBQTRVLGFBQ0FqVSxPQUFBQyxlQUFBWixFQUFBLFVBQ0FrQyxZQUFBLEVBQ0FDLElBQUEsV0FDQSxNQUFBbkMsR0FBQTBCLEtBR0FmLE9BQUFDLGVBQUFaLEVBQUEsTUFDQWtDLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE1BQUFuQyxHQUFBeUIsS0FHQXpCLEVBQUF5VSxnQkFBQSxHQUVBelUsSUFNQSxTQUFBQSxFQUFBRCxHQVNBLEdBQUE4VSxHQUFBLDBPQUVBQyxHQUNBLGlJQUdBOVUsR0FBQUQsUUFBQSxTQUFBMk8sR0FDQSxHQUFBcUcsR0FBQXJHLEVBQ0FRLEVBQUFSLEVBQUFzRyxRQUFBLEtBQ0FuUyxFQUFBNkwsRUFBQXNHLFFBQUEsTUFFQSxHQUFBOUYsSUFBQSxHQUFBck0sSUFDQTZMLElBQUFyQyxVQUFBLEVBQUE2QyxHQUFBUixFQUFBckMsVUFBQTZDLEVBQUFyTSxHQUFBNkIsUUFBQSxVQUF3RWdLLEVBQUFyQyxVQUFBeEosRUFBQTZMLEVBQUF4SCxRQU94RSxLQUpBLEdBQUExRyxHQUFBcVUsRUFBQUwsS0FBQTlGLEdBQUEsSUFDQXVHLEtBQ0F4VCxFQUFBLEdBRUFBLEtBQ0F3VCxFQUFBSCxFQUFBclQsSUFBQWpCLEVBQUFpQixJQUFBLEVBVUEsUUFQQSxHQUFBeU4sSUFBQSxHQUFBck0sSUFDQW9TLEVBQUFDLE9BQUFILEVBQ0FFLEVBQUFFLEtBQUFGLEVBQUFFLEtBQUE5SSxVQUFBLEVBQUE0SSxFQUFBRSxLQUFBak8sT0FBQSxHQUFBeEMsUUFBQSxLQUF3RSxLQUN4RXVRLEVBQUFHLFVBQUFILEVBQUFHLFVBQUExUSxRQUFBLFFBQUFBLFFBQUEsUUFBQUEsUUFBQSxLQUFrRixLQUNsRnVRLEVBQUFJLFNBQUEsR0FHQUosSUFNQSxTQUFBalYsRUFBQUQsRUFBQU8sSUFFQSxTQUFBb0gsR0EyQkEsUUFBQXdDLEdBQUE5RCxHQUNBLElBQUFBLEdBQUEsZ0JBQUFBLEdBQ0EsUUFHQSxJQUFBa1AsRUFBQWxQLEdBQUEsQ0FDQSxPQUFBM0UsR0FBQSxFQUFBQyxFQUFBMEUsRUFBQWMsT0FBbUN6RixFQUFBQyxFQUFPRCxJQUMxQyxHQUFBeUksRUFBQTlELEVBQUEzRSxJQUNBLFFBR0EsVUFHQSxxQkFBQWlHLEdBQUE2TixRQUFBN04sRUFBQTZOLE9BQUFDLFVBQUE5TixFQUFBNk4sT0FBQUMsU0FBQXBQLElBQ0Esa0JBQUFzQixHQUFBMEMsYUFBQWhFLFlBQUFnRSxjQUNBcUwsR0FBQXJQLFlBQUE2QyxPQUNBeU0sR0FBQXRQLFlBQUF1UCxNQUVBLFFBSUEsSUFBQXZQLEVBQUF3UCxRQUFBLGtCQUFBeFAsR0FBQXdQLFFBQUEsSUFBQS9RLFVBQUFxQyxPQUNBLE1BQUFnRCxHQUFBOUQsRUFBQXdQLFVBQUEsRUFHQSxRQUFBdFAsS0FBQUYsR0FDQSxHQUFBekYsT0FBQTZCLFVBQUE5QixlQUFBaUIsS0FBQXlFLEVBQUFFLElBQUE0RCxFQUFBOUQsRUFBQUUsSUFDQSxRQUlBLFVBdERBLEdBQUFnUCxHQUFBaFYsRUFBQSxJQUVBa04sRUFBQTdNLE9BQUE2QixVQUFBZ0wsU0FDQWlJLEVBQUEsa0JBQUEvTixHQUFBdUIsTUFBQSw2QkFBQXVFLEVBQUE3TCxLQUFBK0YsRUFBQXVCLE1BQ0F5TSxFQUFBLGtCQUFBaE8sR0FBQWlPLE1BQUEsNkJBQUFuSSxFQUFBN0wsS0FBQStGLEVBQUFpTyxLQU1BM1YsR0FBQUQsUUFBQW1LLElBK0M0QnZJLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEVBQUFPLElBRUEsU0FBQW9ILEdBU0EsUUFBQXNKLEdBQUE1SyxHQUNBLE1BQUFzQixHQUFBNk4sUUFBQTdOLEVBQUE2TixPQUFBQyxTQUFBcFAsSUFDQXNCLEVBQUEwQyxhQUFBaEUsWUFBQWdFLGFBVkFwSyxFQUFBRCxRQUFBaVIsSUFhNEJyUCxLQUFBNUIsRUFBQU8sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxFQUFBTyxHQXFDQSxRQUFBdVYsR0FBQVosRUFBQXJELEdBQ0EsS0FBQXpSLGVBQUEwVixJQUFBLFVBQUFBLEdBQUFaLEVBQUFyRCxFQUNBcUQsSUFBQSxnQkFBQUEsS0FDQXJELEVBQUFxRCxFQUNBQSxNQUFBaEssSUFFQTJHLFFBRUFBLEVBQUFRLEtBQUFSLEVBQUFRLE1BQUEsYUFDQWpTLEtBQUEyVixRQUNBM1YsS0FBQTRWLFFBQ0E1VixLQUFBeVIsT0FDQXpSLEtBQUE2VixjQUFBLElBQUFwRSxFQUFBb0UsY0FDQTdWLEtBQUE4VixxQkFBQXJFLEVBQUFxRSxzQkFBQUMsS0FDQS9WLEtBQUFnVyxrQkFBQXZFLEVBQUF1RSxtQkFBQSxLQUNBaFcsS0FBQWlXLHFCQUFBeEUsRUFBQXdFLHNCQUFBLEtBQ0FqVyxLQUFBa1csb0JBQUF6RSxFQUFBeUUscUJBQUEsSUFDQWxXLEtBQUFtVyxRQUFBLEdBQUFDLElBQ0FDLElBQUFyVyxLQUFBZ1csb0JBQ0FNLElBQUF0VyxLQUFBaVcsdUJBQ0FNLE9BQUF2VyxLQUFBa1csd0JBRUFsVyxLQUFBd1csUUFBQSxNQUFBL0UsRUFBQStFLFFBQUEsSUFBQS9FLEVBQUErRSxTQUNBeFcsS0FBQXdTLFdBQUEsU0FDQXhTLEtBQUE4VSxNQUNBOVUsS0FBQXlXLGNBQ0F6VyxLQUFBMFcsU0FBQSxLQUNBMVcsS0FBQTJXLFVBQUEsRUFDQTNXLEtBQUE0VyxlQUNBLElBQUFDLEdBQUFwRixFQUFBMkIsU0FDQXBULE1BQUE4VyxRQUFBLEdBQUFELEdBQUE1SCxRQUNBalAsS0FBQStXLFFBQUEsR0FBQUYsR0FBQTVHLFFBQ0FqUSxLQUFBZ1gsYUFBQSxJQUFBdkYsRUFBQXVGLFlBQ0FoWCxLQUFBZ1gsYUFBQWhYLEtBQUFzSyxPQS9EQSxHQUFBMk0sR0FBQTlXLEVBQUEsSUFDQStXLEVBQUEvVyxFQUFBLElBQ0E2RixFQUFBN0YsRUFBQSxHQUNBaVQsRUFBQWpULEVBQUEsR0FDQWlHLEVBQUFqRyxFQUFBLElBQ0FnWCxFQUFBaFgsRUFBQSxJQUNBNEUsRUFBQTVFLEVBQUEsK0JBQ0EwVSxFQUFBMVUsRUFBQSxJQUNBaVcsRUFBQWpXLEVBQUEsSUFNQWlYLEVBQUE1VyxPQUFBNkIsVUFBQTlCLGNBTUFWLEdBQUFELFFBQUE4VixFQW9EQUEsRUFBQXJULFVBQUFnVixRQUFBLFdBQ0FyWCxLQUFBa0gsS0FBQXpDLE1BQUF6RSxLQUFBMEUsVUFDQSxRQUFBNEssS0FBQXRQLE1BQUEyVixLQUNBeUIsRUFBQTVWLEtBQUF4QixLQUFBMlYsS0FBQXJHLElBQ0F0UCxLQUFBMlYsS0FBQXJHLEdBQUFwSSxLQUFBekMsTUFBQXpFLEtBQUEyVixLQUFBckcsR0FBQTVLLFlBV0FnUixFQUFBclQsVUFBQWlWLGdCQUFBLFdBQ0EsT0FBQWhJLEtBQUF0UCxNQUFBMlYsS0FDQXlCLEVBQUE1VixLQUFBeEIsS0FBQTJWLEtBQUFyRyxLQUNBdFAsS0FBQTJWLEtBQUFyRyxHQUFBQyxHQUFBdlAsS0FBQXVYLFdBQUFqSSxLQWFBb0csRUFBQXJULFVBQUFrVixXQUFBLFNBQUFqSSxHQUNBLGFBQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUFBdFAsS0FBQXdYLE9BQUFqSSxJQU9BdkosRUFBQTBQLEVBQUFyVCxXQVVBcVQsRUFBQXJULFVBQUF3VCxhQUFBLFNBQUFuUSxHQUNBLE1BQUFoQixXQUFBcUMsUUFDQS9HLEtBQUF5WCxnQkFBQS9SLEVBQ0ExRixNQUZBQSxLQUFBeVgsZUFhQS9CLEVBQUFyVCxVQUFBeVQscUJBQUEsU0FBQXBRLEdBQ0EsTUFBQWhCLFdBQUFxQyxRQUNBL0csS0FBQTBYLHNCQUFBaFMsRUFDQTFGLE1BRkFBLEtBQUEwWCx1QkFhQWhDLEVBQUFyVCxVQUFBMlQsa0JBQUEsU0FBQXRRLEdBQ0EsTUFBQWhCLFdBQUFxQyxRQUNBL0csS0FBQTJYLG1CQUFBalMsRUFDQTFGLEtBQUFtVyxTQUFBblcsS0FBQW1XLFFBQUF5QixPQUFBbFMsR0FDQTFGLE1BSEFBLEtBQUEyWCxvQkFNQWpDLEVBQUFyVCxVQUFBNlQsb0JBQUEsU0FBQXhRLEdBQ0EsTUFBQWhCLFdBQUFxQyxRQUNBL0csS0FBQTZYLHFCQUFBblMsRUFDQTFGLEtBQUFtVyxTQUFBblcsS0FBQW1XLFFBQUEyQixVQUFBcFMsR0FDQTFGLE1BSEFBLEtBQUE2WCxzQkFjQW5DLEVBQUFyVCxVQUFBNFQscUJBQUEsU0FBQXZRLEdBQ0EsTUFBQWhCLFdBQUFxQyxRQUNBL0csS0FBQStYLHNCQUFBclMsRUFDQTFGLEtBQUFtVyxTQUFBblcsS0FBQW1XLFFBQUE2QixPQUFBdFMsR0FDQTFGLE1BSEFBLEtBQUErWCx1QkFhQXJDLEVBQUFyVCxVQUFBbVUsUUFBQSxTQUFBOVEsR0FDQSxNQUFBaEIsV0FBQXFDLFFBQ0EvRyxLQUFBaVksU0FBQXZTLEVBQ0ExRixNQUZBQSxLQUFBaVksVUFZQXZDLEVBQUFyVCxVQUFBNlYscUJBQUEsWUFFQWxZLEtBQUFtWSxjQUFBblksS0FBQXlYLGVBQUEsSUFBQXpYLEtBQUFtVyxRQUFBaUMsVUFFQXBZLEtBQUFxWSxhQVlBM0MsRUFBQXJULFVBQUFpSSxLQUNBb0wsRUFBQXJULFVBQUFpVyxRQUFBLFNBQUEvUixFQUFBa0wsR0FFQSxHQURBMU0sRUFBQSxnQkFBQS9FLEtBQUF3UyxhQUNBeFMsS0FBQXdTLFdBQUFxQyxRQUFBLGNBQUE3VSxLQUVBK0UsR0FBQSxhQUFBL0UsS0FBQThVLEtBQ0E5VSxLQUFBd1gsT0FBQVAsRUFBQWpYLEtBQUE4VSxJQUFBOVUsS0FBQXlSLEtBQ0EsSUFBQWlCLEdBQUExUyxLQUFBd1gsT0FDQXRELEVBQUFsVSxJQUNBQSxNQUFBd1MsV0FBQSxVQUNBeFMsS0FBQXVZLGVBQUEsQ0FHQSxJQUFBQyxHQUFBcFMsRUFBQXNNLEVBQUEsa0JBQ0F3QixFQUFBdUUsU0FDQWxTLFNBSUFtUyxFQUFBdFMsRUFBQXNNLEVBQUEsaUJBQUE5SyxHQUtBLEdBSkE3QyxFQUFBLGlCQUNBbVAsRUFBQXlFLFVBQ0F6RSxFQUFBMUIsV0FBQSxTQUNBMEIsRUFBQW1ELFFBQUEsZ0JBQUF6UCxHQUNBckIsRUFBQSxDQUNBLEdBQUFWLEdBQUEsR0FBQXlLLE9BQUEsbUJBQ0F6SyxHQUFBK0IsT0FDQXJCLEVBQUFWLE9BR0FxTyxHQUFBZ0Usd0JBS0EsU0FBQWxZLEtBQUFpWSxTQUFBLENBQ0EsR0FBQXpCLEdBQUF4VyxLQUFBaVksUUFDQWxULEdBQUEsd0NBQUF5UixFQUdBLElBQUFvQyxHQUFBQyxXQUFBLFdBQ0E5VCxFQUFBLHFDQUFBeVIsR0FDQWdDLEVBQUFwSCxVQUNBc0IsRUFBQW5JLFFBQ0FtSSxFQUFBeEwsS0FBQSxtQkFDQWdOLEVBQUFtRCxRQUFBLGtCQUFBYixJQUNLQSxFQUVMeFcsTUFBQTRWLEtBQUFuUCxNQUNBMkssUUFBQSxXQUNBMEgsYUFBQUYsTUFRQSxNQUhBNVksTUFBQTRWLEtBQUFuUCxLQUFBK1IsR0FDQXhZLEtBQUE0VixLQUFBblAsS0FBQWlTLEdBRUExWSxNQVNBMFYsRUFBQXJULFVBQUFvVyxPQUFBLFdBQ0ExVCxFQUFBLFFBR0EvRSxLQUFBMlksVUFHQTNZLEtBQUF3UyxXQUFBLE9BQ0F4UyxLQUFBa0gsS0FBQSxPQUdBLElBQUF3TCxHQUFBMVMsS0FBQXdYLE1BQ0F4WCxNQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFzTSxFQUFBLE9BQUF5RSxFQUFBblgsS0FBQSxZQUNBQSxLQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFzTSxFQUFBLE9BQUF5RSxFQUFBblgsS0FBQSxZQUNBQSxLQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFzTSxFQUFBLE9BQUF5RSxFQUFBblgsS0FBQSxZQUNBQSxLQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFzTSxFQUFBLFFBQUF5RSxFQUFBblgsS0FBQSxhQUNBQSxLQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFzTSxFQUFBLFFBQUF5RSxFQUFBblgsS0FBQSxhQUNBQSxLQUFBNFYsS0FBQW5QLEtBQUFMLEVBQUFwRyxLQUFBK1csUUFBQSxVQUFBSSxFQUFBblgsS0FBQSxnQkFTQTBWLEVBQUFyVCxVQUFBMFcsT0FBQSxXQUNBL1ksS0FBQTBXLFNBQUEsR0FBQXNDLE1BQ0FoWixLQUFBcVgsUUFBQSxTQVNBM0IsRUFBQXJULFVBQUE0VyxPQUFBLFdBQ0FqWixLQUFBcVgsUUFBQSxVQUFBMkIsTUFBQWhaLEtBQUEwVyxXQVNBaEIsRUFBQXJULFVBQUE2VyxPQUFBLFNBQUF0UixHQUNBNUgsS0FBQStXLFFBQUE3RixJQUFBdEosSUFTQThOLEVBQUFyVCxVQUFBOFcsVUFBQSxTQUFBMVIsR0FDQXpILEtBQUFrSCxLQUFBLFNBQUFPLElBU0FpTyxFQUFBclQsVUFBQStXLFFBQUEsU0FBQXZULEdBQ0FkLEVBQUEsUUFBQWMsR0FDQTdGLEtBQUFxWCxRQUFBLFFBQUF4UixJQVVBNlAsRUFBQXJULFVBQUFxUSxPQUFBLFNBQUFwRCxFQUFBbUMsR0FpQkEsUUFBQTRILE1BQ0F4RSxFQUFBWCxFQUFBdUMsV0FBQS9ELElBQ0F3QixFQUFBdUMsV0FBQWhRLEtBQUFpTSxHQWxCQSxHQUFBQSxHQUFBMVMsS0FBQTJWLEtBQUFyRyxFQUNBLEtBQUFvRCxFQUFBLENBQ0FBLEVBQUEsR0FBQXdFLEdBQUFsWCxLQUFBc1AsRUFBQW1DLEdBQ0F6UixLQUFBMlYsS0FBQXJHLEdBQUFvRCxDQUNBLElBQUF3QixHQUFBbFUsSUFDQTBTLEdBQUF0TSxHQUFBLGFBQUFpVCxHQUNBM0csRUFBQXRNLEdBQUEscUJBQ0FzTSxFQUFBbkQsR0FBQTJFLEVBQUFxRCxXQUFBakksS0FHQXRQLEtBQUFnWCxhQUVBcUMsSUFVQSxNQUFBM0csSUFTQWdELEVBQUFyVCxVQUFBK08sUUFBQSxTQUFBc0IsR0FDQSxHQUFBck8sR0FBQXdRLEVBQUE3VSxLQUFBeVcsV0FBQS9ELElBQ0FyTyxHQUFBckUsS0FBQXlXLFdBQUFyUyxPQUFBQyxFQUFBLEdBQ0FyRSxLQUFBeVcsV0FBQTFQLFFBRUEvRyxLQUFBdUssU0FVQW1MLEVBQUFyVCxVQUFBb0YsT0FBQSxTQUFBQSxHQUNBMUMsRUFBQSxvQkFBQTBDLEVBQ0EsSUFBQXlNLEdBQUFsVSxJQUNBeUgsR0FBQTRLLE9BQUEsSUFBQTVLLEVBQUEzRSxPQUFBMkUsRUFBQTZILEtBQUEsSUFBQTdILEVBQUE0SyxPQUVBNkIsRUFBQXlDLFNBV0F6QyxFQUFBMEMsYUFBQW5RLEtBQUFnQixJQVRBeU0sRUFBQXlDLFVBQUEsRUFDQTNXLEtBQUE4VyxRQUFBN0wsT0FBQXhELEVBQUEsU0FBQXdGLEdBQ0EsT0FBQTNMLEdBQUEsRUFBcUJBLEVBQUEyTCxFQUFBbEcsT0FBMkJ6RixJQUNoRDRTLEVBQUFzRCxPQUFBNUQsTUFBQTNHLEVBQUEzTCxHQUFBbUcsRUFBQTZSLFFBRUFwRixHQUFBeUMsVUFBQSxFQUNBekMsRUFBQXFGLHlCQWNBN0QsRUFBQXJULFVBQUFrWCxtQkFBQSxXQUNBLEdBQUF2WixLQUFBNFcsYUFBQTdQLE9BQUEsSUFBQS9HLEtBQUEyVyxTQUFBLENBQ0EsR0FBQTdHLEdBQUE5UCxLQUFBNFcsYUFBQTRDLE9BQ0F4WixNQUFBeUgsT0FBQXFJLEtBVUE0RixFQUFBclQsVUFBQXNXLFFBQUEsV0FDQTVULEVBQUEsVUFHQSxRQURBMFUsR0FBQXpaLEtBQUE0VixLQUFBN08sT0FDQXpGLEVBQUEsRUFBaUJBLEVBQUFtWSxFQUFnQm5ZLElBQUEsQ0FDakN0QixLQUFBNFYsS0FBQTRELFFBQ0FwSSxVQUdBcFIsS0FBQTRXLGdCQUNBNVcsS0FBQTJXLFVBQUEsRUFDQTNXLEtBQUEwVyxTQUFBLEtBRUExVyxLQUFBK1csUUFBQTNGLFdBU0FzRSxFQUFBclQsVUFBQWtJLE1BQ0FtTCxFQUFBclQsVUFBQXFYLFdBQUEsV0FDQTNVLEVBQUEsY0FDQS9FLEtBQUF1WSxlQUFBLEVBQ0F2WSxLQUFBbVksY0FBQSxFQUNBLFlBQUFuWSxLQUFBd1MsWUFHQXhTLEtBQUEyWSxVQUVBM1ksS0FBQW1XLFFBQUF3RCxRQUNBM1osS0FBQXdTLFdBQUEsU0FDQXhTLEtBQUF3WCxRQUFBeFgsS0FBQXdYLE9BQUFqTixTQVNBbUwsRUFBQXJULFVBQUF1WCxRQUFBLFNBQUFDLEdBQ0E5VSxFQUFBLFdBRUEvRSxLQUFBMlksVUFDQTNZLEtBQUFtVyxRQUFBd0QsUUFDQTNaLEtBQUF3UyxXQUFBLFNBQ0F4UyxLQUFBa0gsS0FBQSxRQUFBMlMsR0FFQTdaLEtBQUF5WCxnQkFBQXpYLEtBQUF1WSxlQUNBdlksS0FBQXFZLGFBVUEzQyxFQUFBclQsVUFBQWdXLFVBQUEsV0FDQSxHQUFBclksS0FBQW1ZLGNBQUFuWSxLQUFBdVksY0FBQSxNQUFBdlksS0FFQSxJQUFBa1UsR0FBQWxVLElBRUEsSUFBQUEsS0FBQW1XLFFBQUFpQyxVQUFBcFksS0FBQTBYLHNCQUNBM1MsRUFBQSxvQkFDQS9FLEtBQUFtVyxRQUFBd0QsUUFDQTNaLEtBQUFxWCxRQUFBLG9CQUNBclgsS0FBQW1ZLGNBQUEsTUFDRyxDQUNILEdBQUEyQixHQUFBOVosS0FBQW1XLFFBQUE0RCxVQUNBaFYsR0FBQSwwQ0FBQStVLEdBRUE5WixLQUFBbVksY0FBQSxDQUNBLElBQUFTLEdBQUFDLFdBQUEsV0FDQTNFLEVBQUFxRSxnQkFFQXhULEVBQUEsd0JBQ0FtUCxFQUFBbUQsUUFBQSxvQkFBQW5ELEVBQUFpQyxRQUFBaUMsVUFDQWxFLEVBQUFtRCxRQUFBLGVBQUFuRCxFQUFBaUMsUUFBQWlDLFVBR0FsRSxFQUFBcUUsZUFFQXJFLEVBQUE1SixLQUFBLFNBQUF6RSxHQUNBQSxHQUNBZCxFQUFBLDJCQUNBbVAsRUFBQWlFLGNBQUEsRUFDQWpFLEVBQUFtRSxZQUNBbkUsRUFBQW1ELFFBQUEsa0JBQUF4UixFQUFBK0IsUUFFQTdDLEVBQUEscUJBQ0FtUCxFQUFBOEYsbUJBR0tGLEVBRUw5WixNQUFBNFYsS0FBQW5QLE1BQ0EySyxRQUFBLFdBQ0EwSCxhQUFBRixRQVlBbEQsRUFBQXJULFVBQUEyWCxZQUFBLFdBQ0EsR0FBQUMsR0FBQWphLEtBQUFtVyxRQUFBaUMsUUFDQXBZLE1BQUFtWSxjQUFBLEVBQ0FuWSxLQUFBbVcsUUFBQXdELFFBQ0EzWixLQUFBc1gsa0JBQ0F0WCxLQUFBcVgsUUFBQSxZQUFBNEMsS0FNQSxTQUFBcGEsRUFBQUQsRUFBQU8sSUFFQSxTQUFBb0gsR0F1QkEsUUFBQTJTLEdBQUF6SSxHQUNBLEdBQ0EwSSxJQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxJQUFBNUksRUFBQTRJLEtBRUEsSUFBQTlTLEVBQUErUyxTQUFBLENBQ0EsR0FBQUMsR0FBQSxXQUFBRCxTQUFBalEsU0FDQThILEVBQUFtSSxTQUFBbkksSUFHQUEsS0FDQUEsRUFBQW9JLEVBQUEsUUFHQUosRUFBQTFJLEVBQUFTLFdBQUFvSSxTQUFBcEksVUFBQUMsSUFBQVYsRUFBQVUsS0FDQWlJLEVBQUEzSSxFQUFBVyxTQUFBbUksRUFPQSxHQUpBOUksRUFBQUMsUUFBQXlJLEVBQ0ExSSxFQUFBRSxRQUFBeUksRUFHQSxRQUZBLElBQUF2SSxHQUFBSixLQUVBQSxFQUFBK0ksV0FDQSxVQUFBQyxHQUFBaEosRUFFQSxLQUFBNEksRUFBQSxTQUFBL0osT0FBQSxpQkFDQSxXQUFBb0ssR0FBQWpKLEdBOUNBLEdBQUFJLEdBQUExUixFQUFBLEdBQ0FzYSxFQUFBdGEsRUFBQSxJQUNBdWEsRUFBQXZhLEVBQUEsSUFDQXdhLEVBQUF4YSxFQUFBLEdBTUFQLEdBQUFzYSxVQUNBdGEsRUFBQSthLGNBd0M0Qm5aLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEVBQUFPLEdBb0NBLFFBQUF5YSxHQUFBbkosR0FDQSxHQUFBb0osR0FBQXBKLEtBQUFvSixXQUNBQyxLQUFBRCxJQUNBN2EsS0FBQThILGdCQUFBLEdBRUFrSyxFQUFBeFEsS0FBQXhCLEtBQUF5UixHQW5DQSxHQUFBTyxHQUFBN1IsRUFBQSxHQUNBNGEsRUFBQTVhLEVBQUEsR0FDQWlULEVBQUFqVCxFQUFBLEdBQ0E2YSxFQUFBN2EsRUFBQSxHQUNBOGEsRUFBQTlhLEVBQUEsSUFDQTRFLEVBQUE1RSxFQUFBLDhCQU1BTixHQUFBRCxRQUFBZ2IsQ0FNQSxJQUFBRSxHQUFBLFdBR0EsYUFEQSxJQURBM2EsRUFBQSxLQUNnQ3VSLFNBQUEsSUFDaEN3SixlQXNCQUYsR0FBQUosRUFBQTVJLEdBTUE0SSxFQUFBdlksVUFBQVYsS0FBQSxVQVNBaVosRUFBQXZZLFVBQUFtUixPQUFBLFdBQ0F4VCxLQUFBbWIsUUFVQVAsRUFBQXZZLFVBQUErWSxNQUFBLFNBQUFDLEdBS0EsUUFBQUQsS0FDQXJXLEVBQUEsVUFDQW1QLEVBQUExQixXQUFBLFNBQ0E2SSxJQVBBLEdBQUFuSCxHQUFBbFUsSUFVQSxJQVJBQSxLQUFBd1MsV0FBQSxVQVFBeFMsS0FBQWthLFVBQUFsYSxLQUFBOFQsU0FBQSxDQUNBLEdBQUF4RixHQUFBLENBRUF0TyxNQUFBa2EsVUFDQW5WLEVBQUEsK0NBQ0F1SixJQUNBdE8sS0FBQTBHLEtBQUEsMEJBQ0EzQixFQUFBLGdDQUNBdUosR0FBQThNLE9BSUFwYixLQUFBOFQsV0FDQS9PLEVBQUEsK0NBQ0F1SixJQUNBdE8sS0FBQTBHLEtBQUEsbUJBQ0EzQixFQUFBLGdDQUNBdUosR0FBQThNLFdBSUFBLE1BVUFSLEVBQUF2WSxVQUFBOFksS0FBQSxXQUNBcFcsRUFBQSxXQUNBL0UsS0FBQWthLFNBQUEsRUFDQWxhLEtBQUFzYixTQUNBdGIsS0FBQWtILEtBQUEsU0FTQTBULEVBQUF2WSxVQUFBMFIsT0FBQSxTQUFBbk0sR0FDQSxHQUFBc00sR0FBQWxVLElBQ0ErRSxHQUFBLHNCQUFBNkMsRUFDQSxJQUFBRixHQUFBLFNBQUFELEVBQUFwRCxFQUFBaUssR0FPQSxHQUxBLFlBQUE0RixFQUFBMUIsWUFDQTBCLEVBQUFMLFNBSUEsVUFBQXBNLEVBQUEzRSxLQUVBLE1BREFvUixHQUFBUixXQUNBLENBSUFRLEdBQUFGLFNBQUF2TSxHQUlBMkwsR0FBQXRHLGNBQUFsRixFQUFBNUgsS0FBQTBTLE9BQUE5RyxXQUFBbEUsR0FHQSxXQUFBMUgsS0FBQXdTLGFBRUF4UyxLQUFBa2EsU0FBQSxFQUNBbGEsS0FBQWtILEtBQUEsZ0JBRUEsU0FBQWxILEtBQUF3UyxXQUNBeFMsS0FBQW1iLE9BRUFwVyxFQUFBLHVDQUFBL0UsS0FBQXdTLGNBV0FvSSxFQUFBdlksVUFBQW9SLFFBQUEsV0FHQSxRQUFBbEosS0FDQXhGLEVBQUEsd0JBQ0FtUCxFQUFBTixRQUFpQjlRLEtBQUEsV0FKakIsR0FBQW9SLEdBQUFsVSxJQU9BLFVBQUFBLEtBQUF3UyxZQUNBek4sRUFBQSw0QkFDQXdGLE1BSUF4RixFQUFBLHdDQUNBL0UsS0FBQTBHLEtBQUEsT0FBQTZELEtBWUFxUSxFQUFBdlksVUFBQXVSLE1BQUEsU0FBQWpNLEdBQ0EsR0FBQXVNLEdBQUFsVSxJQUNBQSxNQUFBOFQsVUFBQSxDQUNBLElBQUF5SCxHQUFBLFdBQ0FySCxFQUFBSixVQUFBLEVBQ0FJLEVBQUFoTixLQUFBLFNBR0FrTSxHQUFBL0csY0FBQTFFLEVBQUEzSCxLQUFBOEgsZUFBQSxTQUFBRixHQUNBc00sRUFBQXNILFFBQUE1VCxFQUFBMlQsTUFVQVgsRUFBQXZZLFVBQUF5UyxJQUFBLFdBQ0EsR0FBQXpDLEdBQUFyUyxLQUFBcVMsVUFDQW9KLEVBQUF6YixLQUFBb1MsT0FBQSxlQUNBRCxFQUFBLEVBeUJBLFFBdEJBLElBQUFuUyxLQUFBdVMsb0JBQ0FGLEVBQUFyUyxLQUFBc1MsZ0JBQUEySSxLQUdBamIsS0FBQThILGdCQUFBdUssRUFBQXFKLE1BQ0FySixFQUFBbEgsSUFBQSxHQUdBa0gsRUFBQTBJLEVBQUE5UCxPQUFBb0gsR0FHQXJTLEtBQUFtUyxPQUFBLFVBQUFzSixHQUFBLE1BQUF4UCxPQUFBak0sS0FBQW1TLE9BQ0EsU0FBQXNKLEdBQUEsS0FBQXhQLE9BQUFqTSxLQUFBbVMsU0FDQUEsRUFBQSxJQUFBblMsS0FBQW1TLE1BSUFFLEVBQUF0TCxTQUNBc0wsRUFBQSxJQUFBQSxHQUlBb0osRUFBQSxRQURBLElBQUF6YixLQUFBa1MsU0FBQTJDLFFBQUEsS0FDQSxJQUFBN1UsS0FBQWtTLFNBQUEsSUFBQWxTLEtBQUFrUyxVQUFBQyxFQUFBblMsS0FBQWlTLEtBQUFJLElBTUEsU0FBQXhTLEVBQUFELEVBQUFPLEdBRUEsWUFpQkEsU0FBQThLLEdBQUEwUSxHQUNBLEdBQUEzUSxHQUFBLEVBRUEsSUFDQUEsRUFBQTRRLEVBQUFELEVBQUE1VSxHQUFBaUUsRUFDQTJRLEVBQUExSCxLQUFBNEgsTUFBQUYsRUFBQTVVLFNBQ0c0VSxFQUFBLEVBRUgsT0FBQTNRLEdBVUEsUUFBQS9CLEdBQUFzRixHQUNBLEdBQUF1TixHQUFBLENBRUEsS0FBQXhhLEVBQUEsRUFBYUEsRUFBQWlOLEVBQUF4SCxPQUFnQnpGLElBQzdCd2EsSUFBQS9VLEVBQUFvQyxFQUFBb0YsRUFBQXpDLE9BQUF4SyxHQUdBLE9BQUF3YSxHQVNBLFFBQUFiLEtBQ0EsR0FBQWMsR0FBQTlRLEdBQUEsR0FBQStOLE1BRUEsT0FBQStDLEtBQUFDLEdBQUFDLEVBQUEsRUFBQUQsRUFBQUQsR0FDQUEsRUFBQSxJQUFBOVEsRUFBQWdSLEtBTUEsSUExREEsR0FLQUQsR0FMQUosRUFBQSxtRUFBQXhRLE1BQUEsSUFDQXJFLEVBQUEsR0FDQW9DLEtBQ0E4UyxFQUFBLEVBQ0EzYSxFQUFBLEVBc0RNQSxFQUFBeUYsRUFBWXpGLElBQUE2SCxFQUFBeVMsRUFBQXRhLEtBS2xCMlosR0FBQWhRLFNBQ0FnUSxFQUFBaFMsU0FDQXBKLEVBQUFELFFBQUFxYixHQUtBLFNBQUFwYixFQUFBRCxHQUdBLEdBQUFpVixhQUVBaFYsR0FBQUQsUUFBQSxTQUFBc2MsRUFBQWpXLEdBQ0EsR0FBQTRPLEVBQUEsTUFBQXFILEdBQUFySCxRQUFBNU8sRUFDQSxRQUFBM0UsR0FBQSxFQUFpQkEsRUFBQTRhLEVBQUFuVixTQUFnQnpGLEVBQ2pDLEdBQUE0YSxFQUFBNWEsS0FBQTJFLEVBQUEsTUFBQTNFLEVBRUEsWUFLQSxTQUFBekIsRUFBQUQsRUFBQU8sR0F3REEsUUFBQStXLEdBQUFpRixFQUFBN00sRUFBQW1DLEdBQ0F6UixLQUFBbWMsS0FDQW5jLEtBQUFzUCxNQUNBdFAsS0FBQW9jLEtBQUFwYyxLQUNBQSxLQUFBcWMsSUFBQSxFQUNBcmMsS0FBQXNjLFFBQ0F0YyxLQUFBdWMsaUJBQ0F2YyxLQUFBd2MsY0FDQXhjLEtBQUF5YyxXQUFBLEVBQ0F6YyxLQUFBMGMsY0FBQSxFQUNBakwsS0FBQVksUUFDQXJTLEtBQUFxUyxNQUFBWixFQUFBWSxPQUVBclMsS0FBQW1jLEdBQUFuRixhQUFBaFgsS0FBQXNLLE9BOURBLEdBQUE4SSxHQUFBalQsRUFBQSxHQUNBNkYsRUFBQTdGLEVBQUEsR0FDQXdjLEVBQUF4YyxFQUFBLElBQ0FpRyxFQUFBakcsRUFBQSxJQUNBZ1gsRUFBQWhYLEVBQUEsSUFDQTRFLEVBQUE1RSxFQUFBLDhCQUNBNGEsRUFBQTVhLEVBQUEsRUFNQU4sR0FBQUQsUUFBQXNYLENBU0EsSUFBQTBGLElBQ0F0RSxRQUFBLEVBQ0F1RSxjQUFBLEVBQ0FDLGdCQUFBLEVBQ0FyRyxXQUFBLEVBQ0FpRCxXQUFBLEVBQ0EvUCxNQUFBLEVBQ0EwTyxVQUFBLEVBQ0EwRSxrQkFBQSxFQUNBQyxpQkFBQSxFQUNBQyxnQkFBQSxFQUNBOUUsYUFBQSxFQUNBM04sS0FBQSxFQUNBQyxLQUFBLEdBT0F2RCxFQUFBbEIsRUFBQTNELFVBQUE2RSxJQTRCQWxCLEdBQUFrUixFQUFBN1UsV0FRQTZVLEVBQUE3VSxVQUFBNmEsVUFBQSxXQUNBLElBQUFsZCxLQUFBNFYsS0FBQSxDQUVBLEdBQUF1RyxHQUFBbmMsS0FBQW1jLEVBQ0FuYyxNQUFBNFYsTUFDQXhQLEVBQUErVixFQUFBLE9BQUFoRixFQUFBblgsS0FBQSxXQUNBb0csRUFBQStWLEVBQUEsU0FBQWhGLEVBQUFuWCxLQUFBLGFBQ0FvRyxFQUFBK1YsRUFBQSxRQUFBaEYsRUFBQW5YLEtBQUEsZUFVQWtYLEVBQUE3VSxVQUFBaUksS0FDQTRNLEVBQUE3VSxVQUFBaVcsUUFBQSxXQUNBLE1BQUF0WSxNQUFBeWMsVUFBQXpjLE1BRUFBLEtBQUFrZCxZQUNBbGQsS0FBQW1jLEdBQUE3UixPQUNBLFNBQUF0SyxLQUFBbWMsR0FBQTNKLFlBQUF4UyxLQUFBeVksU0FDQXpZLEtBQUFrSCxLQUFBLGNBQ0FsSCxPQVVBa1gsRUFBQTdVLFVBQUFzUixLQUFBLFdBQ0EsR0FBQTVQLEdBQUE0WSxFQUFBalksVUFHQSxPQUZBWCxHQUFBZ00sUUFBQSxXQUNBL1AsS0FBQWtILEtBQUF6QyxNQUFBekUsS0FBQStELEdBQ0EvRCxNQVlBa1gsRUFBQTdVLFVBQUE2RSxLQUFBLFNBQUFpVyxHQUNBLEdBQUFQLEVBQUFyYyxlQUFBNGMsR0FFQSxNQURBalcsR0FBQXpDLE1BQUF6RSxLQUFBMEUsV0FDQTFFLElBR0EsSUFBQStELEdBQUE0WSxFQUFBalksV0FDQStDLEdBQWdCM0UsS0FBQXNRLEVBQUFwQyxNQUFBcEosS0FBQTdELEVBb0JoQixPQWxCQTBELEdBQUE2UixXQUNBN1IsRUFBQTZSLFFBQUE4RCxVQUFBcGQsS0FBQXFkLFFBQUEsSUFBQXJkLEtBQUFxZCxNQUFBRCxTQUdBLGtCQUFBclosS0FBQWdELE9BQUEsS0FDQWhDLEVBQUEsaUNBQUEvRSxLQUFBcWMsS0FDQXJjLEtBQUFzYyxLQUFBdGMsS0FBQXFjLEtBQUF0WSxFQUFBdVosTUFDQTdWLEVBQUE4SCxHQUFBdlAsS0FBQXFjLE9BR0FyYyxLQUFBeWMsVUFDQXpjLEtBQUF5SCxVQUVBekgsS0FBQXdjLFdBQUEvVixLQUFBZ0IsU0FHQXpILE1BQUFxZCxNQUVBcmQsTUFVQWtYLEVBQUE3VSxVQUFBb0YsT0FBQSxTQUFBQSxHQUNBQSxFQUFBNkgsSUFBQXRQLEtBQUFzUCxJQUNBdFAsS0FBQW1jLEdBQUExVSxXQVNBeVAsRUFBQTdVLFVBQUFvVyxPQUFBLFdBSUEsR0FIQTFULEVBQUEsa0NBR0EsTUFBQS9FLEtBQUFzUCxJQUNBLEdBQUF0UCxLQUFBcVMsTUFBQSxDQUNBLEdBQUFBLEdBQUEsZ0JBQUFyUyxNQUFBcVMsTUFBQTBJLEVBQUE5UCxPQUFBakwsS0FBQXFTLE9BQUFyUyxLQUFBcVMsS0FDQXROLEdBQUEsdUNBQUFzTixHQUNBclMsS0FBQXlILFFBQW1CM0UsS0FBQXNRLEVBQUF0QyxRQUFBdUIsY0FFbkJyUyxNQUFBeUgsUUFBbUIzRSxLQUFBc1EsRUFBQXRDLFdBWW5Cb0csRUFBQTdVLFVBQUF1WCxRQUFBLFNBQUFDLEdBQ0E5VSxFQUFBLGFBQUE4VSxHQUNBN1osS0FBQXljLFdBQUEsRUFDQXpjLEtBQUEwYyxjQUFBLFFBQ0ExYyxNQUFBdVAsR0FDQXZQLEtBQUFrSCxLQUFBLGFBQUEyUyxJQVVBM0MsRUFBQTdVLFVBQUFrYixTQUFBLFNBQUE5VixHQUNBLEdBQUFBLEVBQUE2SCxNQUFBdFAsS0FBQXNQLElBRUEsT0FBQTdILEVBQUEzRSxNQUNBLElBQUFzUSxHQUFBdEMsUUFDQTlRLEtBQUF3ZCxXQUNBLE1BRUEsS0FBQXBLLEdBQUFwQyxNQUlBLElBQUFvQyxHQUFBakUsYUFDQW5QLEtBQUF5ZCxRQUFBaFcsRUFDQSxNQUVBLEtBQUEyTCxHQUFBbkMsSUFJQSxJQUFBbUMsR0FBQWhFLFdBQ0FwUCxLQUFBMGQsTUFBQWpXLEVBQ0EsTUFFQSxLQUFBMkwsR0FBQXJDLFdBQ0EvUSxLQUFBMmQsY0FDQSxNQUVBLEtBQUF2SyxHQUFBekMsTUFDQTNRLEtBQUFrSCxLQUFBLFFBQUFPLEVBQUFHLFFBWUFzUCxFQUFBN1UsVUFBQW9iLFFBQUEsU0FBQWhXLEdBQ0EsR0FBQTFELEdBQUEwRCxFQUFBRyxRQUNBN0MsR0FBQSxvQkFBQWhCLEdBRUEsTUFBQTBELEVBQUE4SCxLQUNBeEssRUFBQSxtQ0FDQWhCLEVBQUEwQyxLQUFBekcsS0FBQTRkLElBQUFuVyxFQUFBOEgsTUFHQXZQLEtBQUF5YyxVQUNBdlYsRUFBQXpDLE1BQUF6RSxLQUFBK0QsR0FFQS9ELEtBQUF1YyxjQUFBOVYsS0FBQTFDLElBVUFtVCxFQUFBN1UsVUFBQXViLElBQUEsU0FBQXJPLEdBQ0EsR0FBQTJFLEdBQUFsVSxLQUNBNmQsR0FBQSxDQUNBLG1CQUVBLElBQUFBLEVBQUEsQ0FDQUEsR0FBQSxDQUNBLElBQUE5WixHQUFBNFksRUFBQWpZLFVBQ0FLLEdBQUEsaUJBQUFoQixHQUVBbVEsRUFBQXpNLFFBQ0EzRSxLQUFBc1EsRUFBQW5DLElBQ0ExQixLQUNBM0gsS0FBQTdELE9BWUFtVCxFQUFBN1UsVUFBQXFiLE1BQUEsU0FBQWpXLEdBQ0EsR0FBQW1XLEdBQUE1ZCxLQUFBc2MsS0FBQTdVLEVBQUE4SCxHQUNBLG1CQUFBcU8sSUFDQTdZLEVBQUEseUJBQUEwQyxFQUFBOEgsR0FBQTlILEVBQUFHLE1BQ0FnVyxFQUFBblosTUFBQXpFLEtBQUF5SCxFQUFBRyxZQUNBNUgsTUFBQXNjLEtBQUE3VSxFQUFBOEgsS0FFQXhLLEVBQUEsYUFBQTBDLEVBQUE4SCxLQVVBMkgsRUFBQTdVLFVBQUFtYixVQUFBLFdBQ0F4ZCxLQUFBeWMsV0FBQSxFQUNBemMsS0FBQTBjLGNBQUEsRUFDQTFjLEtBQUFrSCxLQUFBLFdBQ0FsSCxLQUFBOGQsZ0JBU0E1RyxFQUFBN1UsVUFBQXliLGFBQUEsV0FDQSxHQUFBeGMsRUFDQSxLQUFBQSxFQUFBLEVBQWFBLEVBQUF0QixLQUFBdWMsY0FBQXhWLE9BQStCekYsSUFDNUM0RixFQUFBekMsTUFBQXpFLFVBQUF1YyxjQUFBamIsR0FJQSxLQUZBdEIsS0FBQXVjLGlCQUVBamIsRUFBQSxFQUFhQSxFQUFBdEIsS0FBQXdjLFdBQUF6VixPQUE0QnpGLElBQ3pDdEIsS0FBQXlILE9BQUF6SCxLQUFBd2MsV0FBQWxiLEdBRUF0QixNQUFBd2MsZUFTQXRGLEVBQUE3VSxVQUFBc2IsYUFBQSxXQUNBNVksRUFBQSx5QkFBQS9FLEtBQUFzUCxLQUNBdFAsS0FBQW9SLFVBQ0FwUixLQUFBNFosUUFBQSx5QkFXQTFDLEVBQUE3VSxVQUFBK08sUUFBQSxXQUNBLEdBQUFwUixLQUFBNFYsS0FBQSxDQUVBLE9BQUF0VSxHQUFBLEVBQW1CQSxFQUFBdEIsS0FBQTRWLEtBQUE3TyxPQUFzQnpGLElBQ3pDdEIsS0FBQTRWLEtBQUF0VSxHQUFBOFAsU0FFQXBSLE1BQUE0VixLQUFBLEtBR0E1VixLQUFBbWMsR0FBQS9LLFFBQUFwUixPQVVBa1gsRUFBQTdVLFVBQUFrSSxNQUNBMk0sRUFBQTdVLFVBQUFxWCxXQUFBLFdBYUEsTUFaQTFaLE1BQUF5YyxZQUNBMVgsRUFBQSw2QkFBQS9FLEtBQUFzUCxLQUNBdFAsS0FBQXlILFFBQWlCM0UsS0FBQXNRLEVBQUFyQyxjQUlqQi9RLEtBQUFvUixVQUVBcFIsS0FBQXljLFdBRUF6YyxLQUFBNFosUUFBQSx3QkFFQTVaLE1BV0FrWCxFQUFBN1UsVUFBQSthLFNBQUEsU0FBQUEsR0FHQSxNQUZBcGQsTUFBQXFkLE1BQUFyZCxLQUFBcWQsVUFDQXJkLEtBQUFxZCxNQUFBRCxXQUNBcGQsT0FNQSxTQUFBSCxFQUFBRCxHQWtCQSxRQUFBd0csR0FBQUgsRUFBQWtYLEVBQUE1VyxHQUVBLE1BREFOLEdBQUFHLEdBQUErVyxFQUFBNVcsSUFFQTZLLFFBQUEsV0FDQW5MLEVBQUFXLGVBQUF1VyxFQUFBNVcsS0FmQTFHLEVBQUFELFFBQUF3RyxHQXVCQSxTQUFBdkcsRUFBQUQsR0FNQSxHQUFBdUgsV0FXQXRILEdBQUFELFFBQUEsU0FBQXFHLEVBQUFNLEdBRUEsR0FEQSxnQkFBQUEsT0FBQU4sRUFBQU0sSUFDQSxrQkFBQUEsR0FBQSxTQUFBK0osT0FBQSw2QkFDQSxJQUFBdk0sR0FBQW9ELEVBQUEzRixLQUFBa0QsVUFBQSxFQUNBLG1CQUNBLE1BQUE2QixHQUFBOUIsTUFBQXdCLEVBQUFsQyxFQUFBZ08sT0FBQTVLLEVBQUEzRixLQUFBa0QsZ0JBT0EsU0FBQTdFLEVBQUFELEdBRUEsR0FBQW1lLEdBQUFsZSxFQUFBRCxTQUE2Qm9lLFFBQUEsUUFDN0IsaUJBQUFDLFdBQUFGLElBS0EsU0FBQWxlLEVBQUFELEVBQUFPLEdBR0EsR0FBQStkLEdBQUEvZCxFQUFBLElBQ0FnZSxFQUFBaGUsRUFBQSxHQUNBTixHQUFBRCxRQUFBLFNBQUF3VSxHQUNBLE1BQUE4SixHQUFBQyxFQUFBL0osTUFNQSxTQUFBdlUsRUFBQUQsRUFBQU8sR0FHQSxHQUFBaWUsR0FBQWplLEVBQUEsR0FFQU4sR0FBQUQsUUFBQVksT0FBQSxLQUFBNmQscUJBQUEsR0FBQTdkLE9BQUEsU0FBQTRULEdBQ0EsZ0JBQUFnSyxFQUFBaEssS0FBQWhKLE1BQUEsSUFBQTVLLE9BQUE0VCxLQU1BLFNBQUF2VSxFQUFBRCxHQUdBQyxFQUFBRCxRQUFBLFNBQUF3VSxHQUNBLE9BQUF0SixJQUFBc0osRUFBQSxLQUFBa0ssV0FBQSx5QkFBQWxLLEVBQ0EsT0FBQUEsS0FNQSxTQUFBdlUsRUFBQUQsR0FHQSxHQUFBMmUsR0FBQXRLLEtBQUFzSyxLQUNBMUMsRUFBQTVILEtBQUE0SCxLQUNBaGMsR0FBQUQsUUFBQSxTQUFBd1UsR0FDQSxNQUFBb0ssT0FBQXBLLE1BQUEsR0FBQUEsRUFBQSxFQUFBeUgsRUFBQTBDLEdBQUFuSyxLQU1BLFNBQUF2VSxFQUFBRCxFQUFBTyxHQUVBLFlBY0EsSUFBQXNlLEdBQUF6ZSxXQUFBeWUsV0FBQSxXQUNBLEdBQUFDLEdBQUFsZSxPQUFBbWUsaUJBQ1VDLHVCQUFnQnJWLFFBQUEsU0FBQTdILEVBQUFxTixHQUFzQ3JOLEVBQUFrZCxVQUFBN1AsSUFDaEUsU0FBQXJOLEVBQUFxTixHQUF5QixPQUFBek8sS0FBQXlPLEtBQUF4TyxlQUFBRCxLQUFBb0IsRUFBQXBCLEdBQUF5TyxFQUFBek8sSUFDekIsaUJBQUFvQixFQUFBcU4sR0FFQSxRQUFBOFAsS0FBdUI3ZSxLQUFBZ1AsWUFBQXROLEVBRHZCZ2QsRUFBQWhkLEVBQUFxTixHQUVBck4sRUFBQVcsVUFBQSxPQUFBME0sRUFBQXZPLE9BQUFzZSxPQUFBL1AsSUFBQThQLEVBQUF4YyxVQUFBME0sRUFBQTFNLFVBQUEsR0FBQXdjLFFBR0FFLEVBQUEvZSxXQUFBK2UsVUFBQXZlLE9BQUF3ZSxRQUFBLFNBQUFDLEdBQ0EsT0FBQTNjLEdBQUFoQixFQUFBLEVBQUFXLEVBQUF5QyxVQUFBcUMsT0FBNEN6RixFQUFBVyxFQUFPWCxJQUFBLENBQ25EZ0IsRUFBQW9DLFVBQUFwRCxFQUNBLFFBQUFoQixLQUFBZ0MsR0FBQTlCLE9BQUE2QixVQUFBOUIsZUFBQWlCLEtBQUFjLEVBQUFoQyxLQUNBMmUsRUFBQTNlLEdBQUFnQyxFQUFBaEMsSUFFQSxNQUFBMmUsR0FFQXplLFFBQUFDLGVBQUFiLEVBQUEsY0FBOENjLE9BQUEsR0FDOUMsSUFBQXdlLEdBQUEvZSxFQUFBLElBQ0FnZixFQUFBaGYsRUFBQSxJQUNBaWYsRUFBQWpmLEVBQUEsSUFDQWdjLEVBQUFoYyxFQUFBLElBQ0E2ZSxFQUFBN2UsRUFBQSxJQUNBa2YsRUFBQSwwQkFBQTlhLFFBQUEsV0FDQSthLEVBQUEsV0FDQSxRQUFBQSxHQUFBQyxFQUFBQyxPQUNBLEtBQUFELElBQWtDQSxFQUFBRixPQUNsQyxLQUFBRyxJQUErQkEsRUFBQUosR0FDL0JwZixLQUFBdWYsV0FDQXZmLEtBQUF3ZixRQUVBLE1BQUFGLEtBRUExZixHQUFBMGYsVUFJQTFmLEVBQUE2Ziw2QkFRQUMsWUFBQSxTQUFBQyxFQUFBckcsR0FFQSxTQUFBcUcsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLG9FQUdBLFVBQUFxUCxFQUFBLE9BQ0EsU0FBQXJQLE9BQUEsNkRBRUEsSUFBQXNQLEdBQUEsbUJBQ0FyYixRQUFBLFlBQXlDLEdBQUFvYixFQUFBLFFBQ3pDRSxFQUFBVixFQUFBM08sTUFBQW9QLEdBQUEsR0FDQUUsRUFBQWQsTUFBdUNlLE9BQUEsVUFBbUJ6RyxHQUMxRDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FrQixrQkFBQVAsRUFBQSxlQUFBUSxjQUFBUixFQUFBLGVBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBYUFPLFFBQUEsU0FBQVYsRUFBQXJHLEdBRUEsU0FBQXFHLEVBQUEsY0FDQSxTQUFBclAsT0FBQSxnRUFHQSxVQUFBcVAsRUFBQSxPQUNBLFNBQUFyUCxPQUFBLHlEQUVBLElBQUFzUCxHQUFBLG1CQUNBcmIsUUFBQSxZQUF5QyxHQUFBb2IsRUFBQSxRQUN6Q0UsRUFBQVYsRUFBQTNPLE1BQUFvUCxHQUFBLEVBQ0FDLEdBQUF4TixNQUFBMk0sS0FBZ0NhLEVBQUF4TixPQUNoQ2lPLFNBQUFYLEVBQUEsU0FDQVksVUFBQVosRUFBQSxTQUNBYSxXQUFBYixFQUFBLFdBRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxJQWVBVyxlQUFBLFNBQUFkLEVBQUFyRyxHQUVBLFNBQUFxRyxFQUFBLGNBQ0EsU0FBQXJQLE9BQUEsdUVBR0EsVUFBQXFQLEVBQUEsT0FDQSxTQUFBclAsT0FBQSxnRUFHQSxVQUFBcVAsRUFBQSxRQUNBLFNBQUFyUCxPQUFBLGlFQUVBLElBQUFzUCxHQUFBLHNDQUNBcmIsUUFBQSxZQUF5QyxHQUFBb2IsRUFBQSxRQUN6Q3BiLFFBQUEsWUFBeUMsR0FBQW9iLEVBQUEsU0FDekNFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxFQUNBQyxHQUFBeE4sTUFBQTJNLEtBQWdDYSxFQUFBeE4sT0FDaENpTyxTQUFBWCxFQUFBLFNBQ0FZLFVBQUFaLEVBQUEsU0FDQWUsVUFBQWYsRUFBQSxVQUNBYSxXQUFBYixFQUFBLFdBRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxJQVdBYSxnQkFBQSxTQUFBaEIsRUFBQXJHLEdBRUEsU0FBQXFHLEVBQUEsY0FDQSxTQUFBclAsT0FBQSx3RUFHQSxVQUFBcVAsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLHdFQUVBLElBQUFzUCxHQUFBLDRCQUNBcmIsUUFBQSxvQkFBaUQsR0FBQW9iLEVBQUEsZUFDakRFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxFQUNBQyxHQUFBeE4sTUFBQTJNLEtBQWdDYSxFQUFBeE4sT0FDaENtTyxXQUFBYixFQUFBLFdBRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxJQVdBYyxlQUFBLFNBQUFqQixFQUFBckcsR0FFQSxTQUFBcUcsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLHVFQUdBLFVBQUFxUCxFQUFBLFVBQ0EsU0FBQXJQLE9BQUEsbUVBRUEsSUFBQXNQLEdBQUEsOEJBQ0FyYixRQUFBLGVBQTRDLEdBQUFvYixFQUFBLFdBQzVDRSxFQUFBVixFQUFBM08sTUFBQW9QLEdBQUEsRUFDQUMsR0FBQXhOLE1BQUEyTSxLQUFnQ2EsRUFBQXhOLE9BQ2hDbU8sV0FBQWIsRUFBQSxXQUVBLElBQUFHLEdBQUFkLE1BQXVDZSxPQUFBLE9BQWdCekcsR0FDdkQwRyxJQVFBLE9BSEFGLEdBQUFHLFFBQUFqQixHQUNBbUIsY0FBQVIsRUFBQSxjQUFBTyxrQkFBQVAsRUFBQSxnQkFDU0ssSUFFVGIsTUFBQWlCLE9BQUFQLEdBQ0F2RyxRQUFBd0csSUFXQWUsZ0JBQUEsU0FBQWxCLEVBQUFyRyxHQUVBLFNBQUFxRyxFQUFBLGNBQ0EsU0FBQXJQLE9BQUEsd0VBR0EsVUFBQXFQLEVBQUEsVUFDQSxTQUFBclAsT0FBQSxvRUFFQSxJQUFBc1AsR0FBQSx5QkFDQXJiLFFBQUEsZUFBNEMsR0FBQW9iLEVBQUEsV0FDNUNFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxFQUNBQyxHQUFBeE4sTUFBQTJNLEtBQWdDYSxFQUFBeE4sT0FDaENtTyxXQUFBYixFQUFBLFdBRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxJQVlBZ0IsU0FBQSxTQUFBbkIsRUFBQXJHLEdBRUEsU0FBQXFHLEVBQUEsY0FDQSxTQUFBclAsT0FBQSxpRUFFQSxJQUNBdVAsR0FBQVYsRUFBQTNPLE1BREEsVUFDQSxFQUNBcVAsR0FBQXhOLE1BQUEyTSxLQUFnQ2EsRUFBQXhOLE9BQ2hDbU8sV0FBQWIsRUFBQSxVQUNBb0IsYUFBQXBCLEVBQUEsWUFDQTVSLEtBQUE0UixFQUFBLE1BRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FrQixrQkFBQVAsRUFBQSxlQUFBUSxjQUFBUixFQUFBLGVBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBVUFrQixpQkFBQSxTQUFBckIsRUFBQXJHLEdBRUEsU0FBQXFHLEVBQUEsY0FDQSxTQUFBclAsT0FBQSx5RUFHQSxVQUFBcVAsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLHlFQUVBLElBQUFzUCxHQUFBLG9DQUNBcmIsUUFBQSxvQkFBaUQsR0FBQW9iLEVBQUEsZUFDakRFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxHQUNBRSxFQUFBZCxNQUF1Q2UsT0FBQSxPQUFnQnpHLEdBQ3ZEMEcsSUFRQSxPQUhBRixHQUFBRyxRQUFBakIsR0FDQW1CLGNBQUFSLEVBQUEsY0FBQU8sa0JBQUFQLEVBQUEsZ0JBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBVUFtQixlQUFBLFNBQUF0QixFQUFBckcsR0FFQSxTQUFBcUcsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLHVFQUdBLFVBQUFxUCxFQUFBLGtCQUNBLFNBQUFyUCxPQUFBLDJFQUVBLElBQUFzUCxHQUFBLHVDQUNBcmIsUUFBQSx5QkFBc0QsR0FBQW9iLEVBQUEsbUJBQ3RERSxFQUFBVixFQUFBM08sTUFBQW9QLEdBQUEsR0FDQUUsRUFBQWQsTUFBdUNlLE9BQUEsT0FBZ0J6RyxHQUN2RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxJQVlBb0Isc0JBQUEsU0FBQXZCLEVBQUFyRyxHQUVBLFNBQUFxRyxFQUFBLGNBQ0EsU0FBQXJQLE9BQUEsOEVBR0EsVUFBQXFQLEVBQUEsVUFDQSxTQUFBclAsT0FBQSwwRUFFQSxJQUFBc1AsR0FBQSxnQ0FDQXJiLFFBQUEsZUFBNEMsR0FBQW9iLEVBQUEsV0FDNUNFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxFQUNBQyxHQUFBeE4sTUFBQTJNLEtBQWdDYSxFQUFBeE4sT0FDaENxTyxVQUFBZixFQUFBLFVBQ0FhLFdBQUFiLEVBQUEsV0FFQSxJQUFBRyxHQUFBZCxNQUF1Q2UsT0FBQSxPQUFnQnpHLEdBQ3ZEMEcsSUFRQSxPQUhBRixHQUFBRyxRQUFBakIsR0FDQW1CLGNBQUFSLEVBQUEsY0FBQU8sa0JBQUFQLEVBQUEsZ0JBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBYUFxQixvQkFBQSxTQUFBeEIsRUFBQXJHLEdBRUEsU0FBQXFHLEVBQUEsY0FDQSxTQUFBclAsT0FBQSw0RUFHQSxVQUFBcVAsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLDRFQUdBLFVBQUFxUCxFQUFBLFVBQ0EsU0FBQXJQLE9BQUEsd0VBRUEsSUFBQXNQLEdBQUEsK0NBQ0FyYixRQUFBLG9CQUFpRCxHQUFBb2IsRUFBQSxlQUNqRHBiLFFBQUEsY0FBMkMsR0FBQW9iLEVBQUEsV0FDM0NFLEVBQUFWLEVBQUEzTyxNQUFBb1AsR0FBQSxFQUNBQyxHQUFBeE4sTUFBQTJNLEtBQWdDYSxFQUFBeE4sT0FDaENxTyxVQUFBZixFQUFBLFVBQ0FhLFdBQUFiLEVBQUEsV0FFQSxJQUFBRyxHQUFBZCxNQUF1Q2UsT0FBQSxPQUFnQnpHLEdBQ3ZEMEcsSUFRQSxPQUhBRixHQUFBRyxRQUFBakIsR0FDQW1CLGNBQUFSLEVBQUEsY0FBQU8sa0JBQUFQLEVBQUEsZ0JBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBVUFzQixVQUFBLFNBQUF6QixFQUFBckcsR0FFQSxTQUFBcUcsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLGtFQUdBLFVBQUFxUCxFQUFBLE9BQ0EsU0FBQXJQLE9BQUEsMkRBRUEsSUFBQXNQLEdBQUEsbUJBQ0FyYixRQUFBLFlBQXlDLEdBQUFvYixFQUFBLFFBQ3pDRSxFQUFBVixFQUFBM08sTUFBQW9QLEdBQUEsR0FDQUUsRUFBQWQsTUFBdUNlLE9BQUEsUUFBaUJ6RyxHQUN4RDBHLElBUUEsT0FIQUYsR0FBQUcsUUFBQWpCLEdBQ0FrQixrQkFBQVAsRUFBQSxlQUFBUSxjQUFBUixFQUFBLGVBQ1NLLElBRVRiLE1BQUFpQixPQUFBUCxHQUNBdkcsUUFBQXdHLElBWUF1QixVQUFBLFNBQUExQixFQUFBckcsR0FFQSxTQUFBcUcsRUFBQSxjQUNBLFNBQUFyUCxPQUFBLGtFQUdBLFVBQUFxUCxFQUFBLFVBQ0EsU0FBQXJQLE9BQUEsOERBRUEsSUFDQXVQLEdBQUFWLEVBQUEzTyxNQURBLFVBQ0EsRUFDQXFQLEdBQUF4TixNQUFBMk0sS0FBZ0NhLEVBQUF4TixPQUNoQ2lQLFdBQUEzQixFQUFBLFdBRUEsSUFBQUcsR0FBQWQsTUFBdUNlLE9BQUEsUUFBaUJ6RyxHQUN4RDBHLElBYUEsT0FaQUEsSUFBNkJ1QixlQUFBLHFDQUM3QnpCLEVBQUEwQixLQUFBdEMsRUFBQXRaLFdBQ0E2YixVQUFBOUIsRUFBQSxTQUNBK0IsY0FBQS9CLEVBQUEsZUFNQUcsRUFBQUcsUUFBQWpCLEdBQ0FtQixjQUFBUixFQUFBLGNBQUFPLGtCQUFBUCxFQUFBLGdCQUNTSyxJQUVUYixNQUFBaUIsT0FBQVAsR0FDQXZHLFFBQUF3RyxLQU9BbGdCLEVBQUEraEIsY0FRQWpDLFlBQUEsU0FBQUMsRUFBQXJHLEdBQ0EsR0FBQXNJLEdBQUFoaUIsRUFBQTZmLDRCQUFBQyxZQUFBQyxFQUFBckcsRUFDQSxpQkFBQWtHLEVBQUFELEdBRUEsV0FEQSxLQUFBQSxJQUFzQ0EsRUFBQUYsR0FDdENHLEVBQUFELEVBQUFxQyxFQUFBekMsSUFBQXlDLEVBQUF0SSxTQUNBdUksS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFDLFFBQUEsS0FBQUQsRUFBQUMsT0FBQSxJQUNBLE1BQUFELEVBR0EsTUFBQUEsS0FHQUUsTUFBQSxTQUFBRixHQUNBLEtBQUFBLE9BY0F6QixRQUFBLFNBQUFWLEVBQUFyRyxHQUNBLEdBQUFzSSxHQUFBaGlCLEVBQUE2Ziw0QkFBQVksUUFBQVYsRUFBQXJHLEVBQ0EsaUJBQUFrRyxFQUFBRCxHQUVBLFdBREEsS0FBQUEsSUFBc0NBLEVBQUFGLEdBQ3RDRyxFQUFBRCxFQUFBcUMsRUFBQXpDLElBQUF5QyxFQUFBdEksU0FDQXVJLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxRQUFBLEtBQUFELEVBQUFDLE9BQUEsSUFDQSxNQUFBRCxHQUFBMUYsTUFHQSxNQUFBMEYsS0FHQUUsTUFBQSxTQUFBRixHQUNBLEtBQUFBLE9BZ0JBckIsZUFBQSxTQUFBZCxFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUFnQixlQUFBZCxFQUFBckcsRUFDQSxpQkFBQWtHLEVBQUFELEdBRUEsV0FEQSxLQUFBQSxJQUFzQ0EsRUFBQUYsR0FDdENHLEVBQUFELEVBQUFxQyxFQUFBekMsSUFBQXlDLEVBQUF0SSxTQUNBdUksS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFDLFFBQUEsS0FBQUQsRUFBQUMsT0FBQSxJQUNBLE1BQUFELEdBQUExRixNQUdBLE1BQUEwRixLQUdBRSxNQUFBLFNBQUFGLEdBQ0EsS0FBQUEsT0FZQW5CLGdCQUFBLFNBQUFoQixFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUFrQixnQkFBQWhCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsR0FBQTFGLE1BR0EsTUFBQTBGLEtBR0FFLE1BQUEsU0FBQUYsR0FDQSxLQUFBQSxPQVlBbEIsZUFBQSxTQUFBakIsRUFBQXJHLEdBQ0EsR0FBQXNJLEdBQUFoaUIsRUFBQTZmLDRCQUFBbUIsZUFBQWpCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsR0FBQTFGLE1BR0EsTUFBQTBGLEtBR0FFLE1BQUEsU0FBQUYsR0FDQSxLQUFBQSxPQVlBakIsZ0JBQUEsU0FBQWxCLEVBQUFyRyxHQUNBLEdBQUFzSSxHQUFBaGlCLEVBQUE2Ziw0QkFBQW9CLGdCQUFBbEIsRUFBQXJHLEVBQ0EsaUJBQUFrRyxFQUFBRCxHQUVBLFdBREEsS0FBQUEsSUFBc0NBLEVBQUFGLEdBQ3RDRyxFQUFBRCxFQUFBcUMsRUFBQXpDLElBQUF5QyxFQUFBdEksU0FDQXVJLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxRQUFBLEtBQUFELEVBQUFDLE9BQUEsSUFDQSxNQUFBRCxHQUFBMUYsTUFHQSxNQUFBMEYsS0FHQUUsTUFBQSxTQUFBRixHQUNBLEtBQUFBLE9BYUFoQixTQUFBLFNBQUFuQixFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUFxQixTQUFBbkIsRUFBQXJHLEVBQ0EsaUJBQUFrRyxFQUFBRCxHQUVBLFdBREEsS0FBQUEsSUFBc0NBLEVBQUFGLEdBQ3RDRyxFQUFBRCxFQUFBcUMsRUFBQXpDLElBQUF5QyxFQUFBdEksU0FDQXVJLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxRQUFBLEtBQUFELEVBQUFDLE9BQUEsSUFDQSxNQUFBRCxHQUFBMUYsTUFHQSxNQUFBMEYsS0FHQUUsTUFBQSxTQUFBRixHQUNBLEtBQUFBLE9BV0FkLGlCQUFBLFNBQUFyQixFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUF1QixpQkFBQXJCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsR0FBQTFGLE1BR0EsTUFBQTBGLEtBR0FFLE1BQUEsU0FBQUYsR0FDQSxLQUFBQSxPQVdBYixlQUFBLFNBQUF0QixFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUF3QixlQUFBdEIsRUFBQXJHLEVBQ0EsaUJBQUFrRyxFQUFBRCxHQUVBLFdBREEsS0FBQUEsSUFBc0NBLEVBQUFGLEdBQ3RDRyxFQUFBRCxFQUFBcUMsRUFBQXpDLElBQUF5QyxFQUFBdEksU0FDQXVJLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBQyxRQUFBLEtBQUFELEVBQUFDLE9BQUEsSUFDQSxNQUFBRCxHQUFBMUYsTUFHQSxNQUFBMEYsS0FHQUUsTUFBQSxTQUFBRixHQUNBLEtBQUFBLE9BYUFaLHNCQUFBLFNBQUF2QixFQUFBckcsR0FDQSxHQUFBc0ksR0FBQWhpQixFQUFBNmYsNEJBQUF5QixzQkFBQXZCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsR0FBQTFGLE1BR0EsTUFBQTBGLEtBR0FFLE1BQUEsU0FBQUYsR0FDQSxLQUFBQSxPQWNBWCxvQkFBQSxTQUFBeEIsRUFBQXJHLEdBQ0EsR0FBQXNJLEdBQUFoaUIsRUFBQTZmLDRCQUFBMEIsb0JBQUF4QixFQUFBckcsRUFDQSxpQkFBQWtHLEVBQUFELEdBRUEsV0FEQSxLQUFBQSxJQUFzQ0EsRUFBQUYsR0FDdENHLEVBQUFELEVBQUFxQyxFQUFBekMsSUFBQXlDLEVBQUF0SSxTQUNBdUksS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFDLFFBQUEsS0FBQUQsRUFBQUMsT0FBQSxJQUNBLE1BQUFELEdBQUExRixNQUdBLE1BQUEwRixLQUdBRSxNQUFBLFNBQUFGLEdBQ0EsS0FBQUEsT0FXQVYsVUFBQSxTQUFBekIsRUFBQXJHLEdBQ0EsR0FBQXNJLEdBQUFoaUIsRUFBQTZmLDRCQUFBMkIsVUFBQXpCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsRUFHQSxNQUFBQSxLQUdBRSxNQUFBLFNBQUFGLEdBQ0EsS0FBQUEsT0FhQVQsVUFBQSxTQUFBMUIsRUFBQXJHLEdBQ0EsR0FBQXNJLEdBQUFoaUIsRUFBQTZmLDRCQUFBNEIsVUFBQTFCLEVBQUFyRyxFQUNBLGlCQUFBa0csRUFBQUQsR0FFQSxXQURBLEtBQUFBLElBQXNDQSxFQUFBRixHQUN0Q0csRUFBQUQsRUFBQXFDLEVBQUF6QyxJQUFBeUMsRUFBQXRJLFNBQ0F1SSxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsUUFBQSxLQUFBRCxFQUFBQyxPQUFBLElBQ0EsTUFBQUQsR0FBQTFGLE1BR0EsTUFBQTBGLEtBR0FFLE1BQUEsU0FBQUYsR0FDQSxLQUFBQSxPQVFBLElBQUFHLEdBQUEsU0FBQUMsR0FFQSxRQUFBRCxLQUNBLGNBQUFDLEtBQUF6ZCxNQUFBekUsS0FBQTBFLFlBQUExRSxLQXdKQSxNQTFKQXllLEdBQUF3RCxFQUFBQyxHQVdBRCxFQUFBNWYsVUFBQXFkLFlBQUEsU0FBQUMsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQWpDLFlBQUFDLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FZQTBDLEVBQUE1ZixVQUFBZ2UsUUFBQSxTQUFBVixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBdEIsUUFBQVYsRUFBQXJHLEdBQUF0WixLQUFBd2YsTUFBQXhmLEtBQUF1ZixXQWNBMEMsRUFBQTVmLFVBQUFvZSxlQUFBLFNBQUFkLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFsQixlQUFBZCxFQUFBckcsR0FBQXRaLEtBQUF3ZixNQUFBeGYsS0FBQXVmLFdBVUEwQyxFQUFBNWYsVUFBQXNlLGdCQUFBLFNBQUFoQixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBaEIsZ0JBQUFoQixFQUFBckcsR0FBQXRaLEtBQUF3ZixNQUFBeGYsS0FBQXVmLFdBVUEwQyxFQUFBNWYsVUFBQXVlLGVBQUEsU0FBQWpCLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFmLGVBQUFqQixFQUFBckcsR0FBQXRaLEtBQUF3ZixNQUFBeGYsS0FBQXVmLFdBVUEwQyxFQUFBNWYsVUFBQXdlLGdCQUFBLFNBQUFsQixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBZCxnQkFBQWxCLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FXQTBDLEVBQUE1ZixVQUFBeWUsU0FBQSxTQUFBbkIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQWIsU0FBQW5CLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FTQTBDLEVBQUE1ZixVQUFBMmUsaUJBQUEsU0FBQXJCLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFYLGlCQUFBckIsRUFBQXJHLEdBQUF0WixLQUFBd2YsTUFBQXhmLEtBQUF1ZixXQVNBMEMsRUFBQTVmLFVBQUE0ZSxlQUFBLFNBQUF0QixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBVixlQUFBdEIsRUFBQXJHLEdBQUF0WixLQUFBd2YsTUFBQXhmLEtBQUF1ZixXQVdBMEMsRUFBQTVmLFVBQUE2ZSxzQkFBQSxTQUFBdkIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQVQsc0JBQUF2QixFQUFBckcsR0FBQXRaLEtBQUF3ZixNQUFBeGYsS0FBQXVmLFdBWUEwQyxFQUFBNWYsVUFBQThlLG9CQUFBLFNBQUF4QixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBUixvQkFBQXhCLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FTQTBDLEVBQUE1ZixVQUFBK2UsVUFBQSxTQUFBekIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQVAsVUFBQXpCLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FXQTBDLEVBQUE1ZixVQUFBZ2YsVUFBQSxTQUFBMUIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQU4sVUFBQTFCLEVBQUFyRyxHQUFBdFosS0FBQXdmLE1BQUF4ZixLQUFBdWYsV0FFQTBDLEdBQ0MzQyxFQUNEMWYsR0FBQXFpQixhQUtBcmlCLEVBQUF1aUIsa0JBQUEsU0FBQTNDLEVBQUFELEdBQ0EsT0FRQUcsWUFBQSxTQUFBQyxFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBakMsWUFBQUMsRUFBQXJHLEdBQUFrRyxFQUFBRCxJQVlBYyxRQUFBLFNBQUFWLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUF0QixRQUFBVixFQUFBckcsR0FBQWtHLEVBQUFELElBY0FrQixlQUFBLFNBQUFkLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFsQixlQUFBZCxFQUFBckcsR0FBQWtHLEVBQUFELElBVUFvQixnQkFBQSxTQUFBaEIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQWhCLGdCQUFBaEIsRUFBQXJHLEdBQUFrRyxFQUFBRCxJQVVBcUIsZUFBQSxTQUFBakIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQWYsZUFBQWpCLEVBQUFyRyxHQUFBa0csRUFBQUQsSUFVQXNCLGdCQUFBLFNBQUFsQixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBZCxnQkFBQWxCLEVBQUFyRyxHQUFBa0csRUFBQUQsSUFXQXVCLFNBQUEsU0FBQW5CLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFiLFNBQUFuQixFQUFBckcsR0FBQWtHLEVBQUFELElBU0F5QixpQkFBQSxTQUFBckIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQVgsaUJBQUFyQixFQUFBckcsR0FBQWtHLEVBQUFELElBU0EwQixlQUFBLFNBQUF0QixFQUFBckcsR0FDQSxNQUFBMVosR0FBQStoQixhQUFBVixlQUFBdEIsRUFBQXJHLEdBQUFrRyxFQUFBRCxJQVdBMkIsc0JBQUEsU0FBQXZCLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFULHNCQUFBdkIsRUFBQXJHLEdBQUFrRyxFQUFBRCxJQVlBNEIsb0JBQUEsU0FBQXhCLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFSLG9CQUFBeEIsRUFBQXJHLEdBQUFrRyxFQUFBRCxJQVNBNkIsVUFBQSxTQUFBekIsRUFBQXJHLEdBQ0EsTUFBQTFaLEdBQUEraEIsYUFBQVAsVUFBQXpCLEVBQUFyRyxHQUFBa0csRUFBQUQsSUFXQThCLFVBQUEsU0FBQTFCLEVBQUFyRyxHQUNBLE1BQUExWixHQUFBK2hCLGFBQUFOLFVBQUExQixFQUFBckcsR0FBQWtHLEVBQUFELEtBUUEsSUFBQTZDLEdBQUEsU0FBQUYsR0FFQSxRQUFBRSxHQUFBekMsR0FDQSxHQUFBMEMsR0FBQUgsRUFBQTFnQixLQUFBeEIsS0FBQSxHQUFBMmYsRUFBQUgsUUFBQXhmLElBR0EsSUFGQXFpQixFQUFBQyxZQUFBLE1BQ0FELEVBQUFFLGdCQUFBLG9FQUNBLGdCQUFBNUMsR0FFQSxLQURBeGMsU0FBQXdHLE1BQUEsNkNBQ0EsR0FBQTJHLE9BQUEsNENBU0EsT0FQQStSLEdBQUFHLE9BQUE3QyxFQUFBNkMsT0FDQTdDLEVBQUE4QyxVQUNBSixFQUFBSyxZQUFBL0MsRUFBQThDLFVBRUFKLEVBQUFNLGVBQUFoRCxFQUFBZ0QsZ0JBQUEscUJBQ0FOLEVBQUFPLGVBQUFqRCxFQUFBemEsS0FDQW1kLEVBQUFRLGVBQUFsRCxFQUFBbUQsV0FDQVQsRUF3MkJBLE1BeDNCQTVELEdBQUEyRCxFQUFBRixHQXdCQUUsRUFBQS9mLFVBQUFxZ0IsWUFBQSxTQUFBRCxHQUNBemlCLEtBQUF5aUIsWUFFQUwsRUFBQS9mLFVBQUEwZ0IsY0FBQSxXQUNBLE9BQUEvaUIsS0FBQTZpQixnQkFDQSxjQUNBLE1BQUE3aUIsTUFBQWdqQixxQkFDQSxTQUNBLEdBQUFoakIsS0FBQWlqQix5QkFDQSxNQUFBdGQsTUFBQTZLLE1BQUF4USxLQUFBaWpCLDRCQUtBYixFQUFBL2YsVUFBQXVnQixlQUFBLFNBQUExZCxHQUVBLE9BREFsRixLQUFBc2lCLFlBQUFwZCxFQUNBQSxHQUNBLFVBQ0FsRixLQUFBdWYsU0FBQUYsRUFBQTlhLFFBQUEsMEJBQ0EsTUFDQSxXQUNBdkUsS0FBQXVmLFNBQUFGLEVBQUE5YSxRQUFBLDBCQUNBLE1BQ0EsV0FDQSxRQUNBdkUsS0FBQXVmLFNBQUFGLElBSUErQyxFQUFBL2YsVUFBQTZnQixVQUFBLFNBQUFDLEdBQ0FuakIsS0FBQW1qQixVQUVBZixFQUFBL2YsVUFBQStnQixVQUFBLFdBQ0EsTUFBQXBqQixNQUFBbWpCLFFBRUFmLEVBQUEvZixVQUFBZ2hCLFdBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBLENBQ0EsT0FBQXRqQixLQUFBNmlCLGdCQUNBLGNBQ0E3aUIsS0FBQXVqQixtQkFBQUQsRUFDQSxNQUNBLFNBQ0F0akIsS0FBQXdqQix1QkFBQUYsR0FHQXRqQixLQUFBeWpCLDJCQUNBOWdCLE9BQUErZ0IsY0FBQTFqQixLQUFBeWpCLDBCQUNBempCLEtBQUF5akIsNkJBQUEzWSxJQUVBd1ksRUFBQUssYUFDQTNqQixLQUFBeWpCLHlCQUFBOWdCLE9BQUFpaEIsWUFBQTVqQixLQUFBNmpCLGFBQUExTSxLQUFBblgsTUFBQSxJQUFBaVUsS0FBQXFDLElBQUEsSUFBQWdOLEVBQUFLLFdBQUEsUUFJQXZCLEVBQUEvZixVQUFBeWhCLG9CQUFBLFNBQUFuRSxHQUNBLEdBQUFvRSxLQW9CQSxPQW5CQXBFLEtBQ0FBLE1BR0EsTUFBQUEsRUFBQSxhQUNBb0UsRUFBQUMsV0FBQSxjQUVBLE1BQUFyRSxFQUFBLGlCQUNBb0UsRUFBQUUsZUFBQSxpQkFFQSxNQUFBdEUsRUFBQSxlQUFBM2YsS0FBQStpQixnQkFDQWdCLEVBQUFHLGNBQUEsR0FBQWxrQixLQUFBK2lCLGdCQUFBb0IsV0FBQWpZLFVBQUEsS0FBQWtZLGNBQUFwa0IsS0FBQStpQixnQkFBQW9CLFdBQUFqWSxVQUFBLE9BQUFsTSxLQUFBK2lCLGdCQUFBc0IsYUFHQU4sRUFBQUcsY0FBQSxTQUFBbGtCLEtBQUF3aUIsT0FFQSxNQUFBN0MsRUFBQSx1QkFBQTNmLEtBQUFtakIsU0FDQVksRUFBQU8sZUFBQXRrQixLQUFBbWpCLFFBRUFwRSxLQUEwQmdGLEVBQUFwRSxJQUUxQnlDLEVBQUEvZixVQUFBa2lCLGlCQUFBLFdBQ0EsT0FBQXZrQixLQUFBNmlCLGdCQUNBLGNBQ0E3aUIsS0FBQXdrQix3QkFDQSxNQUNBLFNBQ0F4a0IsS0FBQXlrQiw4QkFJQXJDLEVBQUEvZixVQUFBcWlCLGdCQUFBLFdBQ0EsR0FBQXJDLEdBQUFyaUIsSUFDQSxXQUFBMmtCLFNBQUEsU0FBQUMsRUFBQUMsR0FDQXhDLEVBQUF3QixlQUNBaEMsS0FBQSxXQUNBK0MsTUFFQTVDLE1BQUEsU0FBQXRmLEdBQ0FtaUIsRUFBQW5pQixRQUlBMGYsRUFBQS9mLFVBQUF5aUIsaUJBQUEsU0FBQW5GLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBRUEsT0FEQUEsTUFBQXVrQixtQkFDQSxHQUFBSSxTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQWhGLEtBQXVDc0QsRUFBQXlCLG9CQUFBbkUsSUFBc0M4QyxTQUFBSixFQUFBSSxVQUM3RUosR0FBQWhCLFVBQUEwQyxFQUFBekssR0FDQXVJLEtBQUEsU0FBQXlCLEdBQ0FqQixFQUFBZ0IsV0FBQUMsR0FDQXNCLE1BRUE1QyxNQUFBNkMsTUFHQXpDLEVBQUEvZixVQUFBMGlCLGlCQUFBLFNBQUFwRixHQUNBLElBQUFBLEVBQ0EsU0FBQXJQLE9BQUEsbUNBRUEsS0FBQXFQLEVBQUFxRixRQUNBLFNBQUExVSxPQUFBLG1DQUVBLEtBQUFxUCxFQUFBc0YsVUFDQSxTQUFBM1UsT0FBQSxxQ0FFQXRRLE1BQUFrbEIsZUFBNEJGLFFBQUFyRixFQUFBcUYsUUFBQUMsVUFBQXRGLEVBQUFzRixVQUFBamUsVUFBQTJZLEVBQUEzWSxhQUU1Qm9iLEVBQUEvZixVQUFBOGlCLHVCQUFBLFNBQUF4RixHQUNBLElBQUFBLEVBQ0EsU0FBQXJQLE9BQUEsbUNBRUEsS0FBQXFQLEVBQUF5RixVQUNBLFNBQUE5VSxPQUFBLHFDQUVBdFEsTUFBQWtsQixlQUE0QkUsVUFBQXpGLEVBQUF5RixVQUFBL2EsU0FBQXNWLEVBQUF0VixTQUFBckQsVUFBQTJZLEVBQUEzWSxhQUU1Qm9iLEVBQUEvZixVQUFBNmlCLGNBQUEsU0FBQXZGLEdBQ0EsR0FBQTBDLEdBQUFyaUIsSUFFQSxJQURBQSxLQUFBcWxCLGVBQ0ExRixFQUNBLFNBQUFyUCxPQUFBLG1DQUVBLElBQUFqRyxHQUFBc1YsRUFBQXRWLFVBQUEsUUFDQThVLEVBQUEsaUJBQ0FtRyxFQUFBLFdBRUFqVCxJQUNBLFFBQUFyUyxLQUFBc2lCLGFBQ0EsVUFDQW5ELEVBQUE5VSxFQUFBLFVBQUE4VSxDQUNBLE1BQ0EsV0FDQUEsRUFBQTlVLEVBQUEsVUFBQThVLENBQ0EsTUFDQSxTQUNBQSxFQUFBOVUsRUFBQSxNQUFBOFUsR0FFQVEsRUFBQXlGLFdBQUF6RixFQUFBcUYsU0FBQXJGLEVBQUFzRixXQUNBSyxFQUFBLFNBQ0FqVCxFQUFBa1QsU0FBQTVGLEVBQUFxRixRQUNBM1MsRUFBQTRTLFVBQUF0RixFQUFBc0YsV0FHQTVTLEVBQUFtVCxXQUFBN0YsRUFBQXlGLFVBRUFqRyxHQUFBLElBQUFtRyxFQUNBdGxCLEtBQUEwUyxPQUFBeUosRUFBQWdELEdBQ0FsTixLQUFBLGFBQ0F3VCxXQUFBLEVBQ0E1UCxjQUFBLEVBQ0F4RCxRQUlBcVQsWUFBQSxhQUNBeFMsY0FDQWdOLGtCQUFBbGdCLEtBQUFtakIsVUFHQW5qQixLQUFBMFMsT0FBQXRNLEdBQUEscUJBQ0FpYyxFQUFBM1AsT0FBQXhMLEtBQUEsZ0JBQStDeWUsTUFBQXRELEVBQUFVLGdCQUFBc0IsZUFDL0NqZSxHQUFBLDJCQUNBakQsUUFBQXFCLElBQUEsZ0JBRUE0QixHQUFBLHdCQUFBd0QsR0FFQSxLQURBekcsU0FBQXFCLElBQUEsaUJBQUFtQixLQUFBQyxVQUFBZ0UsRUFBQWhDLE9BQ0EsR0FBQTBJLE9BQUExRyxFQUFBaEMsS0FBQTlFLFFBRUFzRCxHQUFBLGlCQUFBdUQsR0FDQXhHLFFBQUFxQixJQUFBLGVBQUFtRixHQUNBZ1csRUFBQTNZLFdBQUEyWSxFQUFBM1ksVUFBQXFNLGtCQUFBN1EsV0FDQW1kLEVBQUEzWSxVQUFBcU0sUUFBQTFKLEtBR0F2RCxHQUFBLHVCQUFBd2YsR0FDQWpHLEVBQUEzWSxXQUFBMlksRUFBQTNZLFVBQUE2ZSx1QkFBQXJqQixXQUNBbWQsRUFBQTNZLFVBQUE2ZSxhQUFBRCxLQUdBeGYsR0FBQSx1QkFDQXVaLEVBQUEzWSxXQUFBMlksRUFBQTNZLFVBQUE4ZSxxQkFBQXRqQixXQUNBbWQsRUFBQTNZLFVBQUE4ZSxlQUdBMWYsR0FBQSx1QkFBQTJmLEdBQ0FwRyxFQUFBM1ksV0FBQTJZLEVBQUEzWSxVQUFBZ2YsdUJBQUF4akIsV0FDQW1kLEVBQUEzWSxVQUFBZ2YsYUFBQUQsS0FHQTNmLEdBQUEsd0JBQUEyZixHQUNBcEcsRUFBQTNZLFdBQUEyWSxFQUFBM1ksVUFBQWlmLHdCQUFBempCLFdBQ0FtZCxFQUFBM1ksVUFBQWlmLGNBQUFGLEtBR0EzZixHQUFBLHVCQUNBdVosRUFBQTNZLFdBQUEyWSxFQUFBM1ksVUFBQWtmLHFCQUFBMWpCLFdBQ0FtZCxFQUFBM1ksVUFBQWtmLGVBR0E5ZixHQUFBLHlCQUNBdVosRUFBQTNZLFdBQUEyWSxFQUFBM1ksVUFBQW1mLHVCQUFBM2pCLFdBQ0FtZCxFQUFBM1ksVUFBQW1mLGlCQUdBL2YsR0FBQSx1QkFDQXVaLEVBQUEzWSxXQUFBMlksRUFBQTNZLFVBQUFvZixxQkFBQTVqQixXQUNBbWQsRUFBQTNZLFVBQUFvZixrQkFLQWhFLEVBQUEvZixVQUFBZ2pCLFlBQUEsV0FDQXJsQixLQUFBMFMsUUFDQTFTLEtBQUEwUyxPQUFBK0osV0FDQXpjLEtBQUEwUyxPQUFBZ0gsWUFBQSxHQUdBMVosS0FBQTBTLFdBQUE1SCxJQVNBc1gsRUFBQS9mLFVBQUFxZCxZQUFBLFNBQUFDLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFqQyxZQUFBcUUsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxVQUNBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBclksR0FDQUEsR0FDQXhHLFFBQUFxQixJQUFBLG9GQUFtSG1GLEdBRW5ILE1BQUFBLEVBQUFvWSxRQUFBTSxFQUFBZ0UscUJBQUEsZUFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQWpDLFlBQUFxRSxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFlBRUFzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUF1RSxHQUNBMUIsRUFBQTBCLEtBSUExQixFQUFBbGIsUUFlQXlZLEVBQUEvZixVQUFBZ2UsUUFBQSxTQUFBVixFQUFBckcsR0FDQSxHQUFBK0ksR0FBQXJpQixJQUNBLFdBQUEya0IsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFkLEdBQUExQixFQUFBeUIsb0JBQUFuRSxFQUNBL2YsR0FBQStoQixhQUFBdEIsUUFBQTBELEVBQUF6SyxHQUFBK0ksRUFBQTdDLE1BQUE2QyxFQUFBOUMsVUFDQXNDLEtBQUEsU0FBQXBaLEdBQ0FtYyxFQUFBbmMsS0FFQXVaLE1BQUEsU0FBQXJZLEdBQ0FBLEdBQ0F4RyxRQUFBcUIsSUFBQSxnRkFBK0dtRixHQUUvRyxNQUFBQSxFQUFBb1ksUUFBQU0sRUFBQWdFLHFCQUFBLFdBQ0FoRSxFQUFBd0IsZUFDQTdCLE1BQUEsU0FBQXJZLEdBQ0EsTUFBQTBZLEdBQUF5QyxrQkFBdUR3QixVQUFBLHFCQUFBN0QsU0FBQUosRUFBQUksYUFFdkRaLEtBQUEsV0FFQSxNQURBa0MsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEdBQ0EvZixFQUFBK2hCLGFBQUF0QixRQUFBMEQsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBaUJBeVksRUFBQS9mLFVBQUFvZSxlQUFBLFNBQUFkLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFsQixlQUFBc0QsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxVQUNBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBclksR0FDQUEsR0FDQXhHLFFBQUFxQixJQUFBLHVGQUFzSG1GLEdBRXRILE1BQUFBLEVBQUFvWSxRQUFBTSxFQUFBZ0UscUJBQUEsa0JBQ0FoRSxFQUFBd0IsZUFDQTdCLE1BQUEsU0FBQXJZLEdBQ0EsTUFBQTBZLEdBQUF5QyxrQkFBdUR3QixVQUFBLHFCQUFBN0QsU0FBQUosRUFBQUksYUFFdkRaLEtBQUEsV0FFQSxNQURBa0MsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEdBQ0EvZixFQUFBK2hCLGFBQUFsQixlQUFBc0QsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBYUF5WSxFQUFBL2YsVUFBQXNlLGdCQUFBLFNBQUFoQixFQUFBckcsR0FDQSxHQUFBK0ksR0FBQXJpQixJQUNBLFdBQUEya0IsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFkLEdBQUExQixFQUFBeUIsb0JBQUFuRSxFQUNBL2YsR0FBQStoQixhQUFBaEIsZ0JBQUFvRCxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsd0ZBQXVIbUYsR0FFdkgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxtQkFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQWhCLGdCQUFBb0QsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBYUF5WSxFQUFBL2YsVUFBQXVlLGVBQUEsU0FBQWpCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFmLGVBQUFtRCxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsdUZBQXNIbUYsR0FFdEgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxrQkFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQWYsZUFBQW1ELEVBQUF6SyxHQUFBK0ksRUFBQTdDLE1BQUE2QyxFQUFBOUMsWUFFQXNDLEtBQUEsU0FBQXBaLEdBQ0FtYyxFQUFBbmMsS0FFQXVaLE1BQUEsU0FBQXVFLEdBQ0ExQixFQUFBMEIsS0FJQTFCLEVBQUFsYixRQWFBeVksRUFBQS9mLFVBQUF3ZSxnQkFBQSxTQUFBbEIsRUFBQXJHLEdBQ0EsR0FBQStJLEdBQUFyaUIsSUFDQSxXQUFBMmtCLFNBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBZCxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsRUFDQS9mLEdBQUEraEIsYUFBQWQsZ0JBQUFrRCxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsd0ZBQXVIbUYsR0FFdkgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxtQkFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQWQsZ0JBQUFrRCxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFlBRUFzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUF1RSxHQUNBMUIsRUFBQTBCLEtBSUExQixFQUFBbGIsUUFjQXlZLEVBQUEvZixVQUFBeWUsU0FBQSxTQUFBbkIsRUFBQXJHLEdBQ0EsR0FBQStJLEdBQUFyaUIsSUFDQSxXQUFBMmtCLFNBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBZCxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsRUFDQS9mLEdBQUEraEIsYUFBQWIsU0FBQWlELEVBQUF6SyxHQUFBK0ksRUFBQTdDLE1BQUE2QyxFQUFBOUMsVUFDQXNDLEtBQUEsU0FBQXBaLEdBQ0FtYyxFQUFBbmMsS0FFQXVaLE1BQUEsU0FBQXJZLEdBQ0FBLEdBQ0F4RyxRQUFBcUIsSUFBQSxpRkFBZ0htRixHQUVoSCxNQUFBQSxFQUFBb1ksUUFBQU0sRUFBQWdFLHFCQUFBLFlBQ0FoRSxFQUFBd0IsZUFDQTdCLE1BQUEsU0FBQXJZLEdBQ0EsTUFBQTBZLEdBQUF5QyxrQkFBdUR3QixVQUFBLHFCQUFBN0QsU0FBQUosRUFBQUksYUFFdkRaLEtBQUEsV0FFQSxNQURBa0MsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEdBQ0EvZixFQUFBK2hCLGFBQUFiLFNBQUFpRCxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFlBRUFzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUF1RSxHQUNBMUIsRUFBQTBCLEtBSUExQixFQUFBbGIsUUFZQXlZLEVBQUEvZixVQUFBMmUsaUJBQUEsU0FBQXJCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFYLGlCQUFBK0MsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxVQUNBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBclksR0FDQUEsR0FDQXhHLFFBQUFxQixJQUFBLHlGQUF3SG1GLEdBRXhILE1BQUFBLEVBQUFvWSxRQUFBTSxFQUFBZ0UscUJBQUEsb0JBQ0FoRSxFQUFBd0IsZUFDQTdCLE1BQUEsU0FBQXJZLEdBQ0EsTUFBQTBZLEdBQUF5QyxrQkFBdUR3QixVQUFBLHFCQUFBN0QsU0FBQUosRUFBQUksYUFFdkRaLEtBQUEsV0FFQSxNQURBa0MsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEdBQ0EvZixFQUFBK2hCLGFBQUFYLGlCQUFBK0MsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBWUF5WSxFQUFBL2YsVUFBQTRlLGVBQUEsU0FBQXRCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFWLGVBQUE4QyxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsdUZBQXNIbUYsR0FFdEgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxrQkFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQVYsZUFBQThDLEVBQUF6SyxHQUFBK0ksRUFBQTdDLE1BQUE2QyxFQUFBOUMsWUFFQXNDLEtBQUEsU0FBQXBaLEdBQ0FtYyxFQUFBbmMsS0FFQXVaLE1BQUEsU0FBQXVFLEdBQ0ExQixFQUFBMEIsS0FJQTFCLEVBQUFsYixRQWNBeVksRUFBQS9mLFVBQUE2ZSxzQkFBQSxTQUFBdkIsRUFBQXJHLEdBQ0EsR0FBQStJLEdBQUFyaUIsSUFDQSxXQUFBMmtCLFNBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBZCxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsRUFDQS9mLEdBQUEraEIsYUFBQVQsc0JBQUE2QyxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsOEZBQTZIbUYsR0FFN0gsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSx5QkFDQWhFLEVBQUF3QixlQUNBN0IsTUFBQSxTQUFBclksR0FDQSxNQUFBMFksR0FBQXlDLGtCQUF1RHdCLFVBQUEscUJBQUE3RCxTQUFBSixFQUFBSSxhQUV2RFosS0FBQSxXQUVBLE1BREFrQyxHQUFBMUIsRUFBQXlCLG9CQUFBbkUsR0FDQS9mLEVBQUEraEIsYUFBQVQsc0JBQUE2QyxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFlBRUFzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUF1RSxHQUNBMUIsRUFBQTBCLEtBSUExQixFQUFBbGIsUUFlQXlZLEVBQUEvZixVQUFBOGUsb0JBQUEsU0FBQXhCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFSLG9CQUFBNEMsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxVQUNBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBclksR0FDQUEsR0FDQXhHLFFBQUFxQixJQUFBLDRGQUEySG1GLEdBRTNILE1BQUFBLEVBQUFvWSxRQUFBTSxFQUFBZ0UscUJBQUEsdUJBQ0FoRSxFQUFBd0IsZUFDQTdCLE1BQUEsU0FBQXJZLEdBQ0EsTUFBQTBZLEdBQUF5QyxrQkFBdUR3QixVQUFBLHFCQUFBN0QsU0FBQUosRUFBQUksYUFFdkRaLEtBQUEsV0FFQSxNQURBa0MsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEdBQ0EvZixFQUFBK2hCLGFBQUFSLG9CQUFBNEMsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBWUF5WSxFQUFBL2YsVUFBQStlLFVBQUEsU0FBQXpCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFQLFVBQUEyQyxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsa0ZBQWlIbUYsR0FFakgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxhQUNBaEUsRUFBQXdCLGVBQ0E3QixNQUFBLFNBQUFyWSxHQUNBLE1BQUEwWSxHQUFBeUMsa0JBQXVEd0IsVUFBQSxxQkFBQTdELFNBQUFKLEVBQUFJLGFBRXZEWixLQUFBLFdBRUEsTUFEQWtDLEdBQUExQixFQUFBeUIsb0JBQUFuRSxHQUNBL2YsRUFBQStoQixhQUFBUCxVQUFBMkMsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBY0F5WSxFQUFBL2YsVUFBQWdmLFVBQUEsU0FBQTFCLEVBQUFyRyxHQUNBLEdBQUErSSxHQUFBcmlCLElBQ0EsV0FBQTJrQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQWQsR0FBQTFCLEVBQUF5QixvQkFBQW5FLEVBQ0EvZixHQUFBK2hCLGFBQUFOLFVBQUEwQyxFQUFBekssR0FBQStJLEVBQUE3QyxNQUFBNkMsRUFBQTlDLFVBQ0FzQyxLQUFBLFNBQUFwWixHQUNBbWMsRUFBQW5jLEtBRUF1WixNQUFBLFNBQUFyWSxHQUNBQSxHQUNBeEcsUUFBQXFCLElBQUEsa0ZBQWlIbUYsR0FFakgsTUFBQUEsRUFBQW9ZLFFBQUFNLEVBQUFnRSxxQkFBQSxhQUNBaEUsRUFBQXdCLGVBQ0E3QixNQUFBLFNBQUFyWSxHQUNBLE1BQUEwWSxHQUFBeUMsa0JBQXVEd0IsVUFBQSxxQkFBQTdELFNBQUFKLEVBQUFJLGFBRXZEWixLQUFBLFdBRUEsTUFEQWtDLEdBQUExQixFQUFBeUIsb0JBQUFuRSxHQUNBL2YsRUFBQStoQixhQUFBTixVQUFBMEMsRUFBQXpLLEdBQUErSSxFQUFBN0MsTUFBQTZDLEVBQUE5QyxZQUVBc0MsS0FBQSxTQUFBcFosR0FDQW1jLEVBQUFuYyxLQUVBdVosTUFBQSxTQUFBdUUsR0FDQTFCLEVBQUEwQixLQUlBMUIsRUFBQWxiLFFBS0F5WSxFQUFBL2YsVUFBQWdrQixxQkFBQSxTQUFBRyxHQUNBLFdBQUF4bUIsS0FBQXVpQixlQUFBMU4sUUFBQTJSLElBRUFwRSxFQUFBL2YsVUFBQWtoQixtQkFBQSxTQUFBRCxHQUNBLE1BQUF0akIsTUFBQXltQixVQUFBLGFBQUE5Z0IsS0FBQUMsVUFBQTBkLEtBQUFLLGFBRUF2QixFQUFBL2YsVUFBQW1oQix1QkFBQSxTQUFBRixHQUNBM2dCLE9BQUEyQyxjQUNBM0MsT0FBQTJDLGFBQUFvaEIsUUFBQSxhQUFBL2dCLEtBQUFDLFVBQUEwZCxLQUdBbEIsRUFBQS9mLFVBQUF3aEIsYUFBQSxXQUNBLEdBQUE4QyxHQUFBM21CLEtBQUEraUIsZUFDQS9pQixNQUFBd2lCLE1BQ0EsT0FBQW1FLE1BQUFqRixjQUNBMWhCLEtBQUE4a0Isa0JBQTBDd0IsVUFBQSxnQkFBQXpDLGFBQUE4QyxFQUFBakYsZ0JBRzFDMWhCLEtBQUE4a0Isa0JBQTBDd0IsVUFBQSxxQkFBQTdELFNBQUF6aUIsS0FBQXlpQixZQUcxQ0wsRUFBQS9mLFVBQUFva0IsVUFBQSxTQUFBRyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFwbEIsR0FBQSxHQUFBc1gsS0FDQXRYLEdBQUFxbEIsUUFBQXJsQixFQUFBc2xCLFVBQUEsR0FBQUYsRUFBQSxVQUNBLElBQUFHLEdBQUEsV0FBQXZsQixFQUFBd2xCLGFBQ0Fua0IsVUFBQW9rQixPQUFBUCxFQUFBLElBQUFDLEVBQUEsSUFBbURJLEVBQUEsV0FFbkQ3RSxFQUFBL2YsVUFBQStrQixVQUFBLFNBQUFSLEdBSUEsT0FIQWpsQixHQUFBaWxCLEVBQUEsSUFDQVMsRUFBQXhZLG1CQUFBOUwsU0FBQW9rQixRQUNBclUsRUFBQXVVLEVBQUFqYyxNQUFBLEtBQ0E5SixFQUFBLEVBQXVCQSxFQUFBd1IsRUFBQS9MLE9BQWV6RixJQUFBLENBRXRDLElBREEsR0FBQUcsR0FBQXFSLEVBQUF4UixHQUNBLEtBQUFHLEVBQUFxSyxPQUFBLElBQ0FySyxJQUFBeUssVUFBQSxFQUVBLE9BQUF6SyxFQUFBb1QsUUFBQWxULEdBQ0EsTUFBQUYsR0FBQXlLLFVBQUF2SyxFQUFBb0YsT0FBQXRGLEVBQUFzRixRQUdBLFVBRUFxYixFQUFBL2YsVUFBQTJnQixvQkFBQSxXQUNBLEdBQUEyQyxHQUFBM2xCLEtBQUFvbkIsVUFBQSxhQUNBLElBQUF6QixFQUNBLElBQ0EsTUFBQWhnQixNQUFBNkssTUFBQW1WLEdBRUEsTUFBQWpqQixHQUNBLFNBT0EwZixFQUFBL2YsVUFBQTRnQix1QkFBQSxXQUNBLEdBQUF0Z0IsT0FBQTJDLGFBQ0EsSUFDQSxNQUFBM0MsUUFBQTJDLGFBQUFnaUIsUUFBQSxjQUVBLE1BQUE1a0IsR0FDQSxTQUlBMGYsRUFBQS9mLFVBQUFvaUIsMEJBQUEsV0FDQTloQixPQUFBMkMsY0FDQTNDLE9BQUEyQyxhQUFBUixXQUFBLGVBR0FzZCxFQUFBL2YsVUFBQW1pQix1QkFBQSxXQUVBemhCLFNBQUFva0IsT0FBQXhsQixzREFFQXlnQixHQUNDSCxFQUNEcmlCLEdBQUF3aUIsZ0JBS0EsU0FBQXZpQixFQUFBRCxFQUFBTyxHQUVBLFlBMkJBLFNBQUFJLEdBQUEwRixFQUFBc2hCLEdBQ0EsTUFBQS9tQixRQUFBNkIsVUFBQTlCLGVBQUFpQixLQUFBeUUsRUFBQXNoQixHQUdBMW5CLEVBQUFELFFBQUEsU0FBQTZPLEVBQUErWSxFQUFBQyxFQUFBbk8sR0FDQWtPLEtBQUEsSUFDQUMsS0FBQSxHQUNBLElBQUF4aEIsS0FFQSxvQkFBQXdJLElBQUEsSUFBQUEsRUFBQTFILE9BQ0EsTUFBQWQsRUFHQSxJQUFBeWhCLEdBQUEsS0FDQWpaLEtBQUFyRCxNQUFBb2MsRUFFQSxJQUFBRyxHQUFBLEdBQ0FyTyxJQUFBLGdCQUFBQSxHQUFBcU8sVUFDQUEsRUFBQXJPLEVBQUFxTyxRQUdBLElBQUF2Z0IsR0FBQXFILEVBQUExSCxNQUVBNGdCLEdBQUEsR0FBQXZnQixFQUFBdWdCLElBQ0F2Z0IsRUFBQXVnQixFQUdBLFFBQUFybUIsR0FBQSxFQUFpQkEsRUFBQThGLElBQVM5RixFQUFBLENBQzFCLEdBRUFzbUIsR0FBQUMsRUFBQUMsRUFBQXBpQixFQUZBcWlCLEVBQUF0WixFQUFBbk4sR0FBQWlELFFBQUFtakIsRUFBQSxPQUNBTSxFQUFBRCxFQUFBbFQsUUFBQTRTLEVBR0FPLElBQUEsR0FDQUosRUFBQUcsRUFBQS9iLE9BQUEsRUFBQWdjLEdBQ0FILEVBQUFFLEVBQUEvYixPQUFBZ2MsRUFBQSxLQUVBSixFQUFBRyxFQUNBRixFQUFBLElBR0FDLEVBQUFqWixtQkFBQStZLEdBQ0FsaUIsRUFBQW1KLG1CQUFBZ1osR0FFQXRuQixFQUFBMEYsRUFBQTZoQixHQUVLM1MsRUFBQWxQLEVBQUE2aEIsSUFDTDdoQixFQUFBNmhCLEdBQUFyaEIsS0FBQWYsR0FFQU8sRUFBQTZoQixJQUFBN2hCLEVBQUE2aEIsR0FBQXBpQixHQUpBTyxFQUFBNmhCLEdBQUFwaUIsRUFRQSxNQUFBTyxHQUdBLElBQUFrUCxHQUFBNUwsTUFBQTRMLFNBQUEsU0FBQWlGLEdBQ0EseUJBQUE1WixPQUFBNkIsVUFBQWdMLFNBQUE3TCxLQUFBNFksS0FNQSxTQUFBdmEsRUFBQUQsRUFBQU8sR0FFQSxZQXNFQSxTQUFBZ0osR0FBQWlSLEVBQUE2TixHQUNBLEdBQUE3TixFQUFBalIsSUFBQSxNQUFBaVIsR0FBQWpSLElBQUE4ZSxFQUVBLFFBREFDLE1BQ0E1bUIsRUFBQSxFQUFpQkEsRUFBQThZLEVBQUFyVCxPQUFlekYsSUFDaEM0bUIsRUFBQXpoQixLQUFBd2hCLEVBQUE3TixFQUFBOVksTUFFQSxPQUFBNG1CLEdBcERBLEdBQUFDLEdBQUEsU0FBQXppQixHQUNBLGFBQUFBLElBQ0EsYUFDQSxNQUFBQSxFQUVBLGVBQ0EsTUFBQUEsR0FBQSxjQUVBLGNBQ0EsTUFBQTBpQixVQUFBMWlCLEtBQUEsRUFFQSxTQUNBLFVBSUE3RixHQUFBRCxRQUFBLFNBQUFxRyxFQUFBdWhCLEVBQUFDLEVBQUE5bEIsR0FPQSxNQU5BNmxCLE1BQUEsSUFDQUMsS0FBQSxJQUNBLE9BQUF4aEIsSUFDQUEsTUFBQTZFLElBR0EsZ0JBQUE3RSxHQUNBa0QsRUFBQWtmLEVBQUFwaUIsR0FBQSxTQUFBNmhCLEdBQ0EsR0FBQVEsR0FBQTlaLG1CQUFBMlosRUFBQUwsSUFBQUwsQ0FDQSxPQUFBdFMsR0FBQWxQLEVBQUE2aEIsSUFDQTNlLEVBQUFsRCxFQUFBNmhCLEdBQUEsU0FBQXBpQixHQUNBLE1BQUE0aUIsR0FBQTlaLG1CQUFBMlosRUFBQXppQixNQUNTbUgsS0FBQTJhLEdBRVRjLEVBQUE5WixtQkFBQTJaLEVBQUFsaUIsRUFBQTZoQixPQUVLamIsS0FBQTJhLEdBSUw3bEIsRUFDQTZNLG1CQUFBMlosRUFBQXhtQixJQUFBOGxCLEVBQ0FqWixtQkFBQTJaLEVBQUFsaUIsSUFGQSxHQUtBLElBQUFrUCxHQUFBNUwsTUFBQTRMLFNBQUEsU0FBQWlGLEdBQ0EseUJBQUE1WixPQUFBNkIsVUFBQWdMLFNBQUE3TCxLQUFBNFksSUFZQWlPLEVBQUE3bkIsT0FBQXNKLE1BQUEsU0FBQTdELEdBQ0EsR0FBQWlpQixLQUNBLFFBQUEvaEIsS0FBQUYsR0FDQXpGLE9BQUE2QixVQUFBOUIsZUFBQWlCLEtBQUF5RSxFQUFBRSxJQUFBK2hCLEVBQUF6aEIsS0FBQU4sRUFFQSxPQUFBK2hCLEtBTUEsU0FBQXJvQixFQUFBRCxFQUFBTyxHQUVBLFlBa0NBLFNBQUFvb0IsS0FDQXZvQixLQUFBcUssU0FBQSxLQUNBckssS0FBQXdvQixRQUFBLEtBQ0F4b0IsS0FBQXlvQixLQUFBLEtBQ0F6b0IsS0FBQWdWLEtBQUEsS0FDQWhWLEtBQUFtUyxLQUFBLEtBQ0FuUyxLQUFBa1MsU0FBQSxLQUNBbFMsS0FBQTBvQixLQUFBLEtBQ0Exb0IsS0FBQTJvQixPQUFBLEtBQ0Ezb0IsS0FBQXFTLE1BQUEsS0FDQXJTLEtBQUE0b0IsU0FBQSxLQUNBNW9CLEtBQUFpUyxLQUFBLEtBQ0FqUyxLQUFBNm9CLEtBQUEsS0F3REEsUUFBQUMsR0FBQTNKLEVBQUE0SixFQUFBQyxHQUNBLEdBQUE3SixHQUFBOEosRUFBQUMsU0FBQS9KLGdCQUFBb0osR0FBQSxNQUFBcEosRUFFQSxJQUFBZ0ssR0FBQSxHQUFBWixFQUVBLE9BREFZLEdBQUEzWSxNQUFBMk8sRUFBQTRKLEVBQUFDLEdBQ0FHLEVBeVFBLFFBQUFDLEdBQUFuakIsR0FNQSxNQURBZ2pCLEdBQUF4YixTQUFBeEgsT0FBQTZpQixFQUFBN2lCLElBQ0FBLFlBQUFzaUIsR0FDQXRpQixFQUFBbWEsU0FEQW1JLEVBQUFsbUIsVUFBQStkLE9BQUE1ZSxLQUFBeUUsR0E0REEsUUFBQW9qQixHQUFBdFUsRUFBQXVVLEdBQ0EsTUFBQVIsR0FBQS9ULEdBQUEsTUFBQTZQLFFBQUEwRSxHQU9BLFFBQUFDLEdBQUF4VSxFQUFBdVUsR0FDQSxNQUFBdlUsR0FDQStULEVBQUEvVCxHQUFBLE1BQUF5VSxjQUFBRixHQURBQSxFQXZhQSxHQUFBRyxHQUFBdHBCLEVBQUEsSUFDQThvQixFQUFBOW9CLEVBQUEsR0FFQVAsR0FBQTRRLE1BQUFzWSxFQUNBbHBCLEVBQUFnbEIsUUFBQXlFLEVBQ0F6cEIsRUFBQTRwQixjQUFBRCxFQUNBM3BCLEVBQUF3Z0IsT0FBQWdKLEVBRUF4cEIsRUFBQTJvQixLQXFCQSxJQUFBbUIsR0FBQSxvQkFDQUMsRUFBQSxXQUdBQyxFQUFBLHFDQUlBQyxHQUFBLG9DQUdBQyxHQUFBLElBQWdCLElBQUssa0JBQUEvWCxPQUFBOFgsR0FHckJFLEdBQUEsS0FBQWhZLE9BQUErWCxHQUtBRSxHQUFBLGdCQUFxQyxLQUFBalksT0FBQWdZLEdBQ3JDRSxHQUFBLGFBRUFDLEVBQUEseUJBQ0FDLEVBQUEsK0JBRUFDLEdBQ0FDLFlBQUEsRUFDQUMsZUFBQSxHQUdBQyxHQUNBRixZQUFBLEVBQ0FDLGVBQUEsR0FHQUUsR0FDQUMsTUFBQSxFQUNBQyxPQUFBLEVBQ0FDLEtBQUEsRUFDQUMsUUFBQSxFQUNBQyxNQUFBLEVBQ0FDLFNBQUEsRUFDQUMsVUFBQSxFQUNBQyxRQUFBLEVBQ0FDLFdBQUEsRUFDQUMsU0FBQSxHQUVBaE0sRUFBQS9lLEVBQUEsR0FVQW9vQixHQUFBbG1CLFVBQUFtTyxNQUFBLFNBQUEyTyxFQUFBNEosRUFBQUMsR0FDQSxJQUFBQyxFQUFBeGIsU0FBQTBSLEdBQ0EsU0FBQWIsV0FBQSwrQ0FBQWEsR0FNQSxJQUFBZ00sR0FBQWhNLEVBQUF0SyxRQUFBLEtBQ0F1VyxHQUNBLElBQUFELEtBQUFoTSxFQUFBdEssUUFBQSxhQUNBd1csRUFBQWxNLEVBQUEvVCxNQUFBZ2dCLEdBQ0FFLEVBQUEsS0FDQUQsR0FBQSxHQUFBQSxFQUFBLEdBQUE5bUIsUUFBQSttQixFQUFBLEtBQ0FuTSxFQUFBa00sRUFBQXhlLEtBQUF1ZSxFQUVBLElBQUFoZixHQUFBK1MsQ0FNQSxJQUZBL1MsSUFBQW1mLFFBRUF2QyxHQUFBLElBQUE3SixFQUFBL1QsTUFBQSxLQUFBckUsT0FBQSxDQUVBLEdBQUF5a0IsR0FBQTVCLEVBQUF2VixLQUFBakksRUFDQSxJQUFBb2YsRUFlQSxNQWRBeHJCLE1BQUFpUyxLQUFBN0YsRUFDQXBNLEtBQUE2b0IsS0FBQXpjLEVBQ0FwTSxLQUFBNG9CLFNBQUE0QyxFQUFBLEdBQ0FBLEVBQUEsSUFDQXhyQixLQUFBMm9CLE9BQUE2QyxFQUFBLEdBRUF4ckIsS0FBQXFTLE1BREEwVyxFQUNBN0osRUFBQTFPLE1BQUF4USxLQUFBMm9CLE9BQUEzYyxPQUFBLElBRUFoTSxLQUFBMm9CLE9BQUEzYyxPQUFBLElBRU8rYyxJQUNQL29CLEtBQUEyb0IsT0FBQSxHQUNBM29CLEtBQUFxUyxVQUVBclMsS0FJQSxHQUFBeXJCLEdBQUEvQixFQUFBclYsS0FBQWpJLEVBQ0EsSUFBQXFmLEVBQUEsQ0FDQUEsSUFBQSxFQUNBLElBQUFDLEdBQUFELEVBQUFob0IsYUFDQXpELE1BQUFxSyxTQUFBcWhCLEVBQ0F0ZixJQUFBSixPQUFBeWYsRUFBQTFrQixRQU9BLEdBQUFpaUIsR0FBQXlDLEdBQUFyZixFQUFBMUksTUFBQSx5QkFDQSxHQUFBOGtCLEdBQUEsT0FBQXBjLEVBQUFKLE9BQUEsTUFDQXdjLEdBQUFpRCxHQUFBbEIsRUFBQWtCLEtBQ0FyZixJQUFBSixPQUFBLEdBQ0FoTSxLQUFBd29CLFNBQUEsR0FJQSxJQUFBK0IsRUFBQWtCLEtBQ0FqRCxHQUFBaUQsSUFBQWpCLEVBQUFpQixJQUFBLENBbUJBLE9BREFFLElBQUEsRUFDQXJxQixFQUFBLEVBQW1CQSxFQUFBMm9CLEVBQUFsakIsT0FBNEJ6RixJQUFBLENBQy9DLEdBQUFzcUIsR0FBQXhmLEVBQUF5SSxRQUFBb1YsRUFBQTNvQixLQUNBLElBQUFzcUIsS0FBQSxJQUFBRCxHQUFBQyxFQUFBRCxLQUNBQSxFQUFBQyxHQUtBLEdBQUFuRCxHQUFBb0QsQ0FHQUEsSUFGQSxJQUFBRixFQUVBdmYsRUFBQTBmLFlBQUEsS0FJQTFmLEVBQUEwZixZQUFBLElBQUFILElBS0EsSUFBQUUsSUFDQXBELEVBQUFyYyxFQUFBakYsTUFBQSxFQUFBMGtCLEdBQ0F6ZixJQUFBakYsTUFBQTBrQixFQUFBLEdBQ0E3ckIsS0FBQXlvQixLQUFBNVosbUJBQUE0WixJQUlBa0QsR0FBQSxDQUNBLFFBQUFycUIsR0FBQSxFQUFtQkEsRUFBQTBvQixFQUFBampCLE9BQXlCekYsSUFBQSxDQUM1QyxHQUFBc3FCLEdBQUF4ZixFQUFBeUksUUFBQW1WLEVBQUExb0IsS0FDQSxJQUFBc3FCLEtBQUEsSUFBQUQsR0FBQUMsRUFBQUQsS0FDQUEsRUFBQUMsSUFHQSxJQUFBRCxJQUNBQSxFQUFBdmYsRUFBQXJGLFFBRUEvRyxLQUFBZ1YsS0FBQTVJLEVBQUFqRixNQUFBLEVBQUF3a0IsR0FDQXZmLElBQUFqRixNQUFBd2tCLEdBR0EzckIsS0FBQStyQixZQUlBL3JCLEtBQUFrUyxTQUFBbFMsS0FBQWtTLFVBQUEsRUFJQSxJQUFBOFosR0FBQSxNQUFBaHNCLEtBQUFrUyxTQUFBLElBQ0EsTUFBQWxTLEtBQUFrUyxTQUFBbFMsS0FBQWtTLFNBQUFuTCxPQUFBLEVBR0EsS0FBQWlsQixFQUVBLE9BREFDLEdBQUFqc0IsS0FBQWtTLFNBQUE5RyxNQUFBLE1BQ0E5SixFQUFBLEVBQUFDLEVBQUEwcUIsRUFBQWxsQixPQUEyQ3pGLEVBQUFDLEVBQU9ELElBQUEsQ0FDbEQsR0FBQTRxQixHQUFBRCxFQUFBM3FCLEVBQ0EsSUFBQTRxQixJQUNBQSxFQUFBeG9CLE1BQUF3bUIsR0FBQSxDQUVBLE9BREFpQyxHQUFBLEdBQ0ExbUIsRUFBQSxFQUFBcWlCLEVBQUFvRSxFQUFBbmxCLE9BQTBDdEIsRUFBQXFpQixFQUFPcmlCLElBQ2pEeW1CLEVBQUF0ZSxXQUFBbkksR0FBQSxJQUlBMG1CLEdBQUEsSUFFQUEsR0FBQUQsRUFBQXptQixFQUlBLEtBQUEwbUIsRUFBQXpvQixNQUFBd21CLEdBQUEsQ0FDQSxHQUFBa0MsR0FBQUgsRUFBQTlrQixNQUFBLEVBQUE3RixHQUNBK3FCLEVBQUFKLEVBQUE5a0IsTUFBQTdGLEVBQUEsR0FDQWdyQixFQUFBSixFQUFBeG9CLE1BQUF5bUIsRUFDQW1DLEtBQ0FGLEVBQUEzbEIsS0FBQTZsQixFQUFBLElBQ0FELEVBQUF0YyxRQUFBdWMsRUFBQSxLQUVBRCxFQUFBdGxCLFNBQ0FxRixFQUFBLElBQUFpZ0IsRUFBQXhmLEtBQUEsS0FBQVQsR0FFQXBNLEtBQUFrUyxTQUFBa2EsRUFBQXZmLEtBQUEsSUFDQSxTQU1BN00sS0FBQWtTLFNBQUFuTCxPQWpOQSxJQWtOQS9HLEtBQUFrUyxTQUFBLEdBR0FsUyxLQUFBa1MsU0FBQWxTLEtBQUFrUyxTQUFBek8sY0FHQXVvQixJQUtBaHNCLEtBQUFrUyxTQUFBdVgsRUFBQThDLFFBQUF2c0IsS0FBQWtTLFVBR0EsSUFBQTVSLEdBQUFOLEtBQUFtUyxLQUFBLElBQUFuUyxLQUFBbVMsS0FBQSxHQUNBcWEsRUFBQXhzQixLQUFBa1MsVUFBQSxFQUNBbFMsTUFBQWdWLEtBQUF3WCxFQUFBbHNCLEVBQ0FOLEtBQUE2b0IsTUFBQTdvQixLQUFBZ1YsS0FJQWdYLElBQ0Foc0IsS0FBQWtTLFNBQUFsUyxLQUFBa1MsU0FBQWxHLE9BQUEsRUFBQWhNLEtBQUFrUyxTQUFBbkwsT0FBQSxHQUNBLE1BQUFxRixFQUFBLEtBQ0FBLEVBQUEsSUFBQUEsSUFPQSxJQUFBZ2UsRUFBQXNCLEdBS0EsT0FBQXBxQixHQUFBLEVBQUFDLEVBQUF3b0IsRUFBQWhqQixPQUEwQ3pGLEVBQUFDLEVBQU9ELElBQUEsQ0FDakQsR0FBQW1yQixHQUFBMUMsRUFBQXpvQixFQUNBLFNBQUE4SyxFQUFBeUksUUFBQTRYLEdBQUEsQ0FFQSxHQUFBQyxHQUFBbGUsbUJBQUFpZSxFQUNBQyxLQUFBRCxJQUNBQyxFQUFBQyxPQUFBRixJQUVBcmdCLElBQUFoQixNQUFBcWhCLEdBQUE1ZixLQUFBNmYsSUFNQSxHQUFBaEUsR0FBQXRjLEVBQUF5SSxRQUFBLE1BQ0EsSUFBQTZULElBRUExb0IsS0FBQTBvQixLQUFBdGMsRUFBQUosT0FBQTBjLEdBQ0F0YyxJQUFBakYsTUFBQSxFQUFBdWhCLEdBRUEsSUFBQWtFLEdBQUF4Z0IsRUFBQXlJLFFBQUEsSUFvQkEsS0FuQkEsSUFBQStYLEdBQ0E1c0IsS0FBQTJvQixPQUFBdmMsRUFBQUosT0FBQTRnQixHQUNBNXNCLEtBQUFxUyxNQUFBakcsRUFBQUosT0FBQTRnQixFQUFBLEdBQ0E3RCxJQUNBL29CLEtBQUFxUyxNQUFBNk0sRUFBQTFPLE1BQUF4USxLQUFBcVMsUUFFQWpHLElBQUFqRixNQUFBLEVBQUF5bEIsSUFDRzdELElBRUgvb0IsS0FBQTJvQixPQUFBLEdBQ0Ezb0IsS0FBQXFTLFVBRUFqRyxJQUFBcE0sS0FBQTRvQixTQUFBeGMsR0FDQW9lLEVBQUFrQixJQUNBMXJCLEtBQUFrUyxXQUFBbFMsS0FBQTRvQixXQUNBNW9CLEtBQUE0b0IsU0FBQSxLQUlBNW9CLEtBQUE0b0IsVUFBQTVvQixLQUFBMm9CLE9BQUEsQ0FDQSxHQUFBcm9CLEdBQUFOLEtBQUE0b0IsVUFBQSxHQUNBdG1CLEVBQUF0QyxLQUFBMm9CLFFBQUEsRUFDQTNvQixNQUFBaVMsS0FBQTNSLEVBQUFnQyxFQUtBLE1BREF0QyxNQUFBNm9CLEtBQUE3b0IsS0FBQW9nQixTQUNBcGdCLE1BY0F1b0IsRUFBQWxtQixVQUFBK2QsT0FBQSxXQUNBLEdBQUFxSSxHQUFBem9CLEtBQUF5b0IsTUFBQSxFQUNBQSxLQUNBQSxFQUFBamEsbUJBQUFpYSxHQUNBQSxJQUFBbGtCLFFBQUEsWUFDQWtrQixHQUFBLElBR0EsSUFBQXBlLEdBQUFySyxLQUFBcUssVUFBQSxHQUNBdWUsRUFBQTVvQixLQUFBNG9CLFVBQUEsR0FDQUYsRUFBQTFvQixLQUFBMG9CLE1BQUEsR0FDQTFULEdBQUEsRUFDQTNDLEVBQUEsRUFFQXJTLE1BQUFnVixLQUNBQSxFQUFBeVQsRUFBQXpvQixLQUFBZ1YsS0FDR2hWLEtBQUFrUyxXQUNIOEMsRUFBQXlULElBQUEsSUFBQXpvQixLQUFBa1MsU0FBQTJDLFFBQUEsS0FDQTdVLEtBQUFrUyxTQUNBLElBQUFsUyxLQUFBa1MsU0FBQSxLQUNBbFMsS0FBQW1TLE9BQ0E2QyxHQUFBLElBQUFoVixLQUFBbVMsT0FJQW5TLEtBQUFxUyxPQUNBNFcsRUFBQUMsU0FBQWxwQixLQUFBcVMsUUFDQTdSLE9BQUFzSixLQUFBOUosS0FBQXFTLE9BQUF0TCxTQUNBc0wsRUFBQTZNLEVBQUF0WixVQUFBNUYsS0FBQXFTLE9BR0EsSUFBQXNXLEdBQUEzb0IsS0FBQTJvQixRQUFBdFcsR0FBQSxJQUFBQSxHQUFBLEVBc0JBLE9BcEJBaEksSUFBQSxNQUFBQSxFQUFBMkIsUUFBQSxLQUFBM0IsR0FBQSxLQUlBckssS0FBQXdvQixXQUNBbmUsR0FBQW1nQixFQUFBbmdCLE1BQUEsSUFBQTJLLEdBQ0FBLEVBQUEsTUFBQUEsR0FBQSxJQUNBNFQsR0FBQSxNQUFBQSxFQUFBOWMsT0FBQSxLQUFBOGMsRUFBQSxJQUFBQSxJQUNHNVQsSUFDSEEsRUFBQSxJQUdBMFQsR0FBQSxNQUFBQSxFQUFBNWMsT0FBQSxLQUFBNGMsRUFBQSxJQUFBQSxHQUNBQyxHQUFBLE1BQUFBLEVBQUE3YyxPQUFBLEtBQUE2YyxFQUFBLElBQUFBLEdBRUFDLElBQUFya0IsUUFBQSxpQkFBQWIsR0FDQSxNQUFBOEssb0JBQUE5SyxLQUVBaWxCLElBQUFwa0IsUUFBQSxXQUVBOEYsRUFBQTJLLEVBQUE0VCxFQUFBRCxFQUFBRCxHQU9BSCxFQUFBbG1CLFVBQUF1aUIsUUFBQSxTQUFBMEUsR0FDQSxNQUFBdHBCLE1BQUF3cEIsY0FBQVYsRUFBQVEsR0FBQSxPQUFBbEosVUFRQW1JLEVBQUFsbUIsVUFBQW1uQixjQUFBLFNBQUFGLEdBQ0EsR0FBQUwsRUFBQXhiLFNBQUE2YixHQUFBLENBQ0EsR0FBQXVELEdBQUEsR0FBQXRFLEVBQ0FzRSxHQUFBcmMsTUFBQThZLEdBQUEsTUFDQUEsRUFBQXVELEVBS0EsT0FGQXBrQixHQUFBLEdBQUE4ZixHQUNBdUUsRUFBQXRzQixPQUFBc0osS0FBQTlKLE1BQ0Erc0IsRUFBQSxFQUFrQkEsRUFBQUQsRUFBQS9sQixPQUFtQmdtQixJQUFBLENBQ3JDLEdBQUFDLEdBQUFGLEVBQUFDLEVBQ0F0a0IsR0FBQXVrQixHQUFBaHRCLEtBQUFndEIsR0FRQSxHQUhBdmtCLEVBQUFpZ0IsS0FBQVksRUFBQVosS0FHQSxLQUFBWSxFQUFBVCxLQUVBLE1BREFwZ0IsR0FBQW9nQixLQUFBcGdCLEVBQUEyWCxTQUNBM1gsQ0FJQSxJQUFBNmdCLEVBQUFkLFVBQUFjLEVBQUFqZixTQUFBLENBR0EsT0FEQTRpQixHQUFBenNCLE9BQUFzSixLQUFBd2YsR0FDQTRELEVBQUEsRUFBb0JBLEVBQUFELEVBQUFsbUIsT0FBbUJtbUIsSUFBQSxDQUN2QyxHQUFBQyxHQUFBRixFQUFBQyxFQUNBLGNBQUFDLElBQ0Exa0IsRUFBQTBrQixHQUFBN0QsRUFBQTZELElBVUEsTUFOQTNDLEdBQUEvaEIsRUFBQTRCLFdBQ0E1QixFQUFBeUosV0FBQXpKLEVBQUFtZ0IsV0FDQW5nQixFQUFBd0osS0FBQXhKLEVBQUFtZ0IsU0FBQSxLQUdBbmdCLEVBQUFvZ0IsS0FBQXBnQixFQUFBMlgsU0FDQTNYLEVBR0EsR0FBQTZnQixFQUFBamYsVUFBQWlmLEVBQUFqZixXQUFBNUIsRUFBQTRCLFNBQUEsQ0FTQSxJQUFBbWdCLEVBQUFsQixFQUFBamYsVUFBQSxDQUVBLE9BREFQLEdBQUF0SixPQUFBc0osS0FBQXdmLEdBQ0E1akIsRUFBQSxFQUFxQkEsRUFBQW9FLEVBQUEvQyxPQUFpQnJCLElBQUEsQ0FDdEMsR0FBQW9pQixHQUFBaGUsRUFBQXBFLEVBQ0ErQyxHQUFBcWYsR0FBQXdCLEVBQUF4QixHQUdBLE1BREFyZixHQUFBb2dCLEtBQUFwZ0IsRUFBQTJYLFNBQ0EzWCxFQUlBLEdBREFBLEVBQUE0QixTQUFBaWYsRUFBQWpmLFNBQ0FpZixFQUFBdFUsTUFBQXVWLEVBQUFqQixFQUFBamYsVUFTQTVCLEVBQUFtZ0IsU0FBQVUsRUFBQVYsYUFUQSxDQUVBLElBREEsR0FBQXdFLElBQUE5RCxFQUFBVixVQUFBLElBQUF4ZCxNQUFBLEtBQ0FnaUIsRUFBQXJtQixVQUFBdWlCLEVBQUF0VSxLQUFBb1ksRUFBQTVULFdBQ0E4UCxFQUFBdFUsT0FBQXNVLEVBQUF0VSxLQUFBLElBQ0FzVSxFQUFBcFgsV0FBQW9YLEVBQUFwWCxTQUFBLElBQ0EsS0FBQWtiLEVBQUEsSUFBQUEsRUFBQXJkLFFBQUEsSUFDQXFkLEVBQUFybUIsT0FBQSxHQUFBcW1CLEVBQUFyZCxRQUFBLElBQ0F0SCxFQUFBbWdCLFNBQUF3RSxFQUFBdmdCLEtBQUEsS0FXQSxHQVBBcEUsRUFBQWtnQixPQUFBVyxFQUFBWCxPQUNBbGdCLEVBQUE0SixNQUFBaVgsRUFBQWpYLE1BQ0E1SixFQUFBdU0sS0FBQXNVLEVBQUF0VSxNQUFBLEdBQ0F2TSxFQUFBZ2dCLEtBQUFhLEVBQUFiLEtBQ0FoZ0IsRUFBQXlKLFNBQUFvWCxFQUFBcFgsVUFBQW9YLEVBQUF0VSxLQUNBdk0sRUFBQTBKLEtBQUFtWCxFQUFBblgsS0FFQTFKLEVBQUFtZ0IsVUFBQW5nQixFQUFBa2dCLE9BQUEsQ0FDQSxHQUFBcm9CLEdBQUFtSSxFQUFBbWdCLFVBQUEsR0FDQXRtQixFQUFBbUcsRUFBQWtnQixRQUFBLEVBQ0FsZ0IsR0FBQXdKLEtBQUEzUixFQUFBZ0MsRUFJQSxNQUZBbUcsR0FBQStmLFFBQUEvZixFQUFBK2YsU0FBQWMsRUFBQWQsUUFDQS9mLEVBQUFvZ0IsS0FBQXBnQixFQUFBMlgsU0FDQTNYLEVBR0EsR0FBQTRrQixHQUFBNWtCLEVBQUFtZ0IsVUFBQSxNQUFBbmdCLEVBQUFtZ0IsU0FBQTljLE9BQUEsR0FDQXdoQixFQUNBaEUsRUFBQXRVLE1BQ0FzVSxFQUFBVixVQUFBLE1BQUFVLEVBQUFWLFNBQUE5YyxPQUFBLEdBRUF5aEIsRUFBQUQsR0FBQUQsR0FDQTVrQixFQUFBdU0sTUFBQXNVLEVBQUFWLFNBQ0E0RSxFQUFBRCxFQUNBRSxFQUFBaGxCLEVBQUFtZ0IsVUFBQW5nQixFQUFBbWdCLFNBQUF4ZCxNQUFBLFNBQ0FnaUIsRUFBQTlELEVBQUFWLFVBQUFVLEVBQUFWLFNBQUF4ZCxNQUFBLFNBQ0FzaUIsRUFBQWpsQixFQUFBNEIsV0FBQW1nQixFQUFBL2hCLEVBQUE0QixTQTJCQSxJQXBCQXFqQixJQUNBamxCLEVBQUF5SixTQUFBLEdBQ0F6SixFQUFBMEosS0FBQSxLQUNBMUosRUFBQXVNLE9BQ0EsS0FBQXlZLEVBQUEsR0FBQUEsRUFBQSxHQUFBaGxCLEVBQUF1TSxLQUNBeVksRUFBQTFkLFFBQUF0SCxFQUFBdU0sT0FFQXZNLEVBQUF1TSxLQUFBLEdBQ0FzVSxFQUFBamYsV0FDQWlmLEVBQUFwWCxTQUFBLEtBQ0FvWCxFQUFBblgsS0FBQSxLQUNBbVgsRUFBQXRVLE9BQ0EsS0FBQW9ZLEVBQUEsR0FBQUEsRUFBQSxHQUFBOUQsRUFBQXRVLEtBQ0FvWSxFQUFBcmQsUUFBQXVaLEVBQUF0VSxPQUVBc1UsRUFBQXRVLEtBQUEsTUFFQXVZLE1BQUEsS0FBQUgsRUFBQSxTQUFBSyxFQUFBLEtBR0FILEVBRUE3a0IsRUFBQXVNLEtBQUFzVSxFQUFBdFUsTUFBQSxLQUFBc1UsRUFBQXRVLEtBQ0FzVSxFQUFBdFUsS0FBQXZNLEVBQUF1TSxLQUNBdk0sRUFBQXlKLFNBQUFvWCxFQUFBcFgsVUFBQSxLQUFBb1gsRUFBQXBYLFNBQ0FvWCxFQUFBcFgsU0FBQXpKLEVBQUF5SixTQUNBekosRUFBQWtnQixPQUFBVyxFQUFBWCxPQUNBbGdCLEVBQUE0SixNQUFBaVgsRUFBQWpYLE1BQ0FvYixFQUFBTCxNQUVHLElBQUFBLEVBQUFybUIsT0FHSDBtQixVQUNBQSxFQUFBblEsTUFDQW1RLElBQUExYixPQUFBcWIsR0FDQTNrQixFQUFBa2dCLE9BQUFXLEVBQUFYLE9BQ0FsZ0IsRUFBQTRKLE1BQUFpWCxFQUFBalgsVUFDRyxLQUFBNFcsRUFBQTBFLGtCQUFBckUsRUFBQVgsUUFBQSxDQUlILEdBQUErRSxFQUFBLENBQ0FqbEIsRUFBQXlKLFNBQUF6SixFQUFBdU0sS0FBQXlZLEVBQUFqVSxPQUlBLElBQUFvVSxNQUFBbmxCLEVBQUF1TSxNQUFBdk0sRUFBQXVNLEtBQUFILFFBQUEsU0FDQXBNLEVBQUF1TSxLQUFBNUosTUFBQSxJQUNBd2lCLEtBQ0FubEIsRUFBQWdnQixLQUFBbUYsRUFBQXBVLFFBQ0EvUSxFQUFBdU0sS0FBQXZNLEVBQUF5SixTQUFBMGIsRUFBQXBVLFNBV0EsTUFSQS9RLEdBQUFrZ0IsT0FBQVcsRUFBQVgsT0FDQWxnQixFQUFBNEosTUFBQWlYLEVBQUFqWCxNQUVBNFcsRUFBQTRFLE9BQUFwbEIsRUFBQW1nQixXQUFBSyxFQUFBNEUsT0FBQXBsQixFQUFBa2dCLFVBQ0FsZ0IsRUFBQXdKLE1BQUF4SixFQUFBbWdCLFNBQUFuZ0IsRUFBQW1nQixTQUFBLEtBQ0FuZ0IsRUFBQWtnQixPQUFBbGdCLEVBQUFrZ0IsT0FBQSxLQUVBbGdCLEVBQUFvZ0IsS0FBQXBnQixFQUFBMlgsU0FDQTNYLEVBR0EsSUFBQWdsQixFQUFBMW1CLE9BV0EsTUFSQTBCLEdBQUFtZ0IsU0FBQSxLQUVBbmdCLEVBQUFrZ0IsT0FDQWxnQixFQUFBd0osS0FBQSxJQUFBeEosRUFBQWtnQixPQUVBbGdCLEVBQUF3SixLQUFBLEtBRUF4SixFQUFBb2dCLEtBQUFwZ0IsRUFBQTJYLFNBQ0EzWCxDQWNBLFFBUkFxbEIsR0FBQUwsRUFBQXRtQixPQUFBLE1BQ0E0bUIsR0FDQXRsQixFQUFBdU0sTUFBQXNVLEVBQUF0VSxNQUFBeVksRUFBQTFtQixPQUFBLEtBQ0EsTUFBQSttQixHQUFBLE9BQUFBLElBQUEsS0FBQUEsRUFJQUUsRUFBQSxFQUNBMXNCLEVBQUFtc0IsRUFBQTFtQixPQUE4QnpGLEdBQUEsRUFBUUEsSUFDdEN3c0IsRUFBQUwsRUFBQW5zQixHQUNBLE1BQUF3c0IsRUFDQUwsRUFBQXJwQixPQUFBOUMsRUFBQSxHQUNLLE9BQUF3c0IsR0FDTEwsRUFBQXJwQixPQUFBOUMsRUFBQSxHQUNBMHNCLEtBQ0tBLElBQ0xQLEVBQUFycEIsT0FBQTlDLEVBQUEsR0FDQTBzQixJQUtBLEtBQUFULElBQUFDLEVBQ0EsS0FBVVEsSUFBTUEsRUFDaEJQLEVBQUExZCxRQUFBLE9BSUF3ZCxHQUFBLEtBQUFFLEVBQUEsSUFDQUEsRUFBQSxVQUFBQSxFQUFBLEdBQUEzaEIsT0FBQSxJQUNBMmhCLEVBQUExZCxRQUFBLElBR0FnZSxHQUFBLE1BQUFOLEVBQUE1Z0IsS0FBQSxLQUFBYixRQUFBLElBQ0F5aEIsRUFBQWhuQixLQUFBLEdBR0EsSUFBQXduQixHQUFBLEtBQUFSLEVBQUEsSUFDQUEsRUFBQSxVQUFBQSxFQUFBLEdBQUEzaEIsT0FBQSxFQUdBLElBQUE0aEIsRUFBQSxDQUNBamxCLEVBQUF5SixTQUFBekosRUFBQXVNLEtBQUFpWixFQUFBLEdBQ0FSLEVBQUExbUIsT0FBQTBtQixFQUFBalUsUUFBQSxFQUlBLElBQUFvVSxNQUFBbmxCLEVBQUF1TSxNQUFBdk0sRUFBQXVNLEtBQUFILFFBQUEsU0FDQXBNLEVBQUF1TSxLQUFBNUosTUFBQSxJQUNBd2lCLEtBQ0FubEIsRUFBQWdnQixLQUFBbUYsRUFBQXBVLFFBQ0EvUSxFQUFBdU0sS0FBQXZNLEVBQUF5SixTQUFBMGIsRUFBQXBVLFNBeUJBLE1BckJBK1QsTUFBQTlrQixFQUFBdU0sTUFBQXlZLEVBQUExbUIsT0FFQXdtQixJQUFBVSxHQUNBUixFQUFBMWQsUUFBQSxJQUdBMGQsRUFBQTFtQixPQUlBMEIsRUFBQW1nQixTQUFBNkUsRUFBQTVnQixLQUFBLE1BSEFwRSxFQUFBbWdCLFNBQUEsS0FDQW5nQixFQUFBd0osS0FBQSxNQU1BZ1gsRUFBQTRFLE9BQUFwbEIsRUFBQW1nQixXQUFBSyxFQUFBNEUsT0FBQXBsQixFQUFBa2dCLFVBQ0FsZ0IsRUFBQXdKLE1BQUF4SixFQUFBbWdCLFNBQUFuZ0IsRUFBQW1nQixTQUFBLEtBQ0FuZ0IsRUFBQWtnQixPQUFBbGdCLEVBQUFrZ0IsT0FBQSxLQUVBbGdCLEVBQUFnZ0IsS0FBQWEsRUFBQWIsTUFBQWhnQixFQUFBZ2dCLEtBQ0FoZ0IsRUFBQStmLFFBQUEvZixFQUFBK2YsU0FBQWMsRUFBQWQsUUFDQS9mLEVBQUFvZ0IsS0FBQXBnQixFQUFBMlgsU0FDQTNYLEdBR0E4ZixFQUFBbG1CLFVBQUEwcEIsVUFBQSxXQUNBLEdBQUEvVyxHQUFBaFYsS0FBQWdWLEtBQ0E3QyxFQUFBd1gsRUFBQXRWLEtBQUFXLEVBQ0E3QyxLQUNBQSxJQUFBLEdBQ0EsTUFBQUEsSUFDQW5TLEtBQUFtUyxPQUFBbkcsT0FBQSxJQUVBZ0osSUFBQWhKLE9BQUEsRUFBQWdKLEVBQUFqTyxPQUFBb0wsRUFBQXBMLFNBRUFpTyxJQUFBaFYsS0FBQWtTLFNBQUE4QyxLQU1BLFNBQUFuVixFQUFBRCxFQUFBTyxJQUVBLFNBQUFOLEVBQUEwSCxHQUFzRCxHQUFBMm1CLElBQ3JELFNBQUF4dUIsR0FnRUQsUUFBQWlLLEdBQUE3RyxHQUNBLFNBQUFxckIsWUFBQUMsRUFBQXRyQixJQVdBLFFBQUFxRyxHQUFBa2xCLEVBQUE5bkIsR0FHQSxJQUZBLEdBQUFRLEdBQUFzbkIsRUFBQXRuQixPQUNBMEIsS0FDQTFCLEtBQ0EwQixFQUFBMUIsR0FBQVIsRUFBQThuQixFQUFBdG5CLEdBRUEsT0FBQTBCLEdBYUEsUUFBQTZsQixHQUFBQyxFQUFBaG9CLEdBQ0EsR0FBQW9PLEdBQUE0WixFQUFBbmpCLE1BQUEsS0FDQTNDLEVBQUEsRUFXQSxPQVZBa00sR0FBQTVOLE9BQUEsSUFHQTBCLEVBQUFrTSxFQUFBLE9BQ0E0WixFQUFBNVosRUFBQSxJQUdBNFosSUFBQWhxQixRQUFBaXFCLEVBQUEsS0FHQS9sQixFQURBVSxFQURBb2xCLEVBQUFuakIsTUFBQSxLQUNBN0UsR0FBQXNHLEtBQUEsS0FpQkEsUUFBQTRoQixHQUFBRixHQU1BLElBTEEsR0FHQTd0QixHQUNBZ3VCLEVBSkFDLEtBQ0FDLEVBQUEsRUFDQTduQixFQUFBd25CLEVBQUF4bkIsT0FHQTZuQixFQUFBN25CLEdBQ0FyRyxFQUFBNnRCLEVBQUEzZ0IsV0FBQWdoQixLQUNBbHVCLEdBQUEsT0FBQUEsR0FBQSxPQUFBa3VCLEVBQUE3bkIsR0FFQTJuQixFQUFBSCxFQUFBM2dCLFdBQUFnaEIsS0FDQSxjQUFBRixHQUNBQyxFQUFBbG9CLE9BQUEsS0FBQS9GLElBQUEsVUFBQWd1QixHQUFBLFFBSUFDLEVBQUFsb0IsS0FBQS9GLEdBQ0FrdUIsTUFHQUQsRUFBQWxvQixLQUFBL0YsRUFHQSxPQUFBaXVCLEdBV0EsUUFBQUUsR0FBQVIsR0FDQSxNQUFBbGxCLEdBQUFrbEIsRUFBQSxTQUFBM3RCLEdBQ0EsR0FBQWl1QixHQUFBLEVBT0EsT0FOQWp1QixHQUFBLFFBQ0FBLEdBQUEsTUFDQWl1QixHQUFBRyxFQUFBcHVCLElBQUEsZUFDQUEsRUFBQSxXQUFBQSxHQUVBaXVCLEdBQUFHLEVBQUFwdUIsS0FFR21NLEtBQUEsSUFZSCxRQUFBa2lCLEdBQUFDLEdBQ0EsTUFBQUEsR0FBQSxNQUNBQSxFQUFBLEdBRUFBLEVBQUEsTUFDQUEsRUFBQSxHQUVBQSxFQUFBLE1BQ0FBLEVBQUEsR0FFQUMsRUFjQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUdBLE1BQUFELEdBQUEsT0FBQUEsRUFBQSxTQUFBQyxJQUFBLEdBUUEsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBMUgsR0FBQSxDQUdBLEtBRkF3SCxFQUFBRSxFQUFBM1QsRUFBQXlULEVBQUFHLEdBQUFILEdBQUEsRUFDQUEsR0FBQXpULEVBQUF5VCxFQUFBQyxHQUMrQkQsRUFBQUksRUFBQUMsR0FBQSxFQUFtQzdILEdBQUFtSCxFQUNsRUssRUFBQXpULEVBQUF5VCxFQUFBSSxFQUVBLE9BQUE3VCxHQUFBaU0sR0FBQTRILEVBQUEsR0FBQUosS0FBQU0sSUFVQSxRQUFBM21CLEdBQUE0bUIsR0FFQSxHQUVBQyxHQUlBcmtCLEVBQ0FoRyxFQUNBcEIsRUFDQTByQixFQUNBQyxFQUNBbEksRUFDQXFILEVBQ0FsUSxFQUVBZ1IsRUFmQXRCLEtBQ0F1QixFQUFBTCxFQUFBOW9CLE9BRUF6RixFQUFBLEVBQ0FXLEVBQUFrdUIsRUFDQUMsRUFBQUMsQ0FxQkEsS0FMQTVrQixFQUFBb2tCLEVBQUEvRCxZQUFBd0UsR0FDQTdrQixFQUFBLElBQ0FBLEVBQUEsR0FHQWhHLEVBQUEsRUFBYUEsRUFBQWdHLElBQVdoRyxFQUV4Qm9xQixFQUFBamlCLFdBQUFuSSxJQUFBLEtBQ0FrRSxFQUFBLGFBRUFnbEIsRUFBQWxvQixLQUFBb3BCLEVBQUFqaUIsV0FBQW5JLEdBTUEsS0FBQXBCLEVBQUFvSCxFQUFBLEVBQUFBLEVBQUEsSUFBeUNwSCxFQUFBNnJCLEdBQXFCLENBTzlELElBQUFILEVBQUF6dUIsRUFBQTB1QixFQUFBLEVBQUFsSSxFQUFBbUgsRUFFQTVxQixHQUFBNnJCLEdBQ0F2bUIsRUFBQSxpQkFHQXdsQixFQUFBSixFQUFBYyxFQUFBamlCLFdBQUF2SixPQUVBOHFCLEdBQUFGLEdBQUFFLEVBQUF0VCxHQUFBMFUsRUFBQWp2QixHQUFBMHVCLEtBQ0FybUIsRUFBQSxZQUdBckksR0FBQTZ0QixFQUFBYSxFQUNBL1EsRUFBQTZJLEdBQUFzSSxFQUFBSSxFQUFBMUksR0FBQXNJLEVBQUFULElBQUE3SCxFQUFBc0ksSUFFQWpCLEVBQUFsUSxHQWZzRDZJLEdBQUFtSCxFQW1CdERnQixFQUFBaEIsRUFBQWhRLEVBQ0ErUSxFQUFBblUsRUFBQTBVLEVBQUFOLElBQ0F0bUIsRUFBQSxZQUdBcW1CLEdBQUFDLENBSUFILEdBQUFuQixFQUFBNW5CLE9BQUEsRUFDQXFwQixFQUFBZixFQUFBL3RCLEVBQUF5dUIsRUFBQUQsRUFBQSxHQUFBQyxHQUlBbFUsRUFBQXZhLEVBQUF3dUIsR0FBQVMsRUFBQXR1QixHQUNBMEgsRUFBQSxZQUdBMUgsR0FBQTRaLEVBQUF2YSxFQUFBd3VCLEdBQ0F4dUIsR0FBQXd1QixFQUdBbkIsRUFBQXZxQixPQUFBOUMsSUFBQSxFQUFBVyxHQUlBLE1BQUE0c0IsR0FBQUYsR0FVQSxRQUFBMWpCLEdBQUE0a0IsR0FDQSxHQUFBNXRCLEdBQ0FxdEIsRUFDQW1CLEVBQ0FDLEVBQ0FOLEVBQ0EzcUIsRUFDQXBGLEVBQ0Fzd0IsRUFDQTdJLEVBQ0E3SSxFQUNBMlIsRUFHQVYsRUFFQVcsRUFDQVosRUFDQWEsRUFOQW5DLElBb0JBLEtBWEFrQixFQUFBcEIsRUFBQW9CLEdBR0FLLEVBQUFMLEVBQUE5b0IsT0FHQTlFLEVBQUFrdUIsRUFDQWIsRUFBQSxFQUNBYyxFQUFBQyxFQUdBNXFCLEVBQUEsRUFBYUEsRUFBQXlxQixJQUFpQnpxQixHQUM5Qm1yQixFQUFBZixFQUFBcHFCLElBQ0EsS0FDQWtwQixFQUFBbG9CLEtBQUFxb0IsRUFBQThCLEdBZUEsS0FYQUgsRUFBQUMsRUFBQS9CLEVBQUE1bkIsT0FNQTJwQixHQUNBL0IsRUFBQWxvQixLQUFBNnBCLEdBSUFHLEVBQUFQLEdBQUEsQ0FJQSxJQUFBN3ZCLEVBQUFrd0IsRUFBQTlxQixFQUFBLEVBQTBCQSxFQUFBeXFCLElBQWlCenFCLEdBQzNDbXJCLEVBQUFmLEVBQUFwcUIsS0FDQXhELEdBQUEydUIsRUFBQXZ3QixJQUNBQSxFQUFBdXdCLEVBY0EsS0FSQUMsRUFBQUosRUFBQSxFQUNBcHdCLEVBQUE0QixFQUFBNFosR0FBQTBVLEVBQUFqQixHQUFBdUIsSUFDQWxuQixFQUFBLFlBR0EybEIsSUFBQWp2QixFQUFBNEIsR0FBQTR1QixFQUNBNXVCLEVBQUE1QixFQUVBb0YsRUFBQSxFQUFjQSxFQUFBeXFCLElBQWlCenFCLEVBTy9CLEdBTkFtckIsRUFBQWYsRUFBQXBxQixHQUVBbXJCLEVBQUEzdUIsS0FBQXF0QixFQUFBaUIsR0FDQTVtQixFQUFBLFlBR0FpbkIsR0FBQTN1QixFQUFBLENBRUEsSUFBQTB1QixFQUFBckIsRUFBQXhILEVBQUFtSCxFQUNBaFEsRUFBQTZJLEdBQUFzSSxFQUFBSSxFQUFBMUksR0FBQXNJLEVBQUFULElBQUE3SCxFQUFBc0ksSUFDQU8sRUFBQTFSLEdBRmtENkksR0FBQW1ILEVBS2xENkIsRUFBQUgsRUFBQTFSLEVBQ0FnUixFQUFBaEIsRUFBQWhRLEVBQ0EwUCxFQUFBbG9CLEtBQ0Fxb0IsRUFBQUksRUFBQWpRLEVBQUE2UixFQUFBYixFQUFBLEtBRUFVLEVBQUE5VSxFQUFBaVYsRUFBQWIsRUFHQXRCLEdBQUFsb0IsS0FBQXFvQixFQUFBSSxFQUFBeUIsRUFBQSxLQUNBUCxFQUFBZixFQUFBQyxFQUFBdUIsRUFBQUosR0FBQUMsR0FDQXBCLEVBQUEsSUFDQW1CLElBSUFuQixJQUNBcnRCLEVBR0EsTUFBQTBzQixHQUFBOWhCLEtBQUEsSUFjQSxRQUFBa2tCLEdBQUFsQixHQUNBLE1BQUF2QixHQUFBdUIsRUFBQSxTQUFBdEIsR0FDQSxNQUFBeUMsR0FBQTdtQixLQUFBb2tCLEdBQ0F0bEIsRUFBQXNsQixFQUFBcG5CLE1BQUEsR0FBQTFELGVBQ0E4cUIsSUFlQSxRQUFBaEMsR0FBQXNELEdBQ0EsTUFBQXZCLEdBQUF1QixFQUFBLFNBQUF0QixHQUNBLE1BQUEwQyxHQUFBOW1CLEtBQUFva0IsR0FDQSxPQUFBdGpCLEVBQUFzakIsR0FDQUEsSUF2ZEEsR0FJQTJDLElBSkEsZ0JBQUF0eEIsT0FDQUEsRUFBQXV4QixTQUNBLGdCQUFBdHhCLE9BQ0FBLEVBQUFzeEIsU0FDQSxnQkFBQTVwQixNQWNBLElBQUFraUIsR0FHQThHLEVBQUEsV0FHQXRCLEVBQUEsR0FDQXVCLEVBQUEsRUFDQWIsRUFBQSxHQUNBQyxFQUFBLEdBQ0FILEVBQUEsSUFDQVksRUFBQSxHQUNBRixFQUFBLElBQ0FHLEVBQUEsSUFHQVUsRUFBQSxRQUNBQyxFQUFBLGVBQ0F6QyxFQUFBLDRCQUdBSixHQUNBZ0QsU0FBQSxrREFDQUMsWUFBQSxpREFDQUMsZ0JBQUEsaUJBSUE1QixFQUFBVCxFQUFBdUIsRUFDQTNVLEVBQUE1SCxLQUFBNEgsTUFDQWlULEVBQUE1akIsT0FBQUssWUE4YUFrZSxJQU1BekwsUUFBQSxRQVFBdVQsTUFDQXRvQixPQUFBd2xCLEVBQ0F4akIsT0FBQTRqQixHQUVBNWxCLFNBQ0FnQyxTQUNBc2hCLFVBQ0F3RSxpQkFZQWptQixNQUhBb2pCLEVBQUEsV0FDQSxNQUFBekUsSUFDR2pvQixLQUFBNUIsRUFBQU8sRUFBQVAsRUFBQUMsTUFDSEEsRUFBQUQsUUFBQXN1QixRQWtCNEIxc0IsS0FBQTVCLEVBQUFPLEVBQUEsSUFBQU4sR0FBQU0sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxFQUFBTyxHQUVBLFlBR0FOLEdBQUFELFNBQ0E2TixTQUFBLFNBQUErakIsR0FDQSwwQkFFQXRJLFNBQUEsU0FBQXNJLEdBQ0EsaUNBQUFBLEdBRUEzRCxPQUFBLFNBQUEyRCxHQUNBLGNBQUFBLEdBRUE3RCxrQkFBQSxTQUFBNkQsR0FDQSxhQUFBQSxLQU9BLFNBQUEzeEIsRUFBQUQsRUFBQU8sR0FNQUEsRUFBQSxJQUNBTixFQUFBRCxRQUFBc1UsS0FBQXNMLE1BQUFySSxLQUFBakQsT0FLQSxTQUFBclUsRUFBQUQsSUFFQSxTQUFBc1UsR0FDQSxZQTJDQSxTQUFBdWQsR0FBQTl2QixHQUlBLEdBSEEsZ0JBQUFBLEtBQ0FBLEVBQUF1SixPQUFBdkosSUFFQSw2QkFBQXdJLEtBQUF4SSxHQUNBLFNBQUEyYyxXQUFBLHlDQUVBLE9BQUEzYyxHQUFBOEIsY0FHQSxRQUFBaXVCLEdBQUFoeEIsR0FJQSxNQUhBLGdCQUFBQSxLQUNBQSxFQUFBd0ssT0FBQXhLLElBRUFBLEVBSUEsUUFBQWl4QixHQUFBQyxHQUNBLEdBQUFDLElBQ0Fyb0IsS0FBQSxXQUNBLEdBQUE5SSxHQUFBa3hCLEVBQUFwWSxPQUNBLFFBQWdCbFEsU0FBQXdCLEtBQUFwSyxZQVVoQixPQU5Bb3hCLEdBQUFDLFdBQ0FGLEVBQUFHLE9BQUFILFVBQUEsV0FDQSxNQUFBQSxLQUlBQSxFQUdBLFFBQUFJLEdBQUFoUyxHQUNBamdCLEtBQUFtSixPQUVBOFcsWUFBQWdTLEdBQ0FoUyxFQUFBelMsUUFBQSxTQUFBOU0sRUFBQWlCLEdBQ0EzQixLQUFBa3lCLE9BQUF2d0IsRUFBQWpCLElBQ09WLE1BQ0Z1SixNQUFBNEwsUUFBQThLLEdBQ0xBLEVBQUF6UyxRQUFBLFNBQUEya0IsR0FDQW55QixLQUFBa3lCLE9BQUFDLEVBQUEsR0FBQUEsRUFBQSxLQUNPbnlCLE1BQ0ZpZ0IsR0FDTHpmLE9BQUE0eEIsb0JBQUFuUyxHQUFBelMsUUFBQSxTQUFBN0wsR0FDQTNCLEtBQUFreUIsT0FBQXZ3QixFQUFBc2UsRUFBQXRlLEtBQ08zQixNQTBEUCxRQUFBcXlCLEdBQUE3USxHQUNBLEdBQUFBLEVBQUE4USxTQUNBLE1BQUEzTixTQUFBRSxPQUFBLEdBQUF2RyxXQUFBLGdCQUVBa0QsR0FBQThRLFVBQUEsRUFHQSxRQUFBQyxHQUFBQyxHQUNBLFVBQUE3TixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EyTixFQUFBaHFCLE9BQUEsV0FDQW9jLEVBQUE0TixFQUFBL3BCLFNBRUErcEIsRUFBQXBaLFFBQUEsV0FDQXlMLEVBQUEyTixFQUFBN29CLFVBS0EsUUFBQThvQixHQUFBeGtCLEdBQ0EsR0FBQXVrQixHQUFBLEdBQUFqcUIsWUFDQW1xQixFQUFBSCxFQUFBQyxFQUVBLE9BREFBLEdBQUE3cEIsa0JBQUFzRixHQUNBeWtCLEVBR0EsUUFBQUMsR0FBQTFrQixHQUNBLEdBQUF1a0IsR0FBQSxHQUFBanFCLFlBQ0FtcUIsRUFBQUgsRUFBQUMsRUFFQSxPQURBQSxHQUFBSSxXQUFBM2tCLEdBQ0F5a0IsRUFHQSxRQUFBRyxHQUFBeGlCLEdBSUEsT0FIQTFDLEdBQUEsR0FBQTFGLFlBQUFvSSxHQUNBeWlCLEVBQUEsR0FBQXZwQixPQUFBb0UsRUFBQTVHLFFBRUF6RixFQUFBLEVBQW1CQSxFQUFBcU0sRUFBQTVHLE9BQWlCekYsSUFDcEN3eEIsRUFBQXh4QixHQUFBNEosT0FBQUssYUFBQW9DLEVBQUFyTSxHQUVBLE9BQUF3eEIsR0FBQWptQixLQUFBLElBR0EsUUFBQWttQixHQUFBMWlCLEdBQ0EsR0FBQUEsRUFBQWxKLE1BQ0EsTUFBQWtKLEdBQUFsSixNQUFBLEVBRUEsSUFBQXdHLEdBQUEsR0FBQTFGLFlBQUFvSSxFQUFBbEksV0FFQSxPQURBd0YsR0FBQXFsQixJQUFBLEdBQUEvcUIsWUFBQW9JLElBQ0ExQyxFQUFBdkYsT0FJQSxRQUFBNnFCLEtBMEZBLE1BekZBanpCLE1BQUFzeUIsVUFBQSxFQUVBdHlCLEtBQUFrekIsVUFBQSxTQUFBMVIsR0FFQSxHQURBeGhCLEtBQUFtekIsVUFBQTNSLEVBQ0FBLEVBRU8sbUJBQUFBLEdBQ1B4aEIsS0FBQW96QixVQUFBNVIsTUFDTyxJQUFBc1EsRUFBQTdqQixNQUFBbkYsS0FBQXpHLFVBQUFneEIsY0FBQTdSLEdBQ1B4aEIsS0FBQXN6QixVQUFBOVIsTUFDTyxJQUFBc1EsRUFBQXlCLFVBQUFDLFNBQUFueEIsVUFBQWd4QixjQUFBN1IsR0FDUHhoQixLQUFBeXpCLGNBQUFqUyxNQUNPLElBQUFzUSxFQUFBNEIsY0FBQUMsZ0JBQUF0eEIsVUFBQWd4QixjQUFBN1IsR0FDUHhoQixLQUFBb3pCLFVBQUE1UixFQUFBblUsZUFDTyxJQUFBeWtCLEVBQUE4QixhQUFBOUIsRUFBQTdqQixNQUFBNGxCLEVBQUFyUyxHQUNQeGhCLEtBQUE4ekIsaUJBQUFmLEVBQUF2UixFQUFBcFosUUFFQXBJLEtBQUFtekIsVUFBQSxHQUFBcnFCLE9BQUE5SSxLQUFBOHpCLHVCQUNPLEtBQUFoQyxFQUFBOEIsY0FBQTNwQixZQUFBNUgsVUFBQWd4QixjQUFBN1IsS0FBQXVTLEVBQUF2UyxHQUdQLFNBQUFsUixPQUFBLDRCQUZBdFEsTUFBQTh6QixpQkFBQWYsRUFBQXZSLE9BZEF4aEIsTUFBQW96QixVQUFBLEVBbUJBcHpCLE1BQUFpZ0IsUUFBQWplLElBQUEsa0JBQ0EsZ0JBQUF3ZixHQUNBeGhCLEtBQUFpZ0IsUUFBQStTLElBQUEsMkNBQ1NoekIsS0FBQXN6QixXQUFBdHpCLEtBQUFzekIsVUFBQXh3QixLQUNUOUMsS0FBQWlnQixRQUFBK1MsSUFBQSxlQUFBaHpCLEtBQUFzekIsVUFBQXh3QixNQUNTZ3ZCLEVBQUE0QixjQUFBQyxnQkFBQXR4QixVQUFBZ3hCLGNBQUE3UixJQUNUeGhCLEtBQUFpZ0IsUUFBQStTLElBQUEsb0VBS0FsQixFQUFBN2pCLE9BQ0FqTyxLQUFBaU8sS0FBQSxXQUNBLEdBQUErbEIsR0FBQTNCLEVBQUFyeUIsS0FDQSxJQUFBZzBCLEVBQ0EsTUFBQUEsRUFHQSxJQUFBaDBCLEtBQUFzekIsVUFDQSxNQUFBM08sU0FBQUMsUUFBQTVrQixLQUFBc3pCLFVBQ1MsSUFBQXR6QixLQUFBOHpCLGlCQUNULE1BQUFuUCxTQUFBQyxRQUFBLEdBQUE5YixPQUFBOUksS0FBQTh6QixtQkFDUyxJQUFBOXpCLEtBQUF5ekIsY0FDVCxTQUFBbmpCLE9BQUEsdUNBRUEsT0FBQXFVLFNBQUFDLFFBQUEsR0FBQTliLE9BQUE5SSxLQUFBb3pCLGNBSUFwekIsS0FBQTR6QixZQUFBLFdBQ0EsTUFBQTV6QixNQUFBOHpCLGlCQUNBekIsRUFBQXJ5QixPQUFBMmtCLFFBQUFDLFFBQUE1a0IsS0FBQTh6QixrQkFFQTl6QixLQUFBaU8sT0FBQTRULEtBQUE0USxLQUtBenlCLEtBQUFpMEIsS0FBQSxXQUNBLEdBQUFELEdBQUEzQixFQUFBcnlCLEtBQ0EsSUFBQWcwQixFQUNBLE1BQUFBLEVBR0EsSUFBQWgwQixLQUFBc3pCLFVBQ0EsTUFBQVgsR0FBQTN5QixLQUFBc3pCLFVBQ08sSUFBQXR6QixLQUFBOHpCLGlCQUNQLE1BQUFuUCxTQUFBQyxRQUFBaU8sRUFBQTd5QixLQUFBOHpCLGtCQUNPLElBQUE5ekIsS0FBQXl6QixjQUNQLFNBQUFuakIsT0FBQSx1Q0FFQSxPQUFBcVUsU0FBQUMsUUFBQTVrQixLQUFBb3pCLFlBSUF0QixFQUFBeUIsV0FDQXZ6QixLQUFBdXpCLFNBQUEsV0FDQSxNQUFBdnpCLE1BQUFpMEIsT0FBQXBTLEtBQUE1WSxLQUlBakosS0FBQW9jLEtBQUEsV0FDQSxNQUFBcGMsTUFBQWkwQixPQUFBcFMsS0FBQWxjLEtBQUE2SyxRQUdBeFEsS0FNQSxRQUFBazBCLEdBQUFuVSxHQUNBLEdBQUFvVSxHQUFBcFUsRUFBQXFFLGFBQ0EsT0FBQWdRLEdBQUF2ZixRQUFBc2YsSUFBQSxFQUFBQSxFQUFBcFUsRUFHQSxRQUFBc1UsR0FBQXhFLEVBQUF2VyxHQUNBQSxPQUNBLElBQUFrSSxHQUFBbEksRUFBQWtJLElBRUEsSUFBQXFPLFlBQUF3RSxHQUFBLENBQ0EsR0FBQXhFLEVBQUF5QyxTQUNBLFNBQUFoVSxXQUFBLGVBRUF0ZSxNQUFBbWYsSUFBQTBRLEVBQUExUSxJQUNBbmYsS0FBQXMwQixZQUFBekUsRUFBQXlFLFlBQ0FoYixFQUFBMkcsVUFDQWpnQixLQUFBaWdCLFFBQUEsR0FBQWdTLEdBQUFwQyxFQUFBNVAsVUFFQWpnQixLQUFBK2YsT0FBQThQLEVBQUE5UCxPQUNBL2YsS0FBQXUwQixLQUFBMUUsRUFBQTBFLEtBQ0EvUyxHQUFBLE1BQUFxTyxFQUFBc0QsWUFDQTNSLEVBQUFxTyxFQUFBc0QsVUFDQXRELEVBQUF5QyxVQUFBLE9BR0F0eUIsTUFBQW1mLElBQUFqVSxPQUFBMmtCLEVBV0EsSUFSQTd2QixLQUFBczBCLFlBQUFoYixFQUFBZ2IsYUFBQXQwQixLQUFBczBCLGFBQUEsUUFDQWhiLEVBQUEyRyxTQUFBamdCLEtBQUFpZ0IsVUFDQWpnQixLQUFBaWdCLFFBQUEsR0FBQWdTLEdBQUEzWSxFQUFBMkcsVUFFQWpnQixLQUFBK2YsT0FBQW1VLEVBQUE1YSxFQUFBeUcsUUFBQS9mLEtBQUErZixRQUFBLE9BQ0EvZixLQUFBdTBCLEtBQUFqYixFQUFBaWIsTUFBQXYwQixLQUFBdTBCLE1BQUEsS0FDQXYwQixLQUFBdzBCLFNBQUEsTUFFQSxRQUFBeDBCLEtBQUErZixRQUFBLFNBQUEvZixLQUFBK2YsU0FBQXlCLEVBQ0EsU0FBQWxELFdBQUEsNENBRUF0ZSxNQUFBa3pCLFVBQUExUixHQU9BLFFBQUF2WSxHQUFBdVksR0FDQSxHQUFBaVQsR0FBQSxHQUFBakIsU0FTQSxPQVJBaFMsR0FBQStKLE9BQUFuZ0IsTUFBQSxLQUFBb0MsUUFBQSxTQUFBa25CLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLEdBQUF0cEIsR0FBQXNwQixFQUFBdHBCLE1BQUEsS0FDQXpKLEVBQUF5SixFQUFBb08sUUFBQWpWLFFBQUEsV0FDQTdELEVBQUEwSyxFQUFBeUIsS0FBQSxLQUFBdEksUUFBQSxVQUNBa3dCLEdBQUF2QyxPQUFBcmpCLG1CQUFBbE4sR0FBQWtOLG1CQUFBbk8sT0FHQSt6QixFQUdBLFFBQUFFLEdBQUFDLEdBQ0EsR0FBQTNVLEdBQUEsR0FBQWdTLEVBU0EsT0FSQTJDLEdBQUF4cEIsTUFBQSxTQUFBb0MsUUFBQSxTQUFBcW5CLEdBQ0EsR0FBQWxnQixHQUFBa2dCLEVBQUF6cEIsTUFBQSxLQUNBakYsRUFBQXdPLEVBQUE2RSxRQUFBK1IsTUFDQSxJQUFBcGxCLEVBQUEsQ0FDQSxHQUFBekYsR0FBQWlVLEVBQUE5SCxLQUFBLEtBQUEwZSxNQUNBdEwsR0FBQWlTLE9BQUEvckIsRUFBQXpGLE1BR0F1ZixFQUtBLFFBQUE2VSxHQUFBQyxFQUFBemIsR0FDQUEsSUFDQUEsTUFHQXRaLEtBQUE4QyxLQUFBLFVBQ0E5QyxLQUFBK2hCLE9BQUEsVUFBQXpJLEtBQUF5SSxPQUFBLElBQ0EvaEIsS0FBQWcxQixHQUFBaDFCLEtBQUEraEIsUUFBQSxLQUFBL2hCLEtBQUEraEIsT0FBQSxJQUNBL2hCLEtBQUFpMUIsV0FBQSxjQUFBM2IsS0FBQTJiLFdBQUEsS0FDQWoxQixLQUFBaWdCLFFBQUEsR0FBQWdTLEdBQUEzWSxFQUFBMkcsU0FDQWpnQixLQUFBbWYsSUFBQTdGLEVBQUE2RixLQUFBLEdBQ0FuZixLQUFBa3pCLFVBQUE2QixHQTdYQSxJQUFBN2dCLEVBQUFzTCxNQUFBLENBSUEsR0FBQXNTLElBQ0E0QixhQUFBLG1CQUFBeGYsR0FDQTZkLFNBQUEsVUFBQTdkLElBQUEsWUFBQThkLFFBQ0EvakIsS0FBQSxjQUFBaUcsSUFBQSxRQUFBQSxJQUFBLFdBQ0EsSUFFQSxNQURBLElBQUFwTCxPQUNBLEVBQ08sTUFBQXBHLEdBQ1AsYUFHQTZ3QixTQUFBLFlBQUFyZixHQUNBMGYsWUFBQSxlQUFBMWYsR0FHQSxJQUFBNGQsRUFBQThCLFlBQ0EsR0FBQXNCLElBQ0EscUJBQ0Esc0JBQ0EsNkJBQ0Esc0JBQ0EsdUJBQ0Esc0JBQ0EsdUJBQ0Esd0JBQ0EseUJBR0FyQixFQUFBLFNBQUE1dEIsR0FDQSxNQUFBQSxJQUFBa3ZCLFNBQUE5eUIsVUFBQWd4QixjQUFBcHRCLElBR0E4dEIsRUFBQTlwQixZQUFBbXJCLFFBQUEsU0FBQW52QixHQUNBLE1BQUFBLElBQUFpdkIsRUFBQXJnQixRQUFBclUsT0FBQTZCLFVBQUFnTCxTQUFBN0wsS0FBQXlFLEtBQUEsRUF5REFnc0IsR0FBQTV2QixVQUFBNnZCLE9BQUEsU0FBQXZ3QixFQUFBakIsR0FDQWlCLEVBQUE4dkIsRUFBQTl2QixHQUNBakIsRUFBQWd4QixFQUFBaHhCLEVBQ0EsSUFBQTIwQixHQUFBcjFCLEtBQUFtSixJQUFBeEgsRUFDQTNCLE1BQUFtSixJQUFBeEgsR0FBQTB6QixJQUFBLElBQUEzMEIsS0FHQXV4QixFQUFBNXZCLFVBQUEsZ0JBQUFWLFNBQ0EzQixNQUFBbUosSUFBQXNvQixFQUFBOXZCLEtBR0Fzd0IsRUFBQTV2QixVQUFBTCxJQUFBLFNBQUFMLEdBRUEsTUFEQUEsR0FBQTh2QixFQUFBOXZCLEdBQ0EzQixLQUFBb1gsSUFBQXpWLEdBQUEzQixLQUFBbUosSUFBQXhILEdBQUEsTUFHQXN3QixFQUFBNXZCLFVBQUErVSxJQUFBLFNBQUF6VixHQUNBLE1BQUEzQixNQUFBbUosSUFBQTVJLGVBQUFreEIsRUFBQTl2QixLQUdBc3dCLEVBQUE1dkIsVUFBQTJ3QixJQUFBLFNBQUFyeEIsRUFBQWpCLEdBQ0FWLEtBQUFtSixJQUFBc29CLEVBQUE5dkIsSUFBQSt2QixFQUFBaHhCLElBR0F1eEIsRUFBQTV2QixVQUFBbUwsUUFBQSxTQUFBOUYsRUFBQTR0QixHQUNBLE9BQUEzekIsS0FBQTNCLE1BQUFtSixJQUNBbkosS0FBQW1KLElBQUE1SSxlQUFBb0IsSUFDQStGLEVBQUFsRyxLQUFBOHpCLEVBQUF0MUIsS0FBQW1KLElBQUF4SCxLQUFBM0IsT0FLQWl5QixFQUFBNXZCLFVBQUF5SCxLQUFBLFdBQ0EsR0FBQThuQixLQUVBLE9BREE1eEIsTUFBQXdOLFFBQUEsU0FBQTlNLEVBQUFpQixHQUF3Q2l3QixFQUFBbnJCLEtBQUE5RSxLQUN4Q2d3QixFQUFBQyxJQUdBSyxFQUFBNXZCLFVBQUFrekIsT0FBQSxXQUNBLEdBQUEzRCxLQUVBLE9BREE1eEIsTUFBQXdOLFFBQUEsU0FBQTlNLEdBQWtDa3hCLEVBQUFuckIsS0FBQS9GLEtBQ2xDaXhCLEVBQUFDLElBR0FLLEVBQUE1dkIsVUFBQW16QixRQUFBLFdBQ0EsR0FBQTVELEtBRUEsT0FEQTV4QixNQUFBd04sUUFBQSxTQUFBOU0sRUFBQWlCLEdBQXdDaXdCLEVBQUFuckIsTUFBQTlFLEVBQUFqQixNQUN4Q2l4QixFQUFBQyxJQUdBRSxFQUFBQyxXQUNBRSxFQUFBNXZCLFVBQUEydkIsT0FBQUgsVUFBQUksRUFBQTV2QixVQUFBbXpCLFFBcUpBLElBQUFwQixJQUFBLDZDQTRDQUMsR0FBQWh5QixVQUFBb3pCLE1BQUEsV0FDQSxVQUFBcEIsR0FBQXIwQixNQUE4QndoQixLQUFBeGhCLEtBQUFtekIsYUE2QjlCRixFQUFBenhCLEtBQUE2eUIsRUFBQWh5QixXQWdCQTR3QixFQUFBenhCLEtBQUFzekIsRUFBQXp5QixXQUVBeXlCLEVBQUF6eUIsVUFBQW96QixNQUFBLFdBQ0EsVUFBQVgsR0FBQTkwQixLQUFBbXpCLFdBQ0FwUixPQUFBL2hCLEtBQUEraEIsT0FDQWtULFdBQUFqMUIsS0FBQWkxQixXQUNBaFYsUUFBQSxHQUFBZ1MsR0FBQWp5QixLQUFBaWdCLFNBQ0FkLElBQUFuZixLQUFBbWYsT0FJQTJWLEVBQUFuckIsTUFBQSxXQUNBLEdBQUFtWSxHQUFBLEdBQUFnVCxHQUFBLE1BQXVDL1MsT0FBQSxFQUFBa1QsV0FBQSxJQUV2QyxPQURBblQsR0FBQWhmLEtBQUEsUUFDQWdmLEVBR0EsSUFBQTRULElBQUEsb0JBRUFaLEdBQUFhLFNBQUEsU0FBQXhXLEVBQUE0QyxHQUNBLFFBQUEyVCxFQUFBN2dCLFFBQUFrTixHQUNBLFNBQUFvTSxZQUFBLHNCQUdBLFdBQUEyRyxHQUFBLE1BQStCL1MsU0FBQTlCLFNBQTBCM0YsU0FBQTZFLE1BR3pEakwsRUFBQStkLFVBQ0EvZCxFQUFBbWdCLFVBQ0FuZ0IsRUFBQTRnQixXQUVBNWdCLEVBQUFzTCxNQUFBLFNBQUFxUSxFQUFBK0YsR0FDQSxVQUFBalIsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFnUixHQUFBLEdBQUF4QixHQUFBeEUsRUFBQStGLEdBQ0FFLEVBQUEsR0FBQWprQixlQUVBaWtCLEdBQUF0dEIsT0FBQSxXQUNBLEdBQUE4USxJQUNBeUksT0FBQStULEVBQUEvVCxPQUNBa1QsV0FBQWEsRUFBQWIsV0FDQWhWLFFBQUEwVSxFQUFBbUIsRUFBQUMseUJBQUEsSUFFQXpjLEdBQUE2RixJQUFBLGVBQUEyVyxLQUFBRSxZQUFBMWMsRUFBQTJHLFFBQUFqZSxJQUFBLGdCQUNBLElBQUF3ZixHQUFBLFlBQUFzVSxLQUFBaFUsU0FBQWdVLEVBQUFHLFlBQ0FyUixHQUFBLEdBQUFrUSxHQUFBdFQsRUFBQWxJLEtBR0F3YyxFQUFBMWMsUUFBQSxXQUNBeUwsRUFBQSxHQUFBdkcsV0FBQSw0QkFHQXdYLEVBQUFJLFVBQUEsV0FDQXJSLEVBQUEsR0FBQXZHLFdBQUEsNEJBR0F3WCxFQUFBeHJCLEtBQUF1ckIsRUFBQTlWLE9BQUE4VixFQUFBMVcsS0FBQSxHQUVBLFlBQUEwVyxFQUFBdkIsY0FDQXdCLEVBQUFLLGlCQUFBLEdBR0EsZ0JBQUFMLElBQUFoRSxFQUFBN2pCLE9BQ0E2bkIsRUFBQTVhLGFBQUEsUUFHQTJhLEVBQUE1VixRQUFBelMsUUFBQSxTQUFBOU0sRUFBQWlCLEdBQ0FtMEIsRUFBQU0saUJBQUF6MEIsRUFBQWpCLEtBR0FvMUIsRUFBQW5pQixTQUFBLEtBQUFraUIsRUFBQTFDLFVBQUEsS0FBQTBDLEVBQUExQyxjQUdBamYsRUFBQXNMLE1BQUE2VyxVQUFBLElBQ0MsbUJBQUFuaUIsV0FBQWxVLE9BS0QsU0FBQUgsRUFBQUQsRUFBQU8sR0FxQ0EsUUFBQW0yQixHQUFBeGhCLEVBQUFyRCxHQUNBLGdCQUFBcUQsS0FDQXJELEVBQUFxRCxFQUNBQSxNQUFBaEssSUFHQTJHLE9BRUEsSUFRQTBLLEdBUkFvYSxFQUFBcFgsRUFBQXJLLEdBQ0FDLEVBQUF3aEIsRUFBQXhoQixPQUNBeEYsRUFBQWduQixFQUFBaG5CLEdBQ0EwQyxFQUFBc2tCLEVBQUF0a0IsS0FDQXVrQixFQUFBQyxFQUFBbG5CLElBQUEwQyxJQUFBd2tCLEdBQUFsbkIsR0FBQW9HLEtBQ0ErZ0IsRUFBQWpsQixFQUFBa2xCLFVBQUFsbEIsRUFBQSwwQkFDQSxJQUFBQSxFQUFBZ1UsV0FBQStRLENBaUJBLE9BYkFFLElBQ0EzeEIsRUFBQSwrQkFBQWdRLEdBQ0FvSCxFQUFBekcsRUFBQVgsRUFBQXRELEtBRUFnbEIsRUFBQWxuQixLQUNBeEssRUFBQSx5QkFBQWdRLEdBQ0EwaEIsRUFBQWxuQixHQUFBbUcsRUFBQVgsRUFBQXRELElBRUEwSyxFQUFBc2EsRUFBQWxuQixJQUVBZ25CLEVBQUFsa0IsUUFBQVosRUFBQVksUUFDQVosRUFBQVksTUFBQWtrQixFQUFBbGtCLE9BRUE4SixFQUFBekosT0FBQTZqQixFQUFBdGtCLEtBQUFSLEdBN0RBLEdBQUEwTixHQUFBaGYsRUFBQSxJQUNBaVQsRUFBQWpULEVBQUEsR0FDQXVWLEVBQUF2VixFQUFBLElBQ0E0RSxFQUFBNUUsRUFBQSxzQkFNQU4sR0FBQUQsVUFBQTAyQixDQU1BLElBQUFHLEdBQUE3MkIsRUFBQWczQixXQXVEQWgzQixHQUFBeUssU0FBQStJLEVBQUEvSSxTQVNBekssRUFBQTBZLFFBQUFnZSxFQVFBMTJCLEVBQUE4VixRQUFBdlYsRUFBQSxJQUNBUCxFQUFBc1gsT0FBQS9XLEVBQUEsS0FLQSxTQUFBTixFQUFBRCxFQUFBTyxJQUVBLFNBQUFvSCxHQXVCQSxRQUFBNFgsR0FBQXJLLEVBQUEraEIsR0FDQSxHQUFBNXdCLEdBQUE2TyxDQUdBK2hCLE1BQUF0dkIsRUFBQStTLFNBQ0EsTUFBQXhGLE1BQUEraEIsRUFBQXhzQixTQUFBLEtBQUF3c0IsRUFBQTdoQixNQUdBLGdCQUFBRixLQUNBLE1BQUFBLEVBQUFoSixPQUFBLEtBRUFnSixFQURBLE1BQUFBLEVBQUFoSixPQUFBLEdBQ0ErcUIsRUFBQXhzQixTQUFBeUssRUFFQStoQixFQUFBN2hCLEtBQUFGLEdBSUEsc0JBQUEzSyxLQUFBMkssS0FDQS9QLEVBQUEsdUJBQUErUCxHQUVBQSxNQURBLEtBQUEraEIsRUFDQUEsRUFBQXhzQixTQUFBLEtBQUF5SyxFQUVBLFdBQUFBLEdBS0EvUCxFQUFBLFdBQUErUCxHQUNBN08sRUFBQTZ3QixFQUFBaGlCLElBSUE3TyxFQUFBa00sT0FDQSxjQUFBaEksS0FBQWxFLEVBQUFvRSxVQUNBcEUsRUFBQWtNLEtBQUEsS0FDSyxlQUFBaEksS0FBQWxFLEVBQUFvRSxZQUNMcEUsRUFBQWtNLEtBQUEsUUFJQWxNLEVBQUFnTSxLQUFBaE0sRUFBQWdNLE1BQUEsR0FFQSxJQUFBOGtCLElBQUEsSUFBQTl3QixFQUFBK08sS0FBQUgsUUFBQSxLQUNBRyxFQUFBK2hCLEVBQUEsSUFBQTl3QixFQUFBK08sS0FBQSxJQUFBL08sRUFBQStPLElBT0EsT0FKQS9PLEdBQUFzSixHQUFBdEosRUFBQW9FLFNBQUEsTUFBQTJLLEVBQUEsSUFBQS9PLEVBQUFrTSxLQUVBbE0sRUFBQTRpQixLQUFBNWlCLEVBQUFvRSxTQUFBLE1BQUEySyxHQUFBNmhCLEtBQUExa0IsT0FBQWxNLEVBQUFrTSxLQUFBLE9BQUFsTSxFQUFBa00sTUFFQWxNLEVBcEVBLEdBQUE2d0IsR0FBQTMyQixFQUFBLElBQ0E0RSxFQUFBNUUsRUFBQSwwQkFNQU4sR0FBQUQsUUFBQXVmLElBZ0U0QjNkLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEdBYUEsUUFBQW8zQixLQUNBLFNBQUExbUIsT0FBQSxtQ0FFQSxRQUFBMm1CLEtBQ0EsU0FBQTNtQixPQUFBLHFDQXNCQSxRQUFBNG1CLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQXZlLFdBRUEsTUFBQUEsWUFBQXNlLEVBQUEsRUFHQSxLQUFBQyxJQUFBSixJQUFBSSxJQUFBdmUsV0FFQSxNQURBdWUsR0FBQXZlLFdBQ0FBLFdBQUFzZSxFQUFBLEVBRUEsS0FFQSxNQUFBQyxHQUFBRCxFQUFBLEdBQ0ssTUFBQXowQixHQUNMLElBRUEsTUFBQTAwQixHQUFBNTFCLEtBQUEsS0FBQTIxQixFQUFBLEdBQ1MsTUFBQXowQixHQUVULE1BQUEwMEIsR0FBQTUxQixLQUFBeEIsS0FBQW0zQixFQUFBLEtBTUEsUUFBQUUsR0FBQUMsR0FDQSxHQUFBQyxJQUFBemUsYUFFQSxNQUFBQSxjQUFBd2UsRUFHQSxLQUFBQyxJQUFBTixJQUFBTSxJQUFBemUsYUFFQSxNQURBeWUsR0FBQXplLGFBQ0FBLGFBQUF3ZSxFQUVBLEtBRUEsTUFBQUMsR0FBQUQsR0FDSyxNQUFBNTBCLEdBQ0wsSUFFQSxNQUFBNjBCLEdBQUEvMUIsS0FBQSxLQUFBODFCLEdBQ1MsTUFBQTUwQixHQUdULE1BQUE2MEIsR0FBQS8xQixLQUFBeEIsS0FBQXMzQixLQVlBLFFBQUFFLEtBQ0FDLEdBQUFDLElBR0FELEdBQUEsRUFDQUMsRUFBQTN3QixPQUNBNHdCLEVBQUFELEVBQUEzbEIsT0FBQTRsQixHQUVBQyxHQUFBLEVBRUFELEVBQUE1d0IsUUFDQTh3QixLQUlBLFFBQUFBLEtBQ0EsSUFBQUosRUFBQSxDQUdBLEdBQUFqaEIsR0FBQTBnQixFQUFBTSxFQUNBQyxJQUFBLENBR0EsS0FEQSxHQUFBcndCLEdBQUF1d0IsRUFBQTV3QixPQUNBSyxHQUFBLENBR0EsSUFGQXN3QixFQUFBQyxFQUNBQSxPQUNBQyxFQUFBeHdCLEdBQ0Fzd0IsR0FDQUEsRUFBQUUsR0FBQUUsS0FHQUYsSUFBQSxFQUNBeHdCLEVBQUF1d0IsRUFBQTV3QixPQUVBMndCLEVBQUEsS0FDQUQsR0FBQSxFQUNBSixFQUFBN2dCLElBaUJBLFFBQUF1aEIsR0FBQVosRUFBQTlJLEdBQ0FydUIsS0FBQW0zQixNQUNBbjNCLEtBQUFxdUIsUUFZQSxRQUFBMWpCLE1BaEtBLEdBT0F5c0IsR0FDQUcsRUFSQTMwQixFQUFBL0MsRUFBQUQsWUFnQkEsV0FDQSxJQUVBdzNCLEVBREEsa0JBQUF2ZSxZQUNBQSxXQUVBbWUsRUFFSyxNQUFBdDBCLEdBQ0wwMEIsRUFBQUosRUFFQSxJQUVBTyxFQURBLGtCQUFBemUsY0FDQUEsYUFFQW1lLEVBRUssTUFBQXYwQixHQUNMNjBCLEVBQUFOLEtBdURBLElBRUFTLEdBRkFDLEtBQ0FGLEdBQUEsRUFFQUcsR0FBQSxDQXlDQWgxQixHQUFBbzFCLFNBQUEsU0FBQWIsR0FDQSxHQUFBcHpCLEdBQUEsR0FBQXdGLE9BQUE3RSxVQUFBcUMsT0FBQSxFQUNBLElBQUFyQyxVQUFBcUMsT0FBQSxFQUNBLE9BQUF6RixHQUFBLEVBQXVCQSxFQUFBb0QsVUFBQXFDLE9BQXNCekYsSUFDN0N5QyxFQUFBekMsRUFBQSxHQUFBb0QsVUFBQXBELEVBR0FxMkIsR0FBQWx4QixLQUFBLEdBQUFzeEIsR0FBQVosRUFBQXB6QixJQUNBLElBQUE0ekIsRUFBQTV3QixRQUFBMHdCLEdBQ0FQLEVBQUFXLElBU0FFLEVBQUExMUIsVUFBQXkxQixJQUFBLFdBQ0E5M0IsS0FBQW0zQixJQUFBMXlCLE1BQUEsS0FBQXpFLEtBQUFxdUIsUUFFQXpyQixFQUFBcTFCLE1BQUEsVUFDQXIxQixFQUFBczFCLFNBQUEsRUFDQXQxQixFQUFBc0MsT0FDQXRDLEVBQUF1MUIsUUFDQXYxQixFQUFBb2IsUUFBQSxHQUNBcGIsRUFBQXcxQixZQUlBeDFCLEVBQUF3RCxHQUFBdUUsRUFDQS9ILEVBQUF5MUIsWUFBQTF0QixFQUNBL0gsRUFBQThELEtBQUFpRSxFQUNBL0gsRUFBQStELElBQUFnRSxFQUNBL0gsRUFBQWdFLGVBQUErRCxFQUNBL0gsRUFBQWlFLG1CQUFBOEQsRUFDQS9ILEVBQUFzRSxLQUFBeUQsRUFDQS9ILEVBQUEwMUIsZ0JBQUEzdEIsRUFDQS9ILEVBQUEyMUIsb0JBQUE1dEIsRUFFQS9ILEVBQUF5RSxVQUFBLFNBQUExRixHQUFxQyxVQUVyQ2lCLEVBQUE0MUIsUUFBQSxTQUFBNzJCLEdBQ0EsU0FBQTJPLE9BQUEscUNBR0ExTixFQUFBNjFCLElBQUEsV0FBMkIsV0FDM0I3MUIsRUFBQTgxQixNQUFBLFNBQUFDLEdBQ0EsU0FBQXJvQixPQUFBLG1DQUVBMU4sRUFBQWcyQixNQUFBLFdBQTRCLFdBSzVCLFNBQUEvNEIsRUFBQUQsRUFBQU8sR0E2Q0EsUUFBQTA0QixHQUFBNzBCLEdBQ0EsR0FBQTFDLEdBQUFvbkIsRUFBQSxDQUVBLEtBQUFwbkIsSUFBQTBDLEdBQ0Ewa0IsTUFBQSxHQUFBQSxFQUFBMWtCLEVBQUE0SixXQUFBdE0sR0FDQW9uQixHQUFBLENBR0EsT0FBQTlvQixHQUFBMkYsT0FBQTBPLEtBQUE2a0IsSUFBQXBRLEdBQUE5b0IsRUFBQTJGLE9BQUF3QixRQVdBLFFBQUFneUIsR0FBQS8wQixHQUVBLFFBQUFlLEtBRUEsR0FBQUEsRUFBQWkwQixRQUFBLENBRUEsR0FBQTlrQixHQUFBblAsRUFHQWswQixHQUFBLEdBQUFqZ0IsTUFDQWtnQixFQUFBRCxHQUFBRSxHQUFBRixFQUNBL2tCLEdBQUFoUSxLQUFBZzFCLEVBQ0FobEIsRUFBQThILEtBQUFtZCxFQUNBamxCLEVBQUEra0IsT0FDQUUsRUFBQUYsQ0FJQSxRQURBbDFCLEdBQUEsR0FBQXdGLE9BQUE3RSxVQUFBcUMsUUFDQXpGLEVBQUEsRUFBbUJBLEVBQUF5QyxFQUFBZ0QsT0FBaUJ6RixJQUNwQ3lDLEVBQUF6QyxHQUFBb0QsVUFBQXBELEVBR0F5QyxHQUFBLEdBQUFuRSxFQUFBdzVCLE9BQUFyMUIsRUFBQSxJQUVBLGdCQUFBQSxHQUFBLElBRUFBLEVBQUFnTSxRQUFBLEtBSUEsSUFBQTFMLEdBQUEsQ0FDQU4sR0FBQSxHQUFBQSxFQUFBLEdBQUFRLFFBQUEseUJBQUFiLEVBQUEwYyxHQUVBLFVBQUExYyxFQUFBLE1BQUFBLEVBQ0FXLElBQ0EsSUFBQWcxQixHQUFBejVCLEVBQUE0RixXQUFBNGEsRUFDQSxzQkFBQWlaLEdBQUEsQ0FDQSxHQUFBQyxHQUFBdjFCLEVBQUFNLEVBQ0FYLEdBQUEyMUIsRUFBQTczQixLQUFBMFMsRUFBQW9sQixHQUdBdjFCLEVBQUFLLE9BQUFDLEVBQUEsR0FDQUEsSUFFQSxNQUFBWCxLQUlBOUQsRUFBQWtFLFdBQUF0QyxLQUFBMFMsRUFBQW5RLElBRUFnQixFQUFBUCxLQUFBNUUsRUFBQTRFLEtBQUFyQixRQUFBcUIsSUFBQTJTLEtBQUFoVSxVQUNBc0IsTUFBQXlQLEVBQUFuUSxJQWFBLE1BVkFnQixHQUFBZixZQUNBZSxFQUFBaTBCLFFBQUFwNUIsRUFBQW81QixRQUFBaDFCLEdBQ0FlLEVBQUFsQyxVQUFBakQsRUFBQWlELFlBQ0FrQyxFQUFBWixNQUFBMDBCLEVBQUE3MEIsR0FHQSxrQkFBQXBFLEdBQUFnMkIsTUFDQWgyQixFQUFBZzJCLEtBQUE3d0IsR0FHQUEsRUFXQSxRQUFBZ0IsR0FBQW5CLEdBQ0FoRixFQUFBK0UsS0FBQUMsR0FFQWhGLEVBQUEyNUIsU0FDQTM1QixFQUFBNDVCLFFBS0EsUUFIQXB1QixJQUFBLGdCQUFBeEcsS0FBQSxJQUFBd0csTUFBQSxVQUNBaEUsRUFBQWdFLEVBQUFyRSxPQUVBekYsRUFBQSxFQUFpQkEsRUFBQThGLEVBQVM5RixJQUMxQjhKLEVBQUE5SixLQUNBc0QsRUFBQXdHLEVBQUE5SixHQUFBaUQsUUFBQSxhQUNBLE1BQUFLLEVBQUEsR0FDQWhGLEVBQUE0NUIsTUFBQS95QixLQUFBLEdBQUE3QyxRQUFBLElBQUFnQixFQUFBb0gsT0FBQSxTQUVBcE0sRUFBQTI1QixNQUFBOXlCLEtBQUEsR0FBQTdDLFFBQUEsSUFBQWdCLEVBQUEsT0FXQSxRQUFBNjBCLEtBQ0E3NUIsRUFBQW1HLE9BQUEsSUFXQSxRQUFBaXpCLEdBQUFyM0IsR0FDQSxHQUFBTCxHQUFBOEYsQ0FDQSxLQUFBOUYsRUFBQSxFQUFBOEYsRUFBQXhILEVBQUE0NUIsTUFBQXp5QixPQUF5Q3pGLEVBQUE4RixFQUFTOUYsSUFDbEQsR0FBQTFCLEVBQUE0NUIsTUFBQWw0QixHQUFBNkksS0FBQXhJLEdBQ0EsUUFHQSxLQUFBTCxFQUFBLEVBQUE4RixFQUFBeEgsRUFBQTI1QixNQUFBeHlCLE9BQXlDekYsRUFBQThGLEVBQVM5RixJQUNsRCxHQUFBMUIsRUFBQTI1QixNQUFBajRCLEdBQUE2SSxLQUFBeEksR0FDQSxRQUdBLFVBV0EsUUFBQXkzQixHQUFBRSxHQUNBLE1BQUFBLGFBQUFocEIsT0FBQWdwQixFQUFBSSxPQUFBSixFQUFBeHpCLFFBQ0F3ekIsRUFoTUExNUIsRUFBQUMsRUFBQUQsUUFBQW01QixFQUFBaDBCLE1BQUFnMEIsRUFBQSxRQUFBQSxFQUNBbjVCLEVBQUF3NUIsU0FDQXg1QixFQUFBNjVCLFVBQ0E3NUIsRUFBQW1HLFNBQ0FuRyxFQUFBbzVCLFVBQ0FwNUIsRUFBQXFFLFNBQUE5RCxFQUFBLElBTUFQLEVBQUEyNUIsU0FDQTM1QixFQUFBNDVCLFNBUUE1NUIsRUFBQTRGLGFBTUEsSUFBQTJ6QixJQTRLQSxTQUFBdDVCLEVBQUFELEdBZ0RBLFFBQUE0USxHQUFBakMsR0FFQSxHQURBQSxFQUFBckQsT0FBQXFELEtBQ0FBLEVBQUF4SCxPQUFBLE1BR0EsR0FBQXJELEdBQUEsd0hBQUEyUSxLQUNBOUYsRUFFQSxJQUFBN0ssRUFBQSxDQUdBLEdBQUF6QixHQUFBMDNCLFdBQUFqMkIsRUFBQSxHQUVBLFNBREFBLEVBQUEsVUFBQUQsZUFFQSxZQUNBLFdBQ0EsVUFDQSxTQUNBLFFBQ0EsTUFBQXhCLEdBQUEyM0IsQ0FDQSxZQUNBLFVBQ0EsUUFDQSxNQUFBMzNCLEdBQUFQLENBQ0EsYUFDQSxXQUNBLFVBQ0EsU0FDQSxRQUNBLE1BQUFPLEdBQUF1cUIsQ0FDQSxlQUNBLGFBQ0EsV0FDQSxVQUNBLFFBQ0EsTUFBQXZxQixHQUFBNUIsQ0FDQSxlQUNBLGFBQ0EsV0FDQSxVQUNBLFFBQ0EsTUFBQTRCLEdBQUFLLENBQ0Esb0JBQ0Esa0JBQ0EsWUFDQSxXQUNBLFNBQ0EsTUFBQUwsRUFDQSxTQUNBLFVBWUEsUUFBQTQzQixHQUFBWCxHQUNBLE1BQUFBLElBQUF4M0IsRUFDQXVTLEtBQUE2bEIsTUFBQVosRUFBQXgzQixHQUFBLElBRUF3M0IsR0FBQTFNLEVBQ0F2WSxLQUFBNmxCLE1BQUFaLEVBQUExTSxHQUFBLElBRUEwTSxHQUFBNzRCLEVBQ0E0VCxLQUFBNmxCLE1BQUFaLEVBQUE3NEIsR0FBQSxJQUVBNjRCLEdBQUE1MkIsRUFDQTJSLEtBQUE2bEIsTUFBQVosRUFBQTUyQixHQUFBLElBRUE0MkIsRUFBQSxLQVdBLFFBQUFhLEdBQUFiLEdBQ0EsTUFBQWMsR0FBQWQsRUFBQXgzQixFQUFBLFFBQ0FzNEIsRUFBQWQsRUFBQTFNLEVBQUEsU0FDQXdOLEVBQUFkLEVBQUE3NEIsRUFBQSxXQUNBMjVCLEVBQUFkLEVBQUE1MkIsRUFBQSxXQUNBNDJCLEVBQUEsTUFPQSxRQUFBYyxHQUFBZCxFQUFBajNCLEVBQUFOLEdBQ0EsS0FBQXUzQixFQUFBajNCLEdBR0EsTUFBQWkzQixHQUFBLElBQUFqM0IsRUFDQWdTLEtBQUE0SCxNQUFBcWQsRUFBQWozQixHQUFBLElBQUFOLEVBRUFzUyxLQUFBc0ssS0FBQTJhLEVBQUFqM0IsR0FBQSxJQUFBTixFQUFBLElBbEpBLEdBQUFXLEdBQUEsSUFDQWpDLEVBQUEsR0FBQWlDLEVBQ0FrcUIsRUFBQSxHQUFBbnNCLEVBQ0FxQixFQUFBLEdBQUE4cUIsRUFDQW9OLEVBQUEsT0FBQWw0QixDQWdCQTdCLEdBQUFELFFBQUEsU0FBQTA1QixFQUFBaGdCLEdBQ0FBLE9BQ0EsSUFBQXhXLFNBQUF3MkIsRUFDQSxlQUFBeDJCLEdBQUF3MkIsRUFBQXZ5QixPQUFBLEVBQ0EsTUFBQXlKLEdBQUE4b0IsRUFDRyxlQUFBeDJCLElBQUEsSUFBQTBiLE1BQUE4YSxHQUNILE1BQUFoZ0IsR0FBQTJnQixLQUFBRixFQUFBVCxHQUFBTyxFQUFBUCxFQUVBLFVBQUFocEIsT0FDQSx3REFDQTNLLEtBQUFDLFVBQUEwekIsTUEwSEEsU0FBQXo1QixFQUFBRCxHQUVBLEdBQUF5TixNQUFpQkEsUUFFakJ4TixHQUFBRCxRQUFBMkosTUFBQTRMLFNBQUEsU0FBQStHLEdBQ0Esd0JBQUE3TyxFQUFBN0wsS0FBQTBhLEtBTUEsU0FBQXJjLEVBQUFELEVBQUFPLElBRUEsU0FBQW9ILEdBK0JBLFFBQUEyeUIsR0FBQXR5QixFQUFBdUcsR0FDQSxJQUFBdkcsRUFBQSxNQUFBQSxFQUVBLElBQUFpSixFQUFBakosR0FBQSxDQUNBLEdBQUF1eUIsSUFBdUJDLGNBQUEsRUFBQXplLElBQUF4TixFQUFBcEgsT0FFdkIsT0FEQW9ILEdBQUExSCxLQUFBbUIsR0FDQXV5QixFQUNHLEdBQUFobEIsRUFBQXZOLEdBQUEsQ0FFSCxPQURBeXlCLEdBQUEsR0FBQTl3QixPQUFBM0IsRUFBQWIsUUFDQXpGLEVBQUEsRUFBbUJBLEVBQUFzRyxFQUFBYixPQUFpQnpGLElBQ3BDKzRCLEVBQUEvNEIsR0FBQTQ0QixFQUFBdHlCLEVBQUF0RyxHQUFBNk0sRUFFQSxPQUFBa3NCLEdBQ0csbUJBQUF6eUIsa0JBQUFvUixPQUFBLENBQ0gsR0FBQXFoQixLQUNBLFFBQUFsMEIsS0FBQXlCLEdBQ0F5eUIsRUFBQWwwQixHQUFBK3pCLEVBQUF0eUIsRUFBQXpCLEdBQUFnSSxFQUVBLE9BQUFrc0IsR0FFQSxNQUFBenlCLEdBa0JBLFFBQUEweUIsR0FBQTF5QixFQUFBdUcsR0FDQSxJQUFBdkcsRUFBQSxNQUFBQSxFQUVBLElBQUFBLEtBQUF3eUIsYUFDQSxNQUFBanNCLEdBQUF2RyxFQUFBK1QsSUFDRyxJQUFBeEcsRUFBQXZOLEdBQ0gsT0FBQXRHLEdBQUEsRUFBbUJBLEVBQUFzRyxFQUFBYixPQUFpQnpGLElBQ3BDc0csRUFBQXRHLEdBQUFnNUIsRUFBQTF5QixFQUFBdEcsR0FBQTZNLE9BRUcsb0JBQUF2RyxHQUNILE9BQUF6QixLQUFBeUIsR0FDQUEsRUFBQXpCLEdBQUFtMEIsRUFBQTF5QixFQUFBekIsR0FBQWdJLEVBSUEsT0FBQXZHLEdBOUVBLEdBQUF1TixHQUFBaFYsRUFBQSxJQUNBMFEsRUFBQTFRLEVBQUEsSUFDQWtOLEVBQUE3TSxPQUFBNkIsVUFBQWdMLFNBQ0FpSSxFQUFBLGtCQUFBL04sR0FBQXVCLE1BQUEsNkJBQUF1RSxFQUFBN0wsS0FBQStGLEVBQUF1QixNQUNBeU0sRUFBQSxrQkFBQWhPLEdBQUFpTyxNQUFBLDZCQUFBbkksRUFBQTdMLEtBQUErRixFQUFBaU8sS0FZQTVWLEdBQUFpUSxrQkFBQSxTQUFBcEksR0FDQSxHQUFBMEcsTUFDQW9zQixFQUFBOXlCLEVBQUFHLEtBQ0FrSSxFQUFBckksQ0FHQSxPQUZBcUksR0FBQWxJLEtBQUFzeUIsRUFBQUssRUFBQXBzQixHQUNBMkIsRUFBQVQsWUFBQWxCLEVBQUFwSCxRQUNVVSxPQUFBcUksRUFBQTNCLFlBbUNWdk8sRUFBQTJSLGtCQUFBLFNBQUE5SixFQUFBMEcsR0FHQSxNQUZBMUcsR0FBQUcsS0FBQTB5QixFQUFBN3lCLEVBQUFHLEtBQUF1RyxHQUNBMUcsRUFBQTRILGdCQUFBdkUsR0FDQXJELEdBK0JBN0gsRUFBQW9RLFlBQUEsU0FBQXBJLEVBQUFGLEdBQ0EsUUFBQTh5QixHQUFBdjBCLEVBQUF3MEIsRUFBQUMsR0FDQSxJQUFBejBCLEVBQUEsTUFBQUEsRUFHQSxJQUFBcVAsR0FBQXJQLFlBQUE2QyxPQUNBeU0sR0FBQXRQLFlBQUF1UCxNQUFBLENBQ0FtbEIsR0FHQSxJQUFBQyxHQUFBLEdBQUFyeUIsV0FDQXF5QixHQUFBcHlCLE9BQUEsV0FDQWt5QixFQUNBQSxFQUFBRCxHQUFBejZCLEtBQUF5SSxPQUdBaUgsRUFBQTFQLEtBQUF5SSxTQUlBa3lCLEdBQ0FqekIsRUFBQWdJLElBSUFrckIsRUFBQWp5QixrQkFBQTFDLE9BQ0ssSUFBQWtQLEVBQUFsUCxHQUNMLE9BQUEzRSxHQUFBLEVBQXFCQSxFQUFBMkUsRUFBQWMsT0FBZ0J6RixJQUNyQ2s1QixFQUFBdjBCLEVBQUEzRSxLQUFBMkUsT0FFSyxvQkFBQUEsS0FBQTRLLEVBQUE1SyxHQUNMLE9BQUFFLEtBQUFGLEdBQ0F1MEIsRUFBQXYwQixFQUFBRSxLQUFBRixHQUtBLEdBQUEwMEIsR0FBQSxFQUNBanJCLEVBQUE5SCxDQUNBNHlCLEdBQUE5cUIsR0FDQWlyQixHQUNBanpCLEVBQUFnSSxNQUk0QmxPLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEdBRUEsR0FBQXlOLE1BQWlCQSxRQUVqQnhOLEdBQUFELFFBQUEySixNQUFBNEwsU0FBQSxTQUFBK0csR0FDQSx3QkFBQTdPLEVBQUE3TCxLQUFBMGEsS0FNQSxTQUFBcmMsRUFBQUQsRUFBQU8sR0FHQU4sRUFBQUQsUUFBQU8sRUFBQSxLQUtBLFNBQUFOLEVBQUFELEVBQUFPLEdBR0FOLEVBQUFELFFBQUFPLEVBQUEsSUFRQU4sRUFBQUQsUUFBQXdULE9BQUFqVCxFQUFBLElBS0EsU0FBQU4sRUFBQUQsRUFBQU8sSUFFQSxTQUFBb0gsR0EyQkEsUUFBQTJQLEdBQUFwQyxFQUFBckQsR0FDQSxLQUFBelIsZUFBQWtYLElBQUEsVUFBQUEsR0FBQXBDLEVBQUFyRCxFQUVBQSxTQUVBcUQsR0FBQSxnQkFBQUEsS0FDQXJELEVBQUFxRCxFQUNBQSxFQUFBLE1BR0FBLEdBQ0FBLEVBQUFnaUIsRUFBQWhpQixHQUNBckQsRUFBQVMsU0FBQTRDLEVBQUFFLEtBQ0F2RCxFQUFBVyxPQUFBLFVBQUEwQyxFQUFBekssVUFBQSxRQUFBeUssRUFBQXpLLFNBQ0FvSCxFQUFBVSxLQUFBMkMsRUFBQTNDLEtBQ0EyQyxFQUFBekMsUUFBQVosRUFBQVksTUFBQXlDLEVBQUF6QyxRQUNHWixFQUFBdUQsT0FDSHZELEVBQUFTLFNBQUE0a0IsRUFBQXJsQixFQUFBdUQsWUFHQWhWLEtBQUFvUyxPQUFBLE1BQUFYLEVBQUFXLE9BQUFYLEVBQUFXLE9BQ0E3SyxFQUFBK1MsVUFBQSxXQUFBQSxTQUFBalEsU0FFQW9ILEVBQUFTLFdBQUFULEVBQUFVLE9BRUFWLEVBQUFVLEtBQUFuUyxLQUFBb1MsT0FBQSxZQUdBcFMsS0FBQXlTLE1BQUFoQixFQUFBZ0IsUUFBQSxFQUNBelMsS0FBQWtTLFNBQUFULEVBQUFTLFdBQ0EzSyxFQUFBK1Msa0JBQUFwSSxTQUFBLGFBQ0FsUyxLQUFBbVMsS0FBQVYsRUFBQVUsT0FBQTVLLEVBQUErUyxtQkFBQW5JLEtBQ0FtSSxTQUFBbkksS0FDQW5TLEtBQUFvUyxPQUFBLFFBQ0FwUyxLQUFBcVMsTUFBQVosRUFBQVksVUFDQSxnQkFBQXJTLE1BQUFxUyxRQUFBclMsS0FBQXFTLE1BQUEwSSxFQUFBOVIsT0FBQWpKLEtBQUFxUyxRQUNBclMsS0FBQTBLLFNBQUEsSUFBQStHLEVBQUEvRyxRQUNBMUssS0FBQWlTLE1BQUFSLEVBQUFRLE1BQUEsY0FBQTFOLFFBQUEsY0FDQXZFLEtBQUF3YSxhQUFBL0ksRUFBQStJLFdBQ0F4YSxLQUFBcWEsT0FBQSxJQUFBNUksRUFBQTRJLE1BQ0FyYSxLQUFBNmEsY0FBQXBKLEVBQUFvSixZQUNBN2EsS0FBQTRSLGFBQUFILEVBQUFHLFdBQ0E1UixLQUFBc1MsZUFBQWIsRUFBQWEsZ0JBQUEsSUFDQXRTLEtBQUF1UyxrQkFBQWQsRUFBQWMsa0JBQ0F2UyxLQUFBMGxCLFdBQUFqVSxFQUFBaVUsYUFBQSx1QkFDQTFsQixLQUFBNjZCLGlCQUFBcHBCLEVBQUFvcEIscUJBQ0E3NkIsS0FBQXdTLFdBQUEsR0FDQXhTLEtBQUE4NkIsZUFDQTk2QixLQUFBKzZCLGNBQUEsRUFDQS82QixLQUFBZzdCLFdBQUF2cEIsRUFBQXVwQixZQUFBLElBQ0FoN0IsS0FBQWk3QixnQkFBQXhwQixFQUFBd3BCLGtCQUFBLEVBQ0FqN0IsS0FBQTRMLFdBQUEsS0FDQTVMLEtBQUFrN0IsbUJBQUF6cEIsRUFBQXlwQixtQkFDQWw3QixLQUFBbTdCLG1CQUFBLElBQUExcEIsRUFBQTBwQixvQkFBQTFwQixFQUFBMHBCLHdCQUVBLElBQUFuN0IsS0FBQW03QixvQkFBQW43QixLQUFBbTdCLHNCQUNBbjdCLEtBQUFtN0IsbUJBQUEsTUFBQW43QixLQUFBbTdCLGtCQUFBQyxZQUNBcDdCLEtBQUFtN0Isa0JBQUFDLFVBQUEsTUFJQXA3QixLQUFBMlMsSUFBQWxCLEVBQUFrQixLQUFBLEtBQ0EzUyxLQUFBbUcsSUFBQXNMLEVBQUF0TCxLQUFBLEtBQ0FuRyxLQUFBNFMsV0FBQW5CLEVBQUFtQixZQUFBLEtBQ0E1UyxLQUFBNlMsS0FBQXBCLEVBQUFvQixNQUFBLEtBQ0E3UyxLQUFBOFMsR0FBQXJCLEVBQUFxQixJQUFBLEtBQ0E5UyxLQUFBK1MsUUFBQXRCLEVBQUFzQixTQUFBLEtBQ0EvUyxLQUFBZ1QsdUJBQUFsSSxLQUFBMkcsRUFBQXVCLG9CQUFBdkIsRUFBQXVCLG1CQUNBaFQsS0FBQWlULFlBQUF4QixFQUFBd0IsU0FHQSxJQUFBaWUsR0FBQSxnQkFBQTNwQixLQUNBMnBCLEdBQUEzcEIsU0FBQTJwQixJQUNBemYsRUFBQXlCLGNBQUExUyxPQUFBc0osS0FBQTJILEVBQUF5QixjQUFBbk0sT0FBQSxJQUNBL0csS0FBQWtULGFBQUF6QixFQUFBeUIsY0FHQXpCLEVBQUEwQixlQUNBblQsS0FBQW1ULGFBQUExQixFQUFBMEIsZUFLQW5ULEtBQUF1UCxHQUFBLEtBQ0F2UCxLQUFBcTdCLFNBQUEsS0FDQXI3QixLQUFBczdCLGFBQUEsS0FDQXQ3QixLQUFBdTdCLFlBQUEsS0FHQXY3QixLQUFBdzdCLGtCQUFBLEtBQ0F4N0IsS0FBQXk3QixpQkFBQSxLQUVBejdCLEtBQUFzSyxPQXNGQSxRQUFBbXJCLEdBQUF4dkIsR0FDQSxHQUFBcEUsS0FDQSxRQUFBUCxLQUFBMkUsR0FDQUEsRUFBQTFGLGVBQUFlLEtBQ0FPLEVBQUFQLEdBQUEyRSxFQUFBM0UsR0FHQSxPQUFBTyxHQWhOQSxHQUFBNmpCLEdBQUF2bEIsRUFBQSxJQUNBNkYsRUFBQTdGLEVBQUEsR0FDQTRFLEVBQUE1RSxFQUFBLDhCQUNBa0UsRUFBQWxFLEVBQUEsSUFDQWlULEVBQUFqVCxFQUFBLEdBQ0EyMkIsRUFBQTMyQixFQUFBLElBQ0F1N0IsRUFBQXY3QixFQUFBLElBQ0E0YSxFQUFBNWEsRUFBQSxFQU1BTixHQUFBRCxRQUFBc1gsRUF5R0FBLEVBQUF5a0IsdUJBQUEsRUFNQTMxQixFQUFBa1IsRUFBQTdVLFdBUUE2VSxFQUFBN00sU0FBQStJLEVBQUEvSSxTQU9BNk0sV0FDQUEsRUFBQWxGLFVBQUE3UixFQUFBLEdBQ0ErVyxFQUFBd08sV0FBQXZsQixFQUFBLElBQ0ErVyxFQUFBOUQsT0FBQWpULEVBQUEsR0FVQStXLEVBQUE3VSxVQUFBdTVCLGdCQUFBLFNBQUFqNkIsR0FDQW9ELEVBQUEsMEJBQUFwRCxFQUNBLElBQUEwUSxHQUFBb2pCLEVBQUF6MUIsS0FBQXFTLE1BR0FBLEdBQUF3cEIsSUFBQXpvQixFQUFBL0ksU0FHQWdJLEVBQUF5cEIsVUFBQW42QixDQUdBLElBQUEyWCxHQUFBdFosS0FBQTY2QixpQkFBQWw1QixNQW1DQSxPQWhDQTNCLE1BQUF1UCxLQUFBOEMsRUFBQXFKLElBQUExYixLQUFBdVAsSUFFQSxHQUFBbVcsR0FBQS9qQixJQUNBMFEsUUFDQUssT0FBQTFTLEtBQ0F5UyxNQUFBNkcsRUFBQTdHLE9BQUF6UyxLQUFBeVMsTUFDQVAsU0FBQW9ILEVBQUFwSCxVQUFBbFMsS0FBQWtTLFNBQ0FDLEtBQUFtSCxFQUFBbkgsTUFBQW5TLEtBQUFtUyxLQUNBQyxPQUFBa0gsRUFBQWxILFFBQUFwUyxLQUFBb1MsT0FDQUgsS0FBQXFILEVBQUFySCxNQUFBalMsS0FBQWlTLEtBQ0F1SSxXQUFBbEIsRUFBQWtCLFlBQUF4YSxLQUFBd2EsV0FDQUgsTUFBQWYsRUFBQWUsT0FBQXJhLEtBQUFxYSxNQUNBUSxZQUFBdkIsRUFBQXVCLGFBQUE3YSxLQUFBNmEsWUFDQWpKLFdBQUEwSCxFQUFBMUgsWUFBQTVSLEtBQUE0UixXQUNBVyxrQkFBQStHLEVBQUEvRyxtQkFBQXZTLEtBQUF1UyxrQkFDQUQsZUFBQWdILEVBQUFoSCxnQkFBQXRTLEtBQUFzUyxlQUNBMG9CLFdBQUExaEIsRUFBQTBoQixZQUFBaDdCLEtBQUFnN0IsV0FDQXJvQixJQUFBMkcsRUFBQTNHLEtBQUEzUyxLQUFBMlMsSUFDQXhNLElBQUFtVCxFQUFBblQsS0FBQW5HLEtBQUFtRyxJQUNBeU0sV0FBQTBHLEVBQUExRyxZQUFBNVMsS0FBQTRTLFdBQ0FDLEtBQUF5RyxFQUFBekcsTUFBQTdTLEtBQUE2UyxLQUNBQyxHQUFBd0csRUFBQXhHLElBQUE5UyxLQUFBOFMsR0FDQUMsUUFBQXVHLEVBQUF2RyxTQUFBL1MsS0FBQStTLFFBQ0FDLG1CQUFBc0csRUFBQXRHLG9CQUFBaFQsS0FBQWdULG1CQUNBbW9CLGtCQUFBN2hCLEVBQUE2aEIsbUJBQUFuN0IsS0FBQW03QixrQkFDQWpvQixhQUFBb0csRUFBQXBHLGNBQUFsVCxLQUFBa1QsYUFDQUQsVUFBQXFHLEVBQUFyRyxXQUFBalQsS0FBQWlULFVBQ0FFLGFBQUFtRyxFQUFBbkcsY0FBQW5ULEtBQUFtVCxhQUNBNG9CLGVBQUF6aUIsRUFBQXlpQixnQkFBQS83QixLQUFBKzdCLGVBQ0FDLFVBQUExaUIsRUFBQTBpQixlQUFBLE1BcUJBOWtCLEVBQUE3VSxVQUFBaUksS0FBQSxXQUNBLEdBQUF3eEIsRUFDQSxJQUFBOTdCLEtBQUFpN0IsaUJBQUEvakIsRUFBQXlrQix3QkFBQSxJQUFBMzdCLEtBQUEwbEIsV0FBQTdRLFFBQUEsYUFDQWluQixFQUFBLGdCQUNHLFFBQUE5N0IsS0FBQTBsQixXQUFBM2UsT0FBQSxDQUVILEdBQUFtTixHQUFBbFUsSUFJQSxZQUhBNlksWUFBQSxXQUNBM0UsRUFBQWhOLEtBQUEsb0NBQ0ssR0FHTDQwQixFQUFBOTdCLEtBQUEwbEIsV0FBQSxHQUVBMWxCLEtBQUF3UyxXQUFBLFNBR0EsS0FDQXNwQixFQUFBOTdCLEtBQUE0N0IsZ0JBQUFFLEdBQ0csTUFBQXA1QixHQUdILE1BRkExQyxNQUFBMGxCLFdBQUFsTSxZQUNBeFosTUFBQXNLLE9BSUF3eEIsRUFBQXh4QixPQUNBdEssS0FBQWk4QixhQUFBSCxJQVNBNWtCLEVBQUE3VSxVQUFBNDVCLGFBQUEsU0FBQUgsR0FDQS8yQixFQUFBLHVCQUFBKzJCLEVBQUFuNkIsS0FDQSxJQUFBdVMsR0FBQWxVLElBRUFBLE1BQUE4N0IsWUFDQS8yQixFQUFBLGlDQUFBL0UsS0FBQTg3QixVQUFBbjZCLE1BQ0EzQixLQUFBODdCLFVBQUFqMUIsc0JBSUE3RyxLQUFBODdCLFlBR0FBLEVBQ0ExMUIsR0FBQSxtQkFDQThOLEVBQUFnb0IsWUFFQTkxQixHQUFBLGtCQUFBcUIsR0FDQXlNLEVBQUFGLFNBQUF2TSxLQUVBckIsR0FBQSxpQkFBQTFELEdBQ0F3UixFQUFBYixRQUFBM1EsS0FFQTBELEdBQUEsbUJBQ0E4TixFQUFBUixRQUFBLHNCQVdBd0QsRUFBQTdVLFVBQUE4NUIsTUFBQSxTQUFBeDZCLEdBUUEsUUFBQXk2QixLQUNBLEdBQUFsb0IsRUFBQWduQixtQkFBQSxDQUNBLEdBQUFtQixJQUFBcjhCLEtBQUE4SCxnQkFBQW9NLEVBQUE0bkIsVUFBQWgwQixjQUNBdzBCLE1BQUFELEVBRUFDLElBRUF2M0IsRUFBQSw4QkFBQXBELEdBQ0FtNkIsRUFBQW5vQixPQUFxQjdRLEtBQUEsT0FBQThFLEtBQUEsV0FDckJrMEIsRUFBQXAxQixLQUFBLGtCQUFBa0QsR0FDQSxJQUFBMHlCLEVBQ0EsWUFBQTF5QixFQUFBOUcsTUFBQSxVQUFBOEcsRUFBQWhDLEtBQUEsQ0FJQSxHQUhBN0MsRUFBQSw0QkFBQXBELEdBQ0F1UyxFQUFBcW9CLFdBQUEsRUFDQXJvQixFQUFBaE4sS0FBQSxZQUFBNDBCLElBQ0FBLEVBQUEsTUFDQTVrQixHQUFBeWtCLHNCQUFBLGNBQUFHLEVBQUFuNkIsS0FFQW9ELEVBQUEsaUNBQUFtUCxFQUFBNG5CLFVBQUFuNkIsTUFDQXVTLEVBQUE0bkIsVUFBQTFnQixNQUFBLFdBQ0FraEIsR0FDQSxXQUFBcG9CLEVBQUExQixhQUNBek4sRUFBQSxpREFFQTRULElBRUF6RSxFQUFBK25CLGFBQUFILEdBQ0FBLEVBQUFub0IsT0FBMkI3USxLQUFBLGFBQzNCb1IsRUFBQWhOLEtBQUEsVUFBQTQwQixHQUNBQSxFQUFBLEtBQ0E1bkIsRUFBQXFvQixXQUFBLEVBQ0Fyb0IsRUFBQXNvQixlQUVPLENBQ1B6M0IsRUFBQSw4QkFBQXBELEVBQ0EsSUFBQWtFLEdBQUEsR0FBQXlLLE9BQUEsY0FDQXpLLEdBQUFpMkIsWUFBQW42QixLQUNBdVMsRUFBQWhOLEtBQUEsZUFBQXJCLE9BS0EsUUFBQTQyQixLQUNBSCxJQUdBQSxHQUFBLEVBRUEzakIsSUFFQW1qQixFQUFBdnhCLFFBQ0F1eEIsRUFBQSxNQUlBLFFBQUExaUIsR0FBQXZULEdBQ0EsR0FBQThELEdBQUEsR0FBQTJHLE9BQUEsZ0JBQUF6SyxFQUNBOEQsR0FBQW15QixZQUFBbjZCLEtBRUE4NkIsSUFFQTEzQixFQUFBLG1EQUFBcEQsRUFBQWtFLEdBRUFxTyxFQUFBaE4sS0FBQSxlQUFBeUMsR0FHQSxRQUFBK3lCLEtBQ0F0akIsRUFBQSxvQkFJQSxRQUFBUSxLQUNBUixFQUFBLGlCQUlBLFFBQUF1akIsR0FBQUMsR0FDQWQsR0FBQWMsRUFBQWo3QixPQUFBbTZCLEVBQUFuNkIsT0FDQW9ELEVBQUEsNkJBQUE2M0IsRUFBQWo3QixLQUFBbTZCLEVBQUFuNkIsTUFDQTg2QixLQUtBLFFBQUE5akIsS0FDQW1qQixFQUFBbDFCLGVBQUEsT0FBQXcxQixHQUNBTixFQUFBbDFCLGVBQUEsUUFBQXdTLEdBQ0EwaUIsRUFBQWwxQixlQUFBLFFBQUE4MUIsR0FDQXhvQixFQUFBdE4sZUFBQSxRQUFBZ1QsR0FDQTFGLEVBQUF0TixlQUFBLFlBQUErMUIsR0FoR0E1M0IsRUFBQSx5QkFBQXBELEVBQ0EsSUFBQW02QixHQUFBOTdCLEtBQUE0N0IsZ0JBQUFqNkIsR0FBOEN3NkIsTUFBQSxJQUM5Q0csR0FBQSxFQUNBcG9CLEVBQUFsVSxJQUVBa1gsR0FBQXlrQix1QkFBQSxFQThGQUcsRUFBQXAxQixLQUFBLE9BQUEwMUIsR0FDQU4sRUFBQXAxQixLQUFBLFFBQUEwUyxHQUNBMGlCLEVBQUFwMUIsS0FBQSxRQUFBZzJCLEdBRUExOEIsS0FBQTBHLEtBQUEsUUFBQWtULEdBQ0E1WixLQUFBMEcsS0FBQSxZQUFBaTJCLEdBRUFiLEVBQUF4eEIsUUFTQTRNLEVBQUE3VSxVQUFBd1IsT0FBQSxXQVNBLEdBUkE5TyxFQUFBLGVBQ0EvRSxLQUFBd1MsV0FBQSxPQUNBMEUsRUFBQXlrQixzQkFBQSxjQUFBMzdCLEtBQUE4N0IsVUFBQW42QixLQUNBM0IsS0FBQWtILEtBQUEsUUFDQWxILEtBQUF3OEIsUUFJQSxTQUFBeDhCLEtBQUF3UyxZQUFBeFMsS0FBQTBLLFNBQUExSyxLQUFBODdCLFVBQUExZ0IsTUFBQSxDQUNBclcsRUFBQSwwQkFDQSxRQUFBekQsR0FBQSxFQUFBQyxFQUFBdkIsS0FBQXE3QixTQUFBdDBCLE9BQTZDekYsRUFBQUMsRUFBT0QsSUFDcER0QixLQUFBbThCLE1BQUFuOEIsS0FBQXE3QixTQUFBLzVCLE1BV0E0VixFQUFBN1UsVUFBQTJSLFNBQUEsU0FBQXZNLEdBQ0EsZUFBQXpILEtBQUF3UyxZQUFBLFNBQUF4UyxLQUFBd1MsWUFDQSxZQUFBeFMsS0FBQXdTLFdBUUEsT0FQQXpOLEVBQUEsdUNBQUEwQyxFQUFBM0UsS0FBQTJFLEVBQUFHLE1BRUE1SCxLQUFBa0gsS0FBQSxTQUFBTyxHQUdBekgsS0FBQWtILEtBQUEsYUFFQU8sRUFBQTNFLE1BQ0EsV0FDQTlDLEtBQUE2OEIsWUFBQW5CLEVBQUFqMEIsRUFBQUcsTUFDQSxNQUVBLFlBQ0E1SCxLQUFBODhCLFVBQ0E5OEIsS0FBQWtILEtBQUEsT0FDQSxNQUVBLGFBQ0EsR0FBQXJCLEdBQUEsR0FBQXlLLE9BQUEsZUFDQXpLLEdBQUFrM0IsS0FBQXQxQixFQUFBRyxLQUNBNUgsS0FBQXFULFFBQUF4TixFQUNBLE1BRUEsZUFDQTdGLEtBQUFrSCxLQUFBLE9BQUFPLEVBQUFHLE1BQ0E1SCxLQUFBa0gsS0FBQSxVQUFBTyxFQUFBRyxVQUlBN0MsR0FBQSw4Q0FBQS9FLEtBQUF3UyxhQVdBMEUsRUFBQTdVLFVBQUF3NkIsWUFBQSxTQUFBajFCLEdBQ0E1SCxLQUFBa0gsS0FBQSxZQUFBVSxHQUNBNUgsS0FBQXVQLEdBQUEzSCxFQUFBOFQsSUFDQTFiLEtBQUE4N0IsVUFBQXpwQixNQUFBcUosSUFBQTlULEVBQUE4VCxJQUNBMWIsS0FBQXE3QixTQUFBcjdCLEtBQUFnOUIsZUFBQXAxQixFQUFBeXpCLFVBQ0FyN0IsS0FBQXM3QixhQUFBMXpCLEVBQUEwekIsYUFDQXQ3QixLQUFBdTdCLFlBQUEzekIsRUFBQTJ6QixZQUNBdjdCLEtBQUE2VCxTQUVBLFdBQUE3VCxLQUFBd1MsYUFDQXhTLEtBQUE4OEIsVUFHQTk4QixLQUFBNEcsZUFBQSxZQUFBNUcsS0FBQWk5QixhQUNBajlCLEtBQUFvRyxHQUFBLFlBQUFwRyxLQUFBaTlCLGVBU0EvbEIsRUFBQTdVLFVBQUE0NkIsWUFBQSxTQUFBem1CLEdBQ0FzQyxhQUFBOVksS0FBQXk3QixpQkFDQSxJQUFBdm5CLEdBQUFsVSxJQUNBa1UsR0FBQXVuQixpQkFBQTVpQixXQUFBLFdBQ0EsV0FBQTNFLEVBQUExQixZQUNBMEIsRUFBQVIsUUFBQSxpQkFDRzhDLEdBQUF0QyxFQUFBb25CLGFBQUFwbkIsRUFBQXFuQixjQVVIcmtCLEVBQUE3VSxVQUFBeTZCLFFBQUEsV0FDQSxHQUFBNW9CLEdBQUFsVSxJQUNBOFksY0FBQTVFLEVBQUFzbkIsbUJBQ0F0bkIsRUFBQXNuQixrQkFBQTNpQixXQUFBLFdBQ0E5VCxFQUFBLG1EQUFBbVAsRUFBQXFuQixhQUNBcm5CLEVBQUExSixPQUNBMEosRUFBQStvQixZQUFBL29CLEVBQUFxbkIsY0FDR3JuQixFQUFBb25CLGVBU0hwa0IsRUFBQTdVLFVBQUFtSSxLQUFBLFdBQ0EsR0FBQTBKLEdBQUFsVSxJQUNBQSxNQUFBazlCLFdBQUEsa0JBQ0FocEIsRUFBQWhOLEtBQUEsV0FVQWdRLEVBQUE3VSxVQUFBNjVCLFFBQUEsV0FDQWw4QixLQUFBODZCLFlBQUExMkIsT0FBQSxFQUFBcEUsS0FBQSs2QixlQUtBLzZCLEtBQUErNkIsY0FBQSxFQUVBLElBQUEvNkIsS0FBQTg2QixZQUFBL3pCLE9BQ0EvRyxLQUFBa0gsS0FBQSxTQUVBbEgsS0FBQXc4QixTQVVBdGxCLEVBQUE3VSxVQUFBbTZCLE1BQUEsV0FDQSxXQUFBeDhCLEtBQUF3UyxZQUFBeFMsS0FBQTg3QixVQUFBaG9CLFdBQ0E5VCxLQUFBdThCLFdBQUF2OEIsS0FBQTg2QixZQUFBL3pCLFNBQ0FoQyxFQUFBLGdDQUFBL0UsS0FBQTg2QixZQUFBL3pCLFFBQ0EvRyxLQUFBODdCLFVBQUFub0IsS0FBQTNULEtBQUE4NkIsYUFHQTk2QixLQUFBKzZCLGNBQUEvNkIsS0FBQTg2QixZQUFBL3pCLE9BQ0EvRyxLQUFBa0gsS0FBQSxXQWNBZ1EsRUFBQTdVLFVBQUF1UixNQUNBc0QsRUFBQTdVLFVBQUFzUixLQUFBLFNBQUEvSixFQUFBMFAsRUFBQS9TLEdBRUEsTUFEQXZHLE1BQUFrOUIsV0FBQSxVQUFBdHpCLEVBQUEwUCxFQUFBL1MsR0FDQXZHLE1BYUFrWCxFQUFBN1UsVUFBQTY2QixXQUFBLFNBQUFwNkIsRUFBQThFLEVBQUEwUixFQUFBL1MsR0FXQSxHQVZBLGtCQUFBcUIsS0FDQXJCLEVBQUFxQixFQUNBQSxNQUFBa0QsSUFHQSxrQkFBQXdPLEtBQ0EvUyxFQUFBK1MsRUFDQUEsRUFBQSxNQUdBLFlBQUF0WixLQUFBd1MsWUFBQSxXQUFBeFMsS0FBQXdTLFdBQUEsQ0FJQThHLFFBQ0FBLEVBQUE4RCxVQUFBLElBQUE5RCxFQUFBOEQsUUFFQSxJQUFBM1YsSUFDQTNFLE9BQ0E4RSxPQUNBMFIsVUFFQXRaLE1BQUFrSCxLQUFBLGVBQUFPLEdBQ0F6SCxLQUFBODZCLFlBQUFyMEIsS0FBQWdCLEdBQ0FsQixHQUFBdkcsS0FBQTBHLEtBQUEsUUFBQUgsR0FDQXZHLEtBQUF3OEIsVUFTQXRsQixFQUFBN1UsVUFBQWtJLE1BQUEsV0FxQkEsUUFBQUEsS0FDQTJKLEVBQUFSLFFBQUEsZ0JBQ0EzTyxFQUFBLCtDQUNBbVAsRUFBQTRuQixVQUFBdnhCLFFBR0EsUUFBQTR5QixLQUNBanBCLEVBQUF0TixlQUFBLFVBQUF1MkIsR0FDQWpwQixFQUFBdE4sZUFBQSxlQUFBdTJCLEdBQ0E1eUIsSUFHQSxRQUFBNnlCLEtBRUFscEIsRUFBQXhOLEtBQUEsVUFBQXkyQixHQUNBanBCLEVBQUF4TixLQUFBLGVBQUF5MkIsR0FuQ0EsZUFBQW45QixLQUFBd1MsWUFBQSxTQUFBeFMsS0FBQXdTLFdBQUEsQ0FDQXhTLEtBQUF3UyxXQUFBLFNBRUEsSUFBQTBCLEdBQUFsVSxJQUVBQSxNQUFBODZCLFlBQUEvekIsT0FDQS9HLEtBQUEwRyxLQUFBLG1CQUNBMUcsS0FBQXU4QixVQUNBYSxJQUVBN3lCLE1BR0t2SyxLQUFBdThCLFVBQ0xhLElBRUE3eUIsSUFzQkEsTUFBQXZLLE9BU0FrWCxFQUFBN1UsVUFBQWdSLFFBQUEsU0FBQXhOLEdBQ0FkLEVBQUEsa0JBQUFjLEdBQ0FxUixFQUFBeWtCLHVCQUFBLEVBQ0EzN0IsS0FBQWtILEtBQUEsUUFBQXJCLEdBQ0E3RixLQUFBMFQsUUFBQSxrQkFBQTdOLElBU0FxUixFQUFBN1UsVUFBQXFSLFFBQUEsU0FBQW1HLEVBQUF2RyxHQUNBLGVBQUF0VCxLQUFBd1MsWUFBQSxTQUFBeFMsS0FBQXdTLFlBQUEsWUFBQXhTLEtBQUF3UyxXQUFBLENBQ0F6TixFQUFBLGlDQUFBOFUsRUFDQSxJQUFBM0YsR0FBQWxVLElBR0E4WSxjQUFBOVksS0FBQXc3QixtQkFDQTFpQixhQUFBOVksS0FBQXk3QixrQkFHQXo3QixLQUFBODdCLFVBQUFqMUIsbUJBQUEsU0FHQTdHLEtBQUE4N0IsVUFBQXZ4QixRQUdBdkssS0FBQTg3QixVQUFBajFCLHFCQUdBN0csS0FBQXdTLFdBQUEsU0FHQXhTLEtBQUF1UCxHQUFBLEtBR0F2UCxLQUFBa0gsS0FBQSxRQUFBMlMsRUFBQXZHLEdBSUFZLEVBQUE0bUIsZUFDQTVtQixFQUFBNm1CLGNBQUEsSUFZQTdqQixFQUFBN1UsVUFBQTI2QixlQUFBLFNBQUEzQixHQUVBLE9BREFnQyxNQUNBLzdCLEVBQUEsRUFBQW1FLEVBQUE0MUIsRUFBQXQwQixPQUFzQ3pGLEVBQUFtRSxFQUFPbkUsS0FDN0MrQyxFQUFBckUsS0FBQTBsQixXQUFBMlYsRUFBQS81QixLQUFBKzdCLEVBQUE1MkIsS0FBQTQwQixFQUFBLzVCLEdBRUEsT0FBQSs3QixNQUc0Qjc3QixLQUFBNUIsRUFBQU8sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxHQVdBLElBQ0FDLEVBQUFELFFBQUEsbUJBQUFpUyxpQkFDQSx1QkFBQUEsZ0JBQ0MsTUFBQWhNLEdBR0RoRyxFQUFBRCxTQUFBLElBTUEsU0FBQUMsRUFBQUQsRUFBQU8sSUFFQSxTQUFBb0gsR0FxQkEsUUFBQSsxQixNQVNBLFFBQUE3aUIsR0FBQWhKLEdBS0EsR0FKQW1KLEVBQUFwWixLQUFBeEIsS0FBQXlSLEdBQ0F6UixLQUFBKzdCLGVBQUF0cUIsRUFBQXNxQixlQUNBLzdCLEtBQUFrVCxhQUFBekIsRUFBQXlCLGFBRUEzTCxFQUFBK1MsU0FBQSxDQUNBLEdBQUFDLEdBQUEsV0FBQUQsU0FBQWpRLFNBQ0E4SCxFQUFBbUksU0FBQW5JLElBR0FBLEtBQ0FBLEVBQUFvSSxFQUFBLFFBR0F2YSxLQUFBbWEsR0FBQTFJLEVBQUFTLFdBQUEzSyxFQUFBK1MsU0FBQXBJLFVBQ0FDLElBQUFWLEVBQUFVLEtBQ0FuUyxLQUFBb2EsR0FBQTNJLEVBQUFXLFNBQUFtSSxHQTZGQSxRQUFBOFosR0FBQTVpQixHQUNBelIsS0FBQStmLE9BQUF0TyxFQUFBc08sUUFBQSxNQUNBL2YsS0FBQThVLElBQUFyRCxFQUFBcUQsSUFDQTlVLEtBQUFtYSxLQUFBMUksRUFBQTBJLEdBQ0FuYSxLQUFBb2EsS0FBQTNJLEVBQUEySSxHQUNBcGEsS0FBQXU5QixPQUFBLElBQUE5ckIsRUFBQThyQixNQUNBdjlCLEtBQUE0SCxTQUFBa0QsS0FBQTJHLEVBQUE3SixLQUFBNkosRUFBQTdKLEtBQUEsS0FDQTVILEtBQUF5UyxNQUFBaEIsRUFBQWdCLE1BQ0F6UyxLQUFBeU0sU0FBQWdGLEVBQUFoRixTQUNBek0sS0FBQThILGVBQUEySixFQUFBM0osZUFDQTlILEtBQUE0UixXQUFBSCxFQUFBRyxXQUNBNVIsS0FBQSs3QixlQUFBdHFCLEVBQUFzcUIsZUFHQS83QixLQUFBMlMsSUFBQWxCLEVBQUFrQixJQUNBM1MsS0FBQW1HLElBQUFzTCxFQUFBdEwsSUFDQW5HLEtBQUE0UyxXQUFBbkIsRUFBQW1CLFdBQ0E1UyxLQUFBNlMsS0FBQXBCLEVBQUFvQixLQUNBN1MsS0FBQThTLEdBQUFyQixFQUFBcUIsR0FDQTlTLEtBQUErUyxRQUFBdEIsRUFBQXNCLFFBQ0EvUyxLQUFBZ1QsbUJBQUF2QixFQUFBdUIsbUJBR0FoVCxLQUFBa1QsYUFBQXpCLEVBQUF5QixhQUVBbFQsS0FBQThlLFNBa1BBLFFBQUEwZSxLQUNBLE9BQUFsOEIsS0FBQSt5QixHQUFBb0osU0FDQXBKLEVBQUFvSixTQUFBbDlCLGVBQUFlLElBQ0EreUIsRUFBQW9KLFNBQUFuOEIsR0FBQW84QixRQXJaQSxHQUFBN3JCLEdBQUExUixFQUFBLEdBQ0F5YSxFQUFBemEsRUFBQSxJQUNBNkYsRUFBQTdGLEVBQUEsR0FDQTZhLEVBQUE3YSxFQUFBLEdBQ0E0RSxFQUFBNUUsRUFBQSxrQ0FNQU4sR0FBQUQsUUFBQTZhLEVBQ0E1YSxFQUFBRCxRQUFBeTBCLFVBdUNBclosRUFBQVAsRUFBQUcsR0FNQUgsRUFBQXBZLFVBQUF5RixnQkFBQSxFQVNBMlMsRUFBQXBZLFVBQUF3ekIsUUFBQSxTQUFBcGtCLEdBc0JBLE1BckJBQSxTQUNBQSxFQUFBcUQsSUFBQTlVLEtBQUE4VSxNQUNBckQsRUFBQTBJLEdBQUFuYSxLQUFBbWEsR0FDQTFJLEVBQUEySSxHQUFBcGEsS0FBQW9hLEdBQ0EzSSxFQUFBZ0IsTUFBQXpTLEtBQUF5UyxRQUFBLEVBQ0FoQixFQUFBM0osZUFBQTlILEtBQUE4SCxlQUNBMkosRUFBQUcsV0FBQTVSLEtBQUE0UixXQUdBSCxFQUFBa0IsSUFBQTNTLEtBQUEyUyxJQUNBbEIsRUFBQXRMLElBQUFuRyxLQUFBbUcsSUFDQXNMLEVBQUFtQixXQUFBNVMsS0FBQTRTLFdBQ0FuQixFQUFBb0IsS0FBQTdTLEtBQUE2UyxLQUNBcEIsRUFBQXFCLEdBQUE5UyxLQUFBOFMsR0FDQXJCLEVBQUFzQixRQUFBL1MsS0FBQStTLFFBQ0F0QixFQUFBdUIsbUJBQUFoVCxLQUFBZ1QsbUJBQ0F2QixFQUFBc3FCLGVBQUEvN0IsS0FBQSs3QixlQUdBdHFCLEVBQUF5QixhQUFBbFQsS0FBQWtULGFBRUEsR0FBQW1oQixHQUFBNWlCLElBV0FnSixFQUFBcFksVUFBQW1aLFFBQUEsU0FBQTVULEVBQUFyQixHQUNBLEdBQUFrRyxHQUFBLGdCQUFBN0UsUUFBQWtELEtBQUFsRCxFQUNBKzFCLEVBQUEzOUIsS0FBQTYxQixTQUEwQjlWLE9BQUEsT0FBQW5ZLE9BQUE2RSxhQUMxQnlILEVBQUFsVSxJQUNBMjlCLEdBQUF2M0IsR0FBQSxVQUFBRyxHQUNBbzNCLEVBQUF2M0IsR0FBQSxpQkFBQVAsR0FDQXFPLEVBQUFiLFFBQUEsaUJBQUF4TixLQUVBN0YsS0FBQTQ5QixRQUFBRCxHQVNBbGpCLEVBQUFwWSxVQUFBaVosT0FBQSxXQUNBdlcsRUFBQSxXQUNBLElBQUE0NEIsR0FBQTM5QixLQUFBNjFCLFVBQ0EzaEIsRUFBQWxVLElBQ0EyOUIsR0FBQXYzQixHQUFBLGdCQUFBd0IsR0FDQXNNLEVBQUFILE9BQUFuTSxLQUVBKzFCLEVBQUF2M0IsR0FBQSxpQkFBQVAsR0FDQXFPLEVBQUFiLFFBQUEsaUJBQUF4TixLQUVBN0YsS0FBQTY5QixRQUFBRixHQTBDQTMzQixFQUFBcXVCLEVBQUFoeUIsV0FRQWd5QixFQUFBaHlCLFVBQUF5YyxPQUFBLFdBQ0EsR0FBQXJOLElBQWNnQixNQUFBelMsS0FBQXlTLE1BQUFmLFFBQUExUixLQUFBbWEsR0FBQXhJLFFBQUEzUixLQUFBb2EsR0FBQXhJLFdBQUE1UixLQUFBNFIsV0FHZEgsR0FBQWtCLElBQUEzUyxLQUFBMlMsSUFDQWxCLEVBQUF0TCxJQUFBbkcsS0FBQW1HLElBQ0FzTCxFQUFBbUIsV0FBQTVTLEtBQUE0UyxXQUNBbkIsRUFBQW9CLEtBQUE3UyxLQUFBNlMsS0FDQXBCLEVBQUFxQixHQUFBOVMsS0FBQThTLEdBQ0FyQixFQUFBc0IsUUFBQS9TLEtBQUErUyxRQUNBdEIsRUFBQXVCLG1CQUFBaFQsS0FBQWdULGtCQUVBLElBQUE4aUIsR0FBQTkxQixLQUFBODFCLElBQUEsR0FBQWprQixHQUFBSixHQUNBeUMsRUFBQWxVLElBRUEsS0FDQStFLEVBQUEsa0JBQUEvRSxLQUFBK2YsT0FBQS9mLEtBQUE4VSxLQUNBZ2hCLEVBQUF4ckIsS0FBQXRLLEtBQUErZixPQUFBL2YsS0FBQThVLElBQUE5VSxLQUFBdTlCLE1BQ0EsS0FDQSxHQUFBdjlCLEtBQUFrVCxhQUFBLENBQ0E0aUIsRUFBQWdJLHVCQUFBaEksRUFBQWdJLHVCQUFBLEVBQ0EsUUFBQXg4QixLQUFBdEIsTUFBQWtULGFBQ0FsVCxLQUFBa1QsYUFBQTNTLGVBQUFlLElBQ0F3MEIsRUFBQU0saUJBQUE5MEIsRUFBQXRCLEtBQUFrVCxhQUFBNVIsS0FJSyxNQUFBb0IsSUFFTCxZQUFBMUMsS0FBQStmLE9BQ0EsSUFDQS9mLEtBQUF5TSxTQUNBcXBCLEVBQUFNLGlCQUFBLDJDQUVBTixFQUFBTSxpQkFBQSwyQ0FFTyxNQUFBMXpCLElBR1AsSUFDQW96QixFQUFBTSxpQkFBQSxnQkFDSyxNQUFBMXpCLElBR0wsbUJBQUFvekIsS0FDQUEsRUFBQUssaUJBQUEsR0FHQW4yQixLQUFBKzdCLGlCQUNBakcsRUFBQXRmLFFBQUF4VyxLQUFBKzdCLGdCQUdBLzdCLEtBQUErOUIsVUFDQWpJLEVBQUF0dEIsT0FBQSxXQUNBMEwsRUFBQThwQixVQUVBbEksRUFBQTFjLFFBQUEsV0FDQWxGLEVBQUFiLFFBQUF5aUIsRUFBQUcsZ0JBR0FILEVBQUFtSSxtQkFBQSxXQUNBLE9BQUFuSSxFQUFBdGpCLFdBQUEsQ0FDQSxHQUFBMHJCLEVBQ0EsS0FDQUEsRUFBQXBJLEVBQUFxSSxrQkFBQSxnQkFDVyxNQUFBejdCLElBQ1gsNkJBQUF3N0IsSUFDQXBJLEVBQUE1YSxhQUFBLGVBR0EsSUFBQTRhLEVBQUF0akIsYUFDQSxNQUFBc2pCLEVBQUEvVCxRQUFBLE9BQUErVCxFQUFBL1QsT0FDQTdOLEVBQUE4cEIsU0FJQW5sQixXQUFBLFdBQ0EzRSxFQUFBYixRQUFBeWlCLEVBQUEvVCxTQUNXLEtBS1hoZCxFQUFBLGNBQUEvRSxLQUFBNEgsTUFDQWt1QixFQUFBbmlCLEtBQUEzVCxLQUFBNEgsTUFDRyxNQUFBbEYsR0FPSCxXQUhBbVcsWUFBQSxXQUNBM0UsRUFBQWIsUUFBQTNRLElBQ0ssR0FJTDZFLEVBQUF4RSxXQUNBL0MsS0FBQXFFLE1BQUFnd0IsRUFBQStKLGdCQUNBL0osRUFBQW9KLFNBQUF6OUIsS0FBQXFFLE9BQUFyRSxPQVVBcTBCLEVBQUFoeUIsVUFBQWc4QixVQUFBLFdBQ0FyK0IsS0FBQWtILEtBQUEsV0FDQWxILEtBQUEyWSxXQVNBMGIsRUFBQWh5QixVQUFBMFIsT0FBQSxTQUFBbk0sR0FDQTVILEtBQUFrSCxLQUFBLE9BQUFVLEdBQ0E1SCxLQUFBcStCLGFBU0FoSyxFQUFBaHlCLFVBQUFnUixRQUFBLFNBQUF4TixHQUNBN0YsS0FBQWtILEtBQUEsUUFBQXJCLEdBQ0E3RixLQUFBMlksU0FBQSxJQVNBMGIsRUFBQWh5QixVQUFBc1csUUFBQSxTQUFBMmxCLEdBQ0EsWUFBQXQrQixLQUFBODFCLEtBQUEsT0FBQTkxQixLQUFBODFCLElBQUEsQ0FVQSxHQU5BOTFCLEtBQUErOUIsU0FDQS85QixLQUFBODFCLElBQUF0dEIsT0FBQXhJLEtBQUE4MUIsSUFBQTFjLFFBQUFra0IsRUFFQXQ5QixLQUFBODFCLElBQUFtSSxtQkFBQVgsRUFHQWdCLEVBQ0EsSUFDQXQrQixLQUFBODFCLElBQUE0SCxRQUNLLE1BQUFoN0IsSUFHTDZFLEVBQUF4RSxnQkFDQXN4QixHQUFBb0osU0FBQXo5QixLQUFBcUUsT0FHQXJFLEtBQUE4MUIsSUFBQSxPQVNBekIsRUFBQWh5QixVQUFBMjdCLE9BQUEsV0FDQSxHQUFBcDJCLEVBQ0EsS0FDQSxHQUFBczJCLEVBQ0EsS0FDQUEsRUFBQWwrQixLQUFBODFCLElBQUFxSSxrQkFBQSxnQkFDSyxNQUFBejdCLElBRUxrRixFQURBLDZCQUFBczJCLEVBQ0FsK0IsS0FBQTgxQixJQUFBaFUsVUFBQTloQixLQUFBODFCLElBQUFHLGFBRUFqMkIsS0FBQTgxQixJQUFBRyxhQUVHLE1BQUF2ekIsR0FDSDFDLEtBQUFxVCxRQUFBM1EsR0FFQSxNQUFBa0YsR0FDQTVILEtBQUErVCxPQUFBbk0sSUFVQXlzQixFQUFBaHlCLFVBQUEwN0IsT0FBQSxXQUNBLGdCQUFBeDJCLEVBQUF1SyxpQkFBQTlSLEtBQUFvYSxJQUFBcGEsS0FBQTRSLFlBU0F5aUIsRUFBQWh5QixVQUFBcTdCLE1BQUEsV0FDQTE5QixLQUFBMlksV0FTQTBiLEVBQUErSixjQUFBLEVBQ0EvSixFQUFBb0osWUFFQWwyQixFQUFBeEUsV0FDQXdFLEVBQUFnM0IsWUFDQWgzQixFQUFBZzNCLFlBQUEsV0FBQWYsR0FDR2oyQixFQUFBbEIsa0JBQ0hrQixFQUFBbEIsaUJBQUEsZUFBQW0zQixHQUFBLE1BWTRCaDhCLEtBQUE1QixFQUFBTyxFQUFBLEtBSTVCLFNBQUFOLEVBQUFELEdBVUFDLEVBQUFELFFBQUFZLE9BQUFzSixNQUFBLFNBQUE3RCxHQUNBLEdBQUFpVyxNQUNBOUUsRUFBQTVXLE9BQUE2QixVQUFBOUIsY0FFQSxRQUFBZSxLQUFBMkUsR0FDQW1SLEVBQUE1VixLQUFBeUUsRUFBQTNFLElBQ0E0YSxFQUFBelYsS0FBQW5GLEVBR0EsT0FBQTRhLEtBTUEsU0FBQXJjLEVBQUFELEdBU0FDLEVBQUFELFFBQUEsU0FBQTQrQixFQUFBQyxFQUFBQyxHQUNBLEdBQUFoSyxHQUFBOEosRUFBQXIyQixVQUlBLElBSEFzMkIsS0FBQSxFQUNBQyxLQUFBaEssRUFFQThKLEVBQUFyM0IsTUFBMEIsTUFBQXEzQixHQUFBcjNCLE1BQUFzM0IsRUFBQUMsRUFNMUIsSUFKQUQsRUFBQSxJQUFrQkEsR0FBQS9KLEdBQ2xCZ0ssRUFBQSxJQUFnQkEsR0FBQWhLLEdBQ2hCZ0ssRUFBQWhLLElBQW9CZ0ssRUFBQWhLLEdBRXBCK0osR0FBQS9KLEdBQUErSixHQUFBQyxHQUFBLElBQUFoSyxFQUNBLFVBQUF6cUIsYUFBQSxFQUtBLFFBRkEwMEIsR0FBQSxHQUFBMTJCLFlBQUF1MkIsR0FDQS8xQixFQUFBLEdBQUFSLFlBQUF5MkIsRUFBQUQsR0FDQW45QixFQUFBbTlCLEVBQUFHLEVBQUEsRUFBNkJ0OUIsRUFBQW85QixFQUFTcDlCLElBQUFzOUIsSUFDdENuMkIsRUFBQW0yQixHQUFBRCxFQUFBcjlCLEVBRUEsT0FBQW1ILEdBQUFMLFNBTUEsU0FBQXZJLEVBQUFELEdBSUEsUUFBQTZKLEdBQUFvMUIsRUFBQW4zQixFQUFBbzNCLEdBT0EsUUFBQUMsR0FBQWw1QixFQUFBNEMsR0FDQSxHQUFBczJCLEVBQUFGLE9BQUEsRUFDQSxTQUFBdnVCLE9BQUEsaUNBRUF5dUIsRUFBQUYsTUFHQWg1QixHQUNBbTVCLEdBQUEsRUFDQXQzQixFQUFBN0IsR0FFQTZCLEVBQUFvM0IsR0FDUyxJQUFBQyxFQUFBRixPQUFBRyxHQUNUdDNCLEVBQUEsS0FBQWUsR0FuQkEsR0FBQXUyQixJQUFBLENBSUEsT0FIQUYsTUFBQW4wQixFQUNBbzBCLEVBQUFGLFFBRUEsSUFBQUEsRUFBQW4zQixJQUFBcTNCLEVBb0JBLFFBQUFwMEIsTUEzQkE5SyxFQUFBRCxRQUFBNkosR0FnQ0EsU0FBQTVKLEVBQUFELEVBQUFPLElBRUEsU0FBQU4sRUFBQTBILEdBQXNELEdBQUEybUIsSUFDckQsU0FBQXh1QixHQXFCRCxRQUFBK3VCLEdBQUFGLEdBTUEsSUFMQSxHQUdBN3RCLEdBQ0FndUIsRUFKQUMsS0FDQUMsRUFBQSxFQUNBN25CLEVBQUF3bkIsRUFBQXhuQixPQUdBNm5CLEVBQUE3bkIsR0FDQXJHLEVBQUE2dEIsRUFBQTNnQixXQUFBZ2hCLEtBQ0FsdUIsR0FBQSxPQUFBQSxHQUFBLE9BQUFrdUIsRUFBQTduQixHQUVBMm5CLEVBQUFILEVBQUEzZ0IsV0FBQWdoQixLQUNBLGNBQUFGLEdBQ0FDLEVBQUFsb0IsT0FBQSxLQUFBL0YsSUFBQSxVQUFBZ3VCLEdBQUEsUUFJQUMsRUFBQWxvQixLQUFBL0YsR0FDQWt1QixNQUdBRCxFQUFBbG9CLEtBQUEvRixFQUdBLE9BQUFpdUIsR0FJQSxRQUFBRSxHQUFBUixHQUtBLElBSkEsR0FFQTN0QixHQUZBcUcsRUFBQXNuQixFQUFBdG5CLE9BQ0ExQyxHQUFBLEVBRUFzcUIsRUFBQSxLQUNBdHFCLEVBQUEwQyxHQUNBckcsRUFBQTJ0QixFQUFBaHFCLEdBQ0EzRCxFQUFBLFFBQ0FBLEdBQUEsTUFDQWl1QixHQUFBRyxFQUFBcHVCLElBQUEsZUFDQUEsRUFBQSxXQUFBQSxHQUVBaXVCLEdBQUFHLEVBQUFwdUIsRUFFQSxPQUFBaXVCLEdBR0EsUUFBQXNRLEdBQUFqUSxFQUFBOWxCLEdBQ0EsR0FBQThsQixHQUFBLE9BQUFBLEdBQUEsT0FDQSxHQUFBOWxCLEVBQ0EsS0FBQW9ILE9BQ0Esb0JBQUEwZSxFQUFBM2hCLFNBQUEsSUFBQStXLGNBQ0EseUJBR0EsVUFFQSxTQUlBLFFBQUE4YSxHQUFBbFEsRUFBQXhWLEdBQ0EsTUFBQXNWLEdBQUFFLEdBQUF4VixFQUFBLFFBR0EsUUFBQTJsQixHQUFBblEsRUFBQTlsQixHQUNBLGtCQUFBOGxCLEdBQ0EsTUFBQUYsR0FBQUUsRUFFQSxJQUFBb1EsR0FBQSxFQWlCQSxPQWhCQSxnQkFBQXBRLEdBQ0FvUSxFQUFBdFEsRUFBQUUsR0FBQSxVQUVBLGVBQUFBLElBQ0FpUSxFQUFBalEsRUFBQTlsQixLQUNBOGxCLEVBQUEsT0FFQW9RLEVBQUF0USxFQUFBRSxHQUFBLFdBQ0FvUSxHQUFBRixFQUFBbFEsRUFBQSxJQUVBLGVBQUFBLEtBQ0FvUSxFQUFBdFEsRUFBQUUsR0FBQSxVQUNBb1EsR0FBQUYsRUFBQWxRLEVBQUEsSUFDQW9RLEdBQUFGLEVBQUFsUSxFQUFBLElBRUFvUSxHQUFBdFEsRUFBQSxHQUFBRSxFQUFBLEtBSUEsUUFBQW5rQixHQUFBMGpCLEVBQUE5YyxHQUNBQSxPQVFBLEtBUEEsR0FLQXVkLEdBTEE5bEIsR0FBQSxJQUFBdUksRUFBQXZJLE9BRUFtMkIsRUFBQTVRLEVBQUFGLEdBQ0F4bkIsRUFBQXM0QixFQUFBdDRCLE9BQ0ExQyxHQUFBLEVBRUFpN0IsRUFBQSxLQUNBajdCLEVBQUEwQyxHQUNBaW9CLEVBQUFxUSxFQUFBaDdCLEdBQ0FpN0IsR0FBQUgsRUFBQW5RLEVBQUE5bEIsRUFFQSxPQUFBbzJCLEdBS0EsUUFBQUMsS0FDQSxHQUFBQyxHQUFBQyxFQUNBLEtBQUFudkIsT0FBQSxxQkFHQSxJQUFBb3ZCLEdBQUEsSUFBQUMsRUFBQUgsRUFHQSxJQUZBQSxJQUVBLFVBQUFFLEdBQ0EsVUFBQUEsQ0FJQSxNQUFBcHZCLE9BQUEsNkJBR0EsUUFBQXN2QixHQUFBMTJCLEdBQ0EsR0FBQTIyQixHQUNBQyxFQUNBQyxFQUNBQyxFQUNBaFIsQ0FFQSxJQUFBd1EsRUFBQUMsRUFDQSxLQUFBbnZCLE9BQUEscUJBR0EsSUFBQWt2QixHQUFBQyxFQUNBLFFBUUEsSUFKQUksRUFBQSxJQUFBRixFQUFBSCxHQUNBQSxJQUdBLFFBQUFLLEdBQ0EsTUFBQUEsRUFJQSxjQUFBQSxHQUFBLENBR0EsR0FGQUMsRUFBQVAsS0FDQXZRLEdBQUEsR0FBQTZRLElBQUEsRUFBQUMsSUFDQSxJQUNBLE1BQUE5USxFQUVBLE1BQUExZSxPQUFBLDZCQUtBLGFBQUF1dkIsR0FBQSxDQUlBLEdBSEFDLEVBQUFQLElBQ0FRLEVBQUFSLEtBQ0F2USxHQUFBLEdBQUE2USxJQUFBLEdBQUFDLEdBQUEsRUFBQUMsSUFDQSxLQUNBLE1BQUFkLEdBQUFqUSxFQUFBOWxCLEdBQUE4bEIsRUFBQSxLQUVBLE1BQUExZSxPQUFBLDZCQUtBLGFBQUF1dkIsS0FDQUMsRUFBQVAsSUFDQVEsRUFBQVIsSUFDQVMsRUFBQVQsS0FDQXZRLEdBQUEsRUFBQTZRLElBQUEsR0FBQUMsR0FBQSxHQUNBQyxHQUFBLEVBQUFDLElBQ0EsT0FBQWhSLEdBQUEsU0FDQSxNQUFBQSxFQUlBLE1BQUExZSxPQUFBLDBCQU1BLFFBQUF6RSxHQUFBeXpCLEVBQUE3dEIsR0FDQUEsT0FDQSxJQUFBdkksSUFBQSxJQUFBdUksRUFBQXZJLE1BRUF5MkIsR0FBQWxSLEVBQUE2USxHQUNBRyxFQUFBRSxFQUFBNTRCLE9BQ0F5NEIsRUFBQSxDQUdBLEtBRkEsR0FDQVMsR0FEQVosTUFFQSxLQUFBWSxFQUFBTCxFQUFBMTJCLEtBQ0FtMkIsRUFBQTU0QixLQUFBdzVCLEVBRUEsT0FBQXBSLEdBQUF3USxHQXZOQSxHQUFBYSxHQUFBLGdCQUFBdGdDLE1BUUFzeEIsR0FMQSxnQkFBQXJ4QixPQUNBQSxFQUFBRCxRQUlBLGdCQUFBMkgsTUFPQSxJQXlMQW80QixHQUNBRixFQUNBRCxFQTNMQTFRLEVBQUE1akIsT0FBQUssYUE2TUF2QyxHQUNBZ1YsUUFBQSxRQUNBL1MsT0FBQUosRUFDQTVCLE9BQUE0QyxPQVdBZixNQUhBb2pCLEVBQUEsV0FDQSxNQUFBbGxCLElBQ0d4SCxLQUFBNUIsRUFBQU8sRUFBQVAsRUFBQUMsTUFDSEEsRUFBQUQsUUFBQXN1QixRQWlCNEIxc0IsS0FBQTVCLEVBQUFPLEVBQUEsSUFBQU4sR0FBQU0sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxJQVNBLFdBQ0EsWUFNQSxRQUpBa3pCLEdBQUEsbUVBR0F3RCxFQUFBLEdBQUFydUIsWUFBQSxLQUNBM0csRUFBQSxFQUFpQkEsRUFBQXd4QixFQUFBL3JCLE9BQWtCekYsSUFDbkNnMUIsRUFBQXhELEVBQUFsbEIsV0FBQXRNLEtBR0ExQixHQUFBcUwsT0FBQSxTQUFBdXpCLEdBQ0EsR0FDQWw5QixHQURBb3pCLEVBQUEsR0FBQXpzQixZQUFBdTJCLEdBQ0FwM0IsRUFBQXN0QixFQUFBM3RCLE9BQUFnRSxFQUFBLEVBRUEsS0FBQXpKLEVBQUEsRUFBZUEsRUFBQThGLEVBQVM5RixHQUFBLEVBQ3hCeUosR0FBQStuQixFQUFBNEIsRUFBQXB6QixJQUFBLEdBQ0F5SixHQUFBK25CLEdBQUEsRUFBQTRCLEVBQUFwekIsS0FBQSxFQUFBb3pCLEVBQUFwekIsRUFBQSxPQUNBeUosR0FBQStuQixHQUFBLEdBQUE0QixFQUFBcHpCLEVBQUEsT0FBQW96QixFQUFBcHpCLEVBQUEsT0FDQXlKLEdBQUErbkIsRUFBQSxHQUFBNEIsRUFBQXB6QixFQUFBLEdBU0EsT0FOQThGLEdBQUEsS0FDQTJELElBQUFtQixVQUFBLEVBQUFuQixFQUFBaEUsT0FBQSxPQUNLSyxFQUFBLE9BQ0wyRCxJQUFBbUIsVUFBQSxFQUFBbkIsRUFBQWhFLE9BQUEsU0FHQWdFLEdBR0FuTCxFQUFBcUosT0FBQSxTQUFBOEIsR0FDQSxHQUNBekosR0FDQTYrQixFQUFBQyxFQUFBQyxFQUFBQyxFQUZBQyxFQUFBLElBQUF4MUIsRUFBQWhFLE9BQ0FLLEVBQUEyRCxFQUFBaEUsT0FBQXpHLEVBQUEsQ0FHQSxPQUFBeUssSUFBQWhFLE9BQUEsS0FDQXc1QixJQUNBLE1BQUF4MUIsSUFBQWhFLE9BQUEsSUFDQXc1QixJQUlBLElBQUEvQixHQUFBLEdBQUF2MEIsYUFBQXMyQixHQUNBN0wsRUFBQSxHQUFBenNCLFlBQUF1MkIsRUFFQSxLQUFBbDlCLEVBQUEsRUFBZUEsRUFBQThGLEVBQVM5RixHQUFBLEVBQ3hCNitCLEVBQUE3SixFQUFBdnJCLEVBQUE2QyxXQUFBdE0sSUFDQTgrQixFQUFBOUosRUFBQXZyQixFQUFBNkMsV0FBQXRNLEVBQUEsSUFDQSsrQixFQUFBL0osRUFBQXZyQixFQUFBNkMsV0FBQXRNLEVBQUEsSUFDQWcvQixFQUFBaEssRUFBQXZyQixFQUFBNkMsV0FBQXRNLEVBQUEsSUFFQW96QixFQUFBcDBCLEtBQUE2L0IsR0FBQSxFQUFBQyxHQUFBLEVBQ0ExTCxFQUFBcDBCLE1BQUEsR0FBQTgvQixJQUFBLEVBQUFDLEdBQUEsRUFDQTNMLEVBQUFwMEIsTUFBQSxFQUFBKy9CLElBQUEsS0FBQUMsQ0FHQSxPQUFBOUIsUUFPQSxTQUFBMytCLEVBQUFELEVBQUFPLElBRUEsU0FBQW9ILEdBa0RBLFFBQUFpNUIsR0FBQXAzQixHQUNBLE9BQUE5SCxHQUFBLEVBQWlCQSxFQUFBOEgsRUFBQXJDLE9BQWdCekYsSUFBQSxDQUNqQyxHQUFBbS9CLEdBQUFyM0IsRUFBQTlILEVBQ0EsSUFBQW0vQixFQUFBcjRCLGlCQUFBNkIsYUFBQSxDQUNBLEdBQUFvRyxHQUFBb3dCLEVBQUFyNEIsTUFJQSxJQUFBcTRCLEVBQUF0NEIsYUFBQWtJLEVBQUFsSSxXQUFBLENBQ0EsR0FBQXU0QixHQUFBLEdBQUF6NEIsWUFBQXc0QixFQUFBdDRCLFdBQ0F1NEIsR0FBQTFOLElBQUEsR0FBQS9xQixZQUFBb0ksRUFBQW93QixFQUFBRSxXQUFBRixFQUFBdDRCLGFBQ0FrSSxFQUFBcXdCLEVBQUF0NEIsT0FHQWdCLEVBQUE5SCxHQUFBK08sSUFLQSxRQUFBdXdCLEdBQUF4M0IsRUFBQWtRLEdBQ0FBLE9BRUEsSUFBQXVuQixHQUFBLEdBQUFDLEVBQ0FOLEdBQUFwM0IsRUFFQSxRQUFBOUgsR0FBQSxFQUFpQkEsRUFBQThILEVBQUFyQyxPQUFnQnpGLElBQ2pDdS9CLEVBQUEzTyxPQUFBOW9CLEVBQUE5SCxHQUdBLE9BQUFnWSxHQUFBLEtBQUF1bkIsRUFBQUUsUUFBQXpuQixFQUFBeFcsTUFBQSs5QixFQUFBRSxVQUdBLFFBQUFDLEdBQUE1M0IsRUFBQWtRLEdBRUEsTUFEQWtuQixHQUFBcDNCLEdBQ0EsR0FBQU4sTUFBQU0sRUFBQWtRLE9BaEZBLEdBQUF3bkIsR0FBQXY1QixFQUFBdTVCLGFBQ0F2NUIsRUFBQTA1QixtQkFDQTE1QixFQUFBMjVCLGVBQ0EzNUIsRUFBQTQ1QixlQU1BQyxFQUFBLFdBQ0EsSUFFQSxXQURBLEdBQUF0NEIsT0FBQSxPQUNBaUYsS0FDRyxNQUFBckwsR0FDSCxhQVNBMitCLEVBQUFELEdBQUEsV0FDQSxJQUVBLFdBREEsR0FBQXQ0QixPQUFBLEdBQUFiLGFBQUEsUUFDQThGLEtBQ0csTUFBQXJMLEdBQ0gsYUFRQTQrQixFQUFBUixHQUNBQSxFQUFBeitCLFVBQUE2dkIsUUFDQTRPLEVBQUF6K0IsVUFBQTArQixPQTZDQWxoQyxHQUFBRCxRQUFBLFdBQ0EsTUFBQXdoQyxHQUNBQyxFQUFBOTVCLEVBQUF1QixLQUFBazRCLEVBQ0dNLEVBQ0hWLE1BRUEsUUFJNEJwL0IsS0FBQTVCLEVBQUFPLEVBQUEsS0FJNUIsU0FBQU4sRUFBQUQsRUFBQU8sSUFFQSxTQUFBb0gsR0ErQkEsUUFBQSsxQixNQVNBLFFBQUFpRSxHQUFBOXZCLEdBQ0FtSixFQUFBcFosS0FBQXhCLEtBQUF5UixHQUVBelIsS0FBQXFTLE1BQUFyUyxLQUFBcVMsVUFJQXJMLElBRUFPLEVBQUFpNkIsU0FBQWo2QixFQUFBaTZCLFdBQ0F4NkIsRUFBQU8sRUFBQWk2QixRQUlBeGhDLEtBQUFxRSxNQUFBMkMsRUFBQUQsTUFHQSxJQUFBbU4sR0FBQWxVLElBQ0FnSCxHQUFBUCxLQUFBLFNBQUFtRCxHQUNBc0ssRUFBQUgsT0FBQW5LLEtBSUE1SixLQUFBcVMsTUFBQTVNLEVBQUF6RixLQUFBcUUsTUFHQWtELEVBQUF4RSxVQUFBd0UsRUFBQWxCLGtCQUNBa0IsRUFBQWxCLGlCQUFBLDBCQUNBNk4sRUFBQXV0QixTQUFBdnRCLEVBQUF1dEIsT0FBQXJvQixRQUFBa2tCLEtBQ0ssR0FoRUwsR0FBQTFpQixHQUFBemEsRUFBQSxJQUNBNmEsRUFBQTdhLEVBQUEsRUFNQU4sR0FBQUQsUUFBQTJoQyxDQU1BLElBT0F2NkIsR0FQQTA2QixFQUFBLE1BQ0FDLEVBQUEsTUEwREEzbUIsR0FBQXVtQixFQUFBM21CLEdBTUEybUIsRUFBQWwvQixVQUFBeUYsZ0JBQUEsRUFRQXk1QixFQUFBbC9CLFVBQUFvUixRQUFBLFdBQ0F6VCxLQUFBeWhDLFNBQ0F6aEMsS0FBQXloQyxPQUFBRyxXQUFBQyxZQUFBN2hDLEtBQUF5aEMsUUFDQXpoQyxLQUFBeWhDLE9BQUEsTUFHQXpoQyxLQUFBeTBCLE9BQ0F6MEIsS0FBQXkwQixLQUFBbU4sV0FBQUMsWUFBQTdoQyxLQUFBeTBCLE1BQ0F6MEIsS0FBQXkwQixLQUFBLEtBQ0F6MEIsS0FBQThoQyxPQUFBLE1BR0FsbkIsRUFBQXZZLFVBQUFvUixRQUFBalMsS0FBQXhCLE9BU0F1aEMsRUFBQWwvQixVQUFBaVosT0FBQSxXQUNBLEdBQUFwSCxHQUFBbFUsS0FDQXloQyxFQUFBMStCLFNBQUFnL0IsY0FBQSxTQUVBL2hDLE1BQUF5aEMsU0FDQXpoQyxLQUFBeWhDLE9BQUFHLFdBQUFDLFlBQUE3aEMsS0FBQXloQyxRQUNBemhDLEtBQUF5aEMsT0FBQSxNQUdBQSxFQUFBbEUsT0FBQSxFQUNBa0UsRUFBQTdzQixJQUFBNVUsS0FBQThVLE1BQ0Eyc0IsRUFBQXJvQixRQUFBLFNBQUExVyxHQUNBd1IsRUFBQWIsUUFBQSxtQkFBQTNRLEdBR0EsSUFBQXMvQixHQUFBai9CLFNBQUFrL0IscUJBQUEsWUFDQUQsR0FDQUEsRUFBQUosV0FBQU0sYUFBQVQsRUFBQU8sSUFFQWovQixTQUFBby9CLE1BQUFwL0IsU0FBQXllLE1BQUE0Z0IsWUFBQVgsR0FFQXpoQyxLQUFBeWhDLFNBRUEsbUJBQUFsK0IsWUFBQSxTQUFBNEcsS0FBQTVHLFVBQUFDLFlBR0FxVixXQUFBLFdBQ0EsR0FBQWlwQixHQUFBLytCLFNBQUFnL0IsY0FBQSxTQUNBaC9CLFVBQUF5ZSxLQUFBNGdCLFlBQUFOLEdBQ0EvK0IsU0FBQXllLEtBQUFxZ0IsWUFBQUMsSUFDSyxNQVlMUCxFQUFBbC9CLFVBQUFtWixRQUFBLFNBQUE1VCxFQUFBckIsR0EwQkEsUUFBQTg3QixLQUNBQyxJQUNBLzdCLElBR0EsUUFBQSs3QixLQUNBLEdBQUFwdUIsRUFBQTR0QixPQUNBLElBQ0E1dEIsRUFBQXVnQixLQUFBb04sWUFBQTN0QixFQUFBNHRCLFFBQ08sTUFBQXAvQixHQUNQd1IsRUFBQWIsUUFBQSxxQ0FBQTNRLEdBSUEsSUFFQSxHQUFBNi9CLEdBQUEsb0NBQUFydUIsRUFBQXN1QixTQUFBLElBQ0FWLEdBQUEvK0IsU0FBQWcvQixjQUFBUSxHQUNLLE1BQUE3L0IsR0FDTG8vQixFQUFBLytCLFNBQUFnL0IsY0FBQSxVQUNBRCxFQUFBbmdDLEtBQUF1UyxFQUFBc3VCLFNBQ0FWLEVBQUFsdEIsSUFBQSxlQUdBa3RCLEVBQUF2eUIsR0FBQTJFLEVBQUFzdUIsU0FFQXR1QixFQUFBdWdCLEtBQUEyTixZQUFBTixHQUNBNXRCLEVBQUE0dEIsU0FwREEsR0FBQTV0QixHQUFBbFUsSUFFQSxLQUFBQSxLQUFBeTBCLEtBQUEsQ0FDQSxHQUdBcU4sR0FIQXJOLEVBQUExeEIsU0FBQWcvQixjQUFBLFFBQ0FVLEVBQUExL0IsU0FBQWcvQixjQUFBLFlBQ0F4eUIsRUFBQXZQLEtBQUF3aUMsU0FBQSxjQUFBeGlDLEtBQUFxRSxLQUdBb3dCLEdBQUFpTyxVQUFBLFdBQ0FqTyxFQUFBeHhCLE1BQUEwL0IsU0FBQSxXQUNBbE8sRUFBQXh4QixNQUFBMi9CLElBQUEsVUFDQW5PLEVBQUF4eEIsTUFBQTQvQixLQUFBLFVBQ0FwTyxFQUFBcU8sT0FBQXZ6QixFQUNBa2xCLEVBQUExVSxPQUFBLE9BQ0EwVSxFQUFBc08sYUFBQSwwQkFDQU4sRUFBQTlnQyxLQUFBLElBQ0E4eUIsRUFBQTJOLFlBQUFLLEdBQ0ExL0IsU0FBQXllLEtBQUE0Z0IsWUFBQTNOLEdBRUF6MEIsS0FBQXkwQixPQUNBejBCLEtBQUF5aUMsT0FHQXppQyxLQUFBeTBCLEtBQUF1TyxPQUFBaGpDLEtBQUE4VSxNQWdDQXd0QixJQUlBMTZCLElBQUFyRCxRQUFBbzlCLEVBQUEsUUFDQTNoQyxLQUFBeWlDLEtBQUEvaEMsTUFBQWtILEVBQUFyRCxRQUFBbTlCLEVBQUEsTUFFQSxLQUNBMWhDLEtBQUF5MEIsS0FBQXdPLFNBQ0csTUFBQXZnQyxJQUVIMUMsS0FBQThoQyxPQUFBdkQsWUFDQXYrQixLQUFBOGhDLE9BQUE3RCxtQkFBQSxXQUNBLGFBQUEvcEIsRUFBQTR0QixPQUFBdHZCLFlBQ0E2dkIsS0FJQXJpQyxLQUFBOGhDLE9BQUF0NUIsT0FBQTY1QixLQUk0QjdnQyxLQUFBNUIsRUFBQU8sRUFBQSxLQUk1QixTQUFBTixFQUFBRCxFQUFBTyxJQUVBLFNBQUFvSCxHQTBDQSxRQUFBMjdCLEdBQUF6eEIsR0FDQUEsS0FBQW9KLGNBRUE3YSxLQUFBOEgsZ0JBQUEsR0FFQTlILEtBQUFtN0Isa0JBQUExcEIsRUFBQTBwQixrQkFDQW43QixLQUFBbWpDLHNCQUFBQyxJQUFBM3hCLEVBQUF3QixVQUNBalQsS0FBQWc4QixVQUFBdnFCLEVBQUF1cUIsVUFDQWg4QixLQUFBbWpDLHdCQUNBRSxFQUFBQyxHQUVBdHhCLEVBQUF4USxLQUFBeEIsS0FBQXlSLEdBakRBLEdBT0E2eEIsR0FQQXR4QixFQUFBN1IsRUFBQSxHQUNBaVQsRUFBQWpULEVBQUEsR0FDQTRhLEVBQUE1YSxFQUFBLEdBQ0E2YSxFQUFBN2EsRUFBQSxHQUNBOGEsRUFBQTlhLEVBQUEsSUFDQTRFLEVBQUE1RSxFQUFBLGlDQUNBaWpDLEVBQUE3N0IsRUFBQTg3QixXQUFBOTdCLEVBQUFnOEIsWUFFQSx1QkFBQTVnQyxRQUNBLElBQ0EyZ0MsRUFBQW5qQyxFQUFBLElBQ0csTUFBQXVDLElBU0gsR0FBQTJnQyxHQUFBRCxDQUNBQyxJQUFBLG1CQUFBMWdDLFVBQ0EwZ0MsRUFBQUMsR0FPQXpqQyxFQUFBRCxRQUFBc2pDLEVBMkJBbG9CLEVBQUFrb0IsRUFBQWx4QixHQVFBa3hCLEVBQUE3Z0MsVUFBQVYsS0FBQSxZQU1BdWhDLEVBQUE3Z0MsVUFBQXlGLGdCQUFBLEVBUUFvN0IsRUFBQTdnQyxVQUFBbVIsT0FBQSxXQUNBLEdBQUF4VCxLQUFBd2pDLFFBQUEsQ0FLQSxHQUFBMXVCLEdBQUE5VSxLQUFBOFUsTUFDQWtuQixFQUFBaDhCLEtBQUFnOEIsVUFDQXZxQixHQUNBZ0IsTUFBQXpTLEtBQUF5UyxNQUNBMG9CLGtCQUFBbjdCLEtBQUFtN0Isa0JBSUExcEIsR0FBQWtCLElBQUEzUyxLQUFBMlMsSUFDQWxCLEVBQUF0TCxJQUFBbkcsS0FBQW1HLElBQ0FzTCxFQUFBbUIsV0FBQTVTLEtBQUE0UyxXQUNBbkIsRUFBQW9CLEtBQUE3UyxLQUFBNlMsS0FDQXBCLEVBQUFxQixHQUFBOVMsS0FBQThTLEdBQ0FyQixFQUFBc0IsUUFBQS9TLEtBQUErUyxRQUNBdEIsRUFBQXVCLG1CQUFBaFQsS0FBQWdULG1CQUNBaFQsS0FBQWtULGVBQ0F6QixFQUFBd08sUUFBQWpnQixLQUFBa1QsY0FFQWxULEtBQUFtVCxlQUNBMUIsRUFBQTBCLGFBQUFuVCxLQUFBbVQsYUFHQSxLQUNBblQsS0FBQXlqQyxHQUFBempDLEtBQUFtakMsc0JBQUFuSCxFQUFBLEdBQUFxSCxHQUFBdnVCLEVBQUFrbkIsR0FBQSxHQUFBcUgsR0FBQXZ1QixHQUFBLEdBQUF1dUIsR0FBQXZ1QixFQUFBa25CLEVBQUF2cUIsR0FDRyxNQUFBNUwsR0FDSCxNQUFBN0YsTUFBQWtILEtBQUEsUUFBQXJCLE9BR0FpRixLQUFBOUssS0FBQXlqQyxHQUFBNzNCLGFBQ0E1TCxLQUFBOEgsZ0JBQUEsR0FHQTlILEtBQUF5akMsR0FBQUMsVUFBQTFqQyxLQUFBeWpDLEdBQUFDLFNBQUE5ekIsUUFDQTVQLEtBQUE4SCxnQkFBQSxFQUNBOUgsS0FBQXlqQyxHQUFBNzNCLFdBQUEsY0FFQTVMLEtBQUF5akMsR0FBQTczQixXQUFBLGNBR0E1TCxLQUFBMmpDLHNCQVNBVCxFQUFBN2dDLFVBQUFzaEMsa0JBQUEsV0FDQSxHQUFBenZCLEdBQUFsVSxJQUVBQSxNQUFBeWpDLEdBQUFockIsT0FBQSxXQUNBdkUsRUFBQUwsVUFFQTdULEtBQUF5akMsR0FBQTdwQixRQUFBLFdBQ0ExRixFQUFBUixXQUVBMVQsS0FBQXlqQyxHQUFBRyxVQUFBLFNBQUF6bUIsR0FDQWpKLEVBQUFILE9BQUFvSixFQUFBdlYsT0FFQTVILEtBQUF5akMsR0FBQXJxQixRQUFBLFNBQUExVyxHQUNBd1IsRUFBQWIsUUFBQSxrQkFBQTNRLEtBV0F3Z0MsRUFBQTdnQyxVQUFBdVIsTUFBQSxTQUFBak0sR0E0Q0EsUUFBQTJCLEtBQ0E0SyxFQUFBaE4sS0FBQSxTQUlBMlIsV0FBQSxXQUNBM0UsRUFBQUosVUFBQSxFQUNBSSxFQUFBaE4sS0FBQSxVQUNLLEdBbkRMLEdBQUFnTixHQUFBbFUsSUFDQUEsTUFBQThULFVBQUEsQ0FLQSxRQURBeEYsR0FBQTNHLEVBQUFaLE9BQ0F6RixFQUFBLEVBQUFDLEVBQUErTSxFQUE0QmhOLEVBQUFDLEVBQU9ELEtBQ25DLFNBQUFtRyxHQUNBMkwsRUFBQTFLLGFBQUFqQixFQUFBeU0sRUFBQXBNLGVBQUEsU0FBQUYsR0FDQSxJQUFBc00sRUFBQWl2QixzQkFBQSxDQUVBLEdBQUExeEIsS0FLQSxJQUpBaEssRUFBQTZSLFVBQ0E3SCxFQUFBMkwsU0FBQTNWLEVBQUE2UixRQUFBOEQsVUFHQWxKLEVBQUFpbkIsa0JBQUEsRUFDQSxnQkFBQXZ6QixHQUFBTCxFQUFBNk4sT0FBQWpOLFdBQUFQLEtBQUFiLFFBQ0FtTixFQUFBaW5CLGtCQUFBQyxZQUNBM3BCLEVBQUEyTCxVQUFBLElBUUEsSUFDQWxKLEVBQUFpdkIsc0JBRUFqdkIsRUFBQXV2QixHQUFBOXZCLEtBQUEvTCxHQUVBc00sRUFBQXV2QixHQUFBOXZCLEtBQUEvTCxFQUFBNkosR0FFUyxNQUFBL08sR0FDVHFDLEVBQUEsMkNBR0F1SixHQUFBaEYsT0FFSzNCLEVBQUFyRyxLQXFCTDRoQyxFQUFBN2dDLFVBQUFxUixRQUFBLFdBQ0ExQixFQUFBM1AsVUFBQXFSLFFBQUFsUyxLQUFBeEIsT0FTQWtqQyxFQUFBN2dDLFVBQUFvUixRQUFBLGVBQ0EsS0FBQXpULEtBQUF5akMsSUFDQXpqQyxLQUFBeWpDLEdBQUFsNUIsU0FVQTI0QixFQUFBN2dDLFVBQUF5UyxJQUFBLFdBQ0EsR0FBQXpDLEdBQUFyUyxLQUFBcVMsVUFDQW9KLEVBQUF6YixLQUFBb1MsT0FBQSxXQUNBRCxFQUFBLEVBMEJBLE9BdkJBblMsTUFBQW1TLE9BQUEsUUFBQXNKLEdBQUEsTUFBQXhQLE9BQUFqTSxLQUFBbVMsT0FDQSxPQUFBc0osR0FBQSxLQUFBeFAsT0FBQWpNLEtBQUFtUyxTQUNBQSxFQUFBLElBQUFuUyxLQUFBbVMsTUFJQW5TLEtBQUF1UyxvQkFDQUYsRUFBQXJTLEtBQUFzUyxnQkFBQTJJLEtBSUFqYixLQUFBOEgsaUJBQ0F1SyxFQUFBbEgsSUFBQSxHQUdBa0gsRUFBQTBJLEVBQUE5UCxPQUFBb0gsR0FHQUEsRUFBQXRMLFNBQ0FzTCxFQUFBLElBQUFBLEdBSUFvSixFQUFBLFFBREEsSUFBQXpiLEtBQUFrUyxTQUFBMkMsUUFBQSxLQUNBLElBQUE3VSxLQUFBa1MsU0FBQSxJQUFBbFMsS0FBQWtTLFVBQUFDLEVBQUFuUyxLQUFBaVMsS0FBQUksR0FVQTZ3QixFQUFBN2dDLFVBQUFtaEMsTUFBQSxXQUNBLFNBQUFILEdBQUEsZ0JBQUFBLElBQUFyakMsS0FBQTJCLE9BQUF1aEMsRUFBQTdnQyxVQUFBVixTQUc0QkgsS0FBQTVCLEVBQUFPLEVBQUEsS0FJNUIsU0FBQU4sRUFBQUQsS0FNQSxTQUFBQyxFQUFBRCxFQUFBTyxJQUVBLFNBQUFvSCxHQU9BLEdBQUFzOEIsR0FBQSxnQkFDQUMsRUFBQSxzQ0FDQUMsRUFBQSxtRUFDQUMsRUFBQSx1QkFDQUMsRUFBQSxPQUNBQyxFQUFBLE1BRUFya0MsR0FBQUQsUUFBQSxTQUFBZ0ksR0FDQSxzQkFBQUEsT0FJQUEsSUFBQXJELFFBQUEwL0IsRUFBQSxJQUFBMS9CLFFBQUEyL0IsRUFBQSxJQUdBMzhCLEVBQUE1QixXQUFBNkssTUFDQTdLLEtBQUE2SyxNQUFBNUksR0FHQWk4QixFQUFBMTVCLEtBQUF2QyxFQUFBckQsUUFBQXUvQixFQUFBLEtBQ0F2L0IsUUFBQXcvQixFQUFBLEtBQ0F4L0IsUUFBQXkvQixFQUFBLEtBQ0EsR0FBQXhoQyxVQUFBLFVBQUFvRixTQUhBLElBVkEsUUFnQjRCcEcsS0FBQTVCLEVBQUFPLEVBQUEsS0FJNUIsU0FBQU4sRUFBQUQsR0FJQSxRQUFBK2MsR0FBQXduQixFQUFBOS9CLEdBQ0EsR0FBQWdxQixLQUVBaHFCLE1BQUEsQ0FFQSxRQUFBL0MsR0FBQStDLEdBQUEsRUFBNEIvQyxFQUFBNmlDLEVBQUFwOUIsT0FBaUJ6RixJQUM3QytzQixFQUFBL3NCLEVBQUErQyxHQUFBOC9CLEVBQUE3aUMsRUFHQSxPQUFBK3NCLEdBWEF4dUIsRUFBQUQsUUFBQStjLEdBaUJBLFNBQUE5YyxFQUFBRCxHQXFCQSxRQUFBd1csR0FBQTNFLEdBQ0FBLFFBQ0F6UixLQUFBazVCLEdBQUF6bkIsRUFBQTRFLEtBQUEsSUFDQXJXLEtBQUFzVyxJQUFBN0UsRUFBQTZFLEtBQUEsSUFDQXRXLEtBQUFva0MsT0FBQTN5QixFQUFBMnlCLFFBQUEsRUFDQXBrQyxLQUFBdVcsT0FBQTlFLEVBQUE4RSxPQUFBLEdBQUE5RSxFQUFBOEUsUUFBQSxFQUFBOUUsRUFBQThFLE9BQUEsRUFDQXZXLEtBQUFvWSxTQUFBLEVBcEJBdlksRUFBQUQsUUFBQXdXLEVBOEJBQSxFQUFBL1QsVUFBQTBYLFNBQUEsV0FDQSxHQUFBbWYsR0FBQWw1QixLQUFBazVCLEdBQUFqbEIsS0FBQW93QixJQUFBcmtDLEtBQUFva0MsT0FBQXBrQyxLQUFBb1ksV0FDQSxJQUFBcFksS0FBQXVXLE9BQUEsQ0FDQSxHQUFBK3RCLEdBQUFyd0IsS0FBQXN3QixTQUNBQyxFQUFBdndCLEtBQUE0SCxNQUFBeW9CLEVBQUF0a0MsS0FBQXVXLE9BQUEyaUIsRUFDQUEsR0FBQSxNQUFBamxCLEtBQUE0SCxNQUFBLEdBQUF5b0IsSUFBQXBMLEVBQUFzTCxFQUFBdEwsRUFBQXNMLEVBRUEsU0FBQXZ3QixLQUFBb0MsSUFBQTZpQixFQUFBbDVCLEtBQUFzVyxNQVNBRixFQUFBL1QsVUFBQXNYLE1BQUEsV0FDQTNaLEtBQUFvWSxTQUFBLEdBU0FoQyxFQUFBL1QsVUFBQXVWLE9BQUEsU0FBQXZCLEdBQ0FyVyxLQUFBazVCLEdBQUE3aUIsR0FTQUQsRUFBQS9ULFVBQUEyVixPQUFBLFNBQUExQixHQUNBdFcsS0FBQXNXLE9BU0FGLEVBQUEvVCxVQUFBeVYsVUFBQSxTQUFBdkIsR0FDQXZXLEtBQUF1VyxXQU9BLFNBQUExVyxFQUFBRCxFQUFBTyxHQUVBQSxFQUFBLElBQ0FOLEVBQUFELFFBQUFPLEVBQUEsSUFBQUssT0FBQXdlLFFBS0EsU0FBQW5mLEVBQUFELEVBQUFPLEdBR0EsR0FBQXNrQyxHQUFBdGtDLEVBQUEsR0FFQXNrQyxLQUFBQyxFQUFBRCxFQUFBRSxFQUFBLFVBQTBDM2xCLE9BQUE3ZSxFQUFBLE9BSzFDLFNBQUFOLEVBQUFELEVBQUFPLEdBRUEsR0FBQW9ILEdBQUFwSCxFQUFBLEdBQ0E0ZCxFQUFBNWQsRUFBQSxJQUNBeWtDLEVBQUF6a0MsRUFBQSxJQUNBMGtDLEVBQUExa0MsRUFBQSxJQUdBc2tDLEVBQUEsU0FBQTNoQyxFQUFBbkIsRUFBQW9ULEdBQ0EsR0FTQTVPLEdBQUEyK0IsRUFBQWhWLEVBVEFpVixFQUFBamlDLEVBQUEyaEMsRUFBQUUsRUFDQUssRUFBQWxpQyxFQUFBMmhDLEVBQUFRLEVBQ0FDLEVBQUFwaUMsRUFBQTJoQyxFQUFBQyxFQUNBUyxFQUFBcmlDLEVBQUEyaEMsRUFBQVcsRUFDQUMsRUFBQXZpQyxFQUFBMmhDLEVBQUFhLEVBQ0FDLEVBQUF6aUMsRUFBQTJoQyxFQUFBZSxFQUNBNWxDLEVBQUFvbEMsRUFBQWpuQixJQUFBcGMsS0FBQW9jLEVBQUFwYyxPQUNBOGpDLEVBQUE3bEMsRUFBQSxVQUNBa2pDLEVBQUFrQyxFQUFBejlCLEVBQUEyOUIsRUFBQTM5QixFQUFBNUYsSUFBQTRGLEVBQUE1RixRQUFrRixTQUVsRnFqQyxLQUFBandCLEVBQUFwVCxFQUNBLEtBQUF3RSxJQUFBNE8sSUFFQSt2QixHQUFBQyxHQUFBakMsT0FBQWg0QixLQUFBZzRCLEVBQUEzOEIsS0FDQUEsSUFBQXZHLEtBRUFrd0IsRUFBQWdWLEVBQUFoQyxFQUFBMzhCLEdBQUE0TyxFQUFBNU8sR0FFQXZHLEVBQUF1RyxHQUFBNitCLEdBQUEsa0JBQUFsQyxHQUFBMzhCLEdBQUE0TyxFQUFBNU8sR0FFQWsvQixHQUFBUCxFQUFBRixFQUFBOVUsRUFBQXZvQixHQUVBZytCLEdBQUF6QyxFQUFBMzhCLElBQUEycEIsRUFBQSxTQUFBNFYsR0FDQSxHQUFBZixHQUFBLFNBQUE3MUIsRUFBQUMsRUFBQXROLEdBQ0EsR0FBQXpCLGVBQUEwbEMsR0FBQSxDQUNBLE9BQUFoaEMsVUFBQXFDLFFBQ0EsaUJBQUEyK0IsRUFDQSxrQkFBQUEsR0FBQTUyQixFQUNBLGtCQUFBNDJCLEdBQUE1MkIsRUFBQUMsR0FDVyxVQUFBMjJCLEdBQUE1MkIsRUFBQUMsRUFBQXROLEdBQ0YsTUFBQWlrQyxHQUFBamhDLE1BQUF6RSxLQUFBMEUsV0FHVCxPQURBaWdDLEdBQUEsVUFBQWUsRUFBQSxVQUNBZixHQUVLN1UsR0FBQXFWLEdBQUEsa0JBQUFyVixHQUFBOFUsRUFBQXBpQyxTQUFBaEIsS0FBQXN1QixLQUVMcVYsS0FDQXZsQyxFQUFBK2xDLFVBQUEvbEMsRUFBQStsQyxhQUErQ3gvQixHQUFBMnBCLEVBRS9DaHRCLEVBQUEyaEMsRUFBQW1CLEdBQUFILE1BQUF0L0IsSUFBQTArQixFQUFBWSxFQUFBdC9CLEVBQUEycEIsS0FLQTJVLEdBQUFFLEVBQUEsRUFDQUYsRUFBQVEsRUFBQSxFQUNBUixFQUFBQyxFQUFBLEVBQ0FELEVBQUFXLEVBQUEsRUFDQVgsRUFBQWEsRUFBQSxHQUNBYixFQUFBZSxFQUFBLEdBQ0FmLEVBQUFvQixFQUFBLEdBQ0FwQixFQUFBbUIsRUFBQSxJQUNBL2xDLEVBQUFELFFBQUE2a0MsR0FLQSxTQUFBNWtDLEVBQUFELEVBQUFPLEdBR0EsR0FBQTJsQyxHQUFBM2xDLEVBQUEsR0FDQU4sR0FBQUQsUUFBQSxTQUFBMkcsRUFBQXcvQixFQUFBaC9CLEdBRUEsR0FEQSsrQixFQUFBdi9CLE9BQ0F1RSxLQUFBaTdCLEVBQUEsTUFBQXgvQixFQUNBLFFBQUFRLEdBQ0EsdUJBQUErSCxHQUNBLE1BQUF2SSxHQUFBL0UsS0FBQXVrQyxFQUFBajNCLEdBRUEsd0JBQUFBLEVBQUFDLEdBQ0EsTUFBQXhJLEdBQUEvRSxLQUFBdWtDLEVBQUFqM0IsRUFBQUMsR0FFQSx3QkFBQUQsRUFBQUMsRUFBQXROLEdBQ0EsTUFBQThFLEdBQUEvRSxLQUFBdWtDLEVBQUFqM0IsRUFBQUMsRUFBQXROLElBR0Esa0JBQ0EsTUFBQThFLEdBQUE5QixNQUFBc2hDLEVBQUFyaEMsY0FPQSxTQUFBN0UsRUFBQUQsR0FFQUMsRUFBQUQsUUFBQSxTQUFBd1UsR0FDQSxxQkFBQUEsR0FBQSxLQUFBa0ssV0FBQWxLLEVBQUEsc0JBQ0EsT0FBQUEsS0FNQSxTQUFBdlUsRUFBQUQsRUFBQU8sR0FFQSxHQUFBNmxDLEdBQUE3bEMsRUFBQSxJQUNBOGxDLEVBQUE5bEMsRUFBQSxHQUNBTixHQUFBRCxRQUFBTyxFQUFBLGFBQUFnQyxFQUFBZ0UsRUFBQXpGLEdBQ0EsTUFBQXNsQyxHQUFBL2QsRUFBQTlsQixFQUFBZ0UsRUFBQTgvQixFQUFBLEVBQUF2bEMsS0FDQyxTQUFBeUIsRUFBQWdFLEVBQUF6RixHQUVELE1BREF5QixHQUFBZ0UsR0FBQXpGLEVBQ0F5QixJQU1BLFNBQUF0QyxFQUFBRCxFQUFBTyxHQUVBLEdBQUErbEMsR0FBQS9sQyxFQUFBLElBQ0FnbUMsRUFBQWhtQyxFQUFBLElBQ0FpbUMsRUFBQWptQyxFQUFBLElBQ0E2bEMsRUFBQXhsQyxPQUFBQyxjQUVBYixHQUFBcW9CLEVBQUE5bkIsRUFBQSxJQUFBSyxPQUFBQyxlQUFBLFNBQUE0bEMsRUFBQWpCLEVBQUFrQixHQUlBLEdBSEFKLEVBQUFHLEdBQ0FqQixFQUFBZ0IsRUFBQWhCLEdBQUEsR0FDQWMsRUFBQUksR0FDQUgsRUFBQSxJQUNBLE1BQUFILEdBQUFLLEVBQUFqQixFQUFBa0IsR0FDRyxNQUFBNWpDLElBQ0gsVUFBQTRqQyxJQUFBLE9BQUFBLEdBQUEsS0FBQWhvQixXQUFBLDJCQUVBLE9BREEsU0FBQWdvQixLQUFBRCxFQUFBakIsR0FBQWtCLEVBQUE1bEMsT0FDQTJsQyxJQU1BLFNBQUF4bUMsRUFBQUQsRUFBQU8sR0FFQSxHQUFBK29CLEdBQUEvb0IsRUFBQSxHQUNBTixHQUFBRCxRQUFBLFNBQUF3VSxHQUNBLElBQUE4VSxFQUFBOVUsR0FBQSxLQUFBa0ssV0FBQWxLLEVBQUEscUJBQ0EsT0FBQUEsS0FNQSxTQUFBdlUsRUFBQUQsRUFBQU8sR0FFQU4sRUFBQUQsU0FBQU8sRUFBQSxNQUFBQSxFQUFBLGVBQ0EsTUFBc0csSUFBdEdLLE9BQUFDLGVBQUFOLEVBQUEsZ0JBQXFFNkIsSUFBQSxXQUFtQixZQUFjOE0sS0FNdEcsU0FBQWpQLEVBQUFELEVBQUFPLEdBRUEsR0FBQStvQixHQUFBL29CLEVBQUEsSUFDQTRDLEVBQUE1QyxFQUFBLEdBQUE0QyxTQUVBd2pDLEVBQUFyZCxFQUFBbm1CLElBQUFtbUIsRUFBQW5tQixFQUFBZy9CLGNBQ0FsaUMsR0FBQUQsUUFBQSxTQUFBd1UsR0FDQSxNQUFBbXlCLEdBQUF4akMsRUFBQWcvQixjQUFBM3RCLFFBTUEsU0FBQXZVLEVBQUFELEVBQUFPLEdBR0EsR0FBQStvQixHQUFBL29CLEVBQUEsR0FHQU4sR0FBQUQsUUFBQSxTQUFBd1UsRUFBQXN3QixHQUNBLElBQUF4YixFQUFBOVUsR0FBQSxNQUFBQSxFQUNBLElBQUE3TixHQUFBK3lCLENBQ0EsSUFBQW9MLEdBQUEsbUJBQUFuK0IsRUFBQTZOLEVBQUEvRyxZQUFBNmIsRUFBQW9RLEVBQUEveUIsRUFBQS9FLEtBQUE0UyxJQUFBLE1BQUFrbEIsRUFDQSx1QkFBQS95QixFQUFBNk4sRUFBQW95QixXQUFBdGQsRUFBQW9RLEVBQUEveUIsRUFBQS9FLEtBQUE0UyxJQUFBLE1BQUFrbEIsRUFDQSxLQUFBb0wsR0FBQSxtQkFBQW4rQixFQUFBNk4sRUFBQS9HLFlBQUE2YixFQUFBb1EsRUFBQS95QixFQUFBL0UsS0FBQTRTLElBQUEsTUFBQWtsQixFQUNBLE1BQUFoYixXQUFBLDZDQU1BLFNBQUF6ZSxFQUFBRCxHQUVBQyxFQUFBRCxRQUFBLFNBQUE2bUMsRUFBQS9sQyxHQUNBLE9BQ0FxQixhQUFBLEVBQUEwa0MsR0FDQTNrQyxlQUFBLEVBQUEya0MsR0FDQTN5QixXQUFBLEVBQUEyeUIsR0FDQS9sQyxXQU9BLFNBQUFiLEVBQUFELEVBQUFPLEdBRUEsWUFHQSxJQUFBdW1DLEdBQUF2bUMsRUFBQSxJQUNBd21DLEVBQUF4bUMsRUFBQSxJQUNBeW1DLEVBQUF6bUMsRUFBQSxJQUNBMG1DLEVBQUExbUMsRUFBQSxJQUNBK2QsRUFBQS9kLEVBQUEsSUFDQTJtQyxFQUFBdG1DLE9BQUF3ZSxNQUdBbmYsR0FBQUQsU0FBQWtuQyxHQUFBM21DLEVBQUEsZUFDQSxHQUFBNG1DLE1BQ0F6QixLQUVBWixFQUFBMVMsU0FDQWdWLEVBQUEsc0JBR0EsT0FGQUQsR0FBQXJDLEdBQUEsRUFDQXNDLEVBQUE1N0IsTUFBQSxJQUFBb0MsUUFBQSxTQUFBc2EsR0FBb0N3ZCxFQUFBeGQsT0FDakIsR0FBbkJnZixLQUFtQkMsR0FBQXJDLElBQUFsa0MsT0FBQXNKLEtBQUFnOUIsS0FBc0N4QixJQUFBejRCLEtBQUEsS0FBQW02QixJQUN4RCxTQUFBbEUsRUFBQS90QixHQU1ELElBTEEsR0FBQWt5QixHQUFBSixFQUFBL0QsR0FDQW9FLEVBQUF4aUMsVUFBQXFDLE9BQ0ExQyxFQUFBLEVBQ0E4aUMsRUFBQVIsRUFBQTFlLEVBQ0FtZixFQUFBUixFQUFBM2UsRUFDQWlmLEVBQUE3aUMsR0FNQSxJQUxBLEdBSUE4QixHQUpBdStCLEVBQUF4bUIsRUFBQXhaLFVBQUFMLE1BQ0F5RixFQUFBcTlCLEVBQUFULEVBQUFoQyxHQUFBM3lCLE9BQUFvMUIsRUFBQXpDLElBQUFnQyxFQUFBaEMsR0FDQTM5QixFQUFBK0MsRUFBQS9DLE9BQ0F0QixFQUFBLEVBRUFzQixFQUFBdEIsR0FBQTJoQyxFQUFBNWxDLEtBQUFrakMsRUFBQXYrQixFQUFBMkQsRUFBQXJFLFFBQUF3aEMsRUFBQTlnQyxHQUFBdStCLEVBQUF2K0IsR0FDRyxPQUFBOGdDLElBQ0ZILEdBS0QsU0FBQWpuQyxFQUFBRCxFQUFBTyxHQUdBLEdBQUFrbkMsR0FBQWxuQyxFQUFBLElBQ0FtbkMsRUFBQW5uQyxFQUFBLEdBRUFOLEdBQUFELFFBQUFZLE9BQUFzSixNQUFBLFNBQUF1OEIsR0FDQSxNQUFBZ0IsR0FBQWhCLEVBQUFpQixLQU1BLFNBQUF6bkMsRUFBQUQsRUFBQU8sR0FFQSxHQUFBaVgsR0FBQWpYLEVBQUEsSUFDQW9uQyxFQUFBcG5DLEVBQUEsSUFDQXFuQyxFQUFBcm5DLEVBQUEsUUFDQXNuQyxFQUFBdG5DLEVBQUEsZUFFQU4sR0FBQUQsUUFBQSxTQUFBdUMsRUFBQW8zQixHQUNBLEdBR0FwekIsR0FIQWtnQyxFQUFBa0IsRUFBQXBsQyxHQUNBYixFQUFBLEVBQ0FtSCxJQUVBLEtBQUF0QyxJQUFBa2dDLEdBQUFsZ0MsR0FBQXNoQyxHQUFBcndCLEVBQUFpdkIsRUFBQWxnQyxJQUFBc0MsRUFBQWhDLEtBQUFOLEVBRUEsTUFBQW96QixFQUFBeHlCLE9BQUF6RixHQUFBOFYsRUFBQWl2QixFQUFBbGdDLEVBQUFvekIsRUFBQWo0QixTQUNBa21DLEVBQUEvK0IsRUFBQXRDLElBQUFzQyxFQUFBaEMsS0FBQU4sR0FFQSxPQUFBc0MsS0FNQSxTQUFBNUksRUFBQUQsR0FFQSxHQUFBVyxNQUF1QkEsY0FDdkJWLEdBQUFELFFBQUEsU0FBQXdVLEVBQUFqTyxHQUNBLE1BQUE1RixHQUFBaUIsS0FBQTRTLEVBQUFqTyxLQU1BLFNBQUF0RyxFQUFBRCxHQUVBLEdBQUF5TixNQUFpQkEsUUFFakJ4TixHQUFBRCxRQUFBLFNBQUF3VSxHQUNBLE1BQUEvRyxHQUFBN0wsS0FBQTRTLEdBQUFqTixNQUFBLFFBTUEsU0FBQXRILEVBQUFELEVBQUFPLEdBSUEsR0FBQW9uQyxHQUFBcG5DLEVBQUEsSUFDQXVuQyxFQUFBdm5DLEVBQUEsSUFDQXduQyxFQUFBeG5DLEVBQUEsR0FDQU4sR0FBQUQsUUFBQSxTQUFBZ29DLEdBQ0EsZ0JBQUFDLEVBQUFuK0IsRUFBQW8rQixHQUNBLEdBR0FwbkMsR0FIQTJsQyxFQUFBa0IsRUFBQU0sR0FDQTlnQyxFQUFBMmdDLEVBQUFyQixFQUFBdC9CLFFBQ0ExQyxFQUFBc2pDLEVBQUFHLEVBQUEvZ0MsRUFJQSxJQUFBNmdDLEdBQUFsK0IsTUFBQSxLQUFBM0MsRUFBQTFDLEdBR0EsSUFGQTNELEVBQUEybEMsRUFBQWhpQyxPQUVBM0QsRUFBQSxhQUVLLE1BQVlxRyxFQUFBMUMsRUFBZUEsSUFBQSxJQUFBdWpDLEdBQUF2akMsSUFBQWdpQyxLQUNoQ0EsRUFBQWhpQyxLQUFBcUYsRUFBQSxNQUFBaytCLElBQUF2akMsR0FBQSxDQUNLLFFBQUF1akMsSUFBQSxLQU9MLFNBQUEvbkMsRUFBQUQsRUFBQU8sR0FHQSxHQUFBNG5DLEdBQUE1bkMsRUFBQSxJQUNBa1csRUFBQXBDLEtBQUFvQyxHQUNBeFcsR0FBQUQsUUFBQSxTQUFBd1UsR0FDQSxNQUFBQSxHQUFBLEVBQUFpQyxFQUFBMHhCLEVBQUEzekIsR0FBQSxzQkFNQSxTQUFBdlUsRUFBQUQsRUFBQU8sR0FFQSxHQUFBNG5DLEdBQUE1bkMsRUFBQSxJQUNBbVcsRUFBQXJDLEtBQUFxQyxJQUNBRCxFQUFBcEMsS0FBQW9DLEdBQ0F4VyxHQUFBRCxRQUFBLFNBQUF5RSxFQUFBMEMsR0FFQSxNQURBMUMsR0FBQTBqQyxFQUFBMWpDLEdBQ0FBLEVBQUEsRUFBQWlTLEVBQUFqUyxFQUFBMEMsRUFBQSxHQUFBc1AsRUFBQWhTLEVBQUEwQyxLQU1BLFNBQUFsSCxFQUFBRCxFQUFBTyxHQUVBLEdBQUE2bkMsR0FBQTduQyxFQUFBLFlBQ0E4bkMsRUFBQTluQyxFQUFBLEdBQ0FOLEdBQUFELFFBQUEsU0FBQXVHLEdBQ0EsTUFBQTZoQyxHQUFBN2hDLEtBQUE2aEMsRUFBQTdoQyxHQUFBOGhDLEVBQUE5aEMsTUFNQSxTQUFBdEcsRUFBQUQsRUFBQU8sR0FFQSxHQUFBb0gsR0FBQXBILEVBQUEsR0FFQStuQyxFQUFBM2dDLEVBREEsd0JBQ0FBLEVBREEseUJBRUExSCxHQUFBRCxRQUFBLFNBQUF1RyxHQUNBLE1BQUEraEMsR0FBQS9oQyxLQUFBK2hDLEVBQUEvaEMsU0FNQSxTQUFBdEcsRUFBQUQsR0FFQSxHQUFBMlAsR0FBQSxFQUNBNDRCLEVBQUFsMEIsS0FBQXN3QixRQUNBMWtDLEdBQUFELFFBQUEsU0FBQXVHLEdBQ0EsZ0JBQUE0TCxXQUFBakgsS0FBQTNFLEVBQUEsR0FBQUEsRUFBQSxRQUFBb0osRUFBQTQ0QixHQUFBOTZCLFNBQUEsT0FNQSxTQUFBeE4sRUFBQUQsR0FHQUMsRUFBQUQsUUFBQSxnR0FFQXdMLE1BQUEsTUFLQSxTQUFBdkwsRUFBQUQsR0FFQUEsRUFBQXFvQixFQUFBem5CLE9BQUE0bkMsdUJBS0EsU0FBQXZvQyxFQUFBRCxHQUVBQSxFQUFBcW9CLEtBQWM1SixzQkFLZCxTQUFBeGUsRUFBQUQsRUFBQU8sR0FHQSxHQUFBZ2UsR0FBQWhlLEVBQUEsR0FDQU4sR0FBQUQsUUFBQSxTQUFBd1UsR0FDQSxNQUFBNVQsUUFBQTJkLEVBQUEvSixXTHVHTWkwQixJQUNBLFNBQVV4b0MsRUFBUUQsRUFBU08sR0FFakMsWUFHQSxTQUFTQyxHQUFTQyxHQUNkLElBQUssR0FBSUMsS0FBS0QsR0FDTFQsRUFBUVcsZUFBZUQsS0FBSVYsRUFBUVUsR0FBS0QsRUFBRUMsSUFHdkRFLE9BQU9DLGVBQWViLEVBQVMsY0FBZ0JjLE9BQU8sSU1oc1d0RE4sRUFBQUQsRUFBb0MsTUFDcENDLEVBQUFELEVBQTRDLE1BQzVDQyxFQUFBRCxFQUEwQyxNQUMxQ0MsRUFBQUQsRUFBc0MsTUFDdENDLEVBQUFELEVBQXdDLE1BQ3hDQyxFQUFBRCxFQUFzQyxNQUN0Q0MsRUFBQUQsRUFBMEMsTUFDMUNDLEVBQUFELEVBQW9DLE1BRXBDQyxFQUFBRCxFQUFxQyxPTm9zVy9CbW9DLElBQ0EsU0FBVXpvQyxFQUFRRCxFQUFTTyxHQUVqQ0EsRUFBb0IsS0FDcEJBLEVBQW9CLEtBQ3BCTixFQUFPRCxRQUFVTyxFQUFvQixNQUsvQm9vQyxJQUNBLFNBQVUxb0MsRUFBUUQsRUFBU08sR0FFakMsWUFHQSxJQUFJcW9DLEdBQTZCLGtCQUFYeFcsU0FBb0QsZ0JBQXBCQSxRQUFPSCxTQUF3QixTQUFVNXJCLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYK3JCLFNBQXlCL3JCLEVBQUkrSSxjQUFnQmdqQixRQUFVL3JCLElBQVErckIsT0FBTzN2QixVQUFZLGVBQWtCNEQsSUFFblF3aUMsRUFBNEIsa0JBQVh6VyxTQUF1RCxXQUE5QndXLEVBQVN4VyxPQUFPSCxVQUF5QixTQUFVNXJCLEdBQzdGLFdBQXNCLEtBQVJBLEVBQXNCLFlBQWN1aUMsRUFBU3ZpQyxJQUMzRCxTQUFVQSxHQUNWLE1BQU9BLElBQXlCLGtCQUFYK3JCLFNBQXlCL3JCLEVBQUkrSSxjQUFnQmdqQixRQUFVL3JCLElBQVErckIsT0FBTzN2QixVQUFZLGFBQTBCLEtBQVI0RCxFQUFzQixZQUFjdWlDLEVBQVN2aUMsSU9sdVcxS29jLEVBc0dBcmlCLElQZ29XQVEsUUFBT0MsZUFBZWIsRUFBUyxjQUFnQmMsT0FBTyxHT3R1V3RELElBQUFnb0MsR0FBQXZvQyxFQUErQixHQUMvQndvQyxFQUFBeG9DLEVBQXNDLEtBQ3RDeW9DLEVBQUF6b0MsRUFBdUMsSUFDdkMwb0MsRUFBQTFvQyxFQUErQyxLQUcvQzJvQyxFQUFBM29DLEVBQXNDLEtBQ3RDNG9DLEVBQUE1b0MsRUFBaUMsSUFDakM2b0MsRUFBQTdvQyxFQUE0RSxLQUM1RThvQyxFQUFBOW9DLEVBQXdDLEdBSXhCMG9DLEdBQXVCSyxzQkFHMUJ0cEMsR0FBSWcyQixLQUFHLFNBQStEalcsR1BpdVcvRSxHT2h1VytCLGdCQUFkLEtBQUFBLEVBQUEsWUFBQThvQixFQUFBOW9CLElQa3VXYixLQURBeGMsU09odVdhd0csTUFDYiw4REFBTSxHQUFTMkcsT0FDbEIsNkRQaXVXRCxJT2h1V3NDLGdCQUFyQnFQLEdBQU82QyxPUGt1V3BCLEtBREFyZixTT2h1V2F3RyxNQUNiLDZFQUFNLEdBQVMyRyxPQUNsQiw0RVBpdVdELElPaHVXd0MsZ0JBQXZCcVAsR0FBUzhDLFNQa3VXdEIsS0FEQXRmLFNPaHVXYXdHLE1BRWIseUlBQU0sR0FBUzJHLE9BRWxCLHdJUCt0V0QsS0FDSSxHTzl0V2E2NEIsU0FDVCxDUDh0V0EsR085dFdRQyxHQUFRSCxFQUNkSSxNUDh0V0ZELEdPOXRXS0UsR0FBV0gsU0FDZEksTVA4dFdGSCxFTzl0V09JLEtBQVdMLFNBQ2hCTSxRUDh0V0ZMLEVPOXRXT00sS0FBV1AsU0FDaEJRLFFQOHRXRlAsRU85dFdRUSxNQUFXVCxTQUNqQlUsU1A4dFdGVCxFTzl0V1FVLE1BQVdYLFNBRTNCWSxVQUFRLE1BQUdybkMsR1ArdFdQUyxRTzl0V2F3RyxNQUNoQixtQlArdFdELEdPN3RXaUJxZ0MsR0FBRyxHQUFJaEIsR0FBWTVtQixjQUMzQmxkLElBQU8sTUFBWTRkLFdBQVcsVUFBUU4sT0FBUTdDLEVBQU82QyxPQUFVQyxTQUFROUMsRUFFckU4QyxVUDJ0V1h1bkIsR08zdFdxQjltQixVQUNOLFNQMnRXZnZnQixPTzN0V3VCc25DLFFBQ1pELEVQMnRXWEEsRU8zdFc0QmxsQixrQkFBV3JDLFNBQU1KLEVBQVNJLFNBQVc2RCxVQUF5Qix1QkFDakZ6RSxLQUFDLFNBQXNCQyxHUDh0VzVCLEdBSEEzZSxRTzF0V2VxQixJQUNJLGVQMHRXbkI3QixPTzF0VzJCc25DLFFBRWhCRCxFUHl0V1g3bUMsUU96dFdlcUIsSUFDUiwrRUFBcUMsZ0JBQXZCbWIsR0FBU3VxQixTUDJ0VzFCLEtBREEvbUMsU096dFdpQndHLE1BRWIsOEhBQU0sR0FBUzJHLE9BR3ZCLGdJQUNLdVIsS0FBQyxXUHV0V044bUIsRU81c1dtQndCLE9BRVh6QixFQUFBM0csY0FBQSxPQUFjVyxVQUFnQixpQkFDMUJnRyxFQUFBM0csY0FBQzZHLEVBQVF3QixVQUFNbEMsTUFBRVksRUFBS1osT0FDbEJRLEVBQUEzRyxjQUFDZ0gsRUFBR3NCLElBRU4sUUFHRXRuQyxTQUFjdW5DLGNBQU8zcUIsRUFFbkN1cUIsYUFDSWxvQixNQUFDLFNBQU1yWSxHUGtzV2J4RyxRT2pzV2lCd0csTUFBZ0IsZ0JBUXpDQSxPUGtzV000Z0MsSUFDQSxTQUFVMXFDLEVBQVFELEVBQVNPLEdBRWpDLFlBR0FLLFFBQU9DLGVBQWViLEVBQVMsY0FBZ0JjLE9BQU8sR1F0eVd0RCxJQUFBOHBDLEdBQUFycUMsRUFBK0UsSUFDL0VzcUMsRUFBQXRxQyxFQUFnQyxLQUNoQ3VxQyxFQUFBdnFDLEVBQStELEtBRy9Ed3FDLEVBQUF4cUMsRUFFa0IsS0FJR3lxQyxFQUFnQyxtQkFBaEJqb0MsUUFBdUIsS0FBaUJBLE9BQ3ZEa29DLEVBQWtCRCxFQUFxQ0Usc0NBQUlOLEVBQVFPLE9BWTVFbnJDLEdBQUtzb0MsTUFBQXNDLEVBQWNRLFlBQUFSLEVBQ2ZTLGlCUnd4V2JDLElRdnhXS1AsRUFDR1EsV1J1eFdSQyxTUXZ4V1VULEVBQ1JVLFlSdXhXRkMsR1F2eFdJWCxFQUNKWSxZQUNjVixFQWhCSyxXUmd5V25CLE1RMXhXT0wsR0FBZWdCLGdCQUFDZixFQUFLZ0IsUUFBd0JmLEVBRXREZSxpQlJreVdJQyxJQUNBLFNBQVU3ckMsRUFBUUQsRUFBU08sR0FFakMsWUFHQUssUUFBT0MsZUFBZWIsRUFBUyxjQUFnQmMsT0FBTyxHUzl6V3RELElBQUFpckMsR0FBQXhyQyxFQUF3QyxJQUV4Q2djLEVBQUFoYyxFQUF1QyxLQUN2Q3lyQyxFQUFBenJDLEVBQThDLEtBTXhCMHJDLEVBQUcsV1QweldyQixHU3Z6V0FuNUIsR0FBWW1CLEVBQUcsU0FBZ0NpNEIsRUFBbUI1RCxFQUFpQjZELEdUeXpXL0UsTVN6eldvRixVQUFrQkMsR1QweldsRzlELEVTdnpXVStELFNBQUNOLEVBQWFPLGNBQ3pCQyx1QkFBc0JyaEMsS0FBZjRILElUd3pXRkEsRVN2eldLdE0sR0FBZ0IsZ0JBQVdnbUMsRUFBTzE1QixFQUNyQ3cxQixJVHV6V0Z4MUIsRVN2eldPeEwsS0FBYyxjQUVqQzZrQyxNQUVhcjRCLEVBQUcsU0FBZ0NvNEIsRUFBbUI1RCxHVHd6Vy9ELE1TeHpXb0UsVUFBZ0I4RCxPQUMzRGxoQyxLQUFmNEgsR1R5eldGQSxFU3Z6V1BuSSxRVHl6V0cyOUIsRVN2eldVK0QsU0FBQ04sRUFBYU8sY0FDL0JHLHdCQUNVQyxFQUFHLFNBQWdDUixFQUFtQjVELEdUeXpXN0QsTVN6eldrRSxVQUFnQjhELE9BQ3pEbGhDLEtBQWY0SCxHVDB6V0ZBLEVTeHpXUG5JLFFUMHpXRzI5QixFU3p6V1UrRCxTQUFDTixFQUFhTyxjQUMvQkcsd0JBQ1loNUIsRUFBRyxTQUFnQ3k0QixFQUFtQjVELEdUMnpXL0QsTVMzeldvRSxVQUFnQjhELE9BQzNEbGhDLEtBQWY0SCxHVDR6V0ZBLEVTMXpXUG5JLFFUNHpXRzI5QixFUzN6V1UrRCxTQUFDTixFQUFhTyxjQUMvQkcsd0JBRWNFLEVBQUcsU0FBZ0NULEVBQW1CNUQsR1Q0eldqRSxNUzV6V3NFLFVBQWdCOEQsT0FDN0RsaEMsS0FBZjRILEdUNnpXRkEsRVMzeldQbkksUVQ2eldHMjlCLEVTNXpXVStELFNBQUNOLEVBQWFPLGNBQy9CRyx3QkFFY0QsRUFBRyxTQUFnQ04sRUFBbUI1RCxHVDZ6V2pFLE1TN3pXc0UsVUFBUzhELEdUOHpXM0UsR1MxeldNcGtDLElBRlFzZ0MsRUFFbEIrRCxTQUNBRCxFVDR6V0ksUVM1eldlcGtDLEVBRVptYSxRVDJ6V0MsSVN4eldLLGdCVHl6V0RtbUIsRVN6eldVK0QsU0FBQ04sRUFBYU8sY0FDdEJNLGVBQ1YsTVR5eldJLEtTdnpXSyxlVHd6V0R0RSxFU3h6V1UrRCxTQUFDTixFQUFhTyxjQUFlTyxnQkFBUzNtQyxRQUFNOEIsRUFBUTlCLFFBQU1pM0IsS0FBTW4xQixFQUFLbTFCLEtBQU1qNkIsS0FBTThFLEVBQ3pGOUUsT0FDVixNVHd6V0ksS1N0eldLLFFUdXpXRG9sQyxFU3Z6V1UrRCxTQUFDTixFQUFhTyxjQUFjUSxlQUFTM3FCLE9BQU1uYSxFQUFPbWEsT0FBYXhPLFlBQU0zTCxFQUM3RTJMLGNBQ1YsTVR1eldJLEtTcnpXSyxjVHN6V0QyMEIsRVN0eldVK0QsU0FBQ04sRUFBYU8sY0FBbUJTLG9CQUFVcG5CLFNBQU0zZCxFQUN6RDJkLFdBQ1YsTVRzeldJLEtTcHpXSyxZVHF6V0QyaUIsRVNyeldVK0QsU0FBQ04sRUFBYU8sY0FDdEJVLG1CQUNWLE1UcXpXSSxLU256V0ssY1RveldEMUUsRVNweldVK0QsU0FBQ04sRUFBYU8sY0FBbUJXLG9CQUFPQyxNQUFNbGxDLEVBQ3REa2xDLFFBQ1YsTVRveldJLEtTbHpXSyxlVG16V0Q1RSxFU256V1UrRCxTQUFDTixFQUFhTyxjQUFvQmEscUJBQU9ELE1BQU1sbEMsRUFDdkRrbEMsUUFDVixNVG16V0ksS1NqeldLLFlUa3pXRDVFLEVTbHpXVStELFNBQUNOLEVBQWFPLGNBQ3RCYyx1QkFNTkMsRUFBRyxTQUEyQi9uQyxHVG96V3RDLE9TanpXSUEsR1RreldBLElTanpXVSxNVGt6V04sTVNseldxQiw0QlRteld6QixLU2p6V1UsTVRreldOLE1TbHpXcUIsNEJUbXpXekIsS1NqeldBLE1BQ1UsUVRreldOLE1TbHpXaUIsMEJUZzJXN0IsT1MzMVdnQixVQUFrQmdqQyxHVGl6VzlCLE1TanpXbUMsVUFBb0IxK0IsR1RrelduRCxNU2x6V3dELFVBQVl3NUIsR1RteldoRSxPU2x6V01BLEVBR1ZsZ0MsTVRneldRLElTOXlXRCxjQUFzQmdJLEtBQWY0SCxHVGd6V0VBLEVTOXlXWG5JLFFUZ3pXTzI5QixFUzl5V00rRCxTQUFDTixFQUFhTyxjQUk1QmdCLG1CVDJ5V1EsSVMzeVdPQyxHQUFVbEQsUUFDdEJsbkIsZVQyeVdLLFFTM3lXb0JqWSxLQUFmcWlDLEVUNnlXRCxLQURBaHFDLFNTM3lXS3dHLE1BQ2IsdURBQU0sR0FBUzJHLE9BQ2xCLHNEVDR5V08sSVMxeVdDNk8sT0FBbUNyVSxLQUExQms0QixFQUFRb0ssUUFBSWp1QixJQUF1QjZqQixFQUFRb0ssUUFBSWp1QixJQUFTOHRCLEVBQUNyQixFQUVyRTdxQyxpQlR5eVdFMlIsR0FBU3lKLEVTenlXRTdELFFBQUk2RyxHVDB5V1h3WCxVU3h5V0gsRVR5eVdHdGtCLE1TenlXRCxTQUFrQjg2QixFQUNQOW9CLGFUeXlXVnJSLG9CU3h5V0YsRVR5eVdFWixRU3h5V0UsRVR5eVdGc1QsWVN6eVdnQixZQUFlLGNBQVcsVUFHdEQsYVR3eVdR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R1pnaVgvRSxNWWhpWCtGQSxLWmtpWG5HbXFCLHlCQUEwQjd2QyxFWWppWGdCdXZDLGlCQUFvQyxvQ0FBRSxTQUFhN1YsR1praVh6RixNWWxpWG9HQSxLWm9pWHhHb1csWVluaVhhLFNBQWFDLEdab2lYdEIsTVlwaVg4QyxVQUFjMUQsR1pxaVh4RDlvQyxRWXBpWE9xQixJQUNILFlab2lYSnluQyxFWXBpWEtyc0MsRUFBV3d2QyxZQUFZSSxZQUN6QixXWm9pWEh2RixRWXBpWDBCOWtCLHdCWnFpWHRCOWEsU1luaVhLLE9ab2lYTCthLFVZcGlYYSxPQUFXcGUsV1pxaVhwQnFNLFFZcGlYSyxXWnFpWERsUSxRWXJpWG9CcUIsSUFBdUIscUJadWlYL0NxaEIsYVl0aVhVLFNBQVdELEdBQ1pBLEdBQVNBLEVBQVVMLFVadWlYcEIwbUIsRVl0aVhLcnNDLEVBQVd3dkMsWUFBU0MsU0FBTXpwQixFQUUzQ0wsWVp1aVhJTyxXWXRpWFEsV1p1aVhKM2lCLFFZdmlYdUJxQixJQUEwQix3Qlp5aVhyRHdoQixhWXhpWFUsU0FBV0QsR1owaVhia21CLEVZemlYQ2xtQixHQUFTQSxFQUFPK21CLE1BQ1psdEMsRUFBV3d2QyxZQUFXUSxXQUFNN3BCLEVBQ25DK21CLE9BQ09sdEMsRUFBV3d2QyxZQUFXUSxpQloyaVhuQzNwQixjWXhpWFcsU0FBV0YsR0FDYkEsR0FBU0EsRUFBTyttQixPWnlpWGpCYixFWXhpWEtyc0MsRUFBV3d2QyxZQUFZUyxZQUFNOXBCLEVBQ3BDK21CLFNaMGlYTjVtQixXWXRpWFEsV1p1aVhKK2xCLEVZdmlYcUJyc0MsRUFBV3d2QyxZQUFlVSxhWnlpWG5EM3BCLGFZeGlYVSxXWnlpWE5oakIsUVl6aVh5QnFCLElBQTRCLDBCWjJpWHpENGhCLFdZMWlYUSxXWjJpWEpqakIsUVkzaVh1QnFCLElBRzNDLDZCWjhpWEF1ckMsU1k3aVhVLFNBQWdCL3FCLEdaOGlYdEIsTVk5aVgyQixVQUFjaW5CLEdaK2lYckNBLEVZOWlYS3JzQyxFQUFXd3ZDLFlBQWVFLGVBQ3RDLGNaZ2pYRE0sV0FBWWh3QyxFWS9p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QzY4Wm5CQyxvQmdDNThaY0EsRWhDNjhaZEMsZWdDNThaVUEsRWhDNjhaVkMsV2dDNThabUJBLEVoQzY4Wm5CQyxvQmdDNThaY0EsRWhDNjhaZEMsZWdDNThaVUEsRWhDNjhaVkMsV2dDNThaV0EsRWhDNjhaWEMsWWdDNThaU0EsRWhDNjhaVEMsVWdDNThaWUEsRWhDNjhaWkMsYWdDNThaZUEsRWhDNjhaZkMsZ0JnQzU4WmVBLEVoQzY4WmZDLGdCZ0M1OFpXQSxFaEM2OFpYQyxZZ0M1OFpVQSxFaEM2OFpWQyxXZ0M1OFpnQkEsRWhDNjhaaEJDLGlCZ0M1OFpZQSxFaEM2OFpaQyxhZ0M1OFphQSxFaEM2OFpiQyxjZ0M1OFpZQSxFaEM2OFpaQyxhZ0M1OFpGQSxFQUVXbHNELEdBQWdCK3BELGtCaEM2OFp6QnFDLElnQzU4WnFCRCxFQUNidkIsVWhDNDhaUnlCLFNnQzU4WjBCRixFQUNuQnRCLGVoQzQ4WlB5QixRZ0M1OFp5QkgsRUFDbEJyQixjaEM0OFpQeUIsUWdDNThaeUJKLEVBQ2RwQixjaEM0OFpYeUIsWWdDNThaNkJMLEVBQ25CbkIsa0JoQzQ4WlZ5QixXZ0M1OFo0Qk4sRUFDZmxCLGlCaEM0OFpieUIsY2dDNThaK0JQLEVBQ3ZCakIsb0JoQzQ4WlJ5QixTZ0M1OFowQlIsRUFDdEJoQixlaEM0OFpKeUIsS2dDNThac0JULEVBQ1RmLFdoQzQ4WmJ5QixjZ0M1OForQlYsRUFDdkJkLG9CaEM0OFpSM3dDLFNnQzU4WjBCeXhDLEVBQ3RCYixlaEM0OFpKd0IsS2dDNThac0JYLEVBQ2pCWixXaEM0OFpMdmxDLE1nQzU4WnVCbW1DLEVBQ3BCWCxZaEM0OFpIdUIsSWdDNThacUJaLEVBQ2ZWLFVoQzQ4Wk51QixPZ0M1OFp3QmIsRUFDZlQsYWhDNDhaVHVCLFVnQzU4WjJCZCxFQUNsQlIsZ0JoQzQ4WlR1QixVZ0M1OFoyQmYsRUFDdEJQLGdCaEM0OFpMdUIsTWdDNThadUJoQixFQUNuQk4sWWhDNDhaSnVCLEtnQzU4WnNCakIsRUFDWkwsV2hDNDhaVnVCLFdnQzU4WjRCbEIsRUFDdEJKLGlCaEM0OFpOdUIs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UzlFZ3ZlM0MiLCJmaWxlIjoiRGl2ZVNESy5mcm9udC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImZyb250XCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkRpdmVTREtcIl0gPSByb290W1wiRGl2ZVNES1wiXSB8fCB7fSwgcm9vdFtcIkRpdmVTREtcIl1bXCJmcm9udFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJmcm9udFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJEaXZlU0RLXCJdID0gcm9vdFtcIkRpdmVTREtcIl0gfHwge30sIHJvb3RbXCJEaXZlU0RLXCJdW1wiZnJvbnRcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiB3ZWJwYWNrSnNvbnBEaXZlU0RLX19uYW1lXyhbMF0se1xuXG4vKioqLyAxNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkge1xuICAgICAgICBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTI0KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NykpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIHtcbiAgICAgICAgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYxNikpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MTcpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjE4KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYxOSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MjApKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjIxKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYyMikpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MjMpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjI0KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYyNSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MjYpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDIyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgICAgIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MjUpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTI2KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NikpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygyNzIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDI2Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGVudmlyb25tZW50ID0gXCJQUkVcIjtcbnZhciBlbmFibGVSb2xsYmFyID0gZmFsc2U7XG5leHBvcnRzLlNFU1NJT05fU1RPUkFHRV9LRVkgPSAnRGl2ZVN0YXRlJztcbmV4cG9ydHMuRElWRV9FTlZJUk9OTUVOVCA9IGVudmlyb25tZW50O1xuZXhwb3J0cy5FTkFCTEVfUk9MTEJBUiA9IGVuYWJsZVJvbGxiYXI7XG5leHBvcnRzLlNVUFBPUlRFRF9DQVJEX1RZUEVTID0gW1wibW92aWVcIiwgXCJzZXJpZVwiLCBcInBlcnNvblwiLCBcImNoYXJhY3RlclwiLCBcInZlaGljbGVcIiwgXCJmYXNoaW9uXCIsIFwibG9jYXRpb25cIiwgXCJoaXN0b3JpY1wiLCBcInRyaXZpYVwiLCBcInF1b3RlXCIsIFwib3N0XCIsIFwiaG9tZVwiLCBcInRlY2hub2xvZ3lcIiwgXCJhcnRcIiwgXCJzb25nXCIsIFwid2VhcG9uXCIsIFwibGVpc3VyZV9zcG9ydFwiLCBcImhlYWx0aF9iZWF1dHlcIiwgXCJmb29kX2RyaW5rXCIsIFwiZmF1bmFfZmxvcmFcIiwgXCJidXNpbmVzc1wiLCBcInJlZmVyZW5jZVwiLCBcImNoYXB0ZXJcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyNzI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHRydWUpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnbGlnaHRzZWFncmVlbicsXG4gICdmb3Jlc3RncmVlbicsXG4gICdnb2xkZW5yb2QnLFxuICAnZG9kZ2VyYmx1ZScsXG4gICdkYXJrb3JjaGlkJyxcbiAgJ2NyaW1zb24nXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0MSkpKVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gKi9cclxuXHJcbmlmICh0cnVlKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcbiAqXHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcclxuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXHJcbiAgICAucHVzaChmbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIGZ1bmN0aW9uIG9uKCkge1xyXG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcclxuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBvbi5mbiA9IGZuO1xyXG4gIHRoaXMub24oZXZlbnQsIG9uKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIC8vIGFsbFxyXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBzcGVjaWZpYyBldmVudFxyXG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxyXG4gIHZhciBjYjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcbnZhciBoYXNCaW5hcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBzbGljZUJ1ZmZlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xudmFyIGFmdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG52YXIgdXRmOCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXG52YXIgYmFzZTY0ZW5jb2RlcjtcbmlmIChnbG9iYWwgJiYgZ2xvYmFsLkFycmF5QnVmZmVyKSB7XG4gIGJhc2U2NGVuY29kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB3ZSBhcmUgcnVubmluZyBhbiBhbmRyb2lkIGJyb3dzZXIuIFRoYXQgcmVxdWlyZXMgdXMgdG8gdXNlXG4gKiBBcnJheUJ1ZmZlciB3aXRoIHBvbGxpbmcgdHJhbnNwb3J0cy4uLlxuICpcbiAqIGh0dHA6Ly9naGluZGEubmV0L2pwZWctYmxvYi1hamF4LWFuZHJvaWQvXG4gKi9cblxudmFyIGlzQW5kcm9pZCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuLyoqXG4gKiBDaGVjayBpZiB3ZSBhcmUgcnVubmluZyBpbiBQaGFudG9tSlMuXG4gKiBVcGxvYWRpbmcgYSBCbG9iIHdpdGggUGhhbnRvbUpTIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5LCBhcyByZXBvcnRlZCBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2FyaXlhL3BoYW50b21qcy9pc3N1ZXMvMTEzOTVcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xudmFyIGlzUGhhbnRvbUpTID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1BoYW50b21KUy9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogV2hlbiB0cnVlLCBhdm9pZHMgdXNpbmcgQmxvYnMgdG8gZW5jb2RlIHBheWxvYWRzLlxuICogQHR5cGUgYm9vbGVhblxuICovXG52YXIgZG9udFNlbmRCbG9icyA9IGlzQW5kcm9pZCB8fCBpc1BoYW50b21KUztcblxuLyoqXG4gKiBDdXJyZW50IHByb3RvY29sIHZlcnNpb24uXG4gKi9cblxuZXhwb3J0cy5wcm90b2NvbCA9IDM7XG5cbi8qKlxuICogUGFja2V0IHR5cGVzLlxuICovXG5cbnZhciBwYWNrZXRzID0gZXhwb3J0cy5wYWNrZXRzID0ge1xuICAgIG9wZW46ICAgICAwICAgIC8vIG5vbi13c1xuICAsIGNsb3NlOiAgICAxICAgIC8vIG5vbi13c1xuICAsIHBpbmc6ICAgICAyXG4gICwgcG9uZzogICAgIDNcbiAgLCBtZXNzYWdlOiAgNFxuICAsIHVwZ3JhZGU6ICA1XG4gICwgbm9vcDogICAgIDZcbn07XG5cbnZhciBwYWNrZXRzbGlzdCA9IGtleXMocGFja2V0cyk7XG5cbi8qKlxuICogUHJlbWFkZSBlcnJvciBwYWNrZXQuXG4gKi9cblxudmFyIGVyciA9IHsgdHlwZTogJ2Vycm9yJywgZGF0YTogJ3BhcnNlciBlcnJvcicgfTtcblxuLyoqXG4gKiBDcmVhdGUgYSBibG9iIGFwaSBldmVuIGZvciBibG9iIGJ1aWxkZXIgd2hlbiB2ZW5kb3IgcHJlZml4ZXMgZXhpc3RcbiAqL1xuXG52YXIgQmxvYiA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG4vKipcbiAqIEVuY29kZXMgYSBwYWNrZXQuXG4gKlxuICogICAgIDxwYWNrZXQgdHlwZSBpZD4gWyA8ZGF0YT4gXVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIDVoZWxsbyB3b3JsZFxuICogICAgIDNcbiAqICAgICA0XG4gKlxuICogQmluYXJ5IGlzIGVuY29kZWQgaW4gYW4gaWRlbnRpY2FsIHByaW5jaXBsZVxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuZW5jb2RlUGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIHV0ZjhlbmNvZGUsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygc3VwcG9ydHNCaW5hcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IHN1cHBvcnRzQmluYXJ5O1xuICAgIHN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIHV0ZjhlbmNvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IHV0ZjhlbmNvZGU7XG4gICAgdXRmOGVuY29kZSA9IG51bGw7XG4gIH1cblxuICB2YXIgZGF0YSA9IChwYWNrZXQuZGF0YSA9PT0gdW5kZWZpbmVkKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBwYWNrZXQuZGF0YS5idWZmZXIgfHwgcGFja2V0LmRhdGE7XG5cbiAgaWYgKGdsb2JhbC5BcnJheUJ1ZmZlciAmJiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZW5jb2RlQXJyYXlCdWZmZXIocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spO1xuICB9IGVsc2UgaWYgKEJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIGdsb2JhbC5CbG9iKSB7XG4gICAgcmV0dXJuIGVuY29kZUJsb2IocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spO1xuICB9XG5cbiAgLy8gbWlnaHQgYmUgYW4gb2JqZWN0IHdpdGggeyBiYXNlNjQ6IHRydWUsIGRhdGE6IGRhdGFBc0Jhc2U2NFN0cmluZyB9XG4gIGlmIChkYXRhICYmIGRhdGEuYmFzZTY0KSB7XG4gICAgcmV0dXJuIGVuY29kZUJhc2U2NE9iamVjdChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIFNlbmRpbmcgZGF0YSBhcyBhIHV0Zi04IHN0cmluZ1xuICB2YXIgZW5jb2RlZCA9IHBhY2tldHNbcGFja2V0LnR5cGVdO1xuXG4gIC8vIGRhdGEgZnJhZ21lbnQgaXMgb3B0aW9uYWxcbiAgaWYgKHVuZGVmaW5lZCAhPT0gcGFja2V0LmRhdGEpIHtcbiAgICBlbmNvZGVkICs9IHV0ZjhlbmNvZGUgPyB1dGY4LmVuY29kZShTdHJpbmcocGFja2V0LmRhdGEpLCB7IHN0cmljdDogZmFsc2UgfSkgOiBTdHJpbmcocGFja2V0LmRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKCcnICsgZW5jb2RlZCk7XG5cbn07XG5cbmZ1bmN0aW9uIGVuY29kZUJhc2U2NE9iamVjdChwYWNrZXQsIGNhbGxiYWNrKSB7XG4gIC8vIHBhY2tldCBkYXRhIGlzIGFuIG9iamVjdCB7IGJhc2U2NDogdHJ1ZSwgZGF0YTogZGF0YUFzQmFzZTY0U3RyaW5nIH1cbiAgdmFyIG1lc3NhZ2UgPSAnYicgKyBleHBvcnRzLnBhY2tldHNbcGFja2V0LnR5cGVdICsgcGFja2V0LmRhdGEuZGF0YTtcbiAgcmV0dXJuIGNhbGxiYWNrKG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEVuY29kZSBwYWNrZXQgaGVscGVycyBmb3IgYmluYXJ5IHR5cGVzXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQXJyYXlCdWZmZXIocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spIHtcbiAgaWYgKCFzdXBwb3J0c0JpbmFyeSkge1xuICAgIHJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBkYXRhID0gcGFja2V0LmRhdGE7XG4gIHZhciBjb250ZW50QXJyYXkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgdmFyIHJlc3VsdEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEgKyBkYXRhLmJ5dGVMZW5ndGgpO1xuXG4gIHJlc3VsdEJ1ZmZlclswXSA9IHBhY2tldHNbcGFja2V0LnR5cGVdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdEJ1ZmZlcltpKzFdID0gY29udGVudEFycmF5W2ldO1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdEJ1ZmZlci5idWZmZXIpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVCbG9iQXNBcnJheUJ1ZmZlcihwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykge1xuICBpZiAoIXN1cHBvcnRzQmluYXJ5KSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgZnIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgcGFja2V0LmRhdGEgPSBmci5yZXN1bHQ7XG4gICAgZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgdHJ1ZSwgY2FsbGJhY2spO1xuICB9O1xuICByZXR1cm4gZnIucmVhZEFzQXJyYXlCdWZmZXIocGFja2V0LmRhdGEpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVCbG9iKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKSB7XG4gIGlmICghc3VwcG9ydHNCaW5hcnkpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5lbmNvZGVCYXNlNjRQYWNrZXQocGFja2V0LCBjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoZG9udFNlbmRCbG9icykge1xuICAgIHJldHVybiBlbmNvZGVCbG9iQXNBcnJheUJ1ZmZlcihwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gIGxlbmd0aFswXSA9IHBhY2tldHNbcGFja2V0LnR5cGVdO1xuICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtsZW5ndGguYnVmZmVyLCBwYWNrZXQuZGF0YV0pO1xuXG4gIHJldHVybiBjYWxsYmFjayhibG9iKTtcbn1cblxuLyoqXG4gKiBFbmNvZGVzIGEgcGFja2V0IHdpdGggYmluYXJ5IGRhdGEgaW4gYSBiYXNlNjQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldCwgaGFzIGB0eXBlYCBhbmQgYGRhdGFgXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGJhc2U2NCBlbmNvZGVkIG1lc3NhZ2VcbiAqL1xuXG5leHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldCA9IGZ1bmN0aW9uKHBhY2tldCwgY2FsbGJhY2spIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYicgKyBleHBvcnRzLnBhY2tldHNbcGFja2V0LnR5cGVdO1xuICBpZiAoQmxvYiAmJiBwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIGdsb2JhbC5CbG9iKSB7XG4gICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBiNjQgPSBmci5yZXN1bHQuc3BsaXQoJywnKVsxXTtcbiAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgKyBiNjQpO1xuICAgIH07XG4gICAgcmV0dXJuIGZyLnJlYWRBc0RhdGFVUkwocGFja2V0LmRhdGEpO1xuICB9XG5cbiAgdmFyIGI2NGRhdGE7XG4gIHRyeSB7XG4gICAgYjY0ZGF0YSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkocGFja2V0LmRhdGEpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGlQaG9uZSBTYWZhcmkgZG9lc24ndCBsZXQgeW91IGFwcGx5IHdpdGggdHlwZWQgYXJyYXlzXG4gICAgdmFyIHR5cGVkID0gbmV3IFVpbnQ4QXJyYXkocGFja2V0LmRhdGEpO1xuICAgIHZhciBiYXNpYyA9IG5ldyBBcnJheSh0eXBlZC5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJhc2ljW2ldID0gdHlwZWRbaV07XG4gICAgfVxuICAgIGI2NGRhdGEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJhc2ljKTtcbiAgfVxuICBtZXNzYWdlICs9IGdsb2JhbC5idG9hKGI2NGRhdGEpO1xuICByZXR1cm4gY2FsbGJhY2sobWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBwYWNrZXQuIENoYW5nZXMgZm9ybWF0IHRvIEJsb2IgaWYgcmVxdWVzdGVkLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gd2l0aCBgdHlwZWAgYW5kIGBkYXRhYCAoaWYgYW55KVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5kZWNvZGVQYWNrZXQgPSBmdW5jdGlvbiAoZGF0YSwgYmluYXJ5VHlwZSwgdXRmOGRlY29kZSkge1xuICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxuICAvLyBTdHJpbmcgZGF0YVxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGRhdGEuY2hhckF0KDApID09PSAnYicpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlY29kZUJhc2U2NFBhY2tldChkYXRhLnN1YnN0cigxKSwgYmluYXJ5VHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHV0ZjhkZWNvZGUpIHtcbiAgICAgIGRhdGEgPSB0cnlEZWNvZGUoZGF0YSk7XG4gICAgICBpZiAoZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHR5cGUgPSBkYXRhLmNoYXJBdCgwKTtcblxuICAgIGlmIChOdW1iZXIodHlwZSkgIT0gdHlwZSB8fCAhcGFja2V0c2xpc3RbdHlwZV0pIHtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogcGFja2V0c2xpc3RbdHlwZV0sIGRhdGE6IGRhdGEuc3Vic3RyaW5nKDEpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IHBhY2tldHNsaXN0W3R5cGVdIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIGFzQXJyYXkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgdmFyIHR5cGUgPSBhc0FycmF5WzBdO1xuICB2YXIgcmVzdCA9IHNsaWNlQnVmZmVyKGRhdGEsIDEpO1xuICBpZiAoQmxvYiAmJiBiaW5hcnlUeXBlID09PSAnYmxvYicpIHtcbiAgICByZXN0ID0gbmV3IEJsb2IoW3Jlc3RdKTtcbiAgfVxuICByZXR1cm4geyB0eXBlOiBwYWNrZXRzbGlzdFt0eXBlXSwgZGF0YTogcmVzdCB9O1xufTtcblxuZnVuY3Rpb24gdHJ5RGVjb2RlKGRhdGEpIHtcbiAgdHJ5IHtcbiAgICBkYXRhID0gdXRmOC5kZWNvZGUoZGF0YSwgeyBzdHJpY3Q6IGZhbHNlIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIERlY29kZXMgYSBwYWNrZXQgZW5jb2RlZCBpbiBhIGJhc2U2NCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYmFzZTY0IGVuY29kZWQgbWVzc2FnZVxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGB0eXBlYCBhbmQgYGRhdGFgIChpZiBhbnkpXG4gKi9cblxuZXhwb3J0cy5kZWNvZGVCYXNlNjRQYWNrZXQgPSBmdW5jdGlvbihtc2csIGJpbmFyeVR5cGUpIHtcbiAgdmFyIHR5cGUgPSBwYWNrZXRzbGlzdFttc2cuY2hhckF0KDApXTtcbiAgaWYgKCFiYXNlNjRlbmNvZGVyKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgZGF0YTogeyBiYXNlNjQ6IHRydWUsIGRhdGE6IG1zZy5zdWJzdHIoMSkgfSB9O1xuICB9XG5cbiAgdmFyIGRhdGEgPSBiYXNlNjRlbmNvZGVyLmRlY29kZShtc2cuc3Vic3RyKDEpKTtcblxuICBpZiAoYmluYXJ5VHlwZSA9PT0gJ2Jsb2InICYmIEJsb2IpIHtcbiAgICBkYXRhID0gbmV3IEJsb2IoW2RhdGFdKTtcbiAgfVxuXG4gIHJldHVybiB7IHR5cGU6IHR5cGUsIGRhdGE6IGRhdGEgfTtcbn07XG5cbi8qKlxuICogRW5jb2RlcyBtdWx0aXBsZSBtZXNzYWdlcyAocGF5bG9hZCkuXG4gKlxuICogICAgIDxsZW5ndGg+OmRhdGFcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAxMTpoZWxsbyB3b3JsZDI6aGlcbiAqXG4gKiBJZiBhbnkgY29udGVudHMgYXJlIGJpbmFyeSwgdGhleSB3aWxsIGJlIGVuY29kZWQgYXMgYmFzZTY0IHN0cmluZ3MuIEJhc2U2NFxuICogZW5jb2RlZCBzdHJpbmdzIGFyZSBtYXJrZWQgd2l0aCBhIGIgYmVmb3JlIHRoZSBsZW5ndGggc3BlY2lmaWVyXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5lbmNvZGVQYXlsb2FkID0gZnVuY3Rpb24gKHBhY2tldHMsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIHN1cHBvcnRzQmluYXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBzdXBwb3J0c0JpbmFyeTtcbiAgICBzdXBwb3J0c0JpbmFyeSA9IG51bGw7XG4gIH1cblxuICB2YXIgaXNCaW5hcnkgPSBoYXNCaW5hcnkocGFja2V0cyk7XG5cbiAgaWYgKHN1cHBvcnRzQmluYXJ5ICYmIGlzQmluYXJ5KSB7XG4gICAgaWYgKEJsb2IgJiYgIWRvbnRTZW5kQmxvYnMpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmVuY29kZVBheWxvYWRBc0Jsb2IocGFja2V0cywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBleHBvcnRzLmVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyKHBhY2tldHMsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmICghcGFja2V0cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soJzA6Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRMZW5ndGhIZWFkZXIobWVzc2FnZSkge1xuICAgIHJldHVybiBtZXNzYWdlLmxlbmd0aCArICc6JyArIG1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LCBkb25lQ2FsbGJhY2spIHtcbiAgICBleHBvcnRzLmVuY29kZVBhY2tldChwYWNrZXQsICFpc0JpbmFyeSA/IGZhbHNlIDogc3VwcG9ydHNCaW5hcnksIGZhbHNlLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICBkb25lQ2FsbGJhY2sobnVsbCwgc2V0TGVuZ3RoSGVhZGVyKG1lc3NhZ2UpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1hcChwYWNrZXRzLCBlbmNvZGVPbmUsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHRzLmpvaW4oJycpKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFzeW5jIGFycmF5IG1hcCB1c2luZyBhZnRlclxuICovXG5cbmZ1bmN0aW9uIG1hcChhcnksIGVhY2gsIGRvbmUpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShhcnkubGVuZ3RoKTtcbiAgdmFyIG5leHQgPSBhZnRlcihhcnkubGVuZ3RoLCBkb25lKTtcblxuICB2YXIgZWFjaFdpdGhJbmRleCA9IGZ1bmN0aW9uKGksIGVsLCBjYikge1xuICAgIGVhY2goZWwsIGZ1bmN0aW9uKGVycm9yLCBtc2cpIHtcbiAgICAgIHJlc3VsdFtpXSA9IG1zZztcbiAgICAgIGNiKGVycm9yLCByZXN1bHQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgZWFjaFdpdGhJbmRleChpLCBhcnlbaV0sIG5leHQpO1xuICB9XG59XG5cbi8qXG4gKiBEZWNvZGVzIGRhdGEgd2hlbiBhIHBheWxvYWQgaXMgbWF5YmUgZXhwZWN0ZWQuIFBvc3NpYmxlIGJpbmFyeSBjb250ZW50cyBhcmVcbiAqIGRlY29kZWQgZnJvbSB0aGVpciBiYXNlNjQgcmVwcmVzZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YSwgY2FsbGJhY2sgbWV0aG9kXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuZGVjb2RlUGF5bG9hZCA9IGZ1bmN0aW9uIChkYXRhLCBiaW5hcnlUeXBlLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuZGVjb2RlUGF5bG9hZEFzQmluYXJ5KGRhdGEsIGJpbmFyeVR5cGUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYmluYXJ5VHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gYmluYXJ5VHlwZTtcbiAgICBiaW5hcnlUeXBlID0gbnVsbDtcbiAgfVxuXG4gIHZhciBwYWNrZXQ7XG4gIGlmIChkYXRhID09PSAnJykge1xuICAgIC8vIHBhcnNlciBlcnJvciAtIGlnbm9yaW5nIHBheWxvYWRcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSAnJywgbiwgbXNnO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gZGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgY2hyID0gZGF0YS5jaGFyQXQoaSk7XG5cbiAgICBpZiAoY2hyICE9PSAnOicpIHtcbiAgICAgIGxlbmd0aCArPSBjaHI7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoID09PSAnJyB8fCAobGVuZ3RoICE9IChuID0gTnVtYmVyKGxlbmd0aCkpKSkge1xuICAgICAgLy8gcGFyc2VyIGVycm9yIC0gaWdub3JpbmcgcGF5bG9hZFxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gICAgfVxuXG4gICAgbXNnID0gZGF0YS5zdWJzdHIoaSArIDEsIG4pO1xuXG4gICAgaWYgKGxlbmd0aCAhPSBtc2cubGVuZ3RoKSB7XG4gICAgICAvLyBwYXJzZXIgZXJyb3IgLSBpZ25vcmluZyBwYXlsb2FkXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgICB9XG5cbiAgICBpZiAobXNnLmxlbmd0aCkge1xuICAgICAgcGFja2V0ID0gZXhwb3J0cy5kZWNvZGVQYWNrZXQobXNnLCBiaW5hcnlUeXBlLCBmYWxzZSk7XG5cbiAgICAgIGlmIChlcnIudHlwZSA9PT0gcGFja2V0LnR5cGUgJiYgZXJyLmRhdGEgPT09IHBhY2tldC5kYXRhKSB7XG4gICAgICAgIC8vIHBhcnNlciBlcnJvciBpbiBpbmRpdmlkdWFsIHBhY2tldCAtIGlnbm9yaW5nIHBheWxvYWRcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXQgPSBjYWxsYmFjayhwYWNrZXQsIGkgKyBuLCBsKTtcbiAgICAgIGlmIChmYWxzZSA9PT0gcmV0KSByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWR2YW5jZSBjdXJzb3JcbiAgICBpICs9IG47XG4gICAgbGVuZ3RoID0gJyc7XG4gIH1cblxuICBpZiAobGVuZ3RoICE9PSAnJykge1xuICAgIC8vIHBhcnNlciBlcnJvciAtIGlnbm9yaW5nIHBheWxvYWRcbiAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIEVuY29kZXMgbXVsdGlwbGUgbWVzc2FnZXMgKHBheWxvYWQpIGFzIGJpbmFyeS5cbiAqXG4gKiA8MSA9IGJpbmFyeSwgMCA9IHN0cmluZz48bnVtYmVyIGZyb20gMC05PjxudW1iZXIgZnJvbSAwLTk+Wy4uLl08bnVtYmVyXG4gKiAyNTU+PGRhdGE+XG4gKlxuICogRXhhbXBsZTpcbiAqIDEgMyAyNTUgMSAyIDMsIGlmIHRoZSBiaW5hcnkgY29udGVudHMgYXJlIGludGVycHJldGVkIGFzIDggYml0IGludGVnZXJzXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICogQHJldHVybiB7QXJyYXlCdWZmZXJ9IGVuY29kZWQgcGF5bG9hZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKHBhY2tldHMsIGNhbGxiYWNrKSB7XG4gIGlmICghcGFja2V0cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sobmV3IEFycmF5QnVmZmVyKDApKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuY29kZU9uZShwYWNrZXQsIGRvbmVDYWxsYmFjaykge1xuICAgIGV4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCwgdHJ1ZSwgdHJ1ZSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIGRvbmVDYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1hcChwYWNrZXRzLCBlbmNvZGVPbmUsIGZ1bmN0aW9uKGVyciwgZW5jb2RlZFBhY2tldHMpIHtcbiAgICB2YXIgdG90YWxMZW5ndGggPSBlbmNvZGVkUGFja2V0cy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBwKSB7XG4gICAgICB2YXIgbGVuO1xuICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJyl7XG4gICAgICAgIGxlbiA9IHAubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuID0gcC5ieXRlTGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYyArIGxlbi50b1N0cmluZygpLmxlbmd0aCArIGxlbiArIDI7IC8vIHN0cmluZy9iaW5hcnkgaWRlbnRpZmllciArIHNlcGFyYXRvciA9IDJcbiAgICB9LCAwKTtcblxuICAgIHZhciByZXN1bHRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcblxuICAgIHZhciBidWZmZXJJbmRleCA9IDA7XG4gICAgZW5jb2RlZFBhY2tldHMuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgaXNTdHJpbmcgPSB0eXBlb2YgcCA9PT0gJ3N0cmluZyc7XG4gICAgICB2YXIgYWIgPSBwO1xuICAgICAgaWYgKGlzU3RyaW5nKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkocC5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2aWV3W2ldID0gcC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIGFiID0gdmlldy5idWZmZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZykgeyAvLyBub3QgdHJ1ZSBiaW5hcnlcbiAgICAgICAgcmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK10gPSAwO1xuICAgICAgfSBlbHNlIHsgLy8gdHJ1ZSBiaW5hcnlcbiAgICAgICAgcmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK10gPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVuU3RyID0gYWIuYnl0ZUxlbmd0aC50b1N0cmluZygpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5TdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK10gPSBwYXJzZUludChsZW5TdHJbaV0pO1xuICAgICAgfVxuICAgICAgcmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK10gPSAyNTU7XG5cbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdID0gdmlld1tpXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHRBcnJheS5idWZmZXIpO1xuICB9KTtcbn07XG5cbi8qKlxuICogRW5jb2RlIGFzIEJsb2JcbiAqL1xuXG5leHBvcnRzLmVuY29kZVBheWxvYWRBc0Jsb2IgPSBmdW5jdGlvbihwYWNrZXRzLCBjYWxsYmFjaykge1xuICBmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LCBkb25lQ2FsbGJhY2spIHtcbiAgICBleHBvcnRzLmVuY29kZVBhY2tldChwYWNrZXQsIHRydWUsIHRydWUsIGZ1bmN0aW9uKGVuY29kZWQpIHtcbiAgICAgIHZhciBiaW5hcnlJZGVudGlmaWVyID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgICBiaW5hcnlJZGVudGlmaWVyWzBdID0gMTtcbiAgICAgIGlmICh0eXBlb2YgZW5jb2RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZpZXdbaV0gPSBlbmNvZGVkLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RlZCA9IHZpZXcuYnVmZmVyO1xuICAgICAgICBiaW5hcnlJZGVudGlmaWVyWzBdID0gMDtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlbiA9IChlbmNvZGVkIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpXG4gICAgICAgID8gZW5jb2RlZC5ieXRlTGVuZ3RoXG4gICAgICAgIDogZW5jb2RlZC5zaXplO1xuXG4gICAgICB2YXIgbGVuU3RyID0gbGVuLnRvU3RyaW5nKCk7XG4gICAgICB2YXIgbGVuZ3RoQXJ5ID0gbmV3IFVpbnQ4QXJyYXkobGVuU3RyLmxlbmd0aCArIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5TdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGVuZ3RoQXJ5W2ldID0gcGFyc2VJbnQobGVuU3RyW2ldKTtcbiAgICAgIH1cbiAgICAgIGxlbmd0aEFyeVtsZW5TdHIubGVuZ3RoXSA9IDI1NTtcblxuICAgICAgaWYgKEJsb2IpIHtcbiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbYmluYXJ5SWRlbnRpZmllci5idWZmZXIsIGxlbmd0aEFyeS5idWZmZXIsIGVuY29kZWRdKTtcbiAgICAgICAgZG9uZUNhbGxiYWNrKG51bGwsIGJsb2IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbWFwKHBhY2tldHMsIGVuY29kZU9uZSwgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBCbG9iKHJlc3VsdHMpKTtcbiAgfSk7XG59O1xuXG4vKlxuICogRGVjb2RlcyBkYXRhIHdoZW4gYSBwYXlsb2FkIGlzIG1heWJlIGV4cGVjdGVkLiBTdHJpbmdzIGFyZSBkZWNvZGVkIGJ5XG4gKiBpbnRlcnByZXRpbmcgZWFjaCBieXRlIGFzIGEga2V5IGNvZGUgZm9yIGVudHJpZXMgbWFya2VkIHRvIHN0YXJ0IHdpdGggMC4gU2VlXG4gKiBkZXNjcmlwdGlvbiBvZiBlbmNvZGVQYXlsb2FkQXNCaW5hcnlcbiAqXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBkYXRhLCBjYWxsYmFjayBtZXRob2RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnkgPSBmdW5jdGlvbiAoZGF0YSwgYmluYXJ5VHlwZSwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBiaW5hcnlUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBiaW5hcnlUeXBlO1xuICAgIGJpbmFyeVR5cGUgPSBudWxsO1xuICB9XG5cbiAgdmFyIGJ1ZmZlclRhaWwgPSBkYXRhO1xuICB2YXIgYnVmZmVycyA9IFtdO1xuXG4gIHdoaWxlIChidWZmZXJUYWlsLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgdmFyIHRhaWxBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlclRhaWwpO1xuICAgIHZhciBpc1N0cmluZyA9IHRhaWxBcnJheVswXSA9PT0gMDtcbiAgICB2YXIgbXNnTGVuZ3RoID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgOyBpKyspIHtcbiAgICAgIGlmICh0YWlsQXJyYXlbaV0gPT09IDI1NSkgYnJlYWs7XG5cbiAgICAgIC8vIDMxMCA9IGNoYXIgbGVuZ3RoIG9mIE51bWJlci5NQVhfVkFMVUVcbiAgICAgIGlmIChtc2dMZW5ndGgubGVuZ3RoID4gMzEwKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICAgICAgfVxuXG4gICAgICBtc2dMZW5ndGggKz0gdGFpbEFycmF5W2ldO1xuICAgIH1cblxuICAgIGJ1ZmZlclRhaWwgPSBzbGljZUJ1ZmZlcihidWZmZXJUYWlsLCAyICsgbXNnTGVuZ3RoLmxlbmd0aCk7XG4gICAgbXNnTGVuZ3RoID0gcGFyc2VJbnQobXNnTGVuZ3RoKTtcblxuICAgIHZhciBtc2cgPSBzbGljZUJ1ZmZlcihidWZmZXJUYWlsLCAwLCBtc2dMZW5ndGgpO1xuICAgIGlmIChpc1N0cmluZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbXNnID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShtc2cpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaVBob25lIFNhZmFyaSBkb2Vzbid0IGxldCB5b3UgYXBwbHkgdG8gdHlwZWQgYXJyYXlzXG4gICAgICAgIHZhciB0eXBlZCA9IG5ldyBVaW50OEFycmF5KG1zZyk7XG4gICAgICAgIG1zZyA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbXNnICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodHlwZWRbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYnVmZmVycy5wdXNoKG1zZyk7XG4gICAgYnVmZmVyVGFpbCA9IHNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsIG1zZ0xlbmd0aCk7XG4gIH1cblxuICB2YXIgdG90YWwgPSBidWZmZXJzLmxlbmd0aDtcbiAgYnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uKGJ1ZmZlciwgaSkge1xuICAgIGNhbGxiYWNrKGV4cG9ydHMuZGVjb2RlUGFja2V0KGJ1ZmZlciwgYmluYXJ5VHlwZSwgdHJ1ZSksIGksIHRvdGFsKTtcbiAgfSk7XG59O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcclxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xyXG4gKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG5leHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICB2YXIgc3RyID0gJyc7XHJcblxyXG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XHJcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgIGlmIChzdHIubGVuZ3RoKSBzdHIgKz0gJyYnO1xyXG4gICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gcXNcclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbihxcyl7XHJcbiAgdmFyIHFyeSA9IHt9O1xyXG4gIHZhciBwYWlycyA9IHFzLnNwbGl0KCcmJyk7XHJcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYWlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgIHZhciBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcclxuICAgIHFyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xyXG4gIH1cclxuICByZXR1cm4gcXJ5O1xyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhLCBiKXtcbiAgdmFyIGZuID0gZnVuY3Rpb24oKXt9O1xuICBmbi5wcm90b3R5cGUgPSBiLnByb3RvdHlwZTtcbiAgYS5wcm90b3R5cGUgPSBuZXcgZm47XG4gIGEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gYTtcbn07XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKCdzb2NrZXQuaW8tcGFyc2VyJyk7XG52YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgaGFzQmluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgYmluYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG52YXIgaXNCdWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wcm90b2NvbCA9IDQ7XG5cbi8qKlxuICogUGFja2V0IHR5cGVzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy50eXBlcyA9IFtcbiAgJ0NPTk5FQ1QnLFxuICAnRElTQ09OTkVDVCcsXG4gICdFVkVOVCcsXG4gICdBQ0snLFxuICAnRVJST1InLFxuICAnQklOQVJZX0VWRU5UJyxcbiAgJ0JJTkFSWV9BQ0snXG5dO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBjb25uZWN0YC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuQ09OTkVDVCA9IDA7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGRpc2Nvbm5lY3RgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5ESVNDT05ORUNUID0gMTtcblxuLyoqXG4gKiBQYWNrZXQgdHlwZSBgZXZlbnRgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5FVkVOVCA9IDI7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGFja2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkFDSyA9IDM7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGVycm9yYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuRVJST1IgPSA0O1xuXG4vKipcbiAqIFBhY2tldCB0eXBlICdiaW5hcnkgZXZlbnQnXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkJJTkFSWV9FVkVOVCA9IDU7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGJpbmFyeSBhY2tgLiBGb3IgYWNrcyB3aXRoIGJpbmFyeSBhcmd1bWVudHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkJJTkFSWV9BQ0sgPSA2O1xuXG4vKipcbiAqIEVuY29kZXIgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkVuY29kZXIgPSBFbmNvZGVyO1xuXG4vKipcbiAqIERlY29kZXIgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkRlY29kZXIgPSBEZWNvZGVyO1xuXG4vKipcbiAqIEEgc29ja2V0LmlvIEVuY29kZXIgaW5zdGFuY2VcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEVuY29kZXIoKSB7fVxuXG4vKipcbiAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICogYnVmZmVyIHNlcXVlbmNlLCBkZXBlbmRpbmcgb24gcGFja2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gaGFuZGxlIGVuY29kaW5ncyAobGlrZWx5IGVuZ2luZS53cml0ZSlcbiAqIEByZXR1cm4gQ2FsbHMgY2FsbGJhY2sgd2l0aCBBcnJheSBvZiBlbmNvZGluZ3NcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24ob2JqLCBjYWxsYmFjayl7XG4gIGlmICgob2JqLnR5cGUgPT09IGV4cG9ydHMuRVZFTlQgfHwgb2JqLnR5cGUgPT09IGV4cG9ydHMuQUNLKSAmJiBoYXNCaW4ob2JqLmRhdGEpKSB7XG4gICAgb2JqLnR5cGUgPSBvYmoudHlwZSA9PT0gZXhwb3J0cy5FVkVOVCA/IGV4cG9ydHMuQklOQVJZX0VWRU5UIDogZXhwb3J0cy5CSU5BUllfQUNLO1xuICB9XG5cbiAgZGVidWcoJ2VuY29kaW5nIHBhY2tldCAlaicsIG9iaik7XG5cbiAgaWYgKGV4cG9ydHMuQklOQVJZX0VWRU5UID09PSBvYmoudHlwZSB8fCBleHBvcnRzLkJJTkFSWV9BQ0sgPT09IG9iai50eXBlKSB7XG4gICAgZW5jb2RlQXNCaW5hcnkob2JqLCBjYWxsYmFjayk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIGVuY29kaW5nID0gZW5jb2RlQXNTdHJpbmcob2JqKTtcbiAgICBjYWxsYmFjayhbZW5jb2RpbmddKTtcbiAgfVxufTtcblxuLyoqXG4gKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAcmV0dXJuIHtTdHJpbmd9IGVuY29kZWRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGVuY29kZUFzU3RyaW5nKG9iaikge1xuXG4gIC8vIGZpcnN0IGlzIHR5cGVcbiAgdmFyIHN0ciA9ICcnICsgb2JqLnR5cGU7XG5cbiAgLy8gYXR0YWNobWVudHMgaWYgd2UgaGF2ZSB0aGVtXG4gIGlmIChleHBvcnRzLkJJTkFSWV9FVkVOVCA9PT0gb2JqLnR5cGUgfHwgZXhwb3J0cy5CSU5BUllfQUNLID09PSBvYmoudHlwZSkge1xuICAgIHN0ciArPSBvYmouYXR0YWNobWVudHMgKyAnLSc7XG4gIH1cblxuICAvLyBpZiB3ZSBoYXZlIGEgbmFtZXNwYWNlIG90aGVyIHRoYW4gYC9gXG4gIC8vIHdlIGFwcGVuZCBpdCBmb2xsb3dlZCBieSBhIGNvbW1hIGAsYFxuICBpZiAob2JqLm5zcCAmJiAnLycgIT09IG9iai5uc3ApIHtcbiAgICBzdHIgKz0gb2JqLm5zcCArICcsJztcbiAgfVxuXG4gIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICBzdHIgKz0gb2JqLmlkO1xuICB9XG5cbiAgLy8ganNvbiBkYXRhXG4gIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgc3RyICs9IEpTT04uc3RyaW5naWZ5KG9iai5kYXRhKTtcbiAgfVxuXG4gIGRlYnVnKCdlbmNvZGVkICVqIGFzICVzJywgb2JqLCBzdHIpO1xuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICogZGVjb25zdHJ1Y3RpbmcgcGFja2V0IGludG8gb2JqZWN0IHdpdGggcGxhY2Vob2xkZXJzIGFuZFxuICogYSBsaXN0IG9mIGJ1ZmZlcnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7QnVmZmVyfSBlbmNvZGVkXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGVBc0JpbmFyeShvYmosIGNhbGxiYWNrKSB7XG5cbiAgZnVuY3Rpb24gd3JpdGVFbmNvZGluZyhibG9ibGVzc0RhdGEpIHtcbiAgICB2YXIgZGVjb25zdHJ1Y3Rpb24gPSBiaW5hcnkuZGVjb25zdHJ1Y3RQYWNrZXQoYmxvYmxlc3NEYXRhKTtcbiAgICB2YXIgcGFjayA9IGVuY29kZUFzU3RyaW5nKGRlY29uc3RydWN0aW9uLnBhY2tldCk7XG4gICAgdmFyIGJ1ZmZlcnMgPSBkZWNvbnN0cnVjdGlvbi5idWZmZXJzO1xuXG4gICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgIGNhbGxiYWNrKGJ1ZmZlcnMpOyAvLyB3cml0ZSBhbGwgdGhlIGJ1ZmZlcnNcbiAgfVxuXG4gIGJpbmFyeS5yZW1vdmVCbG9icyhvYmosIHdyaXRlRW5jb2RpbmcpO1xufVxuXG4vKipcbiAqIEEgc29ja2V0LmlvIERlY29kZXIgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlY29kZXJcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRGVjb2RlcigpIHtcbiAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbn1cblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgIHdpdGggRGVjb2Rlci5cbiAqL1xuXG5FbWl0dGVyKERlY29kZXIucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZWNvZGVzIGFuIGVjb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9iaiAtIGVuY29kZWQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5EZWNvZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHBhY2tldDtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgcGFja2V0ID0gZGVjb2RlU3RyaW5nKG9iaik7XG4gICAgaWYgKGV4cG9ydHMuQklOQVJZX0VWRU5UID09PSBwYWNrZXQudHlwZSB8fCBleHBvcnRzLkJJTkFSWV9BQ0sgPT09IHBhY2tldC50eXBlKSB7IC8vIGJpbmFyeSBwYWNrZXQncyBqc29uXG4gICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBuZXcgQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpO1xuXG4gICAgICAvLyBubyBhdHRhY2htZW50cywgbGFiZWxlZCBiaW5hcnkgYnV0IG5vIGJpbmFyeSBkYXRhIHRvIGZvbGxvd1xuICAgICAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvci5yZWNvblBhY2suYXR0YWNobWVudHMgPT09IDApIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkZWNvZGVkJywgcGFja2V0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBub24tYmluYXJ5IGZ1bGwgcGFja2V0XG4gICAgICB0aGlzLmVtaXQoJ2RlY29kZWQnLCBwYWNrZXQpO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmIChpc0J1ZihvYmopIHx8IG9iai5iYXNlNjQpIHsgLy8gcmF3IGJpbmFyeSBkYXRhXG4gICAgaWYgKCF0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhY2tldCA9IHRoaXMucmVjb25zdHJ1Y3Rvci50YWtlQmluYXJ5RGF0YShvYmopO1xuICAgICAgaWYgKHBhY2tldCkgeyAvLyByZWNlaXZlZCBmaW5hbCBidWZmZXJcbiAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbWl0KCdkZWNvZGVkJywgcGFja2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGU6ICcgKyBvYmopO1xuICB9XG59O1xuXG4vKipcbiAqIERlY29kZSBhIHBhY2tldCBTdHJpbmcgKEpTT04gZGF0YSlcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZGVjb2RlU3RyaW5nKHN0cikge1xuICB2YXIgaSA9IDA7XG4gIC8vIGxvb2sgdXAgdHlwZVxuICB2YXIgcCA9IHtcbiAgICB0eXBlOiBOdW1iZXIoc3RyLmNoYXJBdCgwKSlcbiAgfTtcblxuICBpZiAobnVsbCA9PSBleHBvcnRzLnR5cGVzW3AudHlwZV0pIHJldHVybiBlcnJvcigpO1xuXG4gIC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcbiAgaWYgKGV4cG9ydHMuQklOQVJZX0VWRU5UID09PSBwLnR5cGUgfHwgZXhwb3J0cy5CSU5BUllfQUNLID09PSBwLnR5cGUpIHtcbiAgICB2YXIgYnVmID0gJyc7XG4gICAgd2hpbGUgKHN0ci5jaGFyQXQoKytpKSAhPT0gJy0nKSB7XG4gICAgICBidWYgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgIGlmIChpID09IHN0ci5sZW5ndGgpIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYnVmICE9IE51bWJlcihidWYpIHx8IHN0ci5jaGFyQXQoaSkgIT09ICctJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGF0dGFjaG1lbnRzJyk7XG4gICAgfVxuICAgIHAuYXR0YWNobWVudHMgPSBOdW1iZXIoYnVmKTtcbiAgfVxuXG4gIC8vIGxvb2sgdXAgbmFtZXNwYWNlIChpZiBhbnkpXG4gIGlmICgnLycgPT09IHN0ci5jaGFyQXQoaSArIDEpKSB7XG4gICAgcC5uc3AgPSAnJztcbiAgICB3aGlsZSAoKytpKSB7XG4gICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICBpZiAoJywnID09PSBjKSBicmVhaztcbiAgICAgIHAubnNwICs9IGM7XG4gICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aCkgYnJlYWs7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHAubnNwID0gJy8nO1xuICB9XG5cbiAgLy8gbG9vayB1cCBpZFxuICB2YXIgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICBpZiAoJycgIT09IG5leHQgJiYgTnVtYmVyKG5leHQpID09IG5leHQpIHtcbiAgICBwLmlkID0gJyc7XG4gICAgd2hpbGUgKCsraSkge1xuICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgaWYgKG51bGwgPT0gYyB8fCBOdW1iZXIoYykgIT0gYykge1xuICAgICAgICAtLWk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcC5pZCArPSBzdHIuY2hhckF0KGkpO1xuICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpIGJyZWFrO1xuICAgIH1cbiAgICBwLmlkID0gTnVtYmVyKHAuaWQpO1xuICB9XG5cbiAgLy8gbG9vayB1cCBqc29uIGRhdGFcbiAgaWYgKHN0ci5jaGFyQXQoKytpKSkge1xuICAgIHAgPSB0cnlQYXJzZShwLCBzdHIuc3Vic3RyKGkpKTtcbiAgfVxuXG4gIGRlYnVnKCdkZWNvZGVkICVzIGFzICVqJywgc3RyLCBwKTtcbiAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHRyeVBhcnNlKHAsIHN0cikge1xuICB0cnkge1xuICAgIHAuZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gZXJyb3IoKTtcbiAgfVxuICByZXR1cm4gcDsgXG59XG5cbi8qKlxuICogRGVhbGxvY2F0ZXMgYSBwYXJzZXIncyByZXNvdXJjZXNcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkRlY29kZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQSBtYW5hZ2VyIG9mIGEgYmluYXJ5IGV2ZW50J3MgJ2J1ZmZlciBzZXF1ZW5jZScuIFNob3VsZFxuICogYmUgY29uc3RydWN0ZWQgd2hlbmV2ZXIgYSBwYWNrZXQgb2YgdHlwZSBCSU5BUllfRVZFTlQgaXNcbiAqIGRlY29kZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7QmluYXJ5UmVjb25zdHJ1Y3Rvcn0gaW5pdGlhbGl6ZWQgcmVjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpIHtcbiAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gIHRoaXMuYnVmZmVycyA9IFtdO1xufVxuXG4vKipcbiAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAqIGFmdGVyIGEgQklOQVJZX0VWRU5UIHBhY2tldC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICogQHJldHVybiB7bnVsbCB8IE9iamVjdH0gcmV0dXJucyBudWxsIGlmIG1vcmUgYmluYXJ5IGRhdGEgaXMgZXhwZWN0ZWQgb3JcbiAqICAgYSByZWNvbnN0cnVjdGVkIHBhY2tldCBvYmplY3QgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQmluYXJ5UmVjb25zdHJ1Y3Rvci5wcm90b3R5cGUudGFrZUJpbmFyeURhdGEgPSBmdW5jdGlvbihiaW5EYXRhKSB7XG4gIHRoaXMuYnVmZmVycy5wdXNoKGJpbkRhdGEpO1xuICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gdGhpcy5yZWNvblBhY2suYXR0YWNobWVudHMpIHsgLy8gZG9uZSB3aXRoIGJ1ZmZlciBsaXN0XG4gICAgdmFyIHBhY2tldCA9IGJpbmFyeS5yZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjaywgdGhpcy5idWZmZXJzKTtcbiAgICB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKTtcbiAgICByZXR1cm4gcGFja2V0O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQmluYXJ5UmVjb25zdHJ1Y3Rvci5wcm90b3R5cGUuZmluaXNoZWRSZWNvbnN0cnVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlY29uUGFjayA9IG51bGw7XG4gIHRoaXMuYnVmZmVycyA9IFtdO1xufTtcblxuZnVuY3Rpb24gZXJyb3IoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogZXhwb3J0cy5FUlJPUixcbiAgICBkYXRhOiAncGFyc2VyIGVycm9yJ1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7Ly8gYnJvd3NlciBzaGltIGZvciB4bWxodHRwcmVxdWVzdCBtb2R1bGVcblxudmFyIGhhc0NPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgeGRvbWFpbiA9IG9wdHMueGRvbWFpbjtcblxuICAvLyBzY2hlbWUgbXVzdCBiZSBzYW1lIHdoZW4gdXNpZ24gWERvbWFpblJlcXVlc3RcbiAgLy8gaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWVpbnRlcm5hbHMvYXJjaGl2ZS8yMDEwLzA1LzEzL3hkb21haW5yZXF1ZXN0LXJlc3RyaWN0aW9ucy1saW1pdGF0aW9ucy1hbmQtd29ya2Fyb3VuZHMuYXNweFxuICB2YXIgeHNjaGVtZSA9IG9wdHMueHNjaGVtZTtcblxuICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmbG93IG9mIG5vdCBzZW5kaW5nIGNvb2tpZSwgdGhlcmVmb3JlIGl0IHNob3VsZCBiZSBkaXNhYmxlZCBhcyBhIGRlZmF1bHQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2VuZ2luZS5pby1jbGllbnQvcHVsbC8yMTdcbiAgdmFyIGVuYWJsZXNYRFIgPSBvcHRzLmVuYWJsZXNYRFI7XG5cbiAgLy8gWE1MSHR0cFJlcXVlc3QgY2FuIGJlIGRpc2FibGVkIG9uIElFXG4gIHRyeSB7XG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKCF4ZG9tYWluIHx8IGhhc0NPUlMpKSB7XG4gICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7IH1cblxuICAvLyBVc2UgWERvbWFpblJlcXVlc3QgZm9yIElFOCBpZiBlbmFibGVzWERSIGlzIHRydWVcbiAgLy8gYmVjYXVzZSBsb2FkaW5nIGJhciBrZWVwcyBmbGFzaGluZyB3aGVuIHVzaW5nIGpzb25wLXBvbGxpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3l1amlvc2FrYS9zb2NrZS5pby1pZTgtbG9hZGluZy1leGFtcGxlXG4gIHRyeSB7XG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgWERvbWFpblJlcXVlc3QgJiYgIXhzY2hlbWUgJiYgZW5hYmxlc1hEUikge1xuICAgICAgcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkgeyB9XG5cbiAgaWYgKCF4ZG9tYWluKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgZ2xvYmFsW1snQWN0aXZlJ10uY29uY2F0KCdPYmplY3QnKS5qb2luKCdYJyldKCdNaWNyb3NvZnQuWE1MSFRUUCcpO1xuICAgIH0gY2F0Y2ggKGUpIHsgfVxuICB9XG59O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc3BvcnQ7XG5cbi8qKlxuICogVHJhbnNwb3J0IGFic3RyYWN0IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gVHJhbnNwb3J0IChvcHRzKSB7XG4gIHRoaXMucGF0aCA9IG9wdHMucGF0aDtcbiAgdGhpcy5ob3N0bmFtZSA9IG9wdHMuaG9zdG5hbWU7XG4gIHRoaXMucG9ydCA9IG9wdHMucG9ydDtcbiAgdGhpcy5zZWN1cmUgPSBvcHRzLnNlY3VyZTtcbiAgdGhpcy5xdWVyeSA9IG9wdHMucXVlcnk7XG4gIHRoaXMudGltZXN0YW1wUGFyYW0gPSBvcHRzLnRpbWVzdGFtcFBhcmFtO1xuICB0aGlzLnRpbWVzdGFtcFJlcXVlc3RzID0gb3B0cy50aW1lc3RhbXBSZXF1ZXN0cztcbiAgdGhpcy5yZWFkeVN0YXRlID0gJyc7XG4gIHRoaXMuYWdlbnQgPSBvcHRzLmFnZW50IHx8IGZhbHNlO1xuICB0aGlzLnNvY2tldCA9IG9wdHMuc29ja2V0O1xuICB0aGlzLmVuYWJsZXNYRFIgPSBvcHRzLmVuYWJsZXNYRFI7XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIHRoaXMucGZ4ID0gb3B0cy5wZng7XG4gIHRoaXMua2V5ID0gb3B0cy5rZXk7XG4gIHRoaXMucGFzc3BocmFzZSA9IG9wdHMucGFzc3BocmFzZTtcbiAgdGhpcy5jZXJ0ID0gb3B0cy5jZXJ0O1xuICB0aGlzLmNhID0gb3B0cy5jYTtcbiAgdGhpcy5jaXBoZXJzID0gb3B0cy5jaXBoZXJzO1xuICB0aGlzLnJlamVjdFVuYXV0aG9yaXplZCA9IG9wdHMucmVqZWN0VW5hdXRob3JpemVkO1xuICB0aGlzLmZvcmNlTm9kZSA9IG9wdHMuZm9yY2VOb2RlO1xuXG4gIC8vIG90aGVyIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIHRoaXMuZXh0cmFIZWFkZXJzID0gb3B0cy5leHRyYUhlYWRlcnM7XG4gIHRoaXMubG9jYWxBZGRyZXNzID0gb3B0cy5sb2NhbEFkZHJlc3M7XG59XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKFRyYW5zcG9ydC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIEVtaXRzIGFuIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1RyYW5zcG9ydH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChtc2csIGRlc2MpIHtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIudHlwZSA9ICdUcmFuc3BvcnRFcnJvcic7XG4gIGVyci5kZXNjcmlwdGlvbiA9IGRlc2M7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCdjbG9zZWQnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJycgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9ICdvcGVuaW5nJztcbiAgICB0aGlzLmRvT3BlbigpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENsb3NlcyB0aGUgdHJhbnNwb3J0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHRoaXMuZG9DbG9zZSgpO1xuICAgIHRoaXMub25DbG9zZSgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHBhY2tldHMpIHtcbiAgaWYgKCdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBub3Qgb3BlbicpO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIG9wZW5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9uT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW4nO1xuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdvcGVuJyk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aXRoIGRhdGEuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGRhdGFcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHBhY2tldCA9IHBhcnNlci5kZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gIHRoaXMub25QYWNrZXQocGFja2V0KTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9uUGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICB0aGlzLmVtaXQoJ3BhY2tldCcsIHBhY2tldCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NlZCc7XG4gIHRoaXMuZW1pdCgnY2xvc2UnKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxMikoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcclxuICogUGFyc2VzIGFuIFVSSVxyXG4gKlxyXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbnZhciByZSA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xyXG5cclxudmFyIHBhcnRzID0gW1xyXG4gICAgJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXHJcbl07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNldXJpKHN0cikge1xyXG4gICAgdmFyIHNyYyA9IHN0cixcclxuICAgICAgICBiID0gc3RyLmluZGV4T2YoJ1snKSxcclxuICAgICAgICBlID0gc3RyLmluZGV4T2YoJ10nKTtcclxuXHJcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XHJcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBiKSArIHN0ci5zdWJzdHJpbmcoYiwgZSkucmVwbGFjZSgvOi9nLCAnOycpICsgc3RyLnN1YnN0cmluZyhlLCBzdHIubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbSA9IHJlLmV4ZWMoc3RyIHx8ICcnKSxcclxuICAgICAgICB1cmkgPSB7fSxcclxuICAgICAgICBpID0gMTQ7XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHVyaVtwYXJ0c1tpXV0gPSBtW2ldIHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcclxuICAgICAgICB1cmkuc291cmNlID0gc3JjO1xyXG4gICAgICAgIHVyaS5ob3N0ID0gdXJpLmhvc3Quc3Vic3RyaW5nKDEsIHVyaS5ob3N0Lmxlbmd0aCAtIDEpLnJlcGxhY2UoLzsvZywgJzonKTtcclxuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xyXG4gICAgICAgIHVyaS5pcHY2dXJpID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXJpO1xyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIEJsb2IgRmlsZSAqL1xuXG4vKlxuICogTW9kdWxlIHJlcXVpcmVtZW50cy5cbiAqL1xuXG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIHdpdGhOYXRpdmVCbG9iID0gdHlwZW9mIGdsb2JhbC5CbG9iID09PSAnZnVuY3Rpb24nIHx8IHRvU3RyaW5nLmNhbGwoZ2xvYmFsLkJsb2IpID09PSAnW29iamVjdCBCbG9iQ29uc3RydWN0b3JdJztcbnZhciB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBnbG9iYWwuRmlsZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0b1N0cmluZy5jYWxsKGdsb2JhbC5GaWxlKSA9PT0gJ1tvYmplY3QgRmlsZUNvbnN0cnVjdG9yXSc7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNCaW5hcnk7XG5cbi8qKlxuICogQ2hlY2tzIGZvciBiaW5hcnkgZGF0YS5cbiAqXG4gKiBTdXBwb3J0cyBCdWZmZXIsIEFycmF5QnVmZmVyLCBCbG9iIGFuZCBGaWxlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbnl0aGluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBoYXNCaW5hcnkgKG9iaikge1xuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChoYXNCaW5hcnkob2JqW2ldKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCh0eXBlb2YgZ2xvYmFsLkJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyICYmIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIob2JqKSkgfHxcbiAgICAgKHR5cGVvZiBnbG9iYWwuQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgICh3aXRoTmF0aXZlQmxvYiAmJiBvYmogaW5zdGFuY2VvZiBCbG9iKSB8fFxuICAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSlcbiAgICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL0F1dG9tYXR0aWMvaGFzLWJpbmFyeS9wdWxsLzRcbiAgaWYgKG9iai50b0pTT04gJiYgdHlwZW9mIG9iai50b0pTT04gPT09ICdmdW5jdGlvbicgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSAmJiBoYXNCaW5hcnkob2JqW2tleV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYSBidWZmZXIgb3IgYW4gYXJyYXlidWZmZXIuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNCdWYob2JqKSB7XG4gIHJldHVybiAoZ2xvYmFsLkJ1ZmZlciAmJiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyKG9iaikpIHx8XG4gICAgICAgICAoZ2xvYmFsLkFycmF5QnVmZmVyICYmIG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBlaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBTb2NrZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnc29ja2V0LmlvLWNsaWVudDptYW5hZ2VyJyk7XG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xudmFyIEJhY2tvZmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblxuLyoqXG4gKiBJRTYrIGhhc093blByb3BlcnR5XG4gKi9cblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hbmFnZXI7XG5cbi8qKlxuICogYE1hbmFnZXJgIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmdpbmUgaW5zdGFuY2Ugb3IgZW5naW5lIHVyaS9vcHRzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBNYW5hZ2VyICh1cmksIG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1hbmFnZXIpKSByZXR1cm4gbmV3IE1hbmFnZXIodXJpLCBvcHRzKTtcbiAgaWYgKHVyaSAmJiAoJ29iamVjdCcgPT09IHR5cGVvZiB1cmkpKSB7XG4gICAgb3B0cyA9IHVyaTtcbiAgICB1cmkgPSB1bmRlZmluZWQ7XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8ICcvc29ja2V0LmlvJztcbiAgdGhpcy5uc3BzID0ge307XG4gIHRoaXMuc3VicyA9IFtdO1xuICB0aGlzLm9wdHMgPSBvcHRzO1xuICB0aGlzLnJlY29ubmVjdGlvbihvcHRzLnJlY29ubmVjdGlvbiAhPT0gZmFsc2UpO1xuICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKG9wdHMucmVjb25uZWN0aW9uQXR0ZW1wdHMgfHwgSW5maW5pdHkpO1xuICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5KG9wdHMucmVjb25uZWN0aW9uRGVsYXkgfHwgMTAwMCk7XG4gIHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgob3B0cy5yZWNvbm5lY3Rpb25EZWxheU1heCB8fCA1MDAwKTtcbiAgdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKG9wdHMucmFuZG9taXphdGlvbkZhY3RvciB8fCAwLjUpO1xuICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgbWluOiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5KCksXG4gICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKVxuICB9KTtcbiAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcbiAgdGhpcy51cmkgPSB1cmk7XG4gIHRoaXMuY29ubmVjdGluZyA9IFtdO1xuICB0aGlzLmxhc3RQaW5nID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IGZhbHNlO1xuICB0aGlzLnBhY2tldEJ1ZmZlciA9IFtdO1xuICB2YXIgX3BhcnNlciA9IG9wdHMucGFyc2VyIHx8IHBhcnNlcjtcbiAgdGhpcy5lbmNvZGVyID0gbmV3IF9wYXJzZXIuRW5jb2RlcigpO1xuICB0aGlzLmRlY29kZXIgPSBuZXcgX3BhcnNlci5EZWNvZGVyKCk7XG4gIHRoaXMuYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgaWYgKHRoaXMuYXV0b0Nvbm5lY3QpIHRoaXMub3BlbigpO1xufVxuXG4vKipcbiAqIFByb3BhZ2F0ZSBnaXZlbiBldmVudCB0byBzb2NrZXRzIGFuZCBlbWl0IG9uIGB0aGlzYFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmVtaXRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICBmb3IgKHZhciBuc3AgaW4gdGhpcy5uc3BzKSB7XG4gICAgaWYgKGhhcy5jYWxsKHRoaXMubnNwcywgbnNwKSkge1xuICAgICAgdGhpcy5uc3BzW25zcF0uZW1pdC5hcHBseSh0aGlzLm5zcHNbbnNwXSwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlIGBzb2NrZXQuaWRgIG9mIGFsbCBzb2NrZXRzXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUudXBkYXRlU29ja2V0SWRzID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBuc3AgaW4gdGhpcy5uc3BzKSB7XG4gICAgaWYgKGhhcy5jYWxsKHRoaXMubnNwcywgbnNwKSkge1xuICAgICAgdGhpcy5uc3BzW25zcF0uaWQgPSB0aGlzLmdlbmVyYXRlSWQobnNwKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZ2VuZXJhdGUgYHNvY2tldC5pZGAgZm9yIHRoZSBnaXZlbiBgbnNwYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuc3BcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmdlbmVyYXRlSWQgPSBmdW5jdGlvbiAobnNwKSB7XG4gIHJldHVybiAobnNwID09PSAnLycgPyAnJyA6IChuc3AgKyAnIycpKSArIHRoaXMuZW5naW5lLmlkO1xufTtcblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgLlxuICovXG5cbkVtaXR0ZXIoTWFuYWdlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNldHMgdGhlIGByZWNvbm5lY3Rpb25gIGNvbmZpZy5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRydWUvZmFsc2UgaWYgaXQgc2hvdWxkIGF1dG9tYXRpY2FsbHkgcmVjb25uZWN0XG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbiA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcmVjb25uZWN0aW9uIGF0dGVtcHRzIGNvbmZpZy5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4IHJlY29ubmVjdGlvbiBhdHRlbXB0cyBiZWZvcmUgZ2l2aW5nIHVwXG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkF0dGVtcHRzID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM7XG4gIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzID0gdjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGRlbGF5IGJldHdlZW4gcmVjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsYXlcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGYgb3IgdmFsdWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUucmVjb25uZWN0aW9uRGVsYXkgPSBmdW5jdGlvbiAodikge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheTtcbiAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXkgPSB2O1xuICB0aGlzLmJhY2tvZmYgJiYgdGhpcy5iYWNrb2ZmLnNldE1pbih2KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yYW5kb21pemF0aW9uRmFjdG9yID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmFuZG9taXphdGlvbkZhY3RvcjtcbiAgdGhpcy5fcmFuZG9taXphdGlvbkZhY3RvciA9IHY7XG4gIHRoaXMuYmFja29mZiAmJiB0aGlzLmJhY2tvZmYuc2V0Sml0dGVyKHYpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgbWF4aW11bSBkZWxheSBiZXR3ZWVuIHJlY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbGF5XG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5TWF4ID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgdGhpcy5iYWNrb2ZmICYmIHRoaXMuYmFja29mZi5zZXRNYXgodik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjb25uZWN0aW9uIHRpbWVvdXQuIGBmYWxzZWAgdG8gZGlzYWJsZVxuICpcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGYgb3IgdmFsdWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3RpbWVvdXQ7XG4gIHRoaXMuX3RpbWVvdXQgPSB2O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU3RhcnRzIHRyeWluZyB0byByZWNvbm5lY3QgaWYgcmVjb25uZWN0aW9uIGlzIGVuYWJsZWQgYW5kIHdlIGhhdmUgbm90XG4gKiBzdGFydGVkIHJlY29ubmVjdGluZyB5ZXRcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICBpZiAoIXRoaXMucmVjb25uZWN0aW5nICYmIHRoaXMuX3JlY29ubmVjdGlvbiAmJiB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAvLyBrZWVwcyByZWNvbm5lY3Rpb24gZnJvbSBmaXJpbmcgdHdpY2UgZm9yIHRoZSBzYW1lIHJlY29ubmVjdGlvbiBsb29wXG4gICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBgc29ja2V0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25hbCwgY2FsbGJhY2tcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGZcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub3BlbiA9XG5NYW5hZ2VyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGZuLCBvcHRzKSB7XG4gIGRlYnVnKCdyZWFkeVN0YXRlICVzJywgdGhpcy5yZWFkeVN0YXRlKTtcbiAgaWYgKH50aGlzLnJlYWR5U3RhdGUuaW5kZXhPZignb3BlbicpKSByZXR1cm4gdGhpcztcblxuICBkZWJ1Zygnb3BlbmluZyAlcycsIHRoaXMudXJpKTtcbiAgdGhpcy5lbmdpbmUgPSBlaW8odGhpcy51cmksIHRoaXMub3B0cyk7XG4gIHZhciBzb2NrZXQgPSB0aGlzLmVuZ2luZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnb3BlbmluZyc7XG4gIHRoaXMuc2tpcFJlY29ubmVjdCA9IGZhbHNlO1xuXG4gIC8vIGVtaXQgYG9wZW5gXG4gIHZhciBvcGVuU3ViID0gb24oc29ja2V0LCAnb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9ub3BlbigpO1xuICAgIGZuICYmIGZuKCk7XG4gIH0pO1xuXG4gIC8vIGVtaXQgYGNvbm5lY3RfZXJyb3JgXG4gIHZhciBlcnJvclN1YiA9IG9uKHNvY2tldCwgJ2Vycm9yJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBkZWJ1ZygnY29ubmVjdF9lcnJvcicpO1xuICAgIHNlbGYuY2xlYW51cCgpO1xuICAgIHNlbGYucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuICAgIHNlbGYuZW1pdEFsbCgnY29ubmVjdF9lcnJvcicsIGRhdGEpO1xuICAgIGlmIChmbikge1xuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignQ29ubmVjdGlvbiBlcnJvcicpO1xuICAgICAgZXJyLmRhdGEgPSBkYXRhO1xuICAgICAgZm4oZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT25seSBkbyB0aGlzIGlmIHRoZXJlIGlzIG5vIGZuIHRvIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgIHNlbGYubWF5YmVSZWNvbm5lY3RPbk9wZW4oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGVtaXQgYGNvbm5lY3RfdGltZW91dGBcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl90aW1lb3V0KSB7XG4gICAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICAgIGRlYnVnKCdjb25uZWN0IGF0dGVtcHQgd2lsbCB0aW1lb3V0IGFmdGVyICVkJywgdGltZW91dCk7XG5cbiAgICAvLyBzZXQgdGltZXJcbiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlYnVnKCdjb25uZWN0IGF0dGVtcHQgdGltZWQgb3V0IGFmdGVyICVkJywgdGltZW91dCk7XG4gICAgICBvcGVuU3ViLmRlc3Ryb3koKTtcbiAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgc29ja2V0LmVtaXQoJ2Vycm9yJywgJ3RpbWVvdXQnKTtcbiAgICAgIHNlbGYuZW1pdEFsbCgnY29ubmVjdF90aW1lb3V0JywgdGltZW91dCk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICB0aGlzLnN1YnMucHVzaCh7XG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLnN1YnMucHVzaChvcGVuU3ViKTtcbiAgdGhpcy5zdWJzLnB1c2goZXJyb3JTdWIpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgb3Blbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdvcGVuJyk7XG5cbiAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgdGhpcy5jbGVhbnVwKCk7XG5cbiAgLy8gbWFyayBhcyBvcGVuXG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdvcGVuJztcbiAgdGhpcy5lbWl0KCdvcGVuJyk7XG5cbiAgLy8gYWRkIG5ldyBzdWJzXG4gIHZhciBzb2NrZXQgPSB0aGlzLmVuZ2luZTtcbiAgdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCAnZGF0YScsIGJpbmQodGhpcywgJ29uZGF0YScpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ3BpbmcnLCBiaW5kKHRoaXMsICdvbnBpbmcnKSkpO1xuICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsICdwb25nJywgYmluZCh0aGlzLCAnb25wb25nJykpKTtcbiAgdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCAnZXJyb3InLCBiaW5kKHRoaXMsICdvbmVycm9yJykpKTtcbiAgdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCAnY2xvc2UnLCBiaW5kKHRoaXMsICdvbmNsb3NlJykpKTtcbiAgdGhpcy5zdWJzLnB1c2gob24odGhpcy5kZWNvZGVyLCAnZGVjb2RlZCcsIGJpbmQodGhpcywgJ29uZGVjb2RlZCcpKSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgcGluZy5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5vbnBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubGFzdFBpbmcgPSBuZXcgRGF0ZSgpO1xuICB0aGlzLmVtaXRBbGwoJ3BpbmcnKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gYSBwYWNrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25wb25nID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXRBbGwoJ3BvbmcnLCBuZXcgRGF0ZSgpIC0gdGhpcy5sYXN0UGluZyk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aXRoIGRhdGEuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25kYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5kZWNvZGVyLmFkZChkYXRhKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gcGFyc2VyIGZ1bGx5IGRlY29kZXMgYSBwYWNrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25kZWNvZGVkID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICB0aGlzLmVtaXQoJ3BhY2tldCcsIHBhY2tldCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHNvY2tldCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICBkZWJ1ZygnZXJyb3InLCBlcnIpO1xuICB0aGlzLmVtaXRBbGwoJ2Vycm9yJywgZXJyKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAqXG4gKiBAcmV0dXJuIHtTb2NrZXR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnNvY2tldCA9IGZ1bmN0aW9uIChuc3AsIG9wdHMpIHtcbiAgdmFyIHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuICBpZiAoIXNvY2tldCkge1xuICAgIHNvY2tldCA9IG5ldyBTb2NrZXQodGhpcywgbnNwLCBvcHRzKTtcbiAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc29ja2V0Lm9uKCdjb25uZWN0aW5nJywgb25Db25uZWN0aW5nKTtcbiAgICBzb2NrZXQub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzb2NrZXQuaWQgPSBzZWxmLmdlbmVyYXRlSWQobnNwKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmF1dG9Db25uZWN0KSB7XG4gICAgICAvLyBtYW51YWxseSBjYWxsIGhlcmUgc2luY2UgY29ubmVjdGluZyBldmVudCBpcyBmaXJlZCBiZWZvcmUgbGlzdGVuaW5nXG4gICAgICBvbkNvbm5lY3RpbmcoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbm5lY3RpbmcgKCkge1xuICAgIGlmICghfmluZGV4T2Yoc2VsZi5jb25uZWN0aW5nLCBzb2NrZXQpKSB7XG4gICAgICBzZWxmLmNvbm5lY3RpbmcucHVzaChzb2NrZXQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzb2NrZXQ7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgc29ja2V0IGNsb3NlLlxuICpcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXRcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHNvY2tldCkge1xuICB2YXIgaW5kZXggPSBpbmRleE9mKHRoaXMuY29ubmVjdGluZywgc29ja2V0KTtcbiAgaWYgKH5pbmRleCkgdGhpcy5jb25uZWN0aW5nLnNwbGljZShpbmRleCwgMSk7XG4gIGlmICh0aGlzLmNvbm5lY3RpbmcubGVuZ3RoKSByZXR1cm47XG5cbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUucGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICBkZWJ1Zygnd3JpdGluZyBwYWNrZXQgJWonLCBwYWNrZXQpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChwYWNrZXQucXVlcnkgJiYgcGFja2V0LnR5cGUgPT09IDApIHBhY2tldC5uc3AgKz0gJz8nICsgcGFja2V0LnF1ZXJ5O1xuXG4gIGlmICghc2VsZi5lbmNvZGluZykge1xuICAgIC8vIGVuY29kZSwgdGhlbiB3cml0ZSB0byBlbmdpbmUgd2l0aCByZXN1bHRcbiAgICBzZWxmLmVuY29kaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCwgZnVuY3Rpb24gKGVuY29kZWRQYWNrZXRzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY29kZWRQYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGYuZW5naW5lLndyaXRlKGVuY29kZWRQYWNrZXRzW2ldLCBwYWNrZXQub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBzZWxmLmVuY29kaW5nID0gZmFsc2U7XG4gICAgICBzZWxmLnByb2Nlc3NQYWNrZXRRdWV1ZSgpO1xuICAgIH0pO1xuICB9IGVsc2UgeyAvLyBhZGQgcGFja2V0IHRvIHRoZSBxdWV1ZVxuICAgIHNlbGYucGFja2V0QnVmZmVyLnB1c2gocGFja2V0KTtcbiAgfVxufTtcblxuLyoqXG4gKiBJZiBwYWNrZXQgYnVmZmVyIGlzIG5vbi1lbXB0eSwgYmVnaW5zIGVuY29kaW5nIHRoZVxuICogbmV4dCBwYWNrZXQgaW4gbGluZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUGFja2V0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnBhY2tldEJ1ZmZlci5sZW5ndGggPiAwICYmICF0aGlzLmVuY29kaW5nKSB7XG4gICAgdmFyIHBhY2sgPSB0aGlzLnBhY2tldEJ1ZmZlci5zaGlmdCgpO1xuICAgIHRoaXMucGFja2V0KHBhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIHRyYW5zcG9ydCBzdWJzY3JpcHRpb25zIGFuZCBwYWNrZXQgYnVmZmVyLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmNsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdjbGVhbnVwJyk7XG5cbiAgdmFyIHN1YnNMZW5ndGggPSB0aGlzLnN1YnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNMZW5ndGg7IGkrKykge1xuICAgIHZhciBzdWIgPSB0aGlzLnN1YnMuc2hpZnQoKTtcbiAgICBzdWIuZGVzdHJveSgpO1xuICB9XG5cbiAgdGhpcy5wYWNrZXRCdWZmZXIgPSBbXTtcbiAgdGhpcy5lbmNvZGluZyA9IGZhbHNlO1xuICB0aGlzLmxhc3RQaW5nID0gbnVsbDtcblxuICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xufTtcblxuLyoqXG4gKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUuY2xvc2UgPVxuTWFuYWdlci5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ2Rpc2Nvbm5lY3QnKTtcbiAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgaWYgKCdvcGVuaW5nJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgLy8gYG9uY2xvc2VgIHdpbGwgbm90IGZpcmUgYmVjYXVzZVxuICAgIC8vIGFuIG9wZW4gZXZlbnQgbmV2ZXIgaGFwcGVuZWRcbiAgICB0aGlzLmNsZWFudXAoKTtcbiAgfVxuICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NlZCc7XG4gIGlmICh0aGlzLmVuZ2luZSkgdGhpcy5lbmdpbmUuY2xvc2UoKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZW5naW5lIGNsb3NlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9uY2xvc2UgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gIGRlYnVnKCdvbmNsb3NlJyk7XG5cbiAgdGhpcy5jbGVhbnVwKCk7XG4gIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcbiAgdGhpcy5lbWl0KCdjbG9zZScsIHJlYXNvbik7XG5cbiAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBdHRlbXB0IGEgcmVjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVjb25uZWN0aW5nIHx8IHRoaXMuc2tpcFJlY29ubmVjdCkgcmV0dXJuIHRoaXM7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICBkZWJ1ZygncmVjb25uZWN0IGZhaWxlZCcpO1xuICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgIHRoaXMuZW1pdEFsbCgncmVjb25uZWN0X2ZhaWxlZCcpO1xuICAgIHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRlbGF5ID0gdGhpcy5iYWNrb2ZmLmR1cmF0aW9uKCk7XG4gICAgZGVidWcoJ3dpbGwgd2FpdCAlZG1zIGJlZm9yZSByZWNvbm5lY3QgYXR0ZW1wdCcsIGRlbGF5KTtcblxuICAgIHRoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpIHJldHVybjtcblxuICAgICAgZGVidWcoJ2F0dGVtcHRpbmcgcmVjb25uZWN0Jyk7XG4gICAgICBzZWxmLmVtaXRBbGwoJ3JlY29ubmVjdF9hdHRlbXB0Jywgc2VsZi5iYWNrb2ZmLmF0dGVtcHRzKTtcbiAgICAgIHNlbGYuZW1pdEFsbCgncmVjb25uZWN0aW5nJywgc2VsZi5iYWNrb2ZmLmF0dGVtcHRzKTtcblxuICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KSByZXR1cm47XG5cbiAgICAgIHNlbGYub3BlbihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBkZWJ1ZygncmVjb25uZWN0IGF0dGVtcHQgZXJyb3InKTtcbiAgICAgICAgICBzZWxmLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYucmVjb25uZWN0KCk7XG4gICAgICAgICAgc2VsZi5lbWl0QWxsKCdyZWNvbm5lY3RfZXJyb3InLCBlcnIuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVidWcoJ3JlY29ubmVjdCBzdWNjZXNzJyk7XG4gICAgICAgICAgc2VsZi5vbnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBkZWxheSk7XG5cbiAgICB0aGlzLnN1YnMucHVzaCh7XG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gc3VjY2Vzc2Z1bCByZWNvbm5lY3QuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhdHRlbXB0ID0gdGhpcy5iYWNrb2ZmLmF0dGVtcHRzO1xuICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgdGhpcy51cGRhdGVTb2NrZXRJZHMoKTtcbiAgdGhpcy5lbWl0QWxsKCdyZWNvbm5lY3QnLCBhdHRlbXB0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIFhNTEh0dHBSZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBYSFIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcbnZhciBKU09OUCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIHdlYnNvY2tldCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXG4vKipcbiAqIEV4cG9ydCB0cmFuc3BvcnRzLlxuICovXG5cbmV4cG9ydHMucG9sbGluZyA9IHBvbGxpbmc7XG5leHBvcnRzLndlYnNvY2tldCA9IHdlYnNvY2tldDtcblxuLyoqXG4gKiBQb2xsaW5nIHRyYW5zcG9ydCBwb2x5bW9ycGhpYyBjb25zdHJ1Y3Rvci5cbiAqIERlY2lkZXMgb24geGhyIHZzIGpzb25wIGJhc2VkIG9uIGZlYXR1cmUgZGV0ZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBvbGxpbmcgKG9wdHMpIHtcbiAgdmFyIHhocjtcbiAgdmFyIHhkID0gZmFsc2U7XG4gIHZhciB4cyA9IGZhbHNlO1xuICB2YXIganNvbnAgPSBmYWxzZSAhPT0gb3B0cy5qc29ucDtcblxuICBpZiAoZ2xvYmFsLmxvY2F0aW9uKSB7XG4gICAgdmFyIGlzU1NMID0gJ2h0dHBzOicgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgIHZhciBwb3J0ID0gbG9jYXRpb24ucG9ydDtcblxuICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICBpZiAoIXBvcnQpIHtcbiAgICAgIHBvcnQgPSBpc1NTTCA/IDQ0MyA6IDgwO1xuICAgIH1cblxuICAgIHhkID0gb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgcG9ydCAhPT0gb3B0cy5wb3J0O1xuICAgIHhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICB9XG5cbiAgb3B0cy54ZG9tYWluID0geGQ7XG4gIG9wdHMueHNjaGVtZSA9IHhzO1xuICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cyk7XG5cbiAgaWYgKCdvcGVuJyBpbiB4aHIgJiYgIW9wdHMuZm9yY2VKU09OUCkge1xuICAgIHJldHVybiBuZXcgWEhSKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghanNvbnApIHRocm93IG5ldyBFcnJvcignSlNPTlAgZGlzYWJsZWQnKTtcbiAgICByZXR1cm4gbmV3IEpTT05QKG9wdHMpO1xuICB9XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFRyYW5zcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgcGFyc2VxcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciB5ZWFzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nJyk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBQb2xsaW5nO1xuXG4vKipcbiAqIElzIFhIUjIgc3VwcG9ydGVkP1xuICovXG5cbnZhciBoYXNYSFIyID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFhNTEh0dHBSZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCh7IHhkb21haW46IGZhbHNlIH0pO1xuICByZXR1cm4gbnVsbCAhPSB4aHIucmVzcG9uc2VUeXBlO1xufSkoKTtcblxuLyoqXG4gKiBQb2xsaW5nIGludGVyZmFjZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gUG9sbGluZyAob3B0cykge1xuICB2YXIgZm9yY2VCYXNlNjQgPSAob3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0KTtcbiAgaWYgKCFoYXNYSFIyIHx8IGZvcmNlQmFzZTY0KSB7XG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuICB9XG4gIFRyYW5zcG9ydC5jYWxsKHRoaXMsIG9wdHMpO1xufVxuXG4vKipcbiAqIEluaGVyaXRzIGZyb20gVHJhbnNwb3J0LlxuICovXG5cbmluaGVyaXQoUG9sbGluZywgVHJhbnNwb3J0KTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgbmFtZS5cbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5uYW1lID0gJ3BvbGxpbmcnO1xuXG4vKipcbiAqIE9wZW5zIHRoZSBzb2NrZXQgKHRyaWdnZXJzIHBvbGxpbmcpLiBXZSB3cml0ZSBhIFBJTkcgbWVzc2FnZSB0byBkZXRlcm1pbmVcbiAqIHdoZW4gdGhlIHRyYW5zcG9ydCBpcyBvcGVuLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblBvbGxpbmcucHJvdG90eXBlLmRvT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5wb2xsKCk7XG59O1xuXG4vKipcbiAqIFBhdXNlcyBwb2xsaW5nLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAob25QYXVzZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5yZWFkeVN0YXRlID0gJ3BhdXNpbmcnO1xuXG4gIGZ1bmN0aW9uIHBhdXNlICgpIHtcbiAgICBkZWJ1ZygncGF1c2VkJyk7XG4gICAgc2VsZi5yZWFkeVN0YXRlID0gJ3BhdXNlZCc7XG4gICAgb25QYXVzZSgpO1xuICB9XG5cbiAgaWYgKHRoaXMucG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgIHZhciB0b3RhbCA9IDA7XG5cbiAgICBpZiAodGhpcy5wb2xsaW5nKSB7XG4gICAgICBkZWJ1Zygnd2UgYXJlIGN1cnJlbnRseSBwb2xsaW5nIC0gd2FpdGluZyB0byBwYXVzZScpO1xuICAgICAgdG90YWwrKztcbiAgICAgIHRoaXMub25jZSgncG9sbENvbXBsZXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWJ1ZygncHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGUnKTtcbiAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLndyaXRhYmxlKSB7XG4gICAgICBkZWJ1Zygnd2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIC0gd2FpdGluZyB0byBwYXVzZScpO1xuICAgICAgdG90YWwrKztcbiAgICAgIHRoaXMub25jZSgnZHJhaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlYnVnKCdwcmUtcGF1c2Ugd3JpdGluZyBjb21wbGV0ZScpO1xuICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGF1c2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblBvbGxpbmcucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdwb2xsaW5nJyk7XG4gIHRoaXMucG9sbGluZyA9IHRydWU7XG4gIHRoaXMuZG9Qb2xsKCk7XG4gIHRoaXMuZW1pdCgncG9sbCcpO1xufTtcblxuLyoqXG4gKiBPdmVybG9hZHMgb25EYXRhIHRvIGRldGVjdCBwYXlsb2Fkcy5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGRlYnVnKCdwb2xsaW5nIGdvdCBkYXRhICVzJywgZGF0YSk7XG4gIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIChwYWNrZXQsIGluZGV4LCB0b3RhbCkge1xuICAgIC8vIGlmIGl0cyB0aGUgZmlyc3QgbWVzc2FnZSB3ZSBjb25zaWRlciB0aGUgdHJhbnNwb3J0IG9wZW5cbiAgICBpZiAoJ29wZW5pbmcnID09PSBzZWxmLnJlYWR5U3RhdGUpIHtcbiAgICAgIHNlbGYub25PcGVuKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgaXRzIGEgY2xvc2UgcGFja2V0LCB3ZSBjbG9zZSB0aGUgb25nb2luZyByZXF1ZXN0c1xuICAgIGlmICgnY2xvc2UnID09PSBwYWNrZXQudHlwZSkge1xuICAgICAgc2VsZi5vbkNsb3NlKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgIHNlbGYub25QYWNrZXQocGFja2V0KTtcbiAgfTtcblxuICAvLyBkZWNvZGUgcGF5bG9hZFxuICBwYXJzZXIuZGVjb2RlUGF5bG9hZChkYXRhLCB0aGlzLnNvY2tldC5iaW5hcnlUeXBlLCBjYWxsYmFjayk7XG5cbiAgLy8gaWYgYW4gZXZlbnQgZGlkIG5vdCB0cmlnZ2VyIGNsb3NpbmdcbiAgaWYgKCdjbG9zZWQnICE9PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgIHRoaXMucG9sbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgncG9sbENvbXBsZXRlJyk7XG5cbiAgICBpZiAoJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgIHRoaXMucG9sbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1ZygnaWdub3JpbmcgcG9sbCAtIHRyYW5zcG9ydCBzdGF0ZSBcIiVzXCInLCB0aGlzLnJlYWR5U3RhdGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBGb3IgcG9sbGluZywgc2VuZCBhIGNsb3NlIHBhY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5kb0Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gY2xvc2UgKCkge1xuICAgIGRlYnVnKCd3cml0aW5nIGNsb3NlIHBhY2tldCcpO1xuICAgIHNlbGYud3JpdGUoW3sgdHlwZTogJ2Nsb3NlJyB9XSk7XG4gIH1cblxuICBpZiAoJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICBkZWJ1ZygndHJhbnNwb3J0IG9wZW4gLSBjbG9zaW5nJyk7XG4gICAgY2xvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBjYXNlIHdlJ3JlIHRyeWluZyB0byBjbG9zZSB3aGlsZVxuICAgIC8vIGhhbmRzaGFraW5nIGlzIGluIHByb2dyZXNzIChHSC0xNjQpXG4gICAgZGVidWcoJ3RyYW5zcG9ydCBub3Qgb3BlbiAtIGRlZmVycmluZyBjbG9zZScpO1xuICAgIHRoaXMub25jZSgnb3BlbicsIGNsb3NlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBwYWNrZXRzIHBheWxvYWQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBwYWNrZXRzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmFpbiBjYWxsYmFja1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAocGFja2V0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgdmFyIGNhbGxiYWNrZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi53cml0YWJsZSA9IHRydWU7XG4gICAgc2VsZi5lbWl0KCdkcmFpbicpO1xuICB9O1xuXG4gIHBhcnNlci5lbmNvZGVQYXlsb2FkKHBhY2tldHMsIHRoaXMuc3VwcG9ydHNCaW5hcnksIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgc2VsZi5kb1dyaXRlKGRhdGEsIGNhbGxiYWNrZm4pO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS51cmkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gIHZhciBzY2hlbWEgPSB0aGlzLnNlY3VyZSA/ICdodHRwcycgOiAnaHR0cCc7XG4gIHZhciBwb3J0ID0gJyc7XG5cbiAgLy8gY2FjaGUgYnVzdGluZyBpcyBmb3JjZWRcbiAgaWYgKGZhbHNlICE9PSB0aGlzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgcXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICB9XG5cbiAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5ICYmICFxdWVyeS5zaWQpIHtcbiAgICBxdWVyeS5iNjQgPSAxO1xuICB9XG5cbiAgcXVlcnkgPSBwYXJzZXFzLmVuY29kZShxdWVyeSk7XG5cbiAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgaWYgKHRoaXMucG9ydCAmJiAoKCdodHRwcycgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICAoJ2h0dHAnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDgwKSkpIHtcbiAgICBwb3J0ID0gJzonICsgdGhpcy5wb3J0O1xuICB9XG5cbiAgLy8gcHJlcGVuZCA/IHRvIHF1ZXJ5XG4gIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9ICc/JyArIHF1ZXJ5O1xuICB9XG5cbiAgdmFyIGlwdjYgPSB0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSAhPT0gLTE7XG4gIHJldHVybiBzY2hlbWEgKyAnOi8vJyArIChpcHY2ID8gJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyA6IHRoaXMuaG9zdG5hbWUpICsgcG9ydCArIHRoaXMucGF0aCArIHF1ZXJ5O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fJy5zcGxpdCgnJylcbiAgLCBsZW5ndGggPSA2NFxuICAsIG1hcCA9IHt9XG4gICwgc2VlZCA9IDBcbiAgLCBpID0gMFxuICAsIHByZXY7XG5cbi8qKlxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtIFRoZSBudW1iZXIgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlci5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGVuY29kZShudW0pIHtcbiAgdmFyIGVuY29kZWQgPSAnJztcblxuICBkbyB7XG4gICAgZW5jb2RlZCA9IGFscGhhYmV0W251bSAlIGxlbmd0aF0gKyBlbmNvZGVkO1xuICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gbGVuZ3RoKTtcbiAgfSB3aGlsZSAobnVtID4gMCk7XG5cbiAgcmV0dXJuIGVuY29kZWQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbnRlZ2VyIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGludGVnZXIgdmFsdWUgcmVwcmVzZW50ZWQgYnkgdGhlIHN0cmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgdmFyIGRlY29kZWQgPSAwO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBkZWNvZGVkID0gZGVjb2RlZCAqIGxlbmd0aCArIG1hcFtzdHIuY2hhckF0KGkpXTtcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufVxuXG4vKipcbiAqIFllYXN0OiBBIHRpbnkgZ3Jvd2luZyBpZCBnZW5lcmF0b3IuXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gQSB1bmlxdWUgaWQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiB5ZWFzdCgpIHtcbiAgdmFyIG5vdyA9IGVuY29kZSgrbmV3IERhdGUoKSk7XG5cbiAgaWYgKG5vdyAhPT0gcHJldikgcmV0dXJuIHNlZWQgPSAwLCBwcmV2ID0gbm93O1xuICByZXR1cm4gbm93ICsnLicrIGVuY29kZShzZWVkKyspO1xufVxuXG4vL1xuLy8gTWFwIGVhY2ggY2hhcmFjdGVyIHRvIGl0cyBpbmRleC5cbi8vXG5mb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSBtYXBbYWxwaGFiZXRbaV1dID0gaTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgYHllYXN0YCwgYGVuY29kZWAgYW5kIGBkZWNvZGVgIGZ1bmN0aW9ucy5cbi8vXG55ZWFzdC5lbmNvZGUgPSBlbmNvZGU7XG55ZWFzdC5kZWNvZGUgPSBkZWNvZGU7XG5tb2R1bGUuZXhwb3J0cyA9IHllYXN0O1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG52YXIgaW5kZXhPZiA9IFtdLmluZGV4T2Y7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyLCBvYmope1xuICBpZiAoaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIHRvQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcbnZhciBvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ3NvY2tldC5pby1jbGllbnQ6c29ja2V0Jyk7XG52YXIgcGFyc2VxcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gU29ja2V0O1xuXG4vKipcbiAqIEludGVybmFsIGV2ZW50cyAoYmxhY2tsaXN0ZWQpLlxuICogVGhlc2UgZXZlbnRzIGNhbid0IGJlIGVtaXR0ZWQgYnkgdGhlIHVzZXIuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIGV2ZW50cyA9IHtcbiAgY29ubmVjdDogMSxcbiAgY29ubmVjdF9lcnJvcjogMSxcbiAgY29ubmVjdF90aW1lb3V0OiAxLFxuICBjb25uZWN0aW5nOiAxLFxuICBkaXNjb25uZWN0OiAxLFxuICBlcnJvcjogMSxcbiAgcmVjb25uZWN0OiAxLFxuICByZWNvbm5lY3RfYXR0ZW1wdDogMSxcbiAgcmVjb25uZWN0X2ZhaWxlZDogMSxcbiAgcmVjb25uZWN0X2Vycm9yOiAxLFxuICByZWNvbm5lY3Rpbmc6IDEsXG4gIHBpbmc6IDEsXG4gIHBvbmc6IDFcbn07XG5cbi8qKlxuICogU2hvcnRjdXQgdG8gYEVtaXR0ZXIjZW1pdGAuXG4gKi9cblxudmFyIGVtaXQgPSBFbWl0dGVyLnByb3RvdHlwZS5lbWl0O1xuXG4vKipcbiAqIGBTb2NrZXRgIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gU29ja2V0IChpbywgbnNwLCBvcHRzKSB7XG4gIHRoaXMuaW8gPSBpbztcbiAgdGhpcy5uc3AgPSBuc3A7XG4gIHRoaXMuanNvbiA9IHRoaXM7IC8vIGNvbXBhdFxuICB0aGlzLmlkcyA9IDA7XG4gIHRoaXMuYWNrcyA9IHt9O1xuICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgaWYgKG9wdHMgJiYgb3B0cy5xdWVyeSkge1xuICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICB9XG4gIGlmICh0aGlzLmlvLmF1dG9Db25uZWN0KSB0aGlzLm9wZW4oKTtcbn1cblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgLlxuICovXG5cbkVtaXR0ZXIoU29ja2V0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5zdWJFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnN1YnMpIHJldHVybjtcblxuICB2YXIgaW8gPSB0aGlzLmlvO1xuICB0aGlzLnN1YnMgPSBbXG4gICAgb24oaW8sICdvcGVuJywgYmluZCh0aGlzLCAnb25vcGVuJykpLFxuICAgIG9uKGlvLCAncGFja2V0JywgYmluZCh0aGlzLCAnb25wYWNrZXQnKSksXG4gICAgb24oaW8sICdjbG9zZScsIGJpbmQodGhpcywgJ29uY2xvc2UnKSlcbiAgXTtcbn07XG5cbi8qKlxuICogXCJPcGVuc1wiIHRoZSBzb2NrZXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9wZW4gPVxuU29ja2V0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jb25uZWN0ZWQpIHJldHVybiB0aGlzO1xuXG4gIHRoaXMuc3ViRXZlbnRzKCk7XG4gIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuICBpZiAoJ29wZW4nID09PSB0aGlzLmlvLnJlYWR5U3RhdGUpIHRoaXMub25vcGVuKCk7XG4gIHRoaXMuZW1pdCgnY29ubmVjdGluZycpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2VuZHMgYSBgbWVzc2FnZWAgZXZlbnQuXG4gKlxuICogQHJldHVybiB7U29ja2V0fSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cyk7XG4gIGFyZ3MudW5zaGlmdCgnbWVzc2FnZScpO1xuICB0aGlzLmVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBgZW1pdGAuXG4gKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgbmFtZVxuICogQHJldHVybiB7U29ja2V0fSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldikge1xuICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2KSkge1xuICAgIGVtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMpO1xuICB2YXIgcGFja2V0ID0geyB0eXBlOiBwYXJzZXIuRVZFTlQsIGRhdGE6IGFyZ3MgfTtcblxuICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9ICF0aGlzLmZsYWdzIHx8IGZhbHNlICE9PSB0aGlzLmZsYWdzLmNvbXByZXNzO1xuXG4gIC8vIGV2ZW50IGFjayBjYWxsYmFja1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgIGRlYnVnKCdlbWl0dGluZyBwYWNrZXQgd2l0aCBhY2sgaWQgJWQnLCB0aGlzLmlkcyk7XG4gICAgdGhpcy5hY2tzW3RoaXMuaWRzXSA9IGFyZ3MucG9wKCk7XG4gICAgcGFja2V0LmlkID0gdGhpcy5pZHMrKztcbiAgfVxuXG4gIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgIHRoaXMucGFja2V0KHBhY2tldCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZW5kQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgfVxuXG4gIGRlbGV0ZSB0aGlzLmZsYWdzO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZW5kcyBhIHBhY2tldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuICB0aGlzLmlvLnBhY2tldChwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygndHJhbnNwb3J0IGlzIG9wZW4gLSBjb25uZWN0aW5nJyk7XG5cbiAgLy8gd3JpdGUgY29ubmVjdCBwYWNrZXQgaWYgbmVjZXNzYXJ5XG4gIGlmICgnLycgIT09IHRoaXMubnNwKSB7XG4gICAgaWYgKHRoaXMucXVlcnkpIHtcbiAgICAgIHZhciBxdWVyeSA9IHR5cGVvZiB0aGlzLnF1ZXJ5ID09PSAnb2JqZWN0JyA/IHBhcnNlcXMuZW5jb2RlKHRoaXMucXVlcnkpIDogdGhpcy5xdWVyeTtcbiAgICAgIGRlYnVnKCdzZW5kaW5nIGNvbm5lY3QgcGFja2V0IHdpdGggcXVlcnkgJXMnLCBxdWVyeSk7XG4gICAgICB0aGlzLnBhY2tldCh7dHlwZTogcGFyc2VyLkNPTk5FQ1QsIHF1ZXJ5OiBxdWVyeX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhY2tldCh7dHlwZTogcGFyc2VyLkNPTk5FQ1R9KTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZW5naW5lIGBjbG9zZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvblxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICBkZWJ1ZygnY2xvc2UgKCVzKScsIHJlYXNvbik7XG4gIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgZGVsZXRlIHRoaXMuaWQ7XG4gIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcsIHJlYXNvbik7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aXRoIHNvY2tldCBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgaWYgKHBhY2tldC5uc3AgIT09IHRoaXMubnNwKSByZXR1cm47XG5cbiAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgIGNhc2UgcGFyc2VyLkNPTk5FQ1Q6XG4gICAgICB0aGlzLm9uY29ubmVjdCgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5FVkVOVDpcbiAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5CSU5BUllfRVZFTlQ6XG4gICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuQUNLOlxuICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5CSU5BUllfQUNLOlxuICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5ESVNDT05ORUNUOlxuICAgICAgdGhpcy5vbmRpc2Nvbm5lY3QoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuRVJST1I6XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgcGFja2V0LmRhdGEpO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmV2ZW50ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICB2YXIgYXJncyA9IHBhY2tldC5kYXRhIHx8IFtdO1xuICBkZWJ1ZygnZW1pdHRpbmcgZXZlbnQgJWonLCBhcmdzKTtcblxuICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICBkZWJ1ZygnYXR0YWNoaW5nIGFjayBjYWxsYmFjayB0byBldmVudCcpO1xuICAgIGFyZ3MucHVzaCh0aGlzLmFjayhwYWNrZXQuaWQpKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgIGVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goYXJncyk7XG4gIH1cbn07XG5cbi8qKlxuICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmFjayA9IGZ1bmN0aW9uIChpZCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBzZW50ID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcHJldmVudCBkb3VibGUgY2FsbGJhY2tzXG4gICAgaWYgKHNlbnQpIHJldHVybjtcbiAgICBzZW50ID0gdHJ1ZTtcbiAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICBkZWJ1Zygnc2VuZGluZyBhY2sgJWonLCBhcmdzKTtcblxuICAgIHNlbGYucGFja2V0KHtcbiAgICAgIHR5cGU6IHBhcnNlci5BQ0ssXG4gICAgICBpZDogaWQsXG4gICAgICBkYXRhOiBhcmdzXG4gICAgfSk7XG4gIH07XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGFja25vd2xlZ2VtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25hY2sgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIHZhciBhY2sgPSB0aGlzLmFja3NbcGFja2V0LmlkXTtcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBhY2spIHtcbiAgICBkZWJ1ZygnY2FsbGluZyBhY2sgJXMgd2l0aCAlaicsIHBhY2tldC5pZCwgcGFja2V0LmRhdGEpO1xuICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICB9IGVsc2Uge1xuICAgIGRlYnVnKCdiYWQgYWNrICVzJywgcGFja2V0LmlkKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgY29ubmVjdC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLmVtaXQoJ2Nvbm5lY3QnKTtcbiAgdGhpcy5lbWl0QnVmZmVyZWQoKTtcbn07XG5cbi8qKlxuICogRW1pdCBidWZmZXJlZCBldmVudHMgKHJlY2VpdmVkIGFuZCBlbWl0dGVkKS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmVtaXRCdWZmZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICBlbWl0LmFwcGx5KHRoaXMsIHRoaXMucmVjZWl2ZUJ1ZmZlcltpXSk7XG4gIH1cbiAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG5cbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMucGFja2V0KHRoaXMuc2VuZEJ1ZmZlcltpXSk7XG4gIH1cbiAgdGhpcy5zZW5kQnVmZmVyID0gW107XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHNlcnZlciBkaXNjb25uZWN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnc2VydmVyIGRpc2Nvbm5lY3QgKCVzKScsIHRoaXMubnNwKTtcbiAgdGhpcy5kZXN0cm95KCk7XG4gIHRoaXMub25jbG9zZSgnaW8gc2VydmVyIGRpc2Nvbm5lY3QnKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZm9yY2VkIGNsaWVudC9zZXJ2ZXIgc2lkZSBkaXNjb25uZWN0aW9ucyxcbiAqIHRoaXMgbWV0aG9kIGVuc3VyZXMgdGhlIG1hbmFnZXIgc3RvcHMgdHJhY2tpbmcgdXMgYW5kXG4gKiB0aGF0IHJlY29ubmVjdGlvbnMgZG9uJ3QgZ2V0IHRyaWdnZXJlZCBmb3IgdGhpcy5cbiAqXG4gKiBAYXBpIHByaXZhdGUuXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zdWJzKSB7XG4gICAgLy8gY2xlYW4gc3Vic2NyaXB0aW9ucyB0byBhdm9pZCByZWNvbm5lY3Rpb25zXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuc3VicyA9IG51bGw7XG4gIH1cblxuICB0aGlzLmlvLmRlc3Ryb3kodGhpcyk7XG59O1xuXG4vKipcbiAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuXG4gKlxuICogQHJldHVybiB7U29ja2V0fSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUuY2xvc2UgPVxuU29ja2V0LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICBkZWJ1ZygncGVyZm9ybWluZyBkaXNjb25uZWN0ICglcyknLCB0aGlzLm5zcCk7XG4gICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBwYXJzZXIuRElTQ09OTkVDVCB9KTtcbiAgfVxuXG4gIC8vIHJlbW92ZSBzb2NrZXQgZnJvbSBwb29sXG4gIHRoaXMuZGVzdHJveSgpO1xuXG4gIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgIC8vIGZpcmUgZXZlbnRzXG4gICAgdGhpcy5vbmNsb3NlKCdpbyBjbGllbnQgZGlzY29ubmVjdCcpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjb21wcmVzcyBmbGFnLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaWYgYHRydWVgLCBjb21wcmVzc2VzIHRoZSBzZW5kaW5nIGRhdGFcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmNvbXByZXNzID0gZnVuY3Rpb24gKGNvbXByZXNzKSB7XG4gIHRoaXMuZmxhZ3MgPSB0aGlzLmZsYWdzIHx8IHt9O1xuICB0aGlzLmZsYWdzLmNvbXByZXNzID0gY29tcHJlc3M7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IG9uO1xuXG4vKipcbiAqIEhlbHBlciBmb3Igc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxFdmVudEVtaXR0ZXJ9IG9iaiB3aXRoIGBFbWl0dGVyYCBtaXhpbiBvciBgRXZlbnRFbWl0dGVyYFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IG5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG9uIChvYmosIGV2LCBmbikge1xuICBvYmoub24oZXYsIGZuKTtcbiAgcmV0dXJuIHtcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICBvYmoucmVtb3ZlTGlzdGVuZXIoZXYsIGZuKTtcbiAgICB9XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIFNsaWNlIHJlZmVyZW5jZS5cbiAqL1xuXG52YXIgc2xpY2UgPSBbXS5zbGljZTtcblxuLyoqXG4gKiBCaW5kIGBvYmpgIHRvIGBmbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGZuIG9yIHN0cmluZ1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBmbil7XG4gIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgZm4pIGZuID0gb2JqW2ZuXTtcbiAgaWYgKCdmdW5jdGlvbicgIT0gdHlwZW9mIGZuKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmQoKSByZXF1aXJlcyBhIGZ1bmN0aW9uJyk7XG4gIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkob2JqLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjUuMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG4vLyB0c2xpbnQ6ZGlzYWJsZVxyXG4vKipcclxuICogRGl2ZSBSRVNUIEFQSVxyXG4gKiBEaXZlIHRoaXJkIHBhcnR5IFJFU1QgQVBJIHByb3ZpZGVzIGEgc2V0IG9mIHNlcnZpY2VzIHdoaWNoIGxldmVyYWdlIG9idGFpbmluZyBjYXRhbG9nIGFuZCBUViBncmlkIGluZm8sIGNvbnRleHR1YWwgaXRlbXMgKGNhcmRzKSBpbmZvcm1hdGlvbiBhbmQgc2F2aW5nIGFuZCBhIHN0YXRpYyAoc2NlbmUgYnkgc2NlbmUpIHZlcnNpb24gb2YgdGhlIGNhcmQgY2Fyb3VzZWwgZm9yIGxpbmVhciBUViBhbmQgdmlkZW8gb24gZGVtYW5kXHJcbiAqXHJcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMFxyXG4gKlxyXG4gKlxyXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XHJcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cclxuICovXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBxdWVyeXN0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xyXG52YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XHJcbnZhciBmZXRjaF9pc28gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcclxudmFyIGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XHJcbnZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcclxudmFyIEJBU0VfUEFUSCA9IFwiaHR0cHM6Ly9yZXN0LmRpdmUudHYvdjFcIi5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xyXG52YXIgQmFzZUFQSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2VBUEkoYmFzZVBhdGgsIGZldGNoKSB7XHJcbiAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICBpZiAoZmV0Y2ggPT09IHZvaWQgMCkgeyBmZXRjaCA9IGZldGNoX2lzbzsgfVxyXG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcclxuICAgICAgICB0aGlzLmZldGNoID0gZmV0Y2g7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQmFzZUFQSTtcclxufSgpKTtcclxuZXhwb3J0cy5CYXNlQVBJID0gQmFzZUFQSTtcclxuLyoqXHJcbiogRGVmYXVsdEFwaSAtIGZldGNoIHBhcmFtZXRlciBjcmVhdG9yXHJcbiovXHJcbmV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yID0ge1xyXG4gICAgLyoqXHJcbiAgICAqIERlbGV0ZSBjYXJkIGxpa2VcclxuICAgICogUmVtb3ZlcyBhIGNhcmQgZnJvbSBjdXJyZW50IHVzZXImIzM5O3MgbGlrZXMgbGlzdFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBkZWxldGVMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBkZWxldGVMaWtlc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNhcmRJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjYXJkSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjYXJkSWQgd2hlbiBjYWxsaW5nIGRlbGV0ZUxpa2VzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2xpa2VzL3tjYXJkX2lkfVwiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjYXJkX2lkXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNhcmRJZFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJERUxFVEVcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLCBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBGdWxsIGNhcmQgZGV0YWlsXHJcbiAgICAqIFJldHJpZXZlcyBhIGZ1bGwgY2FyZCBkZXRhaWwsIHdpdGggbm8gcmVsYXRpb25zIG9yIGNvbnRleHRcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgZ2V0Q2FyZDogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRDYXJkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2FyZElkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNhcmRJZFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNhcmRJZCB3aGVuIGNhbGxpbmcgZ2V0Q2FyZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9jYXJkcy97Y2FyZF9pZH1cIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2FyZF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjYXJkSWRcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiBwYXJhbXNbXCJwcm9kdWN0c1wiXSxcclxuICAgICAgICAgICAgXCJ1c2VyX2RhdGFcIjogcGFyYW1zW1widXNlckRhdGFcIl0sXHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbCB3aXRoIHZlcnNpb25cclxuICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgYW5kIGl0cyByZWxhdGlvbnMgdG8gb3RoZXIgY2FyZHMgaW4gYSBnaXZlbiBjb250ZXh0IChjYXJkIHZlcnNpb24pXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gaWRlbnRpZmllciwgaW5kaWNhdGVzIHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjYXJkIGlzIGJlaW5nIHJlcXVlc3RlZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDYXJkVmVyc2lvbjogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRDYXJkVmVyc2lvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNhcmRJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjYXJkSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjYXJkSWQgd2hlbiBjYWxsaW5nIGdldENhcmRWZXJzaW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwidmVyc2lvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJ2ZXJzaW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgdmVyc2lvbiB3aGVuIGNhbGxpbmcgZ2V0Q2FyZFZlcnNpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2FyZHMve2NhcmRfaWR9L3ZlcnNpb25zL3t2ZXJzaW9ufVwiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjYXJkX2lkXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNhcmRJZFwiXSlcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcInZlcnNpb25cIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1widmVyc2lvblwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcInByb2R1Y3RzXCI6IHBhcmFtc1tcInByb2R1Y3RzXCJdLFxyXG4gICAgICAgICAgICBcInVzZXJfZGF0YVwiOiBwYXJhbXNbXCJ1c2VyRGF0YVwiXSxcclxuICAgICAgICAgICAgXCJyZWxhdGlvbnNcIjogcGFyYW1zW1wicmVsYXRpb25zXCJdLFxyXG4gICAgICAgICAgICBcImltYWdlX3NpemVcIjogcGFyYW1zW1wiaW1hZ2VTaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgYSBtb3ZpZSYjMzk7cyBmdWxsIGNhcmQgYnkgaXRzIGNsaWVudCBJRCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb25cclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZCBDbGllbnQgbW92aWUgSUQgYmVpbmcgcGxheWVkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENhdGFsb2dNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRDYXRhbG9nTW92aWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjbGllbnRNb3ZpZUlkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNsaWVudE1vdmllSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjbGllbnRNb3ZpZUlkIHdoZW4gY2FsbGluZyBnZXRDYXRhbG9nTW92aWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvbW92aWVzL3tjbGllbnRfbW92aWVfaWR9XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNsaWVudF9tb3ZpZV9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjbGllbnRNb3ZpZUlkXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBldmVudHMgZ3JpZFxyXG4gICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFuZCB1cGNvbWluZyBncmlkIG9mIFRWIGV2ZW50cyBmb3IgdGhlIGdpdmVuIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENoYW5uZWxHcmlkOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIGdldENoYW5uZWxHcmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2hhbm5lbElkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNoYW5uZWxJZFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNoYW5uZWxJZCB3aGVuIGNhbGxpbmcgZ2V0Q2hhbm5lbEdyaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2hhbm5lbHMve2NoYW5uZWxfaWR9L2dyaWRcIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2hhbm5lbF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjaGFubmVsSWRcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJpbWFnZV9zaXplXCI6IHBhcmFtc1tcImltYWdlU2l6ZVwiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJHRVRcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBdXRob3JpemF0aW9uXCIsIHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLCBcIkFjY2VwdC1MYW5ndWFnZVwiOiBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIG1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgZnVsbCBjYXJkIGRldGFpbCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb24sIGZvciB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgb24gdGhlIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENoYW5uZWxNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRDaGFubmVsTW92aWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjaGFubmVsSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2hhbm5lbElkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2hhbm5lbElkIHdoZW4gY2FsbGluZyBnZXRDaGFubmVsTW92aWVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2hhbm5lbHMve2NoYW5uZWxfaWR9XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNoYW5uZWxfaWRcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2hhbm5lbElkXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogR2V0IGNhcmQgbGlrZXNcclxuICAgICogUmV0dXJucyBhIHBhZ2luYXRlZCBsaXN0IG9mIGNhcmRzIGxpa2VkIGJ5IGN1cnJlbnQgdXNlclxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKiBAcGFyYW0gcGFnaW5hdGVLZXkgUGFnaW5hdGUga2V5XHJcbiAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBkZXNpcmVkIHJlc3VsdHNcclxuICAgICovXHJcbiAgICBnZXRMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRMaWtlc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9saWtlc1wiO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJpbWFnZV9zaXplXCI6IHBhcmFtc1tcImltYWdlU2l6ZVwiXSxcclxuICAgICAgICAgICAgXCJwYWdpbmF0ZV9rZXlcIjogcGFyYW1zW1wicGFnaW5hdGVLZXlcIl0sXHJcbiAgICAgICAgICAgIFwic2l6ZVwiOiBwYXJhbXNbXCJzaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIGlmIGEgbGlzdCBvZiBjbGllbnQgY2hhbm5lbCBpZGVudGlmaWVycyBhcmUgY3VycmVudGx5IGJyb2FkY2FzdGluZyBzeW5jaHJvbml6YWJsZSBjb250ZW50XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZExpc3QgTGlzdCBvZiBjbGllbnQgY2hhbm5lbCBJRHMgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIGdldFJlYWR5Q2hhbm5lbHM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0UmVhZHlDaGFubmVsc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNoYW5uZWxJZExpc3RcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2hhbm5lbElkTGlzdFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNoYW5uZWxJZExpc3Qgd2hlbiBjYWxsaW5nIGdldFJlYWR5Q2hhbm5lbHNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2hhbm5lbHMve2NoYW5uZWxfaWRfbGlzdH0vcmVhZHlcIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2hhbm5lbF9pZF9saXN0XCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNoYW5uZWxJZExpc3RcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogTW92aWUgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIHdoZXRoZXIgYSBsaXN0IG9mIGNsaWVudCBtb3ZpZSBpZGVudGlmaWVycyAoVmlkZW8gT24gRGVtYW5kKSBhcmUgYXZhaWxhYmxlIHRvIGJlIHN5bmNocm9uaXplZCB1c2luZyB0aGUgRGl2ZSBBUElcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZExpc3QgTGlzdCBvZiBjbGllbnQgbW92aWUgSURzLCBwcm92aWRlZCBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgZ2V0UmVhZHlNb3ZpZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0UmVhZHlNb3ZpZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjbGllbnRNb3ZpZUlkTGlzdFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjbGllbnRNb3ZpZUlkTGlzdFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNsaWVudE1vdmllSWRMaXN0IHdoZW4gY2FsbGluZyBnZXRSZWFkeU1vdmllc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9tb3ZpZXMve2NsaWVudF9tb3ZpZV9pZF9saXN0fS9yZWFkeVwiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjbGllbnRfbW92aWVfaWRfbGlzdFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjbGllbnRNb3ZpZUlkTGlzdFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJHRVRcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBdXRob3JpemF0aW9uXCIsIHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLCBcIkFjY2VwdC1MYW5ndWFnZVwiOiBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBTdGF0aWMgY2hhbm5lbCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgY2FyZHMgcmVsYXRlZCB0byB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgaW4gdGhlIHByb3ZpZGVkIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldFN0YXRpY0NoYW5uZWxTY2VuZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRTdGF0aWNDaGFubmVsU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjaGFubmVsSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2hhbm5lbElkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2hhbm5lbElkIHdoZW4gY2FsbGluZyBnZXRTdGF0aWNDaGFubmVsU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2hhbm5lbHMve2NoYW5uZWxfaWR9L3N0YXRpY1wiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjaGFubmVsX2lkXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNoYW5uZWxJZFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcInJlbGF0aW9uc1wiOiBwYXJhbXNbXCJyZWxhdGlvbnNcIl0sXHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogU3RhdGljIFZPRCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBnaXZlbiBtb3ZpZSBzY2VuZVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIHRpbWVzdGFtcCBDdXJyZW50IG1vdmllIHRpbWVzdGFtcCBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldFN0YXRpY01vdmllU2NlbmU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0U3RhdGljTW92aWVTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNsaWVudE1vdmllSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2xpZW50TW92aWVJZFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNsaWVudE1vdmllSWQgd2hlbiBjYWxsaW5nIGdldFN0YXRpY01vdmllU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJ0aW1lc3RhbXBcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1widGltZXN0YW1wXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgdGltZXN0YW1wIHdoZW4gY2FsbGluZyBnZXRTdGF0aWNNb3ZpZVNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL21vdmllcy97Y2xpZW50X21vdmllX2lkfS9zdGF0aWMve3RpbWVzdGFtcH1cIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2xpZW50X21vdmllX2lkXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNsaWVudE1vdmllSWRcIl0pXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJ0aW1lc3RhbXBcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1widGltZXN0YW1wXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwicmVsYXRpb25zXCI6IHBhcmFtc1tcInJlbGF0aW9uc1wiXSxcclxuICAgICAgICAgICAgXCJpbWFnZV9zaXplXCI6IHBhcmFtc1tcImltYWdlU2l6ZVwiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJHRVRcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBdXRob3JpemF0aW9uXCIsIHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLCBcIkFjY2VwdC1MYW5ndWFnZVwiOiBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBBZGQgY2FyZCBsaWtlXHJcbiAgICAqIFN0b3JlcyBhIGNhcmQgdW5kZXIgY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgcG9zdExpa2VzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIHBvc3RMaWtlc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNhcmRJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjYXJkSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjYXJkSWQgd2hlbiBjYWxsaW5nIHBvc3RMaWtlc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9saWtlcy97Y2FyZF9pZH1cIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2FyZF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjYXJkSWRcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiUE9TVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIFRva2VuIGVuZHBvaW50XHJcbiAgICAqIFRoZSB0b2tlbiBlbmRwb2ludCBpcyB1c2VkIHRvIG9idGFpbiBhY2Nlc3MgdG9rZW5zIHdoaWNoIGFsbG93IGNsaWVudHMgdG8gbWFrZSBBUEkgcmVxdWVzdHNcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQmFzaWMgYXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCYXNpYyAmbHQ7Y2xpZW50X2tleSZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGdyYW50VHlwZSBHcmFudCB0eXBlIHVzZWQgdG8gb2J0YWluIHRoZSB0b2tlbi5cclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGRldmljZUlkIERldmljZSBpZGVudGlmaWVyLCBtdXN0IHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSB1c2VyIG9yIGRldmljZSBhY2Nlc3NpbmcgdGhlIEFQSS4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtkZXZpY2VfY3JlZGVudGlhbHNcXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gUmVmcmVzaCB0b2tlbiwgdXNlZCB0byBpc3N1ZSBhIG5ldyB0b2tlbiB3aXRob3V0IHJlc2VuZGluZyBjbGllbnQgY3JlZGVudGlhbHMuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7cmVmcmVzaF90b2tlblxcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICovXHJcbiAgICBwb3N0VG9rZW46IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgcG9zdFRva2VuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiZ3JhbnRUeXBlXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImdyYW50VHlwZVwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGdyYW50VHlwZSB3aGVuIGNhbGxpbmcgcG9zdFRva2VuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL3Rva2VuXCI7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcImdyYW50X3R5cGVcIjogcGFyYW1zW1wiZ3JhbnRUeXBlXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIlBPU1RcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICBjb250ZW50VHlwZUhlYWRlciA9IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiB9O1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5ib2R5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgXCJkZXZpY2VfaWRcIjogcGFyYW1zW1wiZGV2aWNlSWRcIl0sXHJcbiAgICAgICAgICAgIFwicmVmcmVzaF90b2tlblwiOiBwYXJhbXNbXCJyZWZyZXNoVG9rZW5cIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4qIERlZmF1bHRBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxyXG4qL1xyXG5leHBvcnRzLkRlZmF1bHRBcGlGcCA9IHtcclxuICAgIC8qKlxyXG4gICAgKiBEZWxldGUgY2FyZCBsaWtlXHJcbiAgICAqIFJlbW92ZXMgYSBjYXJkIGZyb20gY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgZGVsZXRlTGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZGVsZXRlTGlrZXMocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbFxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCB3aXRoIG5vIHJlbGF0aW9ucyBvciBjb250ZXh0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENhcmQ6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0Q2FyZChwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbCB3aXRoIHZlcnNpb25cclxuICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgYW5kIGl0cyByZWxhdGlvbnMgdG8gb3RoZXIgY2FyZHMgaW4gYSBnaXZlbiBjb250ZXh0IChjYXJkIHZlcnNpb24pXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gaWRlbnRpZmllciwgaW5kaWNhdGVzIHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjYXJkIGlzIGJlaW5nIHJlcXVlc3RlZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDYXJkVmVyc2lvbjogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5nZXRDYXJkVmVyc2lvbihwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogTW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAqIFJldHJpZXZlcyBhIG1vdmllJiMzOTtzIGZ1bGwgY2FyZCBieSBpdHMgY2xpZW50IElELCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvblxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgZ2V0Q2F0YWxvZ01vdmllOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldENhdGFsb2dNb3ZpZShwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBldmVudHMgZ3JpZFxyXG4gICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFuZCB1cGNvbWluZyBncmlkIG9mIFRWIGV2ZW50cyBmb3IgdGhlIGdpdmVuIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENoYW5uZWxHcmlkOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldENoYW5uZWxHcmlkKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIG1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgZnVsbCBjYXJkIGRldGFpbCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb24sIGZvciB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgb24gdGhlIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENoYW5uZWxNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5nZXRDaGFubmVsTW92aWUocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEdldCBjYXJkIGxpa2VzXHJcbiAgICAqIFJldHVybnMgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjYXJkcyBsaWtlZCBieSBjdXJyZW50IHVzZXJcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICogQHBhcmFtIHBhZ2luYXRlS2V5IFBhZ2luYXRlIGtleVxyXG4gICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgZGVzaXJlZCByZXN1bHRzXHJcbiAgICAqL1xyXG4gICAgZ2V0TGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0TGlrZXMocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIGlmIGEgbGlzdCBvZiBjbGllbnQgY2hhbm5lbCBpZGVudGlmaWVycyBhcmUgY3VycmVudGx5IGJyb2FkY2FzdGluZyBzeW5jaHJvbml6YWJsZSBjb250ZW50XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZExpc3QgTGlzdCBvZiBjbGllbnQgY2hhbm5lbCBJRHMgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIGdldFJlYWR5Q2hhbm5lbHM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0UmVhZHlDaGFubmVscyhwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogTW92aWUgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIHdoZXRoZXIgYSBsaXN0IG9mIGNsaWVudCBtb3ZpZSBpZGVudGlmaWVycyAoVmlkZW8gT24gRGVtYW5kKSBhcmUgYXZhaWxhYmxlIHRvIGJlIHN5bmNocm9uaXplZCB1c2luZyB0aGUgRGl2ZSBBUElcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZExpc3QgTGlzdCBvZiBjbGllbnQgbW92aWUgSURzLCBwcm92aWRlZCBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgZ2V0UmVhZHlNb3ZpZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0UmVhZHlNb3ZpZXMocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIFN0YXRpYyBjaGFubmVsIHNjZW5lXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBpbiB0aGUgcHJvdmlkZWQgY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgZ2V0U3RhdGljQ2hhbm5lbFNjZW5lOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldFN0YXRpY0NoYW5uZWxTY2VuZShwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogU3RhdGljIFZPRCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBnaXZlbiBtb3ZpZSBzY2VuZVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIHRpbWVzdGFtcCBDdXJyZW50IG1vdmllIHRpbWVzdGFtcCBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldFN0YXRpY01vdmllU2NlbmU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0U3RhdGljTW92aWVTY2VuZShwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQWRkIGNhcmQgbGlrZVxyXG4gICAgKiBTdG9yZXMgYSBjYXJkIHVuZGVyIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIHBvc3RMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5wb3N0TGlrZXMocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogVG9rZW4gZW5kcG9pbnRcclxuICAgICogVGhlIHRva2VuIGVuZHBvaW50IGlzIHVzZWQgdG8gb2J0YWluIGFjY2VzcyB0b2tlbnMgd2hpY2ggYWxsb3cgY2xpZW50cyB0byBtYWtlIEFQSSByZXF1ZXN0c1xyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBCYXNpYyBhdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0Jhc2ljICZsdDtjbGllbnRfa2V5Jmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gZ3JhbnRUeXBlIEdyYW50IHR5cGUgdXNlZCB0byBvYnRhaW4gdGhlIHRva2VuLlxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gZGV2aWNlSWQgRGV2aWNlIGlkZW50aWZpZXIsIG11c3QgdW5pcXVlbHkgaWRlbnRpZnkgdGhlIHVzZXIgb3IgZGV2aWNlIGFjY2Vzc2luZyB0aGUgQVBJLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O2RldmljZV9jcmVkZW50aWFsc1xcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICogQHBhcmFtIHJlZnJlc2hUb2tlbiBSZWZyZXNoIHRva2VuLCB1c2VkIHRvIGlzc3VlIGEgbmV3IHRva2VuIHdpdGhvdXQgcmVzZW5kaW5nIGNsaWVudCBjcmVkZW50aWFscy4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtyZWZyZXNoX3Rva2VuXFwmcXVvdDsgZ3JhbnQgdHlwZVxyXG4gICAgKi9cclxuICAgIHBvc3RUb2tlbjogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5wb3N0VG9rZW4ocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuKiBEZWZhdWx0QXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxyXG4qL1xyXG52YXIgRGVmYXVsdEFwaSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhEZWZhdWx0QXBpLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRGVmYXVsdEFwaSgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogRGVsZXRlIGNhcmQgbGlrZVxyXG4gICAgKiBSZW1vdmVzIGEgY2FyZCBmcm9tIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmRlbGV0ZUxpa2VzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5kZWxldGVMaWtlcyhwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBGdWxsIGNhcmQgZGV0YWlsXHJcbiAgICAqIFJldHJpZXZlcyBhIGZ1bGwgY2FyZCBkZXRhaWwsIHdpdGggbm8gcmVsYXRpb25zIG9yIGNvbnRleHRcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0Q2FyZCA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZChwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBGdWxsIGNhcmQgZGV0YWlsIHdpdGggdmVyc2lvblxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCBhbmQgaXRzIHJlbGF0aW9ucyB0byBvdGhlciBjYXJkcyBpbiBhIGdpdmVuIGNvbnRleHQgKGNhcmQgdmVyc2lvbilcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICogQHBhcmFtIHZlcnNpb24gVmVyc2lvbiBpZGVudGlmaWVyLCBpbmRpY2F0ZXMgdGhlIGNvbnRleHQgd2hlcmUgdGhlIGNhcmQgaXMgYmVpbmcgcmVxdWVzdGVkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldENhcmRWZXJzaW9uID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXJkVmVyc2lvbihwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBNb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICogUmV0cmlldmVzIGEgbW92aWUmIzM5O3MgZnVsbCBjYXJkIGJ5IGl0cyBjbGllbnQgSUQsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5nZXRDYXRhbG9nTW92aWUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhdGFsb2dNb3ZpZShwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIGV2ZW50cyBncmlkXHJcbiAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYW5kIHVwY29taW5nIGdyaWQgb2YgVFYgZXZlbnRzIGZvciB0aGUgZ2l2ZW4gY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0Q2hhbm5lbEdyaWQgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENoYW5uZWxHcmlkKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgbW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAqIFJldHJpZXZlcyBmdWxsIGNhcmQgZGV0YWlsLCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvbiwgZm9yIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBvbiB0aGUgY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0Q2hhbm5lbE1vdmllID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsTW92aWUocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogR2V0IGNhcmQgbGlrZXNcclxuICAgICogUmV0dXJucyBhIHBhZ2luYXRlZCBsaXN0IG9mIGNhcmRzIGxpa2VkIGJ5IGN1cnJlbnQgdXNlclxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKiBAcGFyYW0gcGFnaW5hdGVLZXkgUGFnaW5hdGUga2V5XHJcbiAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBkZXNpcmVkIHJlc3VsdHNcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5nZXRMaWtlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0TGlrZXMocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBzeW5jIGF2YWlsYWJpbGl0eVxyXG4gICAgKiBDaGVja3MgaWYgYSBsaXN0IG9mIGNsaWVudCBjaGFubmVsIGlkZW50aWZpZXJzIGFyZSBjdXJyZW50bHkgYnJvYWRjYXN0aW5nIHN5bmNocm9uaXphYmxlIGNvbnRlbnRcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkTGlzdCBMaXN0IG9mIGNsaWVudCBjaGFubmVsIElEcyBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0UmVhZHlDaGFubmVscyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0UmVhZHlDaGFubmVscyhwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBNb3ZpZSBzeW5jIGF2YWlsYWJpbGl0eVxyXG4gICAgKiBDaGVja3Mgd2hldGhlciBhIGxpc3Qgb2YgY2xpZW50IG1vdmllIGlkZW50aWZpZXJzIChWaWRlbyBPbiBEZW1hbmQpIGFyZSBhdmFpbGFibGUgdG8gYmUgc3luY2hyb25pemVkIHVzaW5nIHRoZSBEaXZlIEFQSVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkTGlzdCBMaXN0IG9mIGNsaWVudCBtb3ZpZSBJRHMsIHByb3ZpZGVkIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5nZXRSZWFkeU1vdmllcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0UmVhZHlNb3ZpZXMocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogU3RhdGljIGNoYW5uZWwgc2NlbmVcclxuICAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIGluIHRoZSBwcm92aWRlZCBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5nZXRTdGF0aWNDaGFubmVsU2NlbmUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY0NoYW5uZWxTY2VuZShwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBTdGF0aWMgVk9EIHNjZW5lXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGdpdmVuIG1vdmllIHNjZW5lXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgKiBAcGFyYW0gdGltZXN0YW1wIEN1cnJlbnQgbW92aWUgdGltZXN0YW1wIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0U3RhdGljTW92aWVTY2VuZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0U3RhdGljTW92aWVTY2VuZShwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBBZGQgY2FyZCBsaWtlXHJcbiAgICAqIFN0b3JlcyBhIGNhcmQgdW5kZXIgY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUucG9zdExpa2VzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5wb3N0TGlrZXMocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogVG9rZW4gZW5kcG9pbnRcclxuICAgICogVGhlIHRva2VuIGVuZHBvaW50IGlzIHVzZWQgdG8gb2J0YWluIGFjY2VzcyB0b2tlbnMgd2hpY2ggYWxsb3cgY2xpZW50cyB0byBtYWtlIEFQSSByZXF1ZXN0c1xyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBCYXNpYyBhdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0Jhc2ljICZsdDtjbGllbnRfa2V5Jmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gZ3JhbnRUeXBlIEdyYW50IHR5cGUgdXNlZCB0byBvYnRhaW4gdGhlIHRva2VuLlxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gZGV2aWNlSWQgRGV2aWNlIGlkZW50aWZpZXIsIG11c3QgdW5pcXVlbHkgaWRlbnRpZnkgdGhlIHVzZXIgb3IgZGV2aWNlIGFjY2Vzc2luZyB0aGUgQVBJLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O2RldmljZV9jcmVkZW50aWFsc1xcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICogQHBhcmFtIHJlZnJlc2hUb2tlbiBSZWZyZXNoIHRva2VuLCB1c2VkIHRvIGlzc3VlIGEgbmV3IHRva2VuIHdpdGhvdXQgcmVzZW5kaW5nIGNsaWVudCBjcmVkZW50aWFscy4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtyZWZyZXNoX3Rva2VuXFwmcXVvdDsgZ3JhbnQgdHlwZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLnBvc3RUb2tlbiA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdFRva2VuKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlZmF1bHRBcGk7XHJcbn0oQmFzZUFQSSkpO1xyXG5leHBvcnRzLkRlZmF1bHRBcGkgPSBEZWZhdWx0QXBpO1xyXG47XHJcbi8qKlxyXG4qIERlZmF1bHRBcGkgLSBmYWN0b3J5IGludGVyZmFjZVxyXG4qL1xyXG5leHBvcnRzLkRlZmF1bHRBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAqIERlbGV0ZSBjYXJkIGxpa2VcclxuICAgICAgICAqIFJlbW92ZXMgYSBjYXJkIGZyb20gY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKi9cclxuICAgICAgICBkZWxldGVMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZGVsZXRlTGlrZXMocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBGdWxsIGNhcmQgZGV0YWlsXHJcbiAgICAgICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCB3aXRoIG5vIHJlbGF0aW9ucyBvciBjb250ZXh0XHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAgICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0Q2FyZDogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZChwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEZ1bGwgY2FyZCBkZXRhaWwgd2l0aCB2ZXJzaW9uXHJcbiAgICAgICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCBhbmQgaXRzIHJlbGF0aW9ucyB0byBvdGhlciBjYXJkcyBpbiBhIGdpdmVuIGNvbnRleHQgKGNhcmQgdmVyc2lvbilcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjYXJkSWQgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgY2FyZFxyXG4gICAgICAgICogQHBhcmFtIHZlcnNpb24gVmVyc2lvbiBpZGVudGlmaWVyLCBpbmRpY2F0ZXMgdGhlIGNvbnRleHQgd2hlcmUgdGhlIGNhcmQgaXMgYmVpbmcgcmVxdWVzdGVkXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAgICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRDYXJkVmVyc2lvbjogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZFZlcnNpb24ocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBNb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICAgICAqIFJldHJpZXZlcyBhIG1vdmllJiMzOTtzIGZ1bGwgY2FyZCBieSBpdHMgY2xpZW50IElELCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvblxyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0Q2F0YWxvZ01vdmllOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXRhbG9nTW92aWUocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGFubmVsIGV2ZW50cyBncmlkXHJcbiAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFuZCB1cGNvbWluZyBncmlkIG9mIFRWIGV2ZW50cyBmb3IgdGhlIGdpdmVuIGNoYW5uZWxcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldENoYW5uZWxHcmlkOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsR3JpZChwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIENoYW5uZWwgbW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAgICAgKiBSZXRyaWV2ZXMgZnVsbCBjYXJkIGRldGFpbCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb24sIGZvciB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgb24gdGhlIGNoYW5uZWxcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldENoYW5uZWxNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbE1vdmllKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0IGNhcmQgbGlrZXNcclxuICAgICAgICAqIFJldHVybnMgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjYXJkcyBsaWtlZCBieSBjdXJyZW50IHVzZXJcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqIEBwYXJhbSBwYWdpbmF0ZUtleSBQYWdpbmF0ZSBrZXlcclxuICAgICAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBkZXNpcmVkIHJlc3VsdHNcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldExpa2VzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRMaWtlcyhwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIENoYW5uZWwgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICAgICAqIENoZWNrcyBpZiBhIGxpc3Qgb2YgY2xpZW50IGNoYW5uZWwgaWRlbnRpZmllcnMgYXJlIGN1cnJlbnRseSBicm9hZGNhc3Rpbmcgc3luY2hyb25pemFibGUgY29udGVudFxyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGNoYW5uZWxJZExpc3QgTGlzdCBvZiBjbGllbnQgY2hhbm5lbCBJRHMgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldFJlYWR5Q2hhbm5lbHM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5Q2hhbm5lbHMocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBNb3ZpZSBzeW5jIGF2YWlsYWJpbGl0eVxyXG4gICAgICAgICogQ2hlY2tzIHdoZXRoZXIgYSBsaXN0IG9mIGNsaWVudCBtb3ZpZSBpZGVudGlmaWVycyAoVmlkZW8gT24gRGVtYW5kKSBhcmUgYXZhaWxhYmxlIHRvIGJlIHN5bmNocm9uaXplZCB1c2luZyB0aGUgRGl2ZSBBUElcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkTGlzdCBMaXN0IG9mIGNsaWVudCBtb3ZpZSBJRHMsIHByb3ZpZGVkIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRSZWFkeU1vdmllczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0UmVhZHlNb3ZpZXMocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdGF0aWMgY2hhbm5lbCBzY2VuZVxyXG4gICAgICAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIGluIHRoZSBwcm92aWRlZCBjaGFubmVsXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0U3RhdGljQ2hhbm5lbFNjZW5lOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRTdGF0aWNDaGFubmVsU2NlbmUocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdGF0aWMgVk9EIHNjZW5lXHJcbiAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBnaXZlbiBtb3ZpZSBzY2VuZVxyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgICAgICogQHBhcmFtIHRpbWVzdGFtcCBDdXJyZW50IG1vdmllIHRpbWVzdGFtcCBpbiBzZWNvbmRzXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0U3RhdGljTW92aWVTY2VuZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0U3RhdGljTW92aWVTY2VuZShwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZCBjYXJkIGxpa2VcclxuICAgICAgICAqIFN0b3JlcyBhIGNhcmQgdW5kZXIgY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKi9cclxuICAgICAgICBwb3N0TGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RMaWtlcyhwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIFRva2VuIGVuZHBvaW50XHJcbiAgICAgICAgKiBUaGUgdG9rZW4gZW5kcG9pbnQgaXMgdXNlZCB0byBvYnRhaW4gYWNjZXNzIHRva2VucyB3aGljaCBhbGxvdyBjbGllbnRzIHRvIG1ha2UgQVBJIHJlcXVlc3RzXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBCYXNpYyBhdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0Jhc2ljICZsdDtjbGllbnRfa2V5Jmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGdyYW50VHlwZSBHcmFudCB0eXBlIHVzZWQgdG8gb2J0YWluIHRoZSB0b2tlbi5cclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gZGV2aWNlSWQgRGV2aWNlIGlkZW50aWZpZXIsIG11c3QgdW5pcXVlbHkgaWRlbnRpZnkgdGhlIHVzZXIgb3IgZGV2aWNlIGFjY2Vzc2luZyB0aGUgQVBJLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O2RldmljZV9jcmVkZW50aWFsc1xcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gUmVmcmVzaCB0b2tlbiwgdXNlZCB0byBpc3N1ZSBhIG5ldyB0b2tlbiB3aXRob3V0IHJlc2VuZGluZyBjbGllbnQgY3JlZGVudGlhbHMuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7cmVmcmVzaF90b2tlblxcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICAgICAqL1xyXG4gICAgICAgIHBvc3RUb2tlbjogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdFRva2VuKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufTtcclxuO1xyXG4vKipcclxuKiBEaXZlQVBJIC0gZXh0ZW5kZWQgb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxyXG4qL1xyXG52YXIgRGl2ZUFQSUNsYXNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKERpdmVBUElDbGFzcywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIERpdmVBUElDbGFzcyhwYXJhbXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcIlwiLCBwYXJhbXMuZmV0Y2gpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZW52aXJvbm1lbnQgPSBcIlBST1wiO1xyXG4gICAgICAgIF90aGlzLm5vQXV0aFNlcnZpY2VzID0gW1wicG9zdFJlZ2lzdGVyRGV2aWNlXCIsIFwicG9zdFJlZ2lzdGVyRW1haWxcIiwgXCJwb3N0VG9rZW5cIiwgXCJwb3N0VmVyc2lvblwiXTtcclxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91IHNob3VsZCBwcm92aWRlIGluaXRpYWxpemF0aW9uIHBhcmFtcy5cIik7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBpbml0aWFsaXphdGlvbiBwYXJhbXMuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5hcGlLZXkgPSBwYXJhbXMuYXBpS2V5O1xyXG4gICAgICAgIGlmIChwYXJhbXMuZGV2aWNlSWQpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0RGV2aWNlSWQocGFyYW1zLmRldmljZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3RoaXMuZXZlbnROYW1lc3BhY2UgPSBwYXJhbXMuZXZlbnROYW1lc3BhY2UgfHwgXCJkaXZlLWV4dGVybmFsLWFwaS1cIjtcclxuICAgICAgICBfdGhpcy5zZXRFbnZpcm9ubWVudChwYXJhbXMuZW52KTtcclxuICAgICAgICBfdGhpcy5zdG9yZVRva2VuVHlwZSA9IHBhcmFtcy5zdG9yZVRva2VuO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICAvLyB0aGlzLmNvbm5lY3Rpb25GYWlsZWRPYnNlcnZhYmxlID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZG9jdW1lbnQsIGAke3RoaXMuZXZlbnROYW1lc3BhY2V9LWNvbm5lY3Rpb24tZmFpbGVkYCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbnRlcm5hbFNlcnZlckVycm9yT2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBgJHt0aGlzLmV2ZW50TmFtZXNwYWNlfS1pbnRlcm5hbC1zZXJ2ZXItZXJyb3JgKTtcclxuICAgICAgICAvLyB0aGlzLnNlcnZpY2VUZW1wb3JhcmlseVVuYXZhaWxhYmxlT2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBgJHt0aGlzLmV2ZW50TmFtZXNwYWNlfS1zZXJ2aWNlLXVuYXZhaWxhYmxlYCk7XHJcbiAgICAgICAgLy8gdGhpcy51bnN1cHBvcnRlZE1lZGlhVHlwZUVycm9yT2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBgJHt0aGlzLmV2ZW50TmFtZXNwYWNlfS11bnN1cHBvcnRlZC1tZWRpYXR5cGVgKTtcclxuICAgICAgICAvLyB0aGlzLnVuYXV0aG9yaXplZE9ic2VydmFibGUgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgYCR7dGhpcy5ldmVudE5hbWVzcGFjZX0tdW5hdXRob3JpemVkYCk7XHJcbiAgICAgICAgLy8gdGhpcy51bmF1dGhvcml6ZWRSb2xlT2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBgJHt0aGlzLmV2ZW50TmFtZXNwYWNlfS11bmF1dGhvcml6ZWQtcm9sZWApO1xyXG4gICAgfVxyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xyXG4gICAgICAgIHRoaXMuZGV2aWNlSWQgPSBkZXZpY2VJZDtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldFNhdmVkVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0b3JlVG9rZW5UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjb29raWVzXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUb2tlbkZyb21Db29raWVzKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRUb2tlbkZyb21XZWJTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldFRva2VuRnJvbVdlYlN0b3JhZ2UoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zZXRFbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChlbnYpIHtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gZW52O1xyXG4gICAgICAgIHN3aXRjaCAoZW52KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERVZcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBCQVNFX1BBVEgucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiaHR0cHM6Ly9kZXYtXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJQUkVcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBCQVNFX1BBVEgucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiaHR0cHM6Ly9wcmUtXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJQUk9cIjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBCQVNFX1BBVEg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUud3JpdGVUb2tlbiA9IGZ1bmN0aW9uIChuZXdUb2tlbikge1xyXG4gICAgICAgIGlmIChuZXdUb2tlbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc3RvcmVUb2tlblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjb29raWVzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVRva2VuVG9Db29raWUobmV3VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVG9rZW5Ub1dlYlN0b3JhZ2UobmV3VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpdmVUb2tlblJlZnJlc2hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kaXZlVG9rZW5SZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXZlVG9rZW5SZWZyZXNoSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5ld1Rva2VuLmV4cGlyZXNfaW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGl2ZVRva2VuUmVmcmVzaEludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHRoaXMucmVmcmVzaFRva2VuLmJpbmQodGhpcyksIChNYXRoLm1heCgxMDAwMCwgbmV3VG9rZW4uZXhwaXJlc19pbiAtIDYwKSAqIDEwMDApKTsgLy8gNjAgc2Vjb25kcyBiZWZvcmUgZXhwaXJhdGlvbiAoaW4gbXMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nYXRoZXJDb21tb25IZWFkZXJzID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgIHZhciBuZXdQYXJhbXMgPSB7fTtcclxuICAgICAgICBpZiAoIXBhcmFtcykge1xyXG4gICAgICAgICAgICBwYXJhbXMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbmV3UGFyYW1zW1wiVXNlci1BZ2VudFwiXSA9IFwiZm9vXCI7XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNvbm5lY3Rpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuZXdQYXJhbXMuY29ubmVjdGlvbiA9IFwia2VlcC1hbGl2ZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zW1wiYWNjZXB0RW5jb2RpbmdcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuZXdQYXJhbXMuYWNjZXB0RW5jb2RpbmcgPSBcImd6aXAsIGRlZmxhdGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCAmJiB0aGlzLmdldFNhdmVkVG9rZW4oKSkge1xyXG4gICAgICAgICAgICBuZXdQYXJhbXMuYXV0aG9yaXphdGlvbiA9IFwiXCIgKyB0aGlzLmdldFNhdmVkVG9rZW4oKS50b2tlbl90eXBlLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5nZXRTYXZlZFRva2VuKCkudG9rZW5fdHlwZS5zdWJzdHJpbmcoMSkgKyBcIiBcIiArIHRoaXMuZ2V0U2F2ZWRUb2tlbigpLmFjY2Vzc190b2tlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld1BhcmFtcy5hdXRob3JpemF0aW9uID0gXCJCYXNpYyBcIiArIHRoaXMuYXBpS2V5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0gPT0gbnVsbCAmJiB0aGlzLmxvY2FsZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuZXdQYXJhbXMuYWNjZXB0TGFuZ3VhZ2UgPSB0aGlzLmxvY2FsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBuZXdQYXJhbXMsIHBhcmFtcyk7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5kZWxldGVTYXZlZFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdG9yZVRva2VuVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY29va2llc1wiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVUb2tlbkZyb21Db29raWVzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9rZW5Gcm9tV2ViU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnBvc3RUb2tlbkFuZFNhdmUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmRlbGV0ZVNhdmVkVG9rZW4oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX19hc3NpZ24oe30sIF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKSwgeyBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gX3RoaXMucG9zdFRva2VuKG5ld1BhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QudGhlbihmdW5jdGlvbiAobmV3VG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLndyaXRlVG9rZW4obmV3VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zeW5jV2l0aE1vdmllVk9EID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgIGlmICghcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yLCBtaXNzaW5nIHBhcmFtZXRlcnMgb2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBhcmFtcy5tb3ZpZUlkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yLCBtaXNzaW5nIG1vdmllSWQgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBhcmFtcy50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IsIG1pc3NpbmcgdGltZXN0YW1wIHBhcmFtZXRlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zeW5jV2l0aE1vdmllKHsgbW92aWVJZDogcGFyYW1zLm1vdmllSWQsIHRpbWVzdGFtcDogcGFyYW1zLnRpbWVzdGFtcCwgY2FsbGJhY2tzOiBwYXJhbXMuY2FsbGJhY2tzIH0pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc3luY1dpdGhNb3ZpZVN0cmVhbWluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICBpZiAoIXBhcmFtcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgbWlzc2luZyBwYXJhbWV0ZXJzIG9iamVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJhbXMuY2hhbm5lbElkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yLCBtaXNzaW5nIGNoYW5uZWxJZCBwYXJhbWV0ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3luY1dpdGhNb3ZpZSh7IGNoYW5uZWxJZDogcGFyYW1zLmNoYW5uZWxJZCwgcHJvdG9jb2w6IHBhcmFtcy5wcm90b2NvbCwgY2FsbGJhY2tzOiBwYXJhbXMuY2FsbGJhY2tzIH0pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc3luY1dpdGhNb3ZpZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2xlYXJTb2NrZXQoKTtcclxuICAgICAgICBpZiAoIXBhcmFtcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgbWlzc2luZyBwYXJhbWV0ZXJzIG9iamVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb3RvY29sID0gcGFyYW1zLnByb3RvY29sIHx8IFwiaHR0cHNcIjtcclxuICAgICAgICB2YXIgdXJsID0gXCJzdHJlYW0uZGl2ZS50dlwiO1xyXG4gICAgICAgIHZhciBzeW5jVHlwZSA9IFwiY2hhbm5lbHNcIjtcclxuICAgICAgICAvLyBsZXQgcXVlcnk6IGFueSA9IHt0b2tlbjogYCR7dGhpcy5nZXRTYXZlZFRva2VuKCkuYWNjZXNzX3Rva2VufWB9O1xyXG4gICAgICAgIHZhciBxdWVyeSA9IHt9O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5lbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiREVWXCI6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBwcm90b2NvbCArIFwiOi8vZGV2LVwiICsgdXJsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJQUkVcIjpcclxuICAgICAgICAgICAgICAgIHVybCA9IHByb3RvY29sICsgXCI6Ly9wcmUtXCIgKyB1cmw7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHVybCA9IHByb3RvY29sICsgXCI6Ly9cIiArIHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJhbXMuY2hhbm5lbElkICYmIHBhcmFtcy5tb3ZpZUlkICYmIHBhcmFtcy50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgc3luY1R5cGUgPSBcIm1vdmllc1wiO1xyXG4gICAgICAgICAgICBxdWVyeS5tb3ZpZV9pZCA9IHBhcmFtcy5tb3ZpZUlkO1xyXG4gICAgICAgICAgICBxdWVyeS50aW1lc3RhbXAgPSBwYXJhbXMudGltZXN0YW1wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnkuY2hhbm5lbF9pZCA9IHBhcmFtcy5jaGFubmVsSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVybCArPSBcIi9cIiArIHN5bmNUeXBlO1xyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gaW8odXJsLCB7XHJcbiAgICAgICAgICAgIHBhdGg6IFwiL3YxL3N0cmVhbVwiLFxyXG4gICAgICAgICAgICBtdWx0aXBsZXg6IGZhbHNlLFxyXG4gICAgICAgICAgICByZWNvbm5lY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcclxuICAgICAgICAgICAgLy8gZm9yY2VOZXc6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsXHJcbiAgICAgICAgICAgIC8vIHNlY3VyZTogdHJ1ZSxcclxuICAgICAgICAgICAgdHJhbnNwb3J0czogW1wid2Vic29ja2V0XCJdLFxyXG4gICAgICAgICAgICBleHRyYUhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiB0aGlzLmxvY2FsZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc29ja2V0LmVtaXQoJ2F1dGhlbnRpY2F0ZScsIHsgdG9rZW46IF90aGlzLmdldFNhdmVkVG9rZW4oKS5hY2Nlc3NfdG9rZW4gfSlcclxuICAgICAgICAgICAgICAgIC5vbignYXV0aGVudGljYXRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXV0aG9yaXplZFwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbigndW5hdXRob3JpemVkJywgZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1bmF1dGhvcml6ZWQ6IFwiICsgSlNPTi5zdHJpbmdpZnkobXNnLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cuZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU09DS0VUIGVycm9yXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25FcnJvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignbW92aWVfc3RhcnQnLCBmdW5jdGlvbiAobW92aWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25Nb3ZpZVN0YXJ0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY2FsbGJhY2tzLm9uTW92aWVTdGFydChtb3ZpZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdmllX2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25Nb3ZpZUVuZCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vbk1vdmllRW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3NjZW5lX3N0YXJ0JywgZnVuY3Rpb24gKHNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uU2NlbmVTdGFydCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vblNjZW5lU3RhcnQoc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdzY2VuZV91cGRhdGUnLCBmdW5jdGlvbiAoc2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25TY2VuZVVwZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vblNjZW5lVXBkYXRlKHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignc2NlbmVfZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jYWxsYmFja3MgJiYgcGFyYW1zLmNhbGxiYWNrcy5vblNjZW5lRW5kIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY2FsbGJhY2tzLm9uU2NlbmVFbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbigncGF1c2Vfc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uUGF1c2VTdGFydCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vblBhdXNlU3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbigncGF1c2VfZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jYWxsYmFja3MgJiYgcGFyYW1zLmNhbGxiYWNrcy5vblBhdXNlRW5kIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY2FsbGJhY2tzLm9uUGF1c2VFbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5jbGVhclNvY2tldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0LmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuZGlzY29ubmVjdCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNvY2tldCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogRGVsZXRlIGNhcmQgbGlrZVxyXG4gICAgKiBSZW1vdmVzIGEgY2FyZCBmcm9tIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZGVsZXRlTGlrZXMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5kZWxldGVMaWtlcyhuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGRlbGV0ZUxpa2VzXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImRlbGV0ZUxpa2VzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZGVsZXRlTGlrZXMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBGdWxsIGNhcmQgZGV0YWlsXHJcbiAgICAqIFJldHJpZXZlcyBhIGZ1bGwgY2FyZCBkZXRhaWwsIHdpdGggbm8gcmVsYXRpb25zIG9yIGNvbnRleHRcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRDYXJkID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZChuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldENhcmRcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0Q2FyZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmQobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBGdWxsIGNhcmQgZGV0YWlsIHdpdGggdmVyc2lvblxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCBhbmQgaXRzIHJlbGF0aW9ucyB0byBvdGhlciBjYXJkcyBpbiBhIGdpdmVuIGNvbnRleHQgKGNhcmQgdmVyc2lvbilcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICogQHBhcmFtIHZlcnNpb24gVmVyc2lvbiBpZGVudGlmaWVyLCBpbmRpY2F0ZXMgdGhlIGNvbnRleHQgd2hlcmUgdGhlIGNhcmQgaXMgYmVpbmcgcmVxdWVzdGVkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0Q2FyZFZlcnNpb24gPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXJkVmVyc2lvbihuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldENhcmRWZXJzaW9uXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldENhcmRWZXJzaW9uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZFZlcnNpb24obmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBNb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICogUmV0cmlldmVzIGEgbW92aWUmIzM5O3MgZnVsbCBjYXJkIGJ5IGl0cyBjbGllbnQgSUQsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldENhdGFsb2dNb3ZpZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhdGFsb2dNb3ZpZShuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldENhdGFsb2dNb3ZpZVwiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJnZXRDYXRhbG9nTW92aWVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXRhbG9nTW92aWUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIGV2ZW50cyBncmlkXHJcbiAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYW5kIHVwY29taW5nIGdyaWQgb2YgVFYgZXZlbnRzIGZvciB0aGUgZ2l2ZW4gY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRDaGFubmVsR3JpZCA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENoYW5uZWxHcmlkKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gZ2V0Q2hhbm5lbEdyaWRcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0Q2hhbm5lbEdyaWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsR3JpZChuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgbW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAqIFJldHJpZXZlcyBmdWxsIGNhcmQgZGV0YWlsLCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvbiwgZm9yIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBvbiB0aGUgY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRDaGFubmVsTW92aWUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsTW92aWUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRDaGFubmVsTW92aWVcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0Q2hhbm5lbE1vdmllXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbE1vdmllKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogR2V0IGNhcmQgbGlrZXNcclxuICAgICogUmV0dXJucyBhIHBhZ2luYXRlZCBsaXN0IG9mIGNhcmRzIGxpa2VkIGJ5IGN1cnJlbnQgdXNlclxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKiBAcGFyYW0gcGFnaW5hdGVLZXkgUGFnaW5hdGUga2V5XHJcbiAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBkZXNpcmVkIHJlc3VsdHNcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldExpa2VzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0TGlrZXMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRMaWtlc1wiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJnZXRMaWtlc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldExpa2VzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBzeW5jIGF2YWlsYWJpbGl0eVxyXG4gICAgKiBDaGVja3MgaWYgYSBsaXN0IG9mIGNsaWVudCBjaGFubmVsIGlkZW50aWZpZXJzIGFyZSBjdXJyZW50bHkgYnJvYWRjYXN0aW5nIHN5bmNocm9uaXphYmxlIGNvbnRlbnRcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkTGlzdCBMaXN0IG9mIGNsaWVudCBjaGFubmVsIElEcyBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRSZWFkeUNoYW5uZWxzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0UmVhZHlDaGFubmVscyhuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldFJlYWR5Q2hhbm5lbHNcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0UmVhZHlDaGFubmVsc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5Q2hhbm5lbHMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBNb3ZpZSBzeW5jIGF2YWlsYWJpbGl0eVxyXG4gICAgKiBDaGVja3Mgd2hldGhlciBhIGxpc3Qgb2YgY2xpZW50IG1vdmllIGlkZW50aWZpZXJzIChWaWRlbyBPbiBEZW1hbmQpIGFyZSBhdmFpbGFibGUgdG8gYmUgc3luY2hyb25pemVkIHVzaW5nIHRoZSBEaXZlIEFQSVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkTGlzdCBMaXN0IG9mIGNsaWVudCBtb3ZpZSBJRHMsIHByb3ZpZGVkIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldFJlYWR5TW92aWVzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0UmVhZHlNb3ZpZXMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRSZWFkeU1vdmllc1wiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJnZXRSZWFkeU1vdmllc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5TW92aWVzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogU3RhdGljIGNoYW5uZWwgc2NlbmVcclxuICAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIGluIHRoZSBwcm92aWRlZCBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldFN0YXRpY0NoYW5uZWxTY2VuZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY0NoYW5uZWxTY2VuZShuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldFN0YXRpY0NoYW5uZWxTY2VuZVwiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJnZXRTdGF0aWNDaGFubmVsU2NlbmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRTdGF0aWNDaGFubmVsU2NlbmUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBTdGF0aWMgVk9EIHNjZW5lXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGdpdmVuIG1vdmllIHNjZW5lXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgKiBAcGFyYW0gdGltZXN0YW1wIEN1cnJlbnQgbW92aWUgdGltZXN0YW1wIGluIHNlY29uZHNcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRTdGF0aWNNb3ZpZVNjZW5lID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0U3RhdGljTW92aWVTY2VuZShuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldFN0YXRpY01vdmllU2NlbmVcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0U3RhdGljTW92aWVTY2VuZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY01vdmllU2NlbmUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBBZGQgY2FyZCBsaWtlXHJcbiAgICAqIFN0b3JlcyBhIGNhcmQgdW5kZXIgY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5wb3N0TGlrZXMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5wb3N0TGlrZXMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBwb3N0TGlrZXNcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwicG9zdExpa2VzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdExpa2VzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogVG9rZW4gZW5kcG9pbnRcclxuICAgICogVGhlIHRva2VuIGVuZHBvaW50IGlzIHVzZWQgdG8gb2J0YWluIGFjY2VzcyB0b2tlbnMgd2hpY2ggYWxsb3cgY2xpZW50cyB0byBtYWtlIEFQSSByZXF1ZXN0c1xyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBCYXNpYyBhdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0Jhc2ljICZsdDtjbGllbnRfa2V5Jmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gZ3JhbnRUeXBlIEdyYW50IHR5cGUgdXNlZCB0byBvYnRhaW4gdGhlIHRva2VuLlxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gZGV2aWNlSWQgRGV2aWNlIGlkZW50aWZpZXIsIG11c3QgdW5pcXVlbHkgaWRlbnRpZnkgdGhlIHVzZXIgb3IgZGV2aWNlIGFjY2Vzc2luZyB0aGUgQVBJLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O2RldmljZV9jcmVkZW50aWFsc1xcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICogQHBhcmFtIHJlZnJlc2hUb2tlbiBSZWZyZXNoIHRva2VuLCB1c2VkIHRvIGlzc3VlIGEgbmV3IHRva2VuIHdpdGhvdXQgcmVzZW5kaW5nIGNsaWVudCBjcmVkZW50aWFscy4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtyZWZyZXNoX3Rva2VuXFwmcXVvdDsgZ3JhbnQgdHlwZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUucG9zdFRva2VuID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdFRva2VuKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gcG9zdFRva2VuXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcInBvc3RUb2tlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RUb2tlbihuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zZXJ2aWNlUmVxdWlyZXNUb2tlbiA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9BdXRoU2VydmljZXMuaW5kZXhPZihtZXRob2ROYW1lKSA9PT0gLTE7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS53cml0ZVRva2VuVG9Db29raWUgPSBmdW5jdGlvbiAobmV3VG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRDb29raWUoXCJkaXZlX3Rva2VuXCIsIEpTT04uc3RyaW5naWZ5KG5ld1Rva2VuKSwgbmV3VG9rZW4uZXhwaXJlc19pbik7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS53cml0ZVRva2VuVG9XZWJTdG9yYWdlID0gZnVuY3Rpb24gKG5ld1Rva2VuKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZGl2ZV90b2tlblwiLCBKU09OLnN0cmluZ2lmeShuZXdUb2tlbikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnJlZnJlc2hUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyclRva2VuID0gdGhpcy5nZXRTYXZlZFRva2VuKCk7XHJcbiAgICAgICAgdmFyIGF1dGggPSBcIkJhc2ljIFwiICsgdGhpcy5hcGlLZXk7XHJcbiAgICAgICAgaWYgKGN1cnJUb2tlbiAmJiBjdXJyVG9rZW4ucmVmcmVzaF90b2tlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcInJlZnJlc2hfdG9rZW5cIiwgcmVmcmVzaFRva2VuOiBjdXJyVG9rZW4ucmVmcmVzaF90b2tlbiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiB0aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnNldENvb2tpZSA9IGZ1bmN0aW9uIChjbmFtZSwgY3ZhbHVlLCBleGRheXMpIHtcclxuICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKGV4ZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD0vXCI7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRDb29raWUgPSBmdW5jdGlvbiAoY25hbWUpIHtcclxuICAgICAgICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICAgICAgdmFyIGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTtcclxuICAgICAgICB2YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xyXG4gICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldFRva2VuRnJvbUNvb2tpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy5nZXRDb29raWUoXCJkaXZlX3Rva2VuXCIpO1xyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldFRva2VuRnJvbVdlYlN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJkaXZlX3Rva2VuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZGVsZXRlVG9rZW5Gcm9tV2ViU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJkaXZlX3Rva2VuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmRlbGV0ZVRva2VuRnJvbUNvb2tpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBcImRpdmVfdG9rZW5cIjtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgJz07ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDsnO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEaXZlQVBJQ2xhc3M7XHJcbn0oRGVmYXVsdEFwaSkpO1xyXG5leHBvcnRzLkRpdmVBUElDbGFzcyA9IERpdmVBUElDbGFzcztcclxuXG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5cblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5cblxudmFyIHB1bnljb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG52YXIgdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihtb2R1bGUsIGdsb2JhbCkge3ZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0cnVlXG5cdCkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxNCkobW9kdWxlKSwgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cbi8vIG9uIHRoZSBnbG9iYWwgb2JqZWN0ICh3aW5kb3cgb3Igc2VsZilcbi8vXG4vLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcbm1vZHVsZS5leHBvcnRzID0gc2VsZi5mZXRjaC5iaW5kKHNlbGYpO1xuXG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xudmFyIE1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ3NvY2tldC5pby1jbGllbnQnKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBsb29rdXA7XG5cbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cblxudmFyIGNhY2hlID0gZXhwb3J0cy5tYW5hZ2VycyA9IHt9O1xuXG4vKipcbiAqIExvb2tzIHVwIGFuIGV4aXN0aW5nIGBNYW5hZ2VyYCBmb3IgbXVsdGlwbGV4aW5nLlxuICogSWYgdGhlIHVzZXIgc3VtbW9uczpcbiAqXG4gKiAgIGBpbygnaHR0cDovL2xvY2FsaG9zdC9hJyk7YFxuICogICBgaW8oJ2h0dHA6Ly9sb2NhbGhvc3QvYicpO2BcbiAqXG4gKiBXZSByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UgYmFzZWQgb24gc2FtZSBzY2hlbWUvcG9ydC9ob3N0LFxuICogYW5kIHdlIGluaXRpYWxpemUgc29ja2V0cyBmb3IgZWFjaCBuYW1lc3BhY2UuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb29rdXAgKHVyaSwgb3B0cykge1xuICBpZiAodHlwZW9mIHVyaSA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRzID0gdXJpO1xuICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHZhciBwYXJzZWQgPSB1cmwodXJpKTtcbiAgdmFyIHNvdXJjZSA9IHBhcnNlZC5zb3VyY2U7XG4gIHZhciBpZCA9IHBhcnNlZC5pZDtcbiAgdmFyIHBhdGggPSBwYXJzZWQucGF0aDtcbiAgdmFyIHNhbWVOYW1lc3BhY2UgPSBjYWNoZVtpZF0gJiYgcGF0aCBpbiBjYWNoZVtpZF0ubnNwcztcbiAgdmFyIG5ld0Nvbm5lY3Rpb24gPSBvcHRzLmZvcmNlTmV3IHx8IG9wdHNbJ2ZvcmNlIG5ldyBjb25uZWN0aW9uJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA9PT0gb3B0cy5tdWx0aXBsZXggfHwgc2FtZU5hbWVzcGFjZTtcblxuICB2YXIgaW87XG5cbiAgaWYgKG5ld0Nvbm5lY3Rpb24pIHtcbiAgICBkZWJ1ZygnaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlcycsIHNvdXJjZSk7XG4gICAgaW8gPSBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFjYWNoZVtpZF0pIHtcbiAgICAgIGRlYnVnKCduZXcgaW8gaW5zdGFuY2UgZm9yICVzJywgc291cmNlKTtcbiAgICAgIGNhY2hlW2lkXSA9IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgaW8gPSBjYWNoZVtpZF07XG4gIH1cbiAgaWYgKHBhcnNlZC5xdWVyeSAmJiAhb3B0cy5xdWVyeSkge1xuICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnk7XG4gIH1cbiAgcmV0dXJuIGlvLnNvY2tldChwYXJzZWQucGF0aCwgb3B0cyk7XG59XG5cbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucHJvdG9jb2wgPSBwYXJzZXIucHJvdG9jb2w7XG5cbi8qKlxuICogYGNvbm5lY3RgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmlcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb25uZWN0ID0gbG9va3VwO1xuXG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMgZm9yIHN0YW5kYWxvbmUgYnVpbGQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLk1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbmV4cG9ydHMuU29ja2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHBhcnNldXJpID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKCdzb2NrZXQuaW8tY2xpZW50OnVybCcpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gdXJsO1xuXG4vKipcbiAqIFVSTCBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtPYmplY3R9IEFuIG9iamVjdCBtZWFudCB0byBtaW1pYyB3aW5kb3cubG9jYXRpb24uXG4gKiAgICAgICAgICAgICAgICAgRGVmYXVsdHMgdG8gd2luZG93LmxvY2F0aW9uLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiB1cmwgKHVyaSwgbG9jKSB7XG4gIHZhciBvYmogPSB1cmk7XG5cbiAgLy8gZGVmYXVsdCB0byB3aW5kb3cubG9jYXRpb25cbiAgbG9jID0gbG9jIHx8IGdsb2JhbC5sb2NhdGlvbjtcbiAgaWYgKG51bGwgPT0gdXJpKSB1cmkgPSBsb2MucHJvdG9jb2wgKyAnLy8nICsgbG9jLmhvc3Q7XG5cbiAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHVyaSkge1xuICAgIGlmICgnLycgPT09IHVyaS5jaGFyQXQoMCkpIHtcbiAgICAgIGlmICgnLycgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgdXJpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJpID0gbG9jLmhvc3QgKyB1cmk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCEvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHVyaSkpIHtcbiAgICAgIGRlYnVnKCdwcm90b2NvbC1sZXNzIHVybCAlcycsIHVyaSk7XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgJy8vJyArIHVyaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVyaSA9ICdodHRwczovLycgKyB1cmk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcGFyc2VcbiAgICBkZWJ1ZygncGFyc2UgJXMnLCB1cmkpO1xuICAgIG9iaiA9IHBhcnNldXJpKHVyaSk7XG4gIH1cblxuICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgaWYgKCFvYmoucG9ydCkge1xuICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgb2JqLnBvcnQgPSAnODAnO1xuICAgIH0gZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICBvYmoucG9ydCA9ICc0NDMnO1xuICAgIH1cbiAgfVxuXG4gIG9iai5wYXRoID0gb2JqLnBhdGggfHwgJy8nO1xuXG4gIHZhciBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZignOicpICE9PSAtMTtcbiAgdmFyIGhvc3QgPSBpcHY2ID8gJ1snICsgb2JqLmhvc3QgKyAnXScgOiBvYmouaG9zdDtcblxuICAvLyBkZWZpbmUgdW5pcXVlIGlkXG4gIG9iai5pZCA9IG9iai5wcm90b2NvbCArICc6Ly8nICsgaG9zdCArICc6JyArIG9iai5wb3J0O1xuICAvLyBkZWZpbmUgaHJlZlxuICBvYmouaHJlZiA9IG9iai5wcm90b2NvbCArICc6Ly8nICsgaG9zdCArIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gJycgOiAoJzonICsgb2JqLnBvcnQpKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtcyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHJldHVybiBwbHVyYWwobXMsIGQsICdkYXknKSB8fFxuICAgIHBsdXJhbChtcywgaCwgJ2hvdXInKSB8fFxuICAgIHBsdXJhbChtcywgbSwgJ21pbnV0ZScpIHx8XG4gICAgcGx1cmFsKG1zLCBzLCAnc2Vjb25kJykgfHxcbiAgICBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtcyA8IG4gKiAxLjUpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgJyAnICsgbmFtZTtcbiAgfVxuICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAnICcgKyBuYW1lICsgJ3MnO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LypnbG9iYWwgQmxvYixGaWxlKi9cblxuLyoqXG4gKiBNb2R1bGUgcmVxdWlyZW1lbnRzXG4gKi9cblxudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcbnZhciBpc0J1ZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBnbG9iYWwuQmxvYiA9PT0gJ2Z1bmN0aW9uJyB8fCB0b1N0cmluZy5jYWxsKGdsb2JhbC5CbG9iKSA9PT0gJ1tvYmplY3QgQmxvYkNvbnN0cnVjdG9yXSc7XG52YXIgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgZ2xvYmFsLkZpbGUgPT09ICdmdW5jdGlvbicgfHwgdG9TdHJpbmcuY2FsbChnbG9iYWwuRmlsZSkgPT09ICdbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl0nO1xuXG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIGluIHBhY2tldCB3aXRoIGEgbnVtYmVyZWQgcGxhY2Vob2xkZXIuXG4gKiBBbnl0aGluZyB3aXRoIGJsb2JzIG9yIGZpbGVzIHNob3VsZCBiZSBmZWQgdGhyb3VnaCByZW1vdmVCbG9icyBiZWZvcmUgY29taW5nXG4gKiBoZXJlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBzb2NrZXQuaW8gZXZlbnQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggZGVjb25zdHJ1Y3RlZCBwYWNrZXQgYW5kIGxpc3Qgb2YgYnVmZmVyc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmRlY29uc3RydWN0UGFja2V0ID0gZnVuY3Rpb24ocGFja2V0KSB7XG4gIHZhciBidWZmZXJzID0gW107XG4gIHZhciBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gIHZhciBwYWNrID0gcGFja2V0O1xuICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gIHBhY2suYXR0YWNobWVudHMgPSBidWZmZXJzLmxlbmd0aDsgLy8gbnVtYmVyIG9mIGJpbmFyeSAnYXR0YWNobWVudHMnXG4gIHJldHVybiB7cGFja2V0OiBwYWNrLCBidWZmZXJzOiBidWZmZXJzfTtcbn07XG5cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gIGlmICghZGF0YSkgcmV0dXJuIGRhdGE7XG5cbiAgaWYgKGlzQnVmKGRhdGEpKSB7XG4gICAgdmFyIHBsYWNlaG9sZGVyID0geyBfcGxhY2Vob2xkZXI6IHRydWUsIG51bTogYnVmZmVycy5sZW5ndGggfTtcbiAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICB2YXIgbmV3RGF0YSA9IG5ldyBBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgIShkYXRhIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICB2YXIgbmV3RGF0YSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICBuZXdEYXRhW2tleV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0RhdGE7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnJlY29uc3RydWN0UGFja2V0ID0gZnVuY3Rpb24ocGFja2V0LCBidWZmZXJzKSB7XG4gIHBhY2tldC5kYXRhID0gX3JlY29uc3RydWN0UGFja2V0KHBhY2tldC5kYXRhLCBidWZmZXJzKTtcbiAgcGFja2V0LmF0dGFjaG1lbnRzID0gdW5kZWZpbmVkOyAvLyBubyBsb25nZXIgdXNlZnVsXG4gIHJldHVybiBwYWNrZXQ7XG59O1xuXG5mdW5jdGlvbiBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICBpZiAoIWRhdGEpIHJldHVybiBkYXRhO1xuXG4gIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyKSB7XG4gICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhW2ldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgcmVtb3ZlcyBCbG9icyBvciBGaWxlcyBmcm9tIGRhdGEgdmlhXG4gKiBGaWxlUmVhZGVyJ3MgcmVhZEFzQXJyYXlCdWZmZXIgbWV0aG9kLiBVc2VkIGJlZm9yZSBlbmNvZGluZ1xuICogZGF0YSBhcyBtc2dwYWNrLiBDYWxscyBjYWxsYmFjayB3aXRoIHRoZSBibG9ibGVzcyBkYXRhLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5yZW1vdmVCbG9icyA9IGZ1bmN0aW9uKGRhdGEsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIF9yZW1vdmVCbG9icyhvYmosIGN1cktleSwgY29udGFpbmluZ09iamVjdCkge1xuICAgIGlmICghb2JqKSByZXR1cm4gb2JqO1xuXG4gICAgLy8gY29udmVydCBhbnkgYmxvYlxuICAgIGlmICgod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVGaWxlICYmIG9iaiBpbnN0YW5jZW9mIEZpbGUpKSB7XG4gICAgICBwZW5kaW5nQmxvYnMrKztcblxuICAgICAgLy8gYXN5bmMgZmlsZXJlYWRlclxuICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHsgLy8gdGhpcy5yZXN1bHQgPT0gYXJyYXlidWZmZXJcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdPYmplY3QpIHtcbiAgICAgICAgICBjb250YWluaW5nT2JqZWN0W2N1cktleV0gPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBibG9ibGVzc0RhdGEgPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIG5vdGhpbmcgcGVuZGluZyBpdHMgY2FsbGJhY2sgdGltZVxuICAgICAgICBpZighIC0tcGVuZGluZ0Jsb2JzKSB7XG4gICAgICAgICAgY2FsbGJhY2soYmxvYmxlc3NEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihvYmopOyAvLyBibG9iIC0+IGFycmF5YnVmZmVyXG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikpIHsgLy8gaGFuZGxlIGFycmF5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBfcmVtb3ZlQmxvYnMob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIWlzQnVmKG9iaikpIHsgLy8gYW5kIG9iamVjdFxuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBfcmVtb3ZlQmxvYnMob2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgcGVuZGluZ0Jsb2JzID0gMDtcbiAgdmFyIGJsb2JsZXNzRGF0YSA9IGRhdGE7XG4gIF9yZW1vdmVCbG9icyhibG9ibGVzc0RhdGEpO1xuICBpZiAoIXBlbmRpbmdCbG9icykge1xuICAgIGNhbGxiYWNrKGJsb2JsZXNzRGF0YSk7XG4gIH1cbn07XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblxuXG4vKioqLyB9KSxcbi8qIDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxuLyoqXG4gKiBFeHBvcnRzIHBhcnNlclxuICpcbiAqIEBhcGkgcHVibGljXG4gKlxuICovXG5tb2R1bGUuZXhwb3J0cy5wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cbi8qKiovIH0pLFxuLyogNDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgdHJhbnNwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnZW5naW5lLmlvLWNsaWVudDpzb2NrZXQnKTtcbnZhciBpbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgcGFyc2V1cmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBwYXJzZWpzb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcbnZhciBwYXJzZXFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvY2tldDtcblxuLyoqXG4gKiBTb2NrZXQgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB1cmkgb3Igb3B0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gU29ja2V0ICh1cmksIG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNvY2tldCkpIHJldHVybiBuZXcgU29ja2V0KHVyaSwgb3B0cyk7XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKHVyaSAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHVyaSkge1xuICAgIG9wdHMgPSB1cmk7XG4gICAgdXJpID0gbnVsbDtcbiAgfVxuXG4gIGlmICh1cmkpIHtcbiAgICB1cmkgPSBwYXJzZXVyaSh1cmkpO1xuICAgIG9wdHMuaG9zdG5hbWUgPSB1cmkuaG9zdDtcbiAgICBvcHRzLnNlY3VyZSA9IHVyaS5wcm90b2NvbCA9PT0gJ2h0dHBzJyB8fCB1cmkucHJvdG9jb2wgPT09ICd3c3MnO1xuICAgIG9wdHMucG9ydCA9IHVyaS5wb3J0O1xuICAgIGlmICh1cmkucXVlcnkpIG9wdHMucXVlcnkgPSB1cmkucXVlcnk7XG4gIH0gZWxzZSBpZiAob3B0cy5ob3N0KSB7XG4gICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNldXJpKG9wdHMuaG9zdCkuaG9zdDtcbiAgfVxuXG4gIHRoaXMuc2VjdXJlID0gbnVsbCAhPSBvcHRzLnNlY3VyZSA/IG9wdHMuc2VjdXJlXG4gICAgOiAoZ2xvYmFsLmxvY2F0aW9uICYmICdodHRwczonID09PSBsb2NhdGlvbi5wcm90b2NvbCk7XG5cbiAgaWYgKG9wdHMuaG9zdG5hbWUgJiYgIW9wdHMucG9ydCkge1xuICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICBvcHRzLnBvcnQgPSB0aGlzLnNlY3VyZSA/ICc0NDMnIDogJzgwJztcbiAgfVxuXG4gIHRoaXMuYWdlbnQgPSBvcHRzLmFnZW50IHx8IGZhbHNlO1xuICB0aGlzLmhvc3RuYW1lID0gb3B0cy5ob3N0bmFtZSB8fFxuICAgIChnbG9iYWwubG9jYXRpb24gPyBsb2NhdGlvbi5ob3N0bmFtZSA6ICdsb2NhbGhvc3QnKTtcbiAgdGhpcy5wb3J0ID0gb3B0cy5wb3J0IHx8IChnbG9iYWwubG9jYXRpb24gJiYgbG9jYXRpb24ucG9ydFxuICAgICAgPyBsb2NhdGlvbi5wb3J0XG4gICAgICA6ICh0aGlzLnNlY3VyZSA/IDQ0MyA6IDgwKSk7XG4gIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5IHx8IHt9O1xuICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB0aGlzLnF1ZXJ5KSB0aGlzLnF1ZXJ5ID0gcGFyc2Vxcy5kZWNvZGUodGhpcy5xdWVyeSk7XG4gIHRoaXMudXBncmFkZSA9IGZhbHNlICE9PSBvcHRzLnVwZ3JhZGU7XG4gIHRoaXMucGF0aCA9IChvcHRzLnBhdGggfHwgJy9lbmdpbmUuaW8nKS5yZXBsYWNlKC9cXC8kLywgJycpICsgJy8nO1xuICB0aGlzLmZvcmNlSlNPTlAgPSAhIW9wdHMuZm9yY2VKU09OUDtcbiAgdGhpcy5qc29ucCA9IGZhbHNlICE9PSBvcHRzLmpzb25wO1xuICB0aGlzLmZvcmNlQmFzZTY0ID0gISFvcHRzLmZvcmNlQmFzZTY0O1xuICB0aGlzLmVuYWJsZXNYRFIgPSAhIW9wdHMuZW5hYmxlc1hEUjtcbiAgdGhpcy50aW1lc3RhbXBQYXJhbSA9IG9wdHMudGltZXN0YW1wUGFyYW0gfHwgJ3QnO1xuICB0aGlzLnRpbWVzdGFtcFJlcXVlc3RzID0gb3B0cy50aW1lc3RhbXBSZXF1ZXN0cztcbiAgdGhpcy50cmFuc3BvcnRzID0gb3B0cy50cmFuc3BvcnRzIHx8IFsncG9sbGluZycsICd3ZWJzb2NrZXQnXTtcbiAgdGhpcy50cmFuc3BvcnRPcHRpb25zID0gb3B0cy50cmFuc3BvcnRPcHRpb25zIHx8IHt9O1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnJztcbiAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICB0aGlzLnBvbGljeVBvcnQgPSBvcHRzLnBvbGljeVBvcnQgfHwgODQzO1xuICB0aGlzLnJlbWVtYmVyVXBncmFkZSA9IG9wdHMucmVtZW1iZXJVcGdyYWRlIHx8IGZhbHNlO1xuICB0aGlzLmJpbmFyeVR5cGUgPSBudWxsO1xuICB0aGlzLm9ubHlCaW5hcnlVcGdyYWRlcyA9IG9wdHMub25seUJpbmFyeVVwZ3JhZGVzO1xuICB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlID0gZmFsc2UgIT09IG9wdHMucGVyTWVzc2FnZURlZmxhdGUgPyAob3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSB8fCB7fSkgOiBmYWxzZTtcblxuICBpZiAodHJ1ZSA9PT0gdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSkgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHt9O1xuICBpZiAodGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSAmJiBudWxsID09IHRoaXMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkKSB7XG4gICAgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQgPSAxMDI0O1xuICB9XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIHRoaXMucGZ4ID0gb3B0cy5wZnggfHwgbnVsbDtcbiAgdGhpcy5rZXkgPSBvcHRzLmtleSB8fCBudWxsO1xuICB0aGlzLnBhc3NwaHJhc2UgPSBvcHRzLnBhc3NwaHJhc2UgfHwgbnVsbDtcbiAgdGhpcy5jZXJ0ID0gb3B0cy5jZXJ0IHx8IG51bGw7XG4gIHRoaXMuY2EgPSBvcHRzLmNhIHx8IG51bGw7XG4gIHRoaXMuY2lwaGVycyA9IG9wdHMuY2lwaGVycyB8fCBudWxsO1xuICB0aGlzLnJlamVjdFVuYXV0aG9yaXplZCA9IG9wdHMucmVqZWN0VW5hdXRob3JpemVkID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQ7XG4gIHRoaXMuZm9yY2VOb2RlID0gISFvcHRzLmZvcmNlTm9kZTtcblxuICAvLyBvdGhlciBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbDtcbiAgaWYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsKSB7XG4gICAgaWYgKG9wdHMuZXh0cmFIZWFkZXJzICYmIE9iamVjdC5rZXlzKG9wdHMuZXh0cmFIZWFkZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmV4dHJhSGVhZGVycyA9IG9wdHMuZXh0cmFIZWFkZXJzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxvY2FsQWRkcmVzcykge1xuICAgICAgdGhpcy5sb2NhbEFkZHJlc3MgPSBvcHRzLmxvY2FsQWRkcmVzcztcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgb24gaGFuZHNoYWtlXG4gIHRoaXMuaWQgPSBudWxsO1xuICB0aGlzLnVwZ3JhZGVzID0gbnVsbDtcbiAgdGhpcy5waW5nSW50ZXJ2YWwgPSBudWxsO1xuICB0aGlzLnBpbmdUaW1lb3V0ID0gbnVsbDtcblxuICAvLyBzZXQgb24gaGVhcnRiZWF0XG4gIHRoaXMucGluZ0ludGVydmFsVGltZXIgPSBudWxsO1xuICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSBudWxsO1xuXG4gIHRoaXMub3BlbigpO1xufVxuXG5Tb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKFNvY2tldC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG9jb2wgPSBwYXJzZXIucHJvdG9jb2w7IC8vIHRoaXMgaXMgYW4gaW50XG5cbi8qKlxuICogRXhwb3NlIGRlcHMgZm9yIGxlZ2FjeSBjb21wYXRpYmlsaXR5XG4gKiBhbmQgc3RhbmRhbG9uZSBicm93c2VyIGFjY2Vzcy5cbiAqL1xuXG5Tb2NrZXQuU29ja2V0ID0gU29ja2V0O1xuU29ja2V0LlRyYW5zcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5Tb2NrZXQudHJhbnNwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuU29ja2V0LnBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbi8qKlxuICogQ3JlYXRlcyB0cmFuc3BvcnQgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gKiBAcmV0dXJuIHtUcmFuc3BvcnR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmNyZWF0ZVRyYW5zcG9ydCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGRlYnVnKCdjcmVhdGluZyB0cmFuc3BvcnQgXCIlc1wiJywgbmFtZSk7XG4gIHZhciBxdWVyeSA9IGNsb25lKHRoaXMucXVlcnkpO1xuXG4gIC8vIGFwcGVuZCBlbmdpbmUuaW8gcHJvdG9jb2wgaWRlbnRpZmllclxuICBxdWVyeS5FSU8gPSBwYXJzZXIucHJvdG9jb2w7XG5cbiAgLy8gdHJhbnNwb3J0IG5hbWVcbiAgcXVlcnkudHJhbnNwb3J0ID0gbmFtZTtcblxuICAvLyBwZXItdHJhbnNwb3J0IG9wdGlvbnNcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0gfHwge307XG5cbiAgLy8gc2Vzc2lvbiBpZCBpZiB3ZSBhbHJlYWR5IGhhdmUgb25lXG4gIGlmICh0aGlzLmlkKSBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuXG4gIHZhciB0cmFuc3BvcnQgPSBuZXcgdHJhbnNwb3J0c1tuYW1lXSh7XG4gICAgcXVlcnk6IHF1ZXJ5LFxuICAgIHNvY2tldDogdGhpcyxcbiAgICBhZ2VudDogb3B0aW9ucy5hZ2VudCB8fCB0aGlzLmFnZW50LFxuICAgIGhvc3RuYW1lOiBvcHRpb25zLmhvc3RuYW1lIHx8IHRoaXMuaG9zdG5hbWUsXG4gICAgcG9ydDogb3B0aW9ucy5wb3J0IHx8IHRoaXMucG9ydCxcbiAgICBzZWN1cmU6IG9wdGlvbnMuc2VjdXJlIHx8IHRoaXMuc2VjdXJlLFxuICAgIHBhdGg6IG9wdGlvbnMucGF0aCB8fCB0aGlzLnBhdGgsXG4gICAgZm9yY2VKU09OUDogb3B0aW9ucy5mb3JjZUpTT05QIHx8IHRoaXMuZm9yY2VKU09OUCxcbiAgICBqc29ucDogb3B0aW9ucy5qc29ucCB8fCB0aGlzLmpzb25wLFxuICAgIGZvcmNlQmFzZTY0OiBvcHRpb25zLmZvcmNlQmFzZTY0IHx8IHRoaXMuZm9yY2VCYXNlNjQsXG4gICAgZW5hYmxlc1hEUjogb3B0aW9ucy5lbmFibGVzWERSIHx8IHRoaXMuZW5hYmxlc1hEUixcbiAgICB0aW1lc3RhbXBSZXF1ZXN0czogb3B0aW9ucy50aW1lc3RhbXBSZXF1ZXN0cyB8fCB0aGlzLnRpbWVzdGFtcFJlcXVlc3RzLFxuICAgIHRpbWVzdGFtcFBhcmFtOiBvcHRpb25zLnRpbWVzdGFtcFBhcmFtIHx8IHRoaXMudGltZXN0YW1wUGFyYW0sXG4gICAgcG9saWN5UG9ydDogb3B0aW9ucy5wb2xpY3lQb3J0IHx8IHRoaXMucG9saWN5UG9ydCxcbiAgICBwZng6IG9wdGlvbnMucGZ4IHx8IHRoaXMucGZ4LFxuICAgIGtleTogb3B0aW9ucy5rZXkgfHwgdGhpcy5rZXksXG4gICAgcGFzc3BocmFzZTogb3B0aW9ucy5wYXNzcGhyYXNlIHx8IHRoaXMucGFzc3BocmFzZSxcbiAgICBjZXJ0OiBvcHRpb25zLmNlcnQgfHwgdGhpcy5jZXJ0LFxuICAgIGNhOiBvcHRpb25zLmNhIHx8IHRoaXMuY2EsXG4gICAgY2lwaGVyczogb3B0aW9ucy5jaXBoZXJzIHx8IHRoaXMuY2lwaGVycyxcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IG9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkIHx8IHRoaXMucmVqZWN0VW5hdXRob3JpemVkLFxuICAgIHBlck1lc3NhZ2VEZWZsYXRlOiBvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlIHx8IHRoaXMucGVyTWVzc2FnZURlZmxhdGUsXG4gICAgZXh0cmFIZWFkZXJzOiBvcHRpb25zLmV4dHJhSGVhZGVycyB8fCB0aGlzLmV4dHJhSGVhZGVycyxcbiAgICBmb3JjZU5vZGU6IG9wdGlvbnMuZm9yY2VOb2RlIHx8IHRoaXMuZm9yY2VOb2RlLFxuICAgIGxvY2FsQWRkcmVzczogb3B0aW9ucy5sb2NhbEFkZHJlc3MgfHwgdGhpcy5sb2NhbEFkZHJlc3MsXG4gICAgcmVxdWVzdFRpbWVvdXQ6IG9wdGlvbnMucmVxdWVzdFRpbWVvdXQgfHwgdGhpcy5yZXF1ZXN0VGltZW91dCxcbiAgICBwcm90b2NvbHM6IG9wdGlvbnMucHJvdG9jb2xzIHx8IHZvaWQgKDApXG4gIH0pO1xuXG4gIHJldHVybiB0cmFuc3BvcnQ7XG59O1xuXG5mdW5jdGlvbiBjbG9uZSAob2JqKSB7XG4gIHZhciBvID0ge307XG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgb1tpXSA9IG9ialtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG87XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdHJhbnNwb3J0IHRvIHVzZSBhbmQgc3RhcnRzIHByb2JlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5Tb2NrZXQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0cmFuc3BvcnQ7XG4gIGlmICh0aGlzLnJlbWVtYmVyVXBncmFkZSAmJiBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzICYmIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKCd3ZWJzb2NrZXQnKSAhPT0gLTEpIHtcbiAgICB0cmFuc3BvcnQgPSAnd2Vic29ja2V0JztcbiAgfSBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgLy8gRW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gaXQgY2FuIGJlIGxpc3RlbmVkIHRvXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsICdObyB0cmFuc3BvcnRzIGF2YWlsYWJsZScpO1xuICAgIH0sIDApO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc3BvcnQgPSB0aGlzLnRyYW5zcG9ydHNbMF07XG4gIH1cbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW5pbmcnO1xuXG4gIC8vIFJldHJ5IHdpdGggdGhlIG5leHQgdHJhbnNwb3J0IGlmIHRoZSB0cmFuc3BvcnQgaXMgZGlzYWJsZWQgKGpzb25wOiBmYWxzZSlcbiAgdHJ5IHtcbiAgICB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgdGhpcy5vcGVuKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQuIERpc2FibGVzIHRoZSBleGlzdGluZyBvbmUgKGlmIGFueSkuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5zZXRUcmFuc3BvcnQgPSBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gIGRlYnVnKCdzZXR0aW5nIHRyYW5zcG9ydCAlcycsIHRyYW5zcG9ydC5uYW1lKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgIGRlYnVnKCdjbGVhcmluZyBleGlzdGluZyB0cmFuc3BvcnQgJXMnLCB0aGlzLnRyYW5zcG9ydC5uYW1lKTtcbiAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgLy8gc2V0IHVwIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgdHJhbnNwb3J0XG4gIC5vbignZHJhaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbkRyYWluKCk7XG4gIH0pXG4gIC5vbigncGFja2V0JywgZnVuY3Rpb24gKHBhY2tldCkge1xuICAgIHNlbGYub25QYWNrZXQocGFja2V0KTtcbiAgfSlcbiAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgc2VsZi5vbkVycm9yKGUpO1xuICB9KVxuICAub24oJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25DbG9zZSgndHJhbnNwb3J0IGNsb3NlJyk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBQcm9iZXMgYSB0cmFuc3BvcnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnByb2JlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgZGVidWcoJ3Byb2JpbmcgdHJhbnNwb3J0IFwiJXNcIicsIG5hbWUpO1xuICB2YXIgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQobmFtZSwgeyBwcm9iZTogMSB9KTtcbiAgdmFyIGZhaWxlZCA9IGZhbHNlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIG9uVHJhbnNwb3J0T3BlbiAoKSB7XG4gICAgaWYgKHNlbGYub25seUJpbmFyeVVwZ3JhZGVzKSB7XG4gICAgICB2YXIgdXBncmFkZUxvc2VzQmluYXJ5ID0gIXRoaXMuc3VwcG9ydHNCaW5hcnkgJiYgc2VsZi50cmFuc3BvcnQuc3VwcG9ydHNCaW5hcnk7XG4gICAgICBmYWlsZWQgPSBmYWlsZWQgfHwgdXBncmFkZUxvc2VzQmluYXJ5O1xuICAgIH1cbiAgICBpZiAoZmFpbGVkKSByZXR1cm47XG5cbiAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLCBuYW1lKTtcbiAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiAncGluZycsIGRhdGE6ICdwcm9iZScgfV0pO1xuICAgIHRyYW5zcG9ydC5vbmNlKCdwYWNrZXQnLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG4gICAgICBpZiAoJ3BvbmcnID09PSBtc2cudHlwZSAmJiAncHJvYmUnID09PSBtc2cuZGF0YSkge1xuICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJywgbmFtZSk7XG4gICAgICAgIHNlbGYudXBncmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5lbWl0KCd1cGdyYWRpbmcnLCB0cmFuc3BvcnQpO1xuICAgICAgICBpZiAoIXRyYW5zcG9ydCkgcmV0dXJuO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gJ3dlYnNvY2tldCcgPT09IHRyYW5zcG9ydC5uYW1lO1xuXG4gICAgICAgIGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsIHNlbGYudHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgICBzZWxmLnRyYW5zcG9ydC5wYXVzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuICAgICAgICAgIGlmICgnY2xvc2VkJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgICAgICAgZGVidWcoJ2NoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldCcpO1xuXG4gICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgc2VsZi5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiAndXBncmFkZScgfV0pO1xuICAgICAgICAgIHNlbGYuZW1pdCgndXBncmFkZScsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICBzZWxmLnVwZ3JhZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuZmx1c2goKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBmYWlsZWQnLCBuYW1lKTtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcigncHJvYmUgZXJyb3InKTtcbiAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICBzZWxmLmVtaXQoJ3VwZ3JhZGVFcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQgKCkge1xuICAgIGlmIChmYWlsZWQpIHJldHVybjtcblxuICAgIC8vIEFueSBjYWxsYmFjayBjYWxsZWQgYnkgdHJhbnNwb3J0IHNob3VsZCBiZSBpZ25vcmVkIHNpbmNlIG5vd1xuICAgIGZhaWxlZCA9IHRydWU7XG5cbiAgICBjbGVhbnVwKCk7XG5cbiAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICB0cmFuc3BvcnQgPSBudWxsO1xuICB9XG5cbiAgLy8gSGFuZGxlIGFueSBlcnJvciB0aGF0IGhhcHBlbnMgd2hpbGUgcHJvYmluZ1xuICBmdW5jdGlvbiBvbmVycm9yIChlcnIpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ3Byb2JlIGVycm9yOiAnICsgZXJyKTtcbiAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcblxuICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuXG4gICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkIGJlY2F1c2Ugb2YgZXJyb3I6ICVzJywgbmFtZSwgZXJyKTtcblxuICAgIHNlbGYuZW1pdCgndXBncmFkZUVycm9yJywgZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSAoKSB7XG4gICAgb25lcnJvcigndHJhbnNwb3J0IGNsb3NlZCcpO1xuICB9XG5cbiAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIGNsb3NlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gIGZ1bmN0aW9uIG9uY2xvc2UgKCkge1xuICAgIG9uZXJyb3IoJ3NvY2tldCBjbG9zZWQnKTtcbiAgfVxuXG4gIC8vIFdoZW4gdGhlIHNvY2tldCBpcyB1cGdyYWRlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gIGZ1bmN0aW9uIG9udXBncmFkZSAodG8pIHtcbiAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICBkZWJ1ZygnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJywgdG8ubmFtZSwgdHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gdGhlIHRyYW5zcG9ydCBhbmQgb24gc2VsZlxuICBmdW5jdGlvbiBjbGVhbnVwICgpIHtcbiAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ29wZW4nLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCd1cGdyYWRpbmcnLCBvbnVwZ3JhZGUpO1xuICB9XG5cbiAgdHJhbnNwb3J0Lm9uY2UoJ29wZW4nLCBvblRyYW5zcG9ydE9wZW4pO1xuICB0cmFuc3BvcnQub25jZSgnZXJyb3InLCBvbmVycm9yKTtcbiAgdHJhbnNwb3J0Lm9uY2UoJ2Nsb3NlJywgb25UcmFuc3BvcnRDbG9zZSk7XG5cbiAgdGhpcy5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICB0aGlzLm9uY2UoJ3VwZ3JhZGluZycsIG9udXBncmFkZSk7XG5cbiAgdHJhbnNwb3J0Lm9wZW4oKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBkZWVtZWQgb3Blbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUub25PcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnc29ja2V0IG9wZW4nKTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW4nO1xuICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gJ3dlYnNvY2tldCcgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gIHRoaXMuZW1pdCgnb3BlbicpO1xuICB0aGlzLmZsdXNoKCk7XG5cbiAgLy8gd2UgY2hlY2sgZm9yIGByZWFkeVN0YXRlYCBpbiBjYXNlIGFuIGBvcGVuYFxuICAvLyBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlZCB0aGUgc29ja2V0XG4gIGlmICgnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLnVwZ3JhZGUgJiYgdGhpcy50cmFuc3BvcnQucGF1c2UpIHtcbiAgICBkZWJ1Zygnc3RhcnRpbmcgdXBncmFkZSBwcm9iZXMnKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMudXBncmFkZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25QYWNrZXQgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICBkZWJ1Zygnc29ja2V0IHJlY2VpdmU6IHR5cGUgXCIlc1wiLCBkYXRhIFwiJXNcIicsIHBhY2tldC50eXBlLCBwYWNrZXQuZGF0YSk7XG5cbiAgICB0aGlzLmVtaXQoJ3BhY2tldCcsIHBhY2tldCk7XG5cbiAgICAvLyBTb2NrZXQgaXMgbGl2ZSAtIGFueSBwYWNrZXQgY291bnRzXG4gICAgdGhpcy5lbWl0KCdoZWFydGJlYXQnKTtcblxuICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ29wZW4nOlxuICAgICAgICB0aGlzLm9uSGFuZHNoYWtlKHBhcnNlanNvbihwYWNrZXQuZGF0YSkpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncG9uZyc6XG4gICAgICAgIHRoaXMuc2V0UGluZygpO1xuICAgICAgICB0aGlzLmVtaXQoJ3BvbmcnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignc2VydmVyIGVycm9yJyk7XG4gICAgICAgIGVyci5jb2RlID0gcGFja2V0LmRhdGE7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgIHRoaXMuZW1pdCgnZGF0YScsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgcGFja2V0LmRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGVidWcoJ3BhY2tldCByZWNlaXZlZCB3aXRoIHNvY2tldCByZWFkeVN0YXRlIFwiJXNcIicsIHRoaXMucmVhZHlTdGF0ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gaGFuZHNoYWtlIGNvbXBsZXRpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRzaGFrZSBvYmpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25IYW5kc2hha2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmVtaXQoJ2hhbmRzaGFrZScsIGRhdGEpO1xuICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICB0aGlzLnVwZ3JhZGVzID0gdGhpcy5maWx0ZXJVcGdyYWRlcyhkYXRhLnVwZ3JhZGVzKTtcbiAgdGhpcy5waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gIHRoaXMub25PcGVuKCk7XG4gIC8vIEluIGNhc2Ugb3BlbiBoYW5kbGVyIGNsb3NlcyBzb2NrZXRcbiAgaWYgKCdjbG9zZWQnID09PSB0aGlzLnJlYWR5U3RhdGUpIHJldHVybjtcbiAgdGhpcy5zZXRQaW5nKCk7XG5cbiAgLy8gUHJvbG9uZyBsaXZlbmVzcyBvZiBzb2NrZXQgb24gaGVhcnRiZWF0XG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2hlYXJ0YmVhdCcsIHRoaXMub25IZWFydGJlYXQpO1xuICB0aGlzLm9uKCdoZWFydGJlYXQnLCB0aGlzLm9uSGVhcnRiZWF0KTtcbn07XG5cbi8qKlxuICogUmVzZXRzIHBpbmcgdGltZW91dC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uSGVhcnRiZWF0ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXRUaW1lcik7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgc2VsZi5waW5nVGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdjbG9zZWQnID09PSBzZWxmLnJlYWR5U3RhdGUpIHJldHVybjtcbiAgICBzZWxmLm9uQ2xvc2UoJ3BpbmcgdGltZW91dCcpO1xuICB9LCB0aW1lb3V0IHx8IChzZWxmLnBpbmdJbnRlcnZhbCArIHNlbGYucGluZ1RpbWVvdXQpKTtcbn07XG5cbi8qKlxuICogUGluZ3Mgc2VydmVyIGV2ZXJ5IGB0aGlzLnBpbmdJbnRlcnZhbGAgYW5kIGV4cGVjdHMgcmVzcG9uc2VcbiAqIHdpdGhpbiBgdGhpcy5waW5nVGltZW91dGAgb3IgY2xvc2VzIGNvbm5lY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5zZXRQaW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGNsZWFyVGltZW91dChzZWxmLnBpbmdJbnRlcnZhbFRpbWVyKTtcbiAgc2VsZi5waW5nSW50ZXJ2YWxUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGRlYnVnKCd3cml0aW5nIHBpbmcgcGFja2V0IC0gZXhwZWN0aW5nIHBvbmcgd2l0aGluICVzbXMnLCBzZWxmLnBpbmdUaW1lb3V0KTtcbiAgICBzZWxmLnBpbmcoKTtcbiAgICBzZWxmLm9uSGVhcnRiZWF0KHNlbGYucGluZ1RpbWVvdXQpO1xuICB9LCBzZWxmLnBpbmdJbnRlcnZhbCk7XG59O1xuXG4vKipcbiogU2VuZHMgYSBwaW5nIHBhY2tldC5cbipcbiogQGFwaSBwcml2YXRlXG4qL1xuXG5Tb2NrZXQucHJvdG90eXBlLnBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5zZW5kUGFja2V0KCdwaW5nJywgZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuZW1pdCgncGluZycpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uRHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsIHRoaXMucHJldkJ1ZmZlckxlbik7XG5cbiAgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAvLyBmb3IgZXhhbXBsZSwgd2hlbiB1cGdyYWRpbmcsIHVwZ3JhZGUgcGFja2V0IGlzIHNlbnQgb3ZlcixcbiAgLy8gYW5kIGEgbm9uemVybyBwcmV2QnVmZmVyTGVuIGNvdWxkIGNhdXNlIHByb2JsZW1zIG9uIGBkcmFpbmBcbiAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcblxuICBpZiAoMCA9PT0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICB0aGlzLmVtaXQoJ2RyYWluJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG59O1xuXG4vKipcbiAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCdjbG9zZWQnICE9PSB0aGlzLnJlYWR5U3RhdGUgJiYgdGhpcy50cmFuc3BvcnQud3JpdGFibGUgJiZcbiAgICAhdGhpcy51cGdyYWRpbmcgJiYgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICBkZWJ1ZygnZmx1c2hpbmcgJWQgcGFja2V0cyBpbiBzb2NrZXQnLCB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCk7XG4gICAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLndyaXRlQnVmZmVyKTtcbiAgICAvLyBrZWVwIHRyYWNrIG9mIGN1cnJlbnQgbGVuZ3RoIG9mIHdyaXRlQnVmZmVyXG4gICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7XG4gICAgdGhpcy5lbWl0KCdmbHVzaCcpO1xuICB9XG59O1xuXG4vKipcbiAqIFNlbmRzIGEgbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtTb2NrZXR9IGZvciBjaGFpbmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS53cml0ZSA9XG5Tb2NrZXQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobXNnLCBvcHRpb25zLCBmbikge1xuICB0aGlzLnNlbmRQYWNrZXQoJ21lc3NhZ2UnLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNlbmRzIGEgcGFja2V0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYWNrZXQgdHlwZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc2VuZFBhY2tldCA9IGZ1bmN0aW9uICh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgIGZuID0gb3B0aW9ucztcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuXG4gIGlmICgnY2xvc2luZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnY2xvc2VkJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcblxuICB2YXIgcGFja2V0ID0ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgZGF0YTogZGF0YSxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH07XG4gIHRoaXMuZW1pdCgncGFja2V0Q3JlYXRlJywgcGFja2V0KTtcbiAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gIGlmIChmbikgdGhpcy5vbmNlKCdmbHVzaCcsIGZuKTtcbiAgdGhpcy5mbHVzaCgpO1xufTtcblxuLyoqXG4gKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCdvcGVuaW5nJyA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8ICdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NpbmcnO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9uY2UoJ2RyYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2UgKCkge1xuICAgIHNlbGYub25DbG9zZSgnZm9yY2VkIGNsb3NlJyk7XG4gICAgZGVidWcoJ3NvY2tldCBjbG9zaW5nIC0gdGVsbGluZyB0cmFuc3BvcnQgdG8gY2xvc2UnKTtcbiAgICBzZWxmLnRyYW5zcG9ydC5jbG9zZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYW51cEFuZENsb3NlICgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCd1cGdyYWRlJywgY2xlYW51cEFuZENsb3NlKTtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCd1cGdyYWRlRXJyb3InLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgIGNsb3NlKCk7XG4gIH1cblxuICBmdW5jdGlvbiB3YWl0Rm9yVXBncmFkZSAoKSB7XG4gICAgLy8gd2FpdCBmb3IgdXBncmFkZSB0byBmaW5pc2ggc2luY2Ugd2UgY2FuJ3Qgc2VuZCBwYWNrZXRzIHdoaWxlIHBhdXNpbmcgYSB0cmFuc3BvcnRcbiAgICBzZWxmLm9uY2UoJ3VwZ3JhZGUnLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgIHNlbGYub25jZSgndXBncmFkZUVycm9yJywgY2xlYW51cEFuZENsb3NlKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgZXJyb3JcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIGRlYnVnKCdzb2NrZXQgZXJyb3IgJWonLCBlcnIpO1xuICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB0aGlzLm9uQ2xvc2UoJ3RyYW5zcG9ydCBlcnJvcicsIGVycik7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uQ2xvc2UgPSBmdW5jdGlvbiAocmVhc29uLCBkZXNjKSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnY2xvc2luZycgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIGRlYnVnKCdzb2NrZXQgY2xvc2Ugd2l0aCByZWFzb246IFwiJXNcIicsIHJlYXNvbik7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gY2xlYXIgdGltZXJzXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucGluZ0ludGVydmFsVGltZXIpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuXG4gICAgLy8gc3RvcCBldmVudCBmcm9tIGZpcmluZyBhZ2FpbiBmb3IgdHJhbnNwb3J0XG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCdjbG9zZScpO1xuXG4gICAgLy8gZW5zdXJlIHRyYW5zcG9ydCB3b24ndCBzdGF5IG9wZW5cbiAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuXG4gICAgLy8gaWdub3JlIGZ1cnRoZXIgdHJhbnNwb3J0IGNvbW11bmljYXRpb25cbiAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgIC8vIHNldCByZWFkeSBzdGF0ZVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuXG4gICAgLy8gY2xlYXIgc2Vzc2lvbiBpZFxuICAgIHRoaXMuaWQgPSBudWxsO1xuXG4gICAgLy8gZW1pdCBjbG9zZSBldmVudFxuICAgIHRoaXMuZW1pdCgnY2xvc2UnLCByZWFzb24sIGRlc2MpO1xuXG4gICAgLy8gY2xlYW4gYnVmZmVycyBhZnRlciwgc28gdXNlcnMgY2FuIHN0aWxsXG4gICAgLy8gZ3JhYiB0aGUgYnVmZmVycyBvbiBgY2xvc2VgIGV2ZW50XG4gICAgc2VsZi53cml0ZUJ1ZmZlciA9IFtdO1xuICAgIHNlbGYucHJldkJ1ZmZlckxlbiA9IDA7XG4gIH1cbn07XG5cbi8qKlxuICogRmlsdGVycyB1cGdyYWRlcywgcmV0dXJuaW5nIG9ubHkgdGhvc2UgbWF0Y2hpbmcgY2xpZW50IHRyYW5zcG9ydHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gc2VydmVyIHVwZ3JhZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5maWx0ZXJVcGdyYWRlcyA9IGZ1bmN0aW9uICh1cGdyYWRlcykge1xuICB2YXIgZmlsdGVyZWRVcGdyYWRlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgaiA9IHVwZ3JhZGVzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmICh+aW5kZXgodGhpcy50cmFuc3BvcnRzLCB1cGdyYWRlc1tpXSkpIGZpbHRlcmVkVXBncmFkZXMucHVzaCh1cGdyYWRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGZpbHRlcmVkVXBncmFkZXM7XG59O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICpcbiAqIExvZ2ljIGJvcnJvd2VkIGZyb20gTW9kZXJuaXpyOlxuICpcbiAqICAgLSBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvY29ycy5qc1xuICovXG5cbnRyeSB7XG4gIG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufSBjYXRjaCAoZXJyKSB7XG4gIC8vIGlmIFhNTEh0dHAgc3VwcG9ydCBpcyBkaXNhYmxlZCBpbiBJRSB0aGVuIGl0IHdpbGwgdGhyb3dcbiAgLy8gd2hlbiB0cnlpbmcgdG8gY3JlYXRlXG4gIG1vZHVsZS5leHBvcnRzID0gZmFsc2U7XG59XG5cblxuLyoqKi8gfSksXG4vKiA1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBNb2R1bGUgcmVxdWlyZW1lbnRzLlxuICovXG5cbnZhciBYTUxIdHRwUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgUG9sbGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGluaGVyaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhocicpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gWEhSO1xubW9kdWxlLmV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cbi8qKlxuICogRW1wdHkgZnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBlbXB0eSAoKSB7fVxuXG4vKipcbiAqIFhIUiBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFhIUiAob3B0cykge1xuICBQb2xsaW5nLmNhbGwodGhpcywgb3B0cyk7XG4gIHRoaXMucmVxdWVzdFRpbWVvdXQgPSBvcHRzLnJlcXVlc3RUaW1lb3V0O1xuICB0aGlzLmV4dHJhSGVhZGVycyA9IG9wdHMuZXh0cmFIZWFkZXJzO1xuXG4gIGlmIChnbG9iYWwubG9jYXRpb24pIHtcbiAgICB2YXIgaXNTU0wgPSAnaHR0cHM6JyA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgdmFyIHBvcnQgPSBsb2NhdGlvbi5wb3J0O1xuXG4gICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgIGlmICghcG9ydCkge1xuICAgICAgcG9ydCA9IGlzU1NMID8gNDQzIDogODA7XG4gICAgfVxuXG4gICAgdGhpcy54ZCA9IG9wdHMuaG9zdG5hbWUgIT09IGdsb2JhbC5sb2NhdGlvbi5ob3N0bmFtZSB8fFxuICAgICAgcG9ydCAhPT0gb3B0cy5wb3J0O1xuICAgIHRoaXMueHMgPSBvcHRzLnNlY3VyZSAhPT0gaXNTU0w7XG4gIH1cbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFBvbGxpbmcuXG4gKi9cblxuaW5oZXJpdChYSFIsIFBvbGxpbmcpO1xuXG4vKipcbiAqIFhIUiBzdXBwb3J0cyBiaW5hcnlcbiAqL1xuXG5YSFIucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5ID0gdHJ1ZTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5YSFIucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAob3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy51cmkgPSB0aGlzLnVyaSgpO1xuICBvcHRzLnhkID0gdGhpcy54ZDtcbiAgb3B0cy54cyA9IHRoaXMueHM7XG4gIG9wdHMuYWdlbnQgPSB0aGlzLmFnZW50IHx8IGZhbHNlO1xuICBvcHRzLnN1cHBvcnRzQmluYXJ5ID0gdGhpcy5zdXBwb3J0c0JpbmFyeTtcbiAgb3B0cy5lbmFibGVzWERSID0gdGhpcy5lbmFibGVzWERSO1xuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICBvcHRzLnBmeCA9IHRoaXMucGZ4O1xuICBvcHRzLmtleSA9IHRoaXMua2V5O1xuICBvcHRzLnBhc3NwaHJhc2UgPSB0aGlzLnBhc3NwaHJhc2U7XG4gIG9wdHMuY2VydCA9IHRoaXMuY2VydDtcbiAgb3B0cy5jYSA9IHRoaXMuY2E7XG4gIG9wdHMuY2lwaGVycyA9IHRoaXMuY2lwaGVycztcbiAgb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQgPSB0aGlzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgb3B0cy5yZXF1ZXN0VGltZW91dCA9IHRoaXMucmVxdWVzdFRpbWVvdXQ7XG5cbiAgLy8gb3RoZXIgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgb3B0cy5leHRyYUhlYWRlcnMgPSB0aGlzLmV4dHJhSGVhZGVycztcblxuICByZXR1cm4gbmV3IFJlcXVlc3Qob3B0cyk7XG59O1xuXG4vKipcbiAqIFNlbmRzIGRhdGEuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxlZCB1cG9uIGZsdXNoLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuWEhSLnByb3RvdHlwZS5kb1dyaXRlID0gZnVuY3Rpb24gKGRhdGEsIGZuKSB7XG4gIHZhciBpc0JpbmFyeSA9IHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyAmJiBkYXRhICE9PSB1bmRlZmluZWQ7XG4gIHZhciByZXEgPSB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICdQT1NUJywgZGF0YTogZGF0YSwgaXNCaW5hcnk6IGlzQmluYXJ5IH0pO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJlcS5vbignc3VjY2VzcycsIGZuKTtcbiAgcmVxLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZWxmLm9uRXJyb3IoJ3hociBwb3N0IGVycm9yJywgZXJyKTtcbiAgfSk7XG4gIHRoaXMuc2VuZFhociA9IHJlcTtcbn07XG5cbi8qKlxuICogU3RhcnRzIGEgcG9sbCBjeWNsZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5YSFIucHJvdG90eXBlLmRvUG9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ3hociBwb2xsJyk7XG4gIHZhciByZXEgPSB0aGlzLnJlcXVlc3QoKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXEub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHNlbGYub25EYXRhKGRhdGEpO1xuICB9KTtcbiAgcmVxLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZWxmLm9uRXJyb3IoJ3hociBwb2xsIGVycm9yJywgZXJyKTtcbiAgfSk7XG4gIHRoaXMucG9sbFhociA9IHJlcTtcbn07XG5cbi8qKlxuICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QgKG9wdHMpIHtcbiAgdGhpcy5tZXRob2QgPSBvcHRzLm1ldGhvZCB8fCAnR0VUJztcbiAgdGhpcy51cmkgPSBvcHRzLnVyaTtcbiAgdGhpcy54ZCA9ICEhb3B0cy54ZDtcbiAgdGhpcy54cyA9ICEhb3B0cy54cztcbiAgdGhpcy5hc3luYyA9IGZhbHNlICE9PSBvcHRzLmFzeW5jO1xuICB0aGlzLmRhdGEgPSB1bmRlZmluZWQgIT09IG9wdHMuZGF0YSA/IG9wdHMuZGF0YSA6IG51bGw7XG4gIHRoaXMuYWdlbnQgPSBvcHRzLmFnZW50O1xuICB0aGlzLmlzQmluYXJ5ID0gb3B0cy5pc0JpbmFyeTtcbiAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IG9wdHMuc3VwcG9ydHNCaW5hcnk7XG4gIHRoaXMuZW5hYmxlc1hEUiA9IG9wdHMuZW5hYmxlc1hEUjtcbiAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IG9wdHMucmVxdWVzdFRpbWVvdXQ7XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIHRoaXMucGZ4ID0gb3B0cy5wZng7XG4gIHRoaXMua2V5ID0gb3B0cy5rZXk7XG4gIHRoaXMucGFzc3BocmFzZSA9IG9wdHMucGFzc3BocmFzZTtcbiAgdGhpcy5jZXJ0ID0gb3B0cy5jZXJ0O1xuICB0aGlzLmNhID0gb3B0cy5jYTtcbiAgdGhpcy5jaXBoZXJzID0gb3B0cy5jaXBoZXJzO1xuICB0aGlzLnJlamVjdFVuYXV0aG9yaXplZCA9IG9wdHMucmVqZWN0VW5hdXRob3JpemVkO1xuXG4gIC8vIG90aGVyIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIHRoaXMuZXh0cmFIZWFkZXJzID0gb3B0cy5leHRyYUhlYWRlcnM7XG5cbiAgdGhpcy5jcmVhdGUoKTtcbn1cblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgLlxuICovXG5cbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIFhIUiBvYmplY3QgYW5kIHNlbmRzIHRoZSByZXF1ZXN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG9wdHMgPSB7IGFnZW50OiB0aGlzLmFnZW50LCB4ZG9tYWluOiB0aGlzLnhkLCB4c2NoZW1lOiB0aGlzLnhzLCBlbmFibGVzWERSOiB0aGlzLmVuYWJsZXNYRFIgfTtcblxuICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgb3B0cy5wZnggPSB0aGlzLnBmeDtcbiAgb3B0cy5rZXkgPSB0aGlzLmtleTtcbiAgb3B0cy5wYXNzcGhyYXNlID0gdGhpcy5wYXNzcGhyYXNlO1xuICBvcHRzLmNlcnQgPSB0aGlzLmNlcnQ7XG4gIG9wdHMuY2EgPSB0aGlzLmNhO1xuICBvcHRzLmNpcGhlcnMgPSB0aGlzLmNpcGhlcnM7XG4gIG9wdHMucmVqZWN0VW5hdXRob3JpemVkID0gdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ7XG5cbiAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KG9wdHMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdHJ5IHtcbiAgICBkZWJ1ZygneGhyIG9wZW4gJXM6ICVzJywgdGhpcy5tZXRob2QsIHRoaXMudXJpKTtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmksIHRoaXMuYXN5bmMpO1xuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayAmJiB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrKHRydWUpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLmV4dHJhSGVhZGVyc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIGlmICgnUE9TVCcgPT09IHRoaXMubWV0aG9kKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodGhpcy5pc0JpbmFyeSkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICcqLyonKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgLy8gaWU2IGNoZWNrXG4gICAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWVzdFRpbWVvdXQpIHtcbiAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5yZXF1ZXN0VGltZW91dDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNYRFIoKSkge1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vbkxvYWQoKTtcbiAgICAgIH07XG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICBpZiAoY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgICAgIGlmICgyMDAgPT09IHhoci5zdGF0dXMgfHwgMTIyMyA9PT0geGhyLnN0YXR1cykge1xuICAgICAgICAgIHNlbGYub25Mb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5vbkVycm9yKHhoci5zdGF0dXMpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGRlYnVnKCd4aHIgZGF0YSAlcycsIHRoaXMuZGF0YSk7XG4gICAgeGhyLnNlbmQodGhpcy5kYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIE5lZWQgdG8gZGVmZXIgc2luY2UgLmNyZWF0ZSgpIGlzIGNhbGxlZCBkaXJlY3RseSBmaHJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAvLyBhbmQgdGh1cyB0aGUgJ2Vycm9yJyBldmVudCBjYW4gb25seSBiZSBvbmx5IGJvdW5kICphZnRlciogdGhpcyBleGNlcHRpb25cbiAgICAvLyBvY2N1cnMuICBUaGVyZWZvcmUsIGFsc28sIHdlIGNhbm5vdCB0aHJvdyBoZXJlIGF0IGFsbC5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYub25FcnJvcihlKTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZ2xvYmFsLmRvY3VtZW50KSB7XG4gICAgdGhpcy5pbmRleCA9IFJlcXVlc3QucmVxdWVzdHNDb3VudCsrO1xuICAgIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF0gPSB0aGlzO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVzcG9uc2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXQoJ3N1Y2Nlc3MnKTtcbiAgdGhpcy5jbGVhbnVwKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCBpZiB3ZSBoYXZlIGRhdGEuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5lbWl0KCdkYXRhJywgZGF0YSk7XG4gIHRoaXMub25TdWNjZXNzKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB0aGlzLmNsZWFudXAodHJ1ZSk7XG59O1xuXG4vKipcbiAqIENsZWFucyB1cCBob3VzZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKGZyb21FcnJvcikge1xuICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB0aGlzLnhociB8fCBudWxsID09PSB0aGlzLnhocikge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyB4bWxodHRwcmVxdWVzdFxuICBpZiAodGhpcy5oYXNYRFIoKSkge1xuICAgIHRoaXMueGhyLm9ubG9hZCA9IHRoaXMueGhyLm9uZXJyb3IgPSBlbXB0eTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eTtcbiAgfVxuXG4gIGlmIChmcm9tRXJyb3IpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG5cbiAgaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuaW5kZXhdO1xuICB9XG5cbiAgdGhpcy54aHIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBsb2FkLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRhdGE7XG4gIHRyeSB7XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIHRyeSB7XG4gICAgICBjb250ZW50VHlwZSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIGlmIChjb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpIHtcbiAgICAgIGRhdGEgPSB0aGlzLnhoci5yZXNwb25zZSB8fCB0aGlzLnhoci5yZXNwb25zZVRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSB0aGlzLnhoci5yZXNwb25zZVRleHQ7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgdGhpcy5vbkVycm9yKGUpO1xuICB9XG4gIGlmIChudWxsICE9IGRhdGEpIHtcbiAgICB0aGlzLm9uRGF0YShkYXRhKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBpdCBoYXMgWERvbWFpblJlcXVlc3QuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuaGFzWERSID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBnbG9iYWwuWERvbWFpblJlcXVlc3QgJiYgIXRoaXMueHMgJiYgdGhpcy5lbmFibGVzWERSO1xufTtcblxuLyoqXG4gKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGVhbnVwKCk7XG59O1xuXG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cblxuUmVxdWVzdC5yZXF1ZXN0c0NvdW50ID0gMDtcblJlcXVlc3QucmVxdWVzdHMgPSB7fTtcblxuaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICBpZiAoZ2xvYmFsLmF0dGFjaEV2ZW50KSB7XG4gICAgZ2xvYmFsLmF0dGFjaEV2ZW50KCdvbnVubG9hZCcsIHVubG9hZEhhbmRsZXIpO1xuICB9IGVsc2UgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bmxvYWRIYW5kbGVyICgpIHtcbiAgZm9yICh2YXIgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKSB7XG4gICAgaWYgKFJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIFJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKTtcbiAgICB9XG4gIH1cbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuLyoqXG4gKiBHZXRzIHRoZSBrZXlzIGZvciBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybiB7QXJyYXl9IGtleXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyAob2JqKXtcbiAgdmFyIGFyciA9IFtdO1xuICB2YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChoYXMuY2FsbChvYmosIGkpKSB7XG4gICAgICBhcnIucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIEFuIGFic3RyYWN0aW9uIGZvciBzbGljaW5nIGFuIGFycmF5YnVmZmVyIGV2ZW4gd2hlblxuICogQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlIGlzIG5vdCBzdXBwb3J0ZWRcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYXJyYXlidWZmZXIuYnl0ZUxlbmd0aDtcbiAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICBlbmQgPSBlbmQgfHwgYnl0ZXM7XG5cbiAgaWYgKGFycmF5YnVmZmVyLnNsaWNlKSB7IHJldHVybiBhcnJheWJ1ZmZlci5zbGljZShzdGFydCwgZW5kKTsgfVxuXG4gIGlmIChzdGFydCA8IDApIHsgc3RhcnQgKz0gYnl0ZXM7IH1cbiAgaWYgKGVuZCA8IDApIHsgZW5kICs9IGJ5dGVzOyB9XG4gIGlmIChlbmQgPiBieXRlcykgeyBlbmQgPSBieXRlczsgfVxuXG4gIGlmIChzdGFydCA+PSBieXRlcyB8fCBzdGFydCA+PSBlbmQgfHwgYnl0ZXMgPT09IDApIHtcbiAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICB9XG5cbiAgdmFyIGFidiA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGVuZCAtIHN0YXJ0KTtcbiAgZm9yICh2YXIgaSA9IHN0YXJ0LCBpaSA9IDA7IGkgPCBlbmQ7IGkrKywgaWkrKykge1xuICAgIHJlc3VsdFtpaV0gPSBhYnZbaV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC5idWZmZXI7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBhZnRlclxuXG5mdW5jdGlvbiBhZnRlcihjb3VudCwgY2FsbGJhY2ssIGVycl9jYikge1xuICAgIHZhciBiYWlsID0gZmFsc2VcbiAgICBlcnJfY2IgPSBlcnJfY2IgfHwgbm9vcFxuICAgIHByb3h5LmNvdW50ID0gY291bnRcblxuICAgIHJldHVybiAoY291bnQgPT09IDApID8gY2FsbGJhY2soKSA6IHByb3h5XG5cbiAgICBmdW5jdGlvbiBwcm94eShlcnIsIHJlc3VsdCkge1xuICAgICAgICBpZiAocHJveHkuY291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhZnRlciBjYWxsZWQgdG9vIG1hbnkgdGltZXMnKVxuICAgICAgICB9XG4gICAgICAgIC0tcHJveHkuY291bnRcblxuICAgICAgICAvLyBhZnRlciBmaXJzdCBlcnJvciwgcmVzdCBhcmUgcGFzc2VkIHRvIGVycl9jYlxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBiYWlsID0gdHJ1ZVxuICAgICAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgICAgICAgLy8gZnV0dXJlIGVycm9yIGNhbGxiYWNrcyB3aWxsIGdvIHRvIGVycm9yIGhhbmRsZXJcbiAgICAgICAgICAgIGNhbGxiYWNrID0gZXJyX2NiXG4gICAgICAgIH0gZWxzZSBpZiAocHJveHkuY291bnQgPT09IDAgJiYgIWJhaWwpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cblxuLyoqKi8gfSksXG4vKiA1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlLCBnbG9iYWwpIHt2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIGh0dHBzOi8vbXRocy5iZS91dGY4anMgdjIuMS4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvLyBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgYGV4cG9ydHNgXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHM7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWBcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzICYmIG1vZHVsZTtcblxuXHQvLyBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCwgZnJvbSBOb2RlLmpzIG9yIEJyb3dzZXJpZmllZCBjb2RlLFxuXHQvLyBhbmQgdXNlIGl0IGFzIGByb290YFxuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG5cdC8vIFRha2VuIGZyb20gaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdO1xuXHRcdHZhciBjb3VudGVyID0gMDtcblx0XHR2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblx0XHR2YXIgdmFsdWU7XG5cdFx0dmFyIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8vIFRha2VuIGZyb20gaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdHZhciB2YWx1ZTtcblx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0d2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoZWNrU2NhbGFyVmFsdWUoY29kZVBvaW50LCBzdHJpY3QpIHtcblx0XHRpZiAoY29kZVBvaW50ID49IDB4RDgwMCAmJiBjb2RlUG9pbnQgPD0gMHhERkZGKSB7XG5cdFx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKFxuXHRcdFx0XHRcdCdMb25lIHN1cnJvZ2F0ZSBVKycgKyBjb2RlUG9pbnQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgK1xuXHRcdFx0XHRcdCcgaXMgbm90IGEgc2NhbGFyIHZhbHVlJ1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCwgc2hpZnQpIHtcblx0XHRyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IHNoaWZ0KSAmIDB4M0YpIHwgMHg4MCk7XG5cdH1cblxuXHRmdW5jdGlvbiBlbmNvZGVDb2RlUG9pbnQoY29kZVBvaW50LCBzdHJpY3QpIHtcblx0XHRpZiAoKGNvZGVQb2ludCAmIDB4RkZGRkZGODApID09IDApIHsgLy8gMS1ieXRlIHNlcXVlbmNlXG5cdFx0XHRyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7XG5cdFx0fVxuXHRcdHZhciBzeW1ib2wgPSAnJztcblx0XHRpZiAoKGNvZGVQb2ludCAmIDB4RkZGRkY4MDApID09IDApIHsgLy8gMi1ieXRlIHNlcXVlbmNlXG5cdFx0XHRzeW1ib2wgPSBzdHJpbmdGcm9tQ2hhckNvZGUoKChjb2RlUG9pbnQgPj4gNikgJiAweDFGKSB8IDB4QzApO1xuXHRcdH1cblx0XHRlbHNlIGlmICgoY29kZVBvaW50ICYgMHhGRkZGMDAwMCkgPT0gMCkgeyAvLyAzLWJ5dGUgc2VxdWVuY2Vcblx0XHRcdGlmICghY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQsIHN0cmljdCkpIHtcblx0XHRcdFx0Y29kZVBvaW50ID0gMHhGRkZEO1xuXHRcdFx0fVxuXHRcdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IDEyKSAmIDB4MEYpIHwgMHhFMCk7XG5cdFx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDYpO1xuXHRcdH1cblx0XHRlbHNlIGlmICgoY29kZVBvaW50ICYgMHhGRkUwMDAwMCkgPT0gMCkgeyAvLyA0LWJ5dGUgc2VxdWVuY2Vcblx0XHRcdHN5bWJvbCA9IHN0cmluZ0Zyb21DaGFyQ29kZSgoKGNvZGVQb2ludCA+PiAxOCkgJiAweDA3KSB8IDB4RjApO1xuXHRcdFx0c3ltYm9sICs9IGNyZWF0ZUJ5dGUoY29kZVBvaW50LCAxMik7XG5cdFx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDYpO1xuXHRcdH1cblx0XHRzeW1ib2wgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKChjb2RlUG9pbnQgJiAweDNGKSB8IDB4ODApO1xuXHRcdHJldHVybiBzeW1ib2w7XG5cdH1cblxuXHRmdW5jdGlvbiB1dGY4ZW5jb2RlKHN0cmluZywgb3B0cykge1xuXHRcdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRcdHZhciBzdHJpY3QgPSBmYWxzZSAhPT0gb3B0cy5zdHJpY3Q7XG5cblx0XHR2YXIgY29kZVBvaW50cyA9IHVjczJkZWNvZGUoc3RyaW5nKTtcblx0XHR2YXIgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGg7XG5cdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0dmFyIGNvZGVQb2ludDtcblx0XHR2YXIgYnl0ZVN0cmluZyA9ICcnO1xuXHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRjb2RlUG9pbnQgPSBjb2RlUG9pbnRzW2luZGV4XTtcblx0XHRcdGJ5dGVTdHJpbmcgKz0gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCwgc3RyaWN0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGJ5dGVTdHJpbmc7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRmdW5jdGlvbiByZWFkQ29udGludWF0aW9uQnl0ZSgpIHtcblx0XHRpZiAoYnl0ZUluZGV4ID49IGJ5dGVDb3VudCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgYnl0ZSBpbmRleCcpO1xuXHRcdH1cblxuXHRcdHZhciBjb250aW51YXRpb25CeXRlID0gYnl0ZUFycmF5W2J5dGVJbmRleF0gJiAweEZGO1xuXHRcdGJ5dGVJbmRleCsrO1xuXG5cdFx0aWYgKChjb250aW51YXRpb25CeXRlICYgMHhDMCkgPT0gMHg4MCkge1xuXHRcdFx0cmV0dXJuIGNvbnRpbnVhdGlvbkJ5dGUgJiAweDNGO1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGVuZCB1cCBoZXJlLCBpdOKAmXMgbm90IGEgY29udGludWF0aW9uIGJ5dGVcblx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVjb2RlU3ltYm9sKHN0cmljdCkge1xuXHRcdHZhciBieXRlMTtcblx0XHR2YXIgYnl0ZTI7XG5cdFx0dmFyIGJ5dGUzO1xuXHRcdHZhciBieXRlNDtcblx0XHR2YXIgY29kZVBvaW50O1xuXG5cdFx0aWYgKGJ5dGVJbmRleCA+IGJ5dGVDb3VudCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgYnl0ZSBpbmRleCcpO1xuXHRcdH1cblxuXHRcdGlmIChieXRlSW5kZXggPT0gYnl0ZUNvdW50KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gUmVhZCBmaXJzdCBieXRlXG5cdFx0Ynl0ZTEgPSBieXRlQXJyYXlbYnl0ZUluZGV4XSAmIDB4RkY7XG5cdFx0Ynl0ZUluZGV4Kys7XG5cblx0XHQvLyAxLWJ5dGUgc2VxdWVuY2UgKG5vIGNvbnRpbnVhdGlvbiBieXRlcylcblx0XHRpZiAoKGJ5dGUxICYgMHg4MCkgPT0gMCkge1xuXHRcdFx0cmV0dXJuIGJ5dGUxO1xuXHRcdH1cblxuXHRcdC8vIDItYnl0ZSBzZXF1ZW5jZVxuXHRcdGlmICgoYnl0ZTEgJiAweEUwKSA9PSAweEMwKSB7XG5cdFx0XHRieXRlMiA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRjb2RlUG9pbnQgPSAoKGJ5dGUxICYgMHgxRikgPDwgNikgfCBieXRlMjtcblx0XHRcdGlmIChjb2RlUG9pbnQgPj0gMHg4MCkge1xuXHRcdFx0XHRyZXR1cm4gY29kZVBvaW50O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgY29udGludWF0aW9uIGJ5dGUnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyAzLWJ5dGUgc2VxdWVuY2UgKG1heSBpbmNsdWRlIHVucGFpcmVkIHN1cnJvZ2F0ZXMpXG5cdFx0aWYgKChieXRlMSAmIDB4RjApID09IDB4RTApIHtcblx0XHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGJ5dGUzID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGNvZGVQb2ludCA9ICgoYnl0ZTEgJiAweDBGKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMztcblx0XHRcdGlmIChjb2RlUG9pbnQgPj0gMHgwODAwKSB7XG5cdFx0XHRcdHJldHVybiBjaGVja1NjYWxhclZhbHVlKGNvZGVQb2ludCwgc3RyaWN0KSA/IGNvZGVQb2ludCA6IDB4RkZGRDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gNC1ieXRlIHNlcXVlbmNlXG5cdFx0aWYgKChieXRlMSAmIDB4RjgpID09IDB4RjApIHtcblx0XHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGJ5dGUzID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGJ5dGU0ID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRcdGNvZGVQb2ludCA9ICgoYnl0ZTEgJiAweDA3KSA8PCAweDEyKSB8IChieXRlMiA8PCAweDBDKSB8XG5cdFx0XHRcdChieXRlMyA8PCAweDA2KSB8IGJ5dGU0O1xuXHRcdFx0aWYgKGNvZGVQb2ludCA+PSAweDAxMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgxMEZGRkYpIHtcblx0XHRcdFx0cmV0dXJuIGNvZGVQb2ludDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBVVEYtOCBkZXRlY3RlZCcpO1xuXHR9XG5cblx0dmFyIGJ5dGVBcnJheTtcblx0dmFyIGJ5dGVDb3VudDtcblx0dmFyIGJ5dGVJbmRleDtcblx0ZnVuY3Rpb24gdXRmOGRlY29kZShieXRlU3RyaW5nLCBvcHRzKSB7XG5cdFx0b3B0cyA9IG9wdHMgfHwge307XG5cdFx0dmFyIHN0cmljdCA9IGZhbHNlICE9PSBvcHRzLnN0cmljdDtcblxuXHRcdGJ5dGVBcnJheSA9IHVjczJkZWNvZGUoYnl0ZVN0cmluZyk7XG5cdFx0Ynl0ZUNvdW50ID0gYnl0ZUFycmF5Lmxlbmd0aDtcblx0XHRieXRlSW5kZXggPSAwO1xuXHRcdHZhciBjb2RlUG9pbnRzID0gW107XG5cdFx0dmFyIHRtcDtcblx0XHR3aGlsZSAoKHRtcCA9IGRlY29kZVN5bWJvbChzdHJpY3QpKSAhPT0gZmFsc2UpIHtcblx0XHRcdGNvZGVQb2ludHMucHVzaCh0bXApO1xuXHRcdH1cblx0XHRyZXR1cm4gdWNzMmVuY29kZShjb2RlUG9pbnRzKTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdHZhciB1dGY4ID0ge1xuXHRcdCd2ZXJzaW9uJzogJzIuMS4yJyxcblx0XHQnZW5jb2RlJzogdXRmOGVuY29kZSxcblx0XHQnZGVjb2RlJzogdXRmOGRlY29kZVxuXHR9O1xuXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0cnVlXG5cdCkge1xuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB1dGY4O1xuXHRcdH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH1cdGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmICFmcmVlRXhwb3J0cy5ub2RlVHlwZSkge1xuXHRcdGlmIChmcmVlTW9kdWxlKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSB1dGY4O1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHR2YXIgb2JqZWN0ID0ge307XG5cdFx0XHR2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3QuaGFzT3duUHJvcGVydHk7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gdXRmOCkge1xuXHRcdFx0XHRoYXNPd25Qcm9wZXJ0eS5jYWxsKHV0ZjgsIGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSB1dGY4W2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QudXRmOCA9IHV0Zjg7XG5cdH1cblxufSh0aGlzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KShtb2R1bGUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKlxuICogYmFzZTY0LWFycmF5YnVmZmVyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEyIE5pa2xhcyB2b24gSGVydHplblxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG4oZnVuY3Rpb24oKXtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGNoYXJzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG5cbiAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxuICB2YXIgbG9va3VwID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG4gIH1cblxuICBleHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uKGFycmF5YnVmZmVyKSB7XG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLFxuICAgIGksIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gXCJcIjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrPTMpIHtcbiAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpXSA+PiAyXTtcbiAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kgKyAyXSAmIDYzXTtcbiAgICB9XG5cbiAgICBpZiAoKGxlbiAlIDMpID09PSAyKSB7XG4gICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArIFwiPVwiO1xuICAgIH0gZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMikgKyBcIj09XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2U2NDtcbiAgfTtcblxuICBleHBvcnRzLmRlY29kZSA9ICBmdW5jdGlvbihiYXNlNjQpIHtcbiAgICB2YXIgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsXG4gICAgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsXG4gICAgZW5jb2RlZDEsIGVuY29kZWQyLCBlbmNvZGVkMywgZW5jb2RlZDQ7XG5cbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gXCI9XCIpIHtcbiAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgaWYgKGJhc2U2NFtiYXNlNjQubGVuZ3RoIC0gMl0gPT09IFwiPVwiKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLFxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSs9NCkge1xuICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgZW5jb2RlZDIgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSsxKV07XG4gICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKzIpXTtcbiAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkrMyldO1xuXG4gICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDIgJiAxNSkgPDwgNCkgfCAoZW5jb2RlZDMgPj4gMik7XG4gICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheWJ1ZmZlcjtcbiAgfTtcbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBDcmVhdGUgYSBibG9iIGJ1aWxkZXIgZXZlbiB3aGVuIHZlbmRvciBwcmVmaXhlcyBleGlzdFxuICovXG5cbnZhciBCbG9iQnVpbGRlciA9IGdsb2JhbC5CbG9iQnVpbGRlclxuICB8fCBnbG9iYWwuV2ViS2l0QmxvYkJ1aWxkZXJcbiAgfHwgZ2xvYmFsLk1TQmxvYkJ1aWxkZXJcbiAgfHwgZ2xvYmFsLk1vekJsb2JCdWlsZGVyO1xuXG4vKipcbiAqIENoZWNrIGlmIEJsb2IgY29uc3RydWN0b3IgaXMgc3VwcG9ydGVkXG4gKi9cblxudmFyIGJsb2JTdXBwb3J0ZWQgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGEgPSBuZXcgQmxvYihbJ2hpJ10pO1xuICAgIHJldHVybiBhLnNpemUgPT09IDI7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBDaGVjayBpZiBCbG9iIGNvbnN0cnVjdG9yIHN1cHBvcnRzIEFycmF5QnVmZmVyVmlld3NcbiAqIEZhaWxzIGluIFNhZmFyaSA2LCBzbyB3ZSBuZWVkIHRvIG1hcCB0byBBcnJheUJ1ZmZlcnMgdGhlcmUuXG4gKi9cblxudmFyIGJsb2JTdXBwb3J0c0FycmF5QnVmZmVyVmlldyA9IGJsb2JTdXBwb3J0ZWQgJiYgKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBiID0gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KFsxLDJdKV0pO1xuICAgIHJldHVybiBiLnNpemUgPT09IDI7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBDaGVjayBpZiBCbG9iQnVpbGRlciBpcyBzdXBwb3J0ZWRcbiAqL1xuXG52YXIgYmxvYkJ1aWxkZXJTdXBwb3J0ZWQgPSBCbG9iQnVpbGRlclxuICAmJiBCbG9iQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kXG4gICYmIEJsb2JCdWlsZGVyLnByb3RvdHlwZS5nZXRCbG9iO1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IG1hcHMgQXJyYXlCdWZmZXJWaWV3cyB0byBBcnJheUJ1ZmZlcnNcbiAqIFVzZWQgYnkgQmxvYkJ1aWxkZXIgY29uc3RydWN0b3IgYW5kIG9sZCBicm93c2VycyB0aGF0IGRpZG4ndFxuICogc3VwcG9ydCBpdCBpbiB0aGUgQmxvYiBjb25zdHJ1Y3Rvci5cbiAqL1xuXG5mdW5jdGlvbiBtYXBBcnJheUJ1ZmZlclZpZXdzKGFyeSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyeS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaHVuayA9IGFyeVtpXTtcbiAgICBpZiAoY2h1bmsuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciBidWYgPSBjaHVuay5idWZmZXI7XG5cbiAgICAgIC8vIGlmIHRoaXMgaXMgYSBzdWJhcnJheSwgbWFrZSBhIGNvcHkgc28gd2Ugb25seVxuICAgICAgLy8gaW5jbHVkZSB0aGUgc3ViYXJyYXkgcmVnaW9uIGZyb20gdGhlIHVuZGVybHlpbmcgYnVmZmVyXG4gICAgICBpZiAoY2h1bmsuYnl0ZUxlbmd0aCAhPT0gYnVmLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvcHkgPSBuZXcgVWludDhBcnJheShjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgY29weS5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmLCBjaHVuay5ieXRlT2Zmc2V0LCBjaHVuay5ieXRlTGVuZ3RoKSk7XG4gICAgICAgIGJ1ZiA9IGNvcHkuYnVmZmVyO1xuICAgICAgfVxuXG4gICAgICBhcnlbaV0gPSBidWY7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIEJsb2JCdWlsZGVyQ29uc3RydWN0b3IoYXJ5LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBiYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuICBtYXBBcnJheUJ1ZmZlclZpZXdzKGFyeSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnkubGVuZ3RoOyBpKyspIHtcbiAgICBiYi5hcHBlbmQoYXJ5W2ldKTtcbiAgfVxuXG4gIHJldHVybiAob3B0aW9ucy50eXBlKSA/IGJiLmdldEJsb2Iob3B0aW9ucy50eXBlKSA6IGJiLmdldEJsb2IoKTtcbn07XG5cbmZ1bmN0aW9uIEJsb2JDb25zdHJ1Y3RvcihhcnksIG9wdGlvbnMpIHtcbiAgbWFwQXJyYXlCdWZmZXJWaWV3cyhhcnkpO1xuICByZXR1cm4gbmV3IEJsb2IoYXJ5LCBvcHRpb25zIHx8IHt9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuICBpZiAoYmxvYlN1cHBvcnRlZCkge1xuICAgIHJldHVybiBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPyBnbG9iYWwuQmxvYiA6IEJsb2JDb25zdHJ1Y3RvcjtcbiAgfSBlbHNlIGlmIChibG9iQnVpbGRlclN1cHBvcnRlZCkge1xuICAgIHJldHVybiBCbG9iQnVpbGRlckNvbnN0cnVjdG9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn0pKCk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA1OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG4vKipcbiAqIE1vZHVsZSByZXF1aXJlbWVudHMuXG4gKi9cblxudmFyIFBvbGxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpTT05QUG9sbGluZztcblxuLyoqXG4gKiBDYWNoZWQgcmVndWxhciBleHByZXNzaW9ucy5cbiAqL1xuXG52YXIgck5ld2xpbmUgPSAvXFxuL2c7XG52YXIgckVzY2FwZWROZXdsaW5lID0gL1xcXFxuL2c7XG5cbi8qKlxuICogR2xvYmFsIEpTT05QIGNhbGxiYWNrcy5cbiAqL1xuXG52YXIgY2FsbGJhY2tzO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gZW1wdHkgKCkgeyB9XG5cbi8qKlxuICogSlNPTlAgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cy5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gSlNPTlBQb2xsaW5nIChvcHRzKSB7XG4gIFBvbGxpbmcuY2FsbCh0aGlzLCBvcHRzKTtcblxuICB0aGlzLnF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcblxuICAvLyBkZWZpbmUgZ2xvYmFsIGNhbGxiYWNrcyBhcnJheSBpZiBub3QgcHJlc2VudFxuICAvLyB3ZSBkbyB0aGlzIGhlcmUgKGxhemlseSkgdG8gYXZvaWQgdW5uZWVkZWQgZ2xvYmFsIHBvbGx1dGlvblxuICBpZiAoIWNhbGxiYWNrcykge1xuICAgIC8vIHdlIG5lZWQgdG8gY29uc2lkZXIgbXVsdGlwbGUgZW5naW5lcyBpbiB0aGUgc2FtZSBwYWdlXG4gICAgaWYgKCFnbG9iYWwuX19fZWlvKSBnbG9iYWwuX19fZWlvID0gW107XG4gICAgY2FsbGJhY2tzID0gZ2xvYmFsLl9fX2VpbztcbiAgfVxuXG4gIC8vIGNhbGxiYWNrIGlkZW50aWZpZXJcbiAgdGhpcy5pbmRleCA9IGNhbGxiYWNrcy5sZW5ndGg7XG5cbiAgLy8gYWRkIGNhbGxiYWNrIHRvIGpzb25wIGdsb2JhbFxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uIChtc2cpIHtcbiAgICBzZWxmLm9uRGF0YShtc2cpO1xuICB9KTtcblxuICAvLyBhcHBlbmQgdG8gcXVlcnkgc3RyaW5nXG4gIHRoaXMucXVlcnkuaiA9IHRoaXMuaW5kZXg7XG5cbiAgLy8gcHJldmVudCBzcHVyaW91cyBlcnJvcnMgZnJvbSBiZWluZyBlbWl0dGVkIHdoZW4gdGhlIHdpbmRvdyBpcyB1bmxvYWRlZFxuICBpZiAoZ2xvYmFsLmRvY3VtZW50ICYmIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLnNjcmlwdCkgc2VsZi5zY3JpcHQub25lcnJvciA9IGVtcHR5O1xuICAgIH0sIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIEluaGVyaXRzIGZyb20gUG9sbGluZy5cbiAqL1xuXG5pbmhlcml0KEpTT05QUG9sbGluZywgUG9sbGluZyk7XG5cbi8qXG4gKiBKU09OUCBvbmx5IHN1cHBvcnRzIGJpbmFyeSBhcyBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG4gKi9cblxuSlNPTlBQb2xsaW5nLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuXG4vKipcbiAqIENsb3NlcyB0aGUgc29ja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkpTT05QUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc2NyaXB0KSB7XG4gICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCk7XG4gICAgdGhpcy5zY3JpcHQgPSBudWxsO1xuICB9XG5cbiAgaWYgKHRoaXMuZm9ybSkge1xuICAgIHRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSk7XG4gICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICB0aGlzLmlmcmFtZSA9IG51bGw7XG4gIH1cblxuICBQb2xsaW5nLnByb3RvdHlwZS5kb0Nsb3NlLmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyBhIHBvbGwgY3ljbGUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuSlNPTlBQb2xsaW5nLnByb3RvdHlwZS5kb1BvbGwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG4gIGlmICh0aGlzLnNjcmlwdCkge1xuICAgIHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpO1xuICAgIHRoaXMuc2NyaXB0ID0gbnVsbDtcbiAgfVxuXG4gIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gIHNjcmlwdC5zcmMgPSB0aGlzLnVyaSgpO1xuICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgc2VsZi5vbkVycm9yKCdqc29ucCBwb2xsIGVycm9yJywgZSk7XG4gIH07XG5cbiAgdmFyIGluc2VydEF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICBpZiAoaW5zZXJ0QXQpIHtcbiAgICBpbnNlcnRBdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGluc2VydEF0KTtcbiAgfSBlbHNlIHtcbiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICB9XG4gIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuXG4gIHZhciBpc1VBZ2Vja28gPSAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG5hdmlnYXRvciAmJiAvZ2Vja28vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gIGlmIChpc1VBZ2Vja28pIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICB9LCAxMDApO1xuICB9XG59O1xuXG4vKipcbiAqIFdyaXRlcyB3aXRoIGEgaGlkZGVuIGlmcmFtZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YSB0byBzZW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkpTT05QUG9sbGluZy5wcm90b3R5cGUuZG9Xcml0ZSA9IGZ1bmN0aW9uIChkYXRhLCBmbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKCF0aGlzLmZvcm0pIHtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICB2YXIgYXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdmFyIGlkID0gdGhpcy5pZnJhbWVJZCA9ICdlaW9faWZyYW1lXycgKyB0aGlzLmluZGV4O1xuICAgIHZhciBpZnJhbWU7XG5cbiAgICBmb3JtLmNsYXNzTmFtZSA9ICdzb2NrZXRpbyc7XG4gICAgZm9ybS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZm9ybS5zdHlsZS50b3AgPSAnLTEwMDBweCc7XG4gICAgZm9ybS5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xuICAgIGZvcm0udGFyZ2V0ID0gaWQ7XG4gICAgZm9ybS5tZXRob2QgPSAnUE9TVCc7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2FjY2VwdC1jaGFyc2V0JywgJ3V0Zi04Jyk7XG4gICAgYXJlYS5uYW1lID0gJ2QnO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYXJlYSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcblxuICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcbiAgfVxuXG4gIHRoaXMuZm9ybS5hY3Rpb24gPSB0aGlzLnVyaSgpO1xuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlICgpIHtcbiAgICBpbml0SWZyYW1lKCk7XG4gICAgZm4oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRJZnJhbWUgKCkge1xuICAgIGlmIChzZWxmLmlmcmFtZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5mb3JtLnJlbW92ZUNoaWxkKHNlbGYuaWZyYW1lKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgc2VsZi5vbkVycm9yKCdqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yJywgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIGllNiBkeW5hbWljIGlmcmFtZXMgd2l0aCB0YXJnZXQ9XCJcIiBzdXBwb3J0ICh0aGFua3MgQ2hyaXMgTGFtYmFjaGVyKVxuICAgICAgdmFyIGh0bWwgPSAnPGlmcmFtZSBzcmM9XCJqYXZhc2NyaXB0OjBcIiBuYW1lPVwiJyArIHNlbGYuaWZyYW1lSWQgKyAnXCI+JztcbiAgICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaHRtbCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBpZnJhbWUubmFtZSA9IHNlbGYuaWZyYW1lSWQ7XG4gICAgICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6MCc7XG4gICAgfVxuXG4gICAgaWZyYW1lLmlkID0gc2VsZi5pZnJhbWVJZDtcblxuICAgIHNlbGYuZm9ybS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIHNlbGYuaWZyYW1lID0gaWZyYW1lO1xuICB9XG5cbiAgaW5pdElmcmFtZSgpO1xuXG4gIC8vIGVzY2FwZSBcXG4gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGNvbnZlcnRlZCBpbnRvIFxcclxcbiBieSBzb21lIFVBc1xuICAvLyBkb3VibGUgZXNjYXBpbmcgaXMgcmVxdWlyZWQgZm9yIGVzY2FwZWQgbmV3IGxpbmVzIGJlY2F1c2UgdW5lc2NhcGluZyBvZiBuZXcgbGluZXMgY2FuIGJlIGRvbmUgc2FmZWx5IG9uIHNlcnZlci1zaWRlXG4gIGRhdGEgPSBkYXRhLnJlcGxhY2UockVzY2FwZWROZXdsaW5lLCAnXFxcXFxcbicpO1xuICB0aGlzLmFyZWEudmFsdWUgPSBkYXRhLnJlcGxhY2Uock5ld2xpbmUsICdcXFxcbicpO1xuXG4gIHRyeSB7XG4gICAgdGhpcy5mb3JtLnN1Ym1pdCgpO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIGlmICh0aGlzLmlmcmFtZS5hdHRhY2hFdmVudCkge1xuICAgIHRoaXMuaWZyYW1lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmlmcmFtZS5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlmcmFtZS5vbmxvYWQgPSBjb21wbGV0ZTtcbiAgfVxufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFRyYW5zcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBwYXJzZXFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciB5ZWFzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnZW5naW5lLmlvLWNsaWVudDp3ZWJzb2NrZXQnKTtcbnZhciBCcm93c2VyV2ViU29ja2V0ID0gZ2xvYmFsLldlYlNvY2tldCB8fCBnbG9iYWwuTW96V2ViU29ja2V0O1xudmFyIE5vZGVXZWJTb2NrZXQ7XG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdHJ5IHtcbiAgICBOb2RlV2ViU29ja2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG4gIH0gY2F0Y2ggKGUpIHsgfVxufVxuXG4vKipcbiAqIEdldCBlaXRoZXIgdGhlIGBXZWJTb2NrZXRgIG9yIGBNb3pXZWJTb2NrZXRgIGdsb2JhbHNcbiAqIGluIHRoZSBicm93c2VyIG9yIHRyeSB0byByZXNvbHZlIFdlYlNvY2tldC1jb21wYXRpYmxlXG4gKiBpbnRlcmZhY2UgZXhwb3NlZCBieSBgd3NgIGZvciBOb2RlLWxpa2UgZW52aXJvbm1lbnQuXG4gKi9cblxudmFyIFdlYlNvY2tldCA9IEJyb3dzZXJXZWJTb2NrZXQ7XG5pZiAoIVdlYlNvY2tldCAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICBXZWJTb2NrZXQgPSBOb2RlV2ViU29ja2V0O1xufVxuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gV1M7XG5cbi8qKlxuICogV2ViU29ja2V0IHRyYW5zcG9ydCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAYXBpIHtPYmplY3R9IGNvbm5lY3Rpb24gb3B0aW9uc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBXUyAob3B0cykge1xuICB2YXIgZm9yY2VCYXNlNjQgPSAob3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0KTtcbiAgaWYgKGZvcmNlQmFzZTY0KSB7XG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuICB9XG4gIHRoaXMucGVyTWVzc2FnZURlZmxhdGUgPSBvcHRzLnBlck1lc3NhZ2VEZWZsYXRlO1xuICB0aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldCA9IEJyb3dzZXJXZWJTb2NrZXQgJiYgIW9wdHMuZm9yY2VOb2RlO1xuICB0aGlzLnByb3RvY29scyA9IG9wdHMucHJvdG9jb2xzO1xuICBpZiAoIXRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgV2ViU29ja2V0ID0gTm9kZVdlYlNvY2tldDtcbiAgfVxuICBUcmFuc3BvcnQuY2FsbCh0aGlzLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFRyYW5zcG9ydC5cbiAqL1xuXG5pbmhlcml0KFdTLCBUcmFuc3BvcnQpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBuYW1lLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuV1MucHJvdG90eXBlLm5hbWUgPSAnd2Vic29ja2V0JztcblxuLypcbiAqIFdlYlNvY2tldHMgc3VwcG9ydCBiaW5hcnlcbiAqL1xuXG5XUy5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuXG4vKipcbiAqIE9wZW5zIHNvY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUuZG9PcGVuID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2hlY2soKSkge1xuICAgIC8vIGxldCBwcm9iZSB0aW1lb3V0XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHVyaSA9IHRoaXMudXJpKCk7XG4gIHZhciBwcm90b2NvbHMgPSB0aGlzLnByb3RvY29scztcbiAgdmFyIG9wdHMgPSB7XG4gICAgYWdlbnQ6IHRoaXMuYWdlbnQsXG4gICAgcGVyTWVzc2FnZURlZmxhdGU6IHRoaXMucGVyTWVzc2FnZURlZmxhdGVcbiAgfTtcblxuICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgb3B0cy5wZnggPSB0aGlzLnBmeDtcbiAgb3B0cy5rZXkgPSB0aGlzLmtleTtcbiAgb3B0cy5wYXNzcGhyYXNlID0gdGhpcy5wYXNzcGhyYXNlO1xuICBvcHRzLmNlcnQgPSB0aGlzLmNlcnQ7XG4gIG9wdHMuY2EgPSB0aGlzLmNhO1xuICBvcHRzLmNpcGhlcnMgPSB0aGlzLmNpcGhlcnM7XG4gIG9wdHMucmVqZWN0VW5hdXRob3JpemVkID0gdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ7XG4gIGlmICh0aGlzLmV4dHJhSGVhZGVycykge1xuICAgIG9wdHMuaGVhZGVycyA9IHRoaXMuZXh0cmFIZWFkZXJzO1xuICB9XG4gIGlmICh0aGlzLmxvY2FsQWRkcmVzcykge1xuICAgIG9wdHMubG9jYWxBZGRyZXNzID0gdGhpcy5sb2NhbEFkZHJlc3M7XG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMud3MgPSB0aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldCA/IChwcm90b2NvbHMgPyBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzKSA6IG5ldyBXZWJTb2NrZXQodXJpKSkgOiBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG5cbiAgaWYgKHRoaXMud3MuYmluYXJ5VHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHRoaXMud3Muc3VwcG9ydHMgJiYgdGhpcy53cy5zdXBwb3J0cy5iaW5hcnkpIHtcbiAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gdHJ1ZTtcbiAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnbm9kZWJ1ZmZlcic7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy53cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgfVxuXG4gIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbn07XG5cbi8qKlxuICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNvY2tldFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbldTLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMud3Mub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25PcGVuKCk7XG4gIH07XG4gIHRoaXMud3Mub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9uQ2xvc2UoKTtcbiAgfTtcbiAgdGhpcy53cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICBzZWxmLm9uRGF0YShldi5kYXRhKTtcbiAgfTtcbiAgdGhpcy53cy5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzZWxmLm9uRXJyb3IoJ3dlYnNvY2tldCBlcnJvcicsIGUpO1xuICB9O1xufTtcblxuLyoqXG4gKiBXcml0ZXMgZGF0YSB0byBzb2NrZXQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgb2YgcGFja2V0cy5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbldTLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChwYWNrZXRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuXG4gIC8vIGVuY29kZVBhY2tldCBlZmZpY2llbnQgYXMgaXQgdXNlcyBXUyBmcmFtaW5nXG4gIC8vIG5vIG5lZWQgZm9yIGVuY29kZVBheWxvYWRcbiAgdmFyIHRvdGFsID0gcGFja2V0cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdG90YWw7IGkgPCBsOyBpKyspIHtcbiAgICAoZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgcGFyc2VyLmVuY29kZVBhY2tldChwYWNrZXQsIHNlbGYuc3VwcG9ydHNCaW5hcnksIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICghc2VsZi51c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAvLyBhbHdheXMgY3JlYXRlIGEgbmV3IG9iamVjdCAoR0gtNDM3KVxuICAgICAgICAgIHZhciBvcHRzID0ge307XG4gICAgICAgICAgaWYgKHBhY2tldC5vcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gcGFja2V0Lm9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYucGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSAnc3RyaW5nJyA9PT0gdHlwZW9mIGRhdGEgPyBnbG9iYWwuQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSkgOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZW4gPCBzZWxmLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29tZXRpbWVzIHRoZSB3ZWJzb2NrZXQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQgYnV0IHRoZSBicm93c2VyIGRpZG4ndFxuICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgLy8gdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoc2VsZi51c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIC8vIFR5cGVFcnJvciBpcyB0aHJvd24gd2hlbiBwYXNzaW5nIHRoZSBzZWNvbmQgYXJndW1lbnQgb24gU2FmYXJpXG4gICAgICAgICAgICBzZWxmLndzLnNlbmQoZGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYud3Muc2VuZChkYXRhLCBvcHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWJ1Zygnd2Vic29ja2V0IGNsb3NlZCBiZWZvcmUgb25jbG9zZSBldmVudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLS10b3RhbCB8fCBkb25lKCk7XG4gICAgICB9KTtcbiAgICB9KShwYWNrZXRzW2ldKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUgKCkge1xuICAgIHNlbGYuZW1pdCgnZmx1c2gnKTtcblxuICAgIC8vIGZha2UgZHJhaW5cbiAgICAvLyBkZWZlciB0byBuZXh0IHRpY2sgdG8gYWxsb3cgU29ja2V0IHRvIGNsZWFyIHdyaXRlQnVmZmVyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1pdCgnZHJhaW4nKTtcbiAgICB9LCAwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBjbG9zZVxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbldTLnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICBUcmFuc3BvcnQucHJvdG90eXBlLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogQ2xvc2VzIHNvY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUuZG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB0aGlzLndzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbldTLnByb3RvdHlwZS51cmkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gIHZhciBzY2hlbWEgPSB0aGlzLnNlY3VyZSA/ICd3c3MnIDogJ3dzJztcbiAgdmFyIHBvcnQgPSAnJztcblxuICAvLyBhdm9pZCBwb3J0IGlmIGRlZmF1bHQgZm9yIHNjaGVtYVxuICBpZiAodGhpcy5wb3J0ICYmICgoJ3dzcycgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICgnd3MnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDgwKSkpIHtcbiAgICBwb3J0ID0gJzonICsgdGhpcy5wb3J0O1xuICB9XG5cbiAgLy8gYXBwZW5kIHRpbWVzdGFtcCB0byBVUklcbiAgaWYgKHRoaXMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICBxdWVyeVt0aGlzLnRpbWVzdGFtcFBhcmFtXSA9IHllYXN0KCk7XG4gIH1cblxuICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5KSB7XG4gICAgcXVlcnkuYjY0ID0gMTtcbiAgfVxuXG4gIHF1ZXJ5ID0gcGFyc2Vxcy5lbmNvZGUocXVlcnkpO1xuXG4gIC8vIHByZXBlbmQgPyB0byBxdWVyeVxuICBpZiAocXVlcnkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSAnPycgKyBxdWVyeTtcbiAgfVxuXG4gIHZhciBpcHY2ID0gdGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgIT09IC0xO1xuICByZXR1cm4gc2NoZW1hICsgJzovLycgKyAoaXB2NiA/ICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScgOiB0aGlzLmhvc3RuYW1lKSArIHBvcnQgKyB0aGlzLnBhdGggKyBxdWVyeTtcbn07XG5cbi8qKlxuICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIHRoaXMgdHJhbnNwb3J0IGlzIGF2YWlsYWJsZS5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuV1MucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISFXZWJTb2NrZXQgJiYgISgnX19pbml0aWFsaXplJyBpbiBXZWJTb2NrZXQgJiYgdGhpcy5uYW1lID09PSBXUy5wcm90b3R5cGUubmFtZSk7XG59O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogKGlnbm9yZWQpICovXG5cbi8qKiovIH0pLFxuLyogNjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxyXG4gKiBKU09OIHBhcnNlLlxyXG4gKlxyXG4gKiBAc2VlIEJhc2VkIG9uIGpRdWVyeSNwYXJzZUpTT04gKE1JVCkgYW5kIEpTT04yXHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbnZhciBydmFsaWRjaGFycyA9IC9eW1xcXSw6e31cXHNdKiQvO1xyXG52YXIgcnZhbGlkZXNjYXBlID0gL1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZztcclxudmFyIHJ2YWxpZHRva2VucyA9IC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZztcclxudmFyIHJ2YWxpZGJyYWNlcyA9IC8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZztcclxudmFyIHJ0cmltTGVmdCA9IC9eXFxzKy87XHJcbnZhciBydHJpbVJpZ2h0ID0gL1xccyskLztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2Vqc29uKGRhdGEpIHtcclxuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgfHwgIWRhdGEpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZGF0YSA9IGRhdGEucmVwbGFjZShydHJpbUxlZnQsICcnKS5yZXBsYWNlKHJ0cmltUmlnaHQsICcnKTtcclxuXHJcbiAgLy8gQXR0ZW1wdCB0byBwYXJzZSB1c2luZyB0aGUgbmF0aXZlIEpTT04gcGFyc2VyIGZpcnN0XHJcbiAgaWYgKGdsb2JhbC5KU09OICYmIEpTT04ucGFyc2UpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHJ2YWxpZGNoYXJzLnRlc3QoZGF0YS5yZXBsYWNlKHJ2YWxpZGVzY2FwZSwgJ0AnKVxyXG4gICAgICAucmVwbGFjZShydmFsaWR0b2tlbnMsICddJylcclxuICAgICAgLnJlcGxhY2UocnZhbGlkYnJhY2VzLCAnJykpKSB7XHJcbiAgICByZXR1cm4gKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBkYXRhKSkoKTtcclxuICB9XHJcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB0b0FycmF5XG5cbmZ1bmN0aW9uIHRvQXJyYXkobGlzdCwgaW5kZXgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXVxuXG4gICAgaW5kZXggPSBpbmRleCB8fCAwXG5cbiAgICBmb3IgKHZhciBpID0gaW5kZXggfHwgMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaSAtIGluZGV4XSA9IGxpc3RbaV1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXlcbn1cblxuXG4vKioqLyB9KSxcbi8qIDYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuLyoqXG4gKiBFeHBvc2UgYEJhY2tvZmZgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gQmFja29mZjtcblxuLyoqXG4gKiBJbml0aWFsaXplIGJhY2tvZmYgdGltZXIgd2l0aCBgb3B0c2AuXG4gKlxuICogLSBgbWluYCBpbml0aWFsIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIFsxMDBdXG4gKiAtIGBtYXhgIG1heCB0aW1lb3V0IFsxMDAwMF1cbiAqIC0gYGppdHRlcmAgWzBdXG4gKiAtIGBmYWN0b3JgIFsyXVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEJhY2tvZmYob3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgdGhpcy5tcyA9IG9wdHMubWluIHx8IDEwMDtcbiAgdGhpcy5tYXggPSBvcHRzLm1heCB8fCAxMDAwMDtcbiAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICB0aGlzLmppdHRlciA9IG9wdHMuaml0dGVyID4gMCAmJiBvcHRzLmppdHRlciA8PSAxID8gb3B0cy5qaXR0ZXIgOiAwO1xuICB0aGlzLmF0dGVtcHRzID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGJhY2tvZmYgZHVyYXRpb24uXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gIHZhciBtcyA9IHRoaXMubXMgKiBNYXRoLnBvdyh0aGlzLmZhY3RvciwgdGhpcy5hdHRlbXB0cysrKTtcbiAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgdmFyIHJhbmQgPSAgTWF0aC5yYW5kb20oKTtcbiAgICB2YXIgZGV2aWF0aW9uID0gTWF0aC5mbG9vcihyYW5kICogdGhpcy5qaXR0ZXIgKiBtcyk7XG4gICAgbXMgPSAoTWF0aC5mbG9vcihyYW5kICogMTApICYgMSkgPT0gMCAgPyBtcyAtIGRldmlhdGlvbiA6IG1zICsgZGV2aWF0aW9uO1xuICB9XG4gIHJldHVybiBNYXRoLm1pbihtcywgdGhpcy5tYXgpIHwgMDtcbn07XG5cbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkJhY2tvZmYucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5hdHRlbXB0cyA9IDA7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuc2V0TWluID0gZnVuY3Rpb24obWluKXtcbiAgdGhpcy5tcyA9IG1pbjtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRNYXggPSBmdW5jdGlvbihtYXgpe1xuICB0aGlzLm1heCA9IG1heDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkJhY2tvZmYucHJvdG90eXBlLnNldEppdHRlciA9IGZ1bmN0aW9uKGppdHRlcil7XG4gIHRoaXMuaml0dGVyID0gaml0dGVyO1xufTtcblxuXG5cbi8qKiovIH0pLFxuLyogNjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpLk9iamVjdC5hc3NpZ247XG5cblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7IGFzc2lnbjogX193ZWJwYWNrX3JlcXVpcmVfXyg3NikgfSk7XG5cblxuLyoqKi8gfSksXG4vKiA2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG52YXIgY3R4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG52YXIgaGlkZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG4vKioqLyB9KSxcbi8qIDY3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRQID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG52YXIgY3JlYXRlRGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcbnZhciB0b1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xudmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxMSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDczKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiA3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oOSkuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgZ2V0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xudmFyIGdPUFMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcbnZhciBwSUUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oOTApO1xudmFyIElPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuLyoqKi8gfSksXG4vKiA3NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xudmFyIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xudmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xudmFyIGFycmF5SW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oODEpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xudmFyIHRvTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oODUpKCdrZXlzJyk7XG52YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cbi8qKiovIH0pLFxuLyogODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuXG4vKioqLyB9KSxcbi8qIDg5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cbi8qKiovIH0pLFxuLyogOTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDI3Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkge1xuICAgICAgICBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTkwKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYxNCkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MTUpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjI3KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYyOCkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MjkpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjMwKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MzIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMxMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzMTEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygzMTMpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDMyNDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF90eXBlb2YyID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mMihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mMihvYmopO1xufTtcblxudmFyIF90aGlzID0gdGhpcztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgUmVhY3RET00gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG52YXIgcmVhY3RfcmVkdXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIGhpc3RvcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMyKTtcbnZhciBzdG9yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzkpO1xudmFyIENvbnRhaW5lcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xudmFyIGFwaV90eXBlc2NyaXB0X2xpYnJhcnlfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcyKTtcbnZhciBTZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgaGlzdG9yeSA9IGhpc3RvcnlfMS5jcmVhdGVCcm93c2VySGlzdG9yeSgpO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgIGlmICgodHlwZW9mIHBhcmFtcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHBhcmFtcykpICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBhcyBhbiBvYmplY3QuXCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBhcyBhbiBvYmplY3QuXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtcy5hcGlLZXkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBhIERpdmUgQVBJIEtFWSBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdhcGlLZXlcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBhIERpdmUgQVBJIEtFWSBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdhcGlLZXlcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zLmRldmljZUlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgYSB1bmlxdWUgY2xpZW50IGlkIGluIG9yZGVyIHRvIGF1dGhlbnRpY2F0ZSBoaW0sXFxuICAgICAgcHJvdmlkZSBpdCB0aHJvdWdoIHRoZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXIgJ2NsaWVudElkJ1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IHNob3VsZCBwcm92aWRlIGEgdW5pcXVlIGNsaWVudCBpZCBpbiBvcmRlciB0byBhdXRoZW50aWNhdGUgaGltLFxcbiAgICAgIHByb3ZpZGUgaXQgdGhyb3VnaCB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdjbGllbnRJZCdcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmIChLZXlFdmVudCkge1xuICAgICAgICAgICAgdmFyIGttID0gU2VydmljZXNfMS5LZXlNYXA7XG4gICAgICAgICAgICBrbS5VUCA9IEtleUV2ZW50LlZLX1VQO1xuICAgICAgICAgICAga20uRE9XTiA9IEtleUV2ZW50LlZLX0RPV047XG4gICAgICAgICAgICBrbS5MRUZUID0gS2V5RXZlbnQuVktfTEVGVDtcbiAgICAgICAgICAgIGttLlJJR0hUID0gS2V5RXZlbnQuVktfUklHSFQ7XG4gICAgICAgICAgICBrbS5FTlRFUiA9IEtleUV2ZW50LlZLX0VOVEVSO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTk8gS0VZTUFQIEZPVU5EXCIpO1xuICAgIH1cbiAgICB2YXIgQVBJaW5zdGFuY2UgPSBuZXcgYXBpX3R5cGVzY3JpcHRfbGlicmFyeV8xLkRpdmVBUElDbGFzcyh7IGVudjogXCJQUk9cIiwgc3RvcmVUb2tlbjogXCJjb29raWVzXCIsIGFwaUtleTogcGFyYW1zLmFwaUtleSwgZGV2aWNlSWQ6IHBhcmFtcy5kZXZpY2VJZCB9KTtcbiAgICBBUElpbnN0YW5jZS5zZXRMb2NhbGUoXCJlcy1FU1wiKTtcbiAgICB3aW5kb3cuRGl2ZUFQSSA9IEFQSWluc3RhbmNlO1xuICAgIEFQSWluc3RhbmNlLnBvc3RUb2tlbkFuZFNhdmUoeyBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQsIGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1dGhvcml6ZWQhXCIpO1xuICAgICAgICB3aW5kb3cuRGl2ZUFQSSA9IEFQSWluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdmVBUEkgZ2VuZXJhdGVkLCBhdmFpbGFibGUgdGhyb3VnaCBEaXZlU0RLLkFQSSBvciB3aW5kb3cuRGl2ZUFQSSAoZ2xvYmFsKVwiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc2VsZWN0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgYSBzZWxlY3RvciB0aGF0IHJlc29sdmVzIHRvIGFuIGV4aXN0aW5nIERPTSBFbGVtZW50XFxuICAgICAgICBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdzZWxlY3RvcidcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgYSBzZWxlY3RvciB0aGF0IHJlc29sdmVzIHRvIGFuIGV4aXN0aW5nIERPTSBFbGVtZW50XFxuICAgICAgICBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdzZWxlY3RvcidcIik7XG4gICAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGl2ZUNvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQocmVhY3RfcmVkdXhfMS5Qcm92aWRlciwgeyBzdG9yZTogc3RvcmVfMS5zdG9yZSB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lcnNfMS5BcHAsIG51bGwpKSksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyYW1zLnNlbGVjdG9yKSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBMT0FESU5HXCIsIGVycm9yKTtcbiAgICB9KTtcbn07XG5pZiAoZmFsc2UpIHtcbiAgICByZXF1aXJlKCdmaWxlLWxvYWRlciEuL2luZGV4Lmh0bWwnKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDQzOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlZHV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciByZWR1eF90aHVua18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDApO1xudmFyIHNvY2tldF9taWRkbGV3YXJlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0MSk7XG52YXIgUmVkdWNlcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTE4KTtcbnZhciB3aW5kb3dJZkRlZmluZWQgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB3aW5kb3c7XG52YXIgY29tcG9zZUVuaGFuY2VycyA9IHdpbmRvd0lmRGVmaW5lZC5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gfHwgcmVkdXhfMS5jb21wb3NlO1xudmFyIGdldE1pZGRsZXdhcmVzID0gZnVuY3Rpb24gZ2V0TWlkZGxld2FyZXMoKSB7XG4gICAgcmV0dXJuIHJlZHV4XzEuYXBwbHlNaWRkbGV3YXJlKHJlZHV4X3RodW5rXzEuZGVmYXVsdCwgc29ja2V0X21pZGRsZXdhcmVfMS5kZWZhdWx0KCkpO1xufTtcbmV4cG9ydHMuc3RvcmUgPSByZWR1eF8xLmNyZWF0ZVN0b3JlKHJlZHV4XzEuY29tYmluZVJlZHVjZXJzKHtcbiAgICBuYXY6IFJlZHVjZXJzXzEuTmF2UmVkdWNlcixcbiAgICBjYXJvdXNlbDogUmVkdWNlcnNfMS5TeW5jUmVkdWNlcixcbiAgICB1aTogUmVkdWNlcnNfMS5VSVJlZHVjZXJcbn0pLCBjb21wb3NlRW5oYW5jZXJzKGdldE1pZGRsZXdhcmVzKCkpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ0MTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFjdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODgpO1xudmFyIENvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjMpO1xudmFyIHNvY2tldE1pZGRsZXdhcmUgPSBmdW5jdGlvbiBzb2NrZXRNaWRkbGV3YXJlKCkge1xuICAgIHZhciBzb2NrZXQ7XG4gICAgdmFyIG9uT3BlbiA9IGZ1bmN0aW9uIG9uT3Blbihzb2NrZXRJbywgc3RvcmUsIGNoYW5uZWwpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNvY2tldENvbm5lY3RlZCgpKTtcbiAgICAgICAgICAgIGlmIChzb2NrZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignY2hhbm5lbFN0YXR1cycsIG9uTWVzc2FnZShzb2NrZXQsIHN0b3JlKSk7XG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ3R1bmVDaGFubmVsJywgY2hhbm5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgb25DbG9zZSA9IGZ1bmN0aW9uIG9uQ2xvc2Uoc29ja2V0SW8sIHN0b3JlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNvY2tldERpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uIG9uRW5kKHNvY2tldElvLCBzdG9yZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKHNvY2tldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChBY3Rpb25zXzEuU29ja2V0QWN0aW9ucy5zb2NrZXREaXNjb25uZWN0ZWQoKSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3Ioc29ja2V0SW8sIHN0b3JlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNvY2tldERpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBvblRpbWVvdXQgPSBmdW5jdGlvbiBvblRpbWVvdXQoc29ja2V0SW8sIHN0b3JlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNvY2tldERpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbiBvbk1lc3NhZ2Uoc29ja2V0SW8sIHN0b3JlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBldnQ7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gZGF0YS5zdGF0dXM7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRoZW50aWNhdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLmF1dGhSZWNlaXZlZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuYXV0aG9yaXplZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChBY3Rpb25zXzEuU29ja2V0QWN0aW9ucy51bmF1dGhSZWNlaXZlZCh7IG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwgY29kZTogZGF0YS5jb2RlLCB0eXBlOiBkYXRhLnR5cGUgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uc18xLlNvY2tldEFjdGlvbnMuZXJyb3JSZWNlaXZlZCh7IHN0YXR1czogZGF0YS5zdGF0dXMsIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1vdmllX3N0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLm1vdmllU3RhcnRSZWNlaXZlZCh7IG1vdmllX2lkOiBkYXRhLm1vdmllX2lkIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1vdmllX2VuZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChBY3Rpb25zXzEuU29ja2V0QWN0aW9ucy5tb3ZpZUVuZFJlY2lldmVkKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NlbmVfc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uc18xLlNvY2tldEFjdGlvbnMuc2NlbmVTdGFydFJlY2VpdmVkKHsgY2FyZHM6IGRhdGEuY2FyZHMgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NlbmVfdXBkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNjZW5lVXBkYXRlUmVjZWl2ZWQoeyBjYXJkczogZGF0YS5jYXJkcyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2VuZV9lbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uc18xLlNvY2tldEFjdGlvbnMuc2NlbmVFbmRSZWNlaXZlZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgZ2V0VXJsID0gZnVuY3Rpb24gZ2V0VXJsKGVudikge1xuICAgICAgICB2YXIgc29ja2V0UGF0aCA9ICdzdHJlYW0uZGl2ZS50dic7XG4gICAgICAgIHN3aXRjaCAoZW52KSB7XG4gICAgICAgICAgICBjYXNlIFwiREVWXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9kZXYtXCIgKyBzb2NrZXRQYXRoO1xuICAgICAgICAgICAgY2FzZSBcIlBSRVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImh0dHBzOi8vcHJlLVwiICsgc29ja2V0UGF0aDtcbiAgICAgICAgICAgIGNhc2UgXCJQUk9cIjpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdodHRwczovLycgKyBzb2NrZXRQYXRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoc3RvcmUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ09OTkVDVCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKEFjdGlvbnNfMS5Tb2NrZXRBY3Rpb25zLnNvY2tldENvbm5lY3RpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ZVRva2VuID0gRGl2ZUFQSS5nZXRTYXZlZFRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGl2ZVRva2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gdG9rZW4gcHJlc2VudCB3aGlsZSB0cnlpbmcgdG8gY29ubmVjdCB0aGUgc29ja2V0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRva2VuIHByZXNlbnQgd2hpbGUgdHJ5aW5nIHRvIGNvbm5lY3QgdGhlIHNvY2tldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBhY3Rpb24ucGF5bG9hZC51cmwgIT09IHVuZGVmaW5lZCA/IGFjdGlvbi5wYXlsb2FkLnVybCA6IGdldFVybChDb25zdGFudHNfMS5ESVZFX0VOVklST05NRU5UKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldCA9IGlvLmNvbm5lY3QodXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VOZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFwidG9rZW49XCIgKyBkaXZlVG9rZW4uYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydHM6IFtcIndlYnNvY2tldFwiLCBcInhoci1wb2xsaW5nXCIsIFwicG9sbGluZ1wiLCBcImh0bWxmaWxlXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFubmVsID0gYWN0aW9uLnBheWxvYWQuY2hhbm5lbElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0Jywgb25PcGVuKHNvY2tldCwgc3RvcmUsIGNoYW5uZWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIG9uRXJyb3Ioc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIG9uRXJyb3Ioc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0X3RpbWVvdXQnLCBvblRpbWVvdXQoc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0Jywgb25DbG9zZShzb2NrZXQsIHN0b3JlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2VuZCcsIG9uRW5kKHNvY2tldCwgc3RvcmUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdESVNDT05ORUNUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb2NrZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uc18xLlNvY2tldEFjdGlvbnMuc29ja2V0RGlzY29ubmVjdGVkKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gaGFuZGxlcjtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBzb2NrZXRNaWRkbGV3YXJlO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNDQyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVkdXhfYWN0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5leHBvcnRzLnVpQ3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gcmVkdXhfYWN0aW9uc18xLmNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn07XG5leHBvcnRzLlVJQWN0aW9ucyA9IHtcbiAgICBnb0JhY2s6IGV4cG9ydHMudWlDcmVhdGVBY3Rpb24oXCJVSS9VSV9CQUNLXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSksXG4gICAgc2V0RGl2aWRlcjogZXhwb3J0cy51aUNyZWF0ZUFjdGlvbihcIlVJL1NFVF9ESVZJREVSXCIsIGZ1bmN0aW9uIChkaXZpZGVyKSB7XG4gICAgICAgIHJldHVybiBkaXZpZGVyO1xuICAgIH0pLFxuICAgIG9wZW5DYXJkOiBmdW5jdGlvbiBvcGVuQ2FyZChjYXJkSWQsIHJlbGF0aW9ucykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG4gICAgICAgICAgICBpZiAoY2FyZElkICYmIGNhcmRJZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goZXhwb3J0cy5VSUFjdGlvbnMucGVyZm9ybU9wZW5DYXJkKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRGl2ZUFQSS5nZXRDYXJkKHsgY2FyZElkOiBjYXJkSWQgfSkudGhlbihmdW5jdGlvbiAoY2FyZCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGV4cG9ydHMuVUlBY3Rpb25zLnBlcmZvcm1PcGVuQ2FyZChjYXJkKSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjYXJkXCIsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgcGVyZm9ybU9wZW5DYXJkOiBleHBvcnRzLnVpQ3JlYXRlQWN0aW9uKFwiVUkvT1BFTl9DQVJEXCIsIGZ1bmN0aW9uIChjYXJkKSB7XG4gICAgICAgIHJldHVybiBjYXJkO1xuICAgIH0pLFxuICAgIG9wZW5TeW5jOiBleHBvcnRzLnVpQ3JlYXRlQWN0aW9uKFwiVUkvT1BFTl9TWU5DXCIpLFxuICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goZXhwb3J0cy5VSUFjdGlvbnMucGVyZm9ybU9wZW4oZ3JvdXApKTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHBlcmZvcm1PcGVuOiBleHBvcnRzLnVpQ3JlYXRlQWN0aW9uKFwiVUkvT1BFTlwiLCBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH0pLFxuICAgIGFkZFRlc3RDYXJkczogZXhwb3J0cy51aUNyZWF0ZUFjdGlvbihcIlVJL0FERF9URVNUX0NBUkRTXCIsIGZ1bmN0aW9uIChjYXJkcykge1xuICAgICAgICByZXR1cm4gY2FyZHM7XG4gICAgfSlcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0ODQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWR1eF9hY3Rpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcbmV4cG9ydHMubmF2Q3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gcmVkdXhfYWN0aW9uc18xLmNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn07XG5leHBvcnRzLk5hdkFjdGlvbnMgPSB7XG4gICAgYWRkTm9kZTogZXhwb3J0cy5uYXZDcmVhdGVBY3Rpb24oJ05BVi9BRERfTk9ERScsIGZ1bmN0aW9uIChuYXYpIHtcbiAgICAgICAgcmV0dXJuIG5hdjtcbiAgICB9KSxcbiAgICBzZXRMYXN0S2V5OiBleHBvcnRzLm5hdkNyZWF0ZUFjdGlvbignTkFWL0tFWScsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9KSxcbiAgICBzZXRTZWxlY3RlZDogZXhwb3J0cy5uYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RFRCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSksXG4gICAgc2V0TGVhZjogZXhwb3J0cy5uYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RfTEVBRicsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSksXG4gICAgc2V0QWN0aXZhdGVkOiBleHBvcnRzLm5hdkNyZWF0ZUFjdGlvbignTkFWL0FDVElWQVRFRCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSksXG4gICAgbW92ZUhvcml6b250YWw6IGV4cG9ydHMubmF2Q3JlYXRlQWN0aW9uKCdOQVYvTU9WRV9IT1JJWk9OVEFMJywgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9KSxcbiAgICBtb3ZlVmVydGljYWw6IGV4cG9ydHMubmF2Q3JlYXRlQWN0aW9uKCdOQVYvTU9WRV9WRVJUSUNBTCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSksXG4gICAgZGVsZXRlTm9kZTogZXhwb3J0cy5uYXZDcmVhdGVBY3Rpb24oJ05BVi9ERUxFVEVfTk9ERScsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSksXG4gICAgc2V0Tm9kZUJ5TmFtZTogZXhwb3J0cy5uYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RfQllfTkFNRScsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH0pLFxuICAgIHNldE5vZGVCeUlkOiBleHBvcnRzLm5hdkNyZWF0ZUFjdGlvbignTkFWL1NFTEVDVF9CWV9JRCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfSlcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0ODU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWR1eF9hY3Rpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcbjtcbmV4cG9ydHMuc3luY0NyZWF0ZUFjdGlvbiA9IGZ1bmN0aW9uICh0eXBlLCBwYXlsb2FkKSB7XG4gICAgcmV0dXJuIHJlZHV4X2FjdGlvbnNfMS5jcmVhdGVBY3Rpb24odHlwZSwgcGF5bG9hZCk7XG59O1xuZXhwb3J0cy5TeW5jQWN0aW9ucyA9IHtcbiAgICBvcGVuQ2FyZDogZXhwb3J0cy5zeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9PUEVOX0NBUkRcIiwgZnVuY3Rpb24gKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gY2FyZElkO1xuICAgIH0pLFxuICAgIHNldE1vdmllOiBleHBvcnRzLnN5bmNDcmVhdGVBY3Rpb24oXCJTWU5DL1NFVF9NT1ZJRVwiLCBmdW5jdGlvbiAobW92aWVJZCkge1xuICAgICAgICByZXR1cm4gbW92aWVJZDtcbiAgICB9KSxcbiAgICBzZXRDaHVua1N0YXR1czogZXhwb3J0cy5zeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TRVRfQ0hVTktfU1RBVFVTXCIsIGZ1bmN0aW9uIChjaHVua1N0YXR1cykge1xuICAgICAgICByZXR1cm4gY2h1bmtTdGF0dXM7XG4gICAgfSksXG4gICAgc2V0U3luY1R5cGU6IGV4cG9ydHMuc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvU0VUX1NZTkNfVFlQRVwiLCBmdW5jdGlvbiAoc3luY1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHN5bmNUeXBlO1xuICAgIH0pLFxuICAgIHNldFNlbGVjdGVkT25TY2VuZUNoYW5nZTogZXhwb3J0cy5zeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TRVRfU0VMRUNURURfT05fU0NFTkVfQ0hBTkdFXCIsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KSxcbiAgICBzeW5jQ2hhbm5lbDogZnVuY3Rpb24gc3luY0NoYW5uZWwodHZFdmVudCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltTT0NLRVRdXCIpO1xuICAgICAgICAgICAgZGlzcGF0Y2goZXhwb3J0cy5TeW5jQWN0aW9ucy5zZXRTeW5jVHlwZShcIlNPQ0tFVFwiKSk7XG4gICAgICAgICAgICBEaXZlQVBJLnN5bmNXaXRoTW92aWVTdHJlYW1pbmcoe1xuICAgICAgICAgICAgICAgIHByb3RvY29sOiBcImh0dHBcIixcbiAgICAgICAgICAgICAgICBjaGFubmVsSWQ6IFwiZGl2ZVwiLCBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1NPQ0tFVF0gb25FcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Nb3ZpZVN0YXJ0OiBmdW5jdGlvbiBvbk1vdmllU3RhcnQobW92aWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZpZSAmJiBtb3ZpZS5tb3ZpZV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGV4cG9ydHMuU3luY0FjdGlvbnMuc2V0TW92aWUobW92aWUubW92aWVfaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Nb3ZpZUVuZDogZnVuY3Rpb24gb25Nb3ZpZUVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1NPQ0tFVF0gb25Nb3ZpZUVuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TY2VuZVN0YXJ0OiBmdW5jdGlvbiBvblNjZW5lU3RhcnQoc2NlbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY2VuZSAmJiBzY2VuZS5jYXJkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGV4cG9ydHMuU3luY0FjdGlvbnMuc3RhcnRTY2VuZShzY2VuZS5jYXJkcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChleHBvcnRzLlN5bmNBY3Rpb25zLnN0YXJ0U2NlbmUoW10pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TY2VuZVVwZGF0ZTogZnVuY3Rpb24gb25TY2VuZVVwZGF0ZShzY2VuZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjZW5lICYmIHNjZW5lLmNhcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goZXhwb3J0cy5TeW5jQWN0aW9ucy51cGRhdGVTY2VuZShzY2VuZS5jYXJkcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHt9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2NlbmVFbmQ6IGZ1bmN0aW9uIG9uU2NlbmVFbmQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChleHBvcnRzLlN5bmNBY3Rpb25zLmVuZFNjZW5lKCkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblBhdXNlU3RhcnQ6IGZ1bmN0aW9uIG9uUGF1c2VTdGFydCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1NPQ0tFVF0gb25QYXVzZVN0YXJ0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblBhdXNlRW5kOiBmdW5jdGlvbiBvblBhdXNlRW5kKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbU09DS0VUXSBvblBhdXNlRW5kXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBkYXRhU3luYzogZnVuY3Rpb24gZGF0YVN5bmMobW92aWVJZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChleHBvcnRzLlN5bmNBY3Rpb25zLnNldENodW5rU3RhdHVzKFwiTE9BRElOR1wiKSk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzdGFydFNjZW5lOiBleHBvcnRzLnN5bmNDcmVhdGVBY3Rpb24oXCJTWU5DL1NUQVJUX1NDRU5FXCIsIGZ1bmN0aW9uIChjYXJkcykge1xuICAgICAgICByZXR1cm4gY2FyZHM7XG4gICAgfSksXG4gICAgdXBkYXRlU2NlbmU6IGV4cG9ydHMuc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvVVBEQVRFX1NDRU5FXCIsIGZ1bmN0aW9uIChjYXJkcykge1xuICAgICAgICByZXR1cm4gY2FyZHM7XG4gICAgfSksXG4gICAgZW5kU2NlbmU6IGV4cG9ydHMuc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvRU5EX1NDRU5FXCIsIGZ1bmN0aW9uIChjYXJkcykge1xuICAgICAgICByZXR1cm4gY2FyZHM7XG4gICAgfSksXG4gICAgc2V0VGltZTogZXhwb3J0cy5zeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TRVRfVElNRVwiLCBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICByZXR1cm4gdGltZTtcbiAgICB9KVxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ4Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlZHV4X2FjdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuZnVuY3Rpb24gc29ja2V0Q3JlYXRlQWN0aW9uKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gcmVkdXhfYWN0aW9uc18xLmNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn1cbmV4cG9ydHMuU29ja2V0QWN0aW9ucyA9IHtcbiAgICBhdXRoUmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9BVVRIRU5USUNBVEVEXCIpLFxuICAgIHVuYXV0aFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvVU5BVVRIT1JJWkVEXCIsIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0pLFxuICAgIGVycm9yUmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9FUlJPUlwiLCBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9KSxcbiAgICBtb3ZpZVN0YXJ0UmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9NT1ZJRV9TVEFSVFwiLCBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9KSxcbiAgICBtb3ZpZUVuZFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvTU9WSUVfRU5EXCIpLFxuICAgIHNjZW5lU3RhcnRSZWNlaXZlZDogc29ja2V0Q3JlYXRlQWN0aW9uKFwiU09DS0VUL1NDRU5FX1NUQVJUXCIsIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0pLFxuICAgIHNjZW5lVXBkYXRlUmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9TQ0VORV9VUERBVEVcIiwgZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSksXG4gICAgc2NlbmVFbmRSZWNlaXZlZDogc29ja2V0Q3JlYXRlQWN0aW9uKFwiU09DS0VUL1NDRU5FX0VORFwiKVxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ4Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlZHV4X2FjdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuZXhwb3J0cy51c2VyQ3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gcmVkdXhfYWN0aW9uc18xLmNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIChpZ25vcmVkKSAqL1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTE4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgICAgIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MTkpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTIwKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDUyMSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MjIpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDUxOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5hdlJlZHVjZXIgPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXRlID0gZXhwb3J0cy5pbml0aWFsTmF2U3RhdGU7XG4gICAgfVxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnTkFWL0FERF9OT0RFJzpcbiAgICAgICAgICAgIHZhciBuYXYgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICAgIGlmIChuYXYucGFyZW50SWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFN0YXRlID0gc3RhdGUubmF2aWdhdGlvbi5nZXQobmF2LnBhcmVudElkKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50U3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnNldChuYXYucGFyZW50SWQsIHsgcGFyZW50SWQ6IC0xLCBpZDogbmF2LnBhcmVudElkLCBjaGlsZHJlbjogW1tuYXYuaWRdXSwgY29sdW1uczogMSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoaWxkcmVuVHVwbGFJbmRleCA9IHBhcmVudFN0YXRlLmNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hpbGRyZW5UdXBsYUxlbmd0aCA9IHBhcmVudFN0YXRlLmNoaWxkcmVuW2xhc3RDaGlsZHJlblR1cGxhSW5kZXhdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdi5jb2x1bW5zICE9PSB1bmRlZmluZWQgJiYgbmF2LmNvbHVtbnMgPT09IGxhc3RDaGlsZHJlblR1cGxhTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS5jaGlsZHJlbiA9IHBhcmVudFN0YXRlLmNoaWxkcmVuLmNvbmNhdChbW25hdi5pZF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYXYuZm9yY2VPcmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IHBhcmVudFN0YXRlLmNoaWxkcmVuW2xhc3RDaGlsZHJlblR1cGxhSW5kZXhdLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShuYXYuZm9yY2VPcmRlciwgMCwgbmF2LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XSA9IGFycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhdGUuY2hpbGRyZW5bbGFzdENoaWxkcmVuVHVwbGFJbmRleF0gPSBwYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XS5jb25jYXQoW25hdi5pZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uc2V0KHBhcmVudFN0YXRlLmlkLCBwYXJlbnRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hdlN0YXRlID0gc3RhdGUubmF2aWdhdGlvbi5nZXQobmF2LmlkKTtcbiAgICAgICAgICAgIGlmIChuYXZTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5zZXQobmF2LmlkLCBuYXYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnNldChuYXYuaWQsIF9fYXNzaWduKHt9LCBuYXYsIG5hdlN0YXRlLCB7IHBhcmVudElkOiBuYXYucGFyZW50SWQgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hdi5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5uYXZOYW1lcy5zZXQobmF2Lm5hbWUsIG5hdi5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIGNhc2UgJ05BVi9ERUxFVEVfTk9ERSc6XG4gICAgICAgICAgICB2YXIgZGVsZXRlTmF2ID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgaWYgKGRlbGV0ZU5hdiAhPT0gdW5kZWZpbmVkICYmIGRlbGV0ZU5hdi5wYXJlbnRJZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbGV0ZU5hdlBhcmVudCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGRlbGV0ZU5hdi5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZU5hdlBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRlTmF2UGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRleE9mKGRlbGV0ZU5hdlBhcmVudC5jaGlsZHJlbltpXSwgYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkZWxldGVOYXZQYXJlbnQuY2hpbGRyZW5baV0uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVOYXZQYXJlbnQuY2hpbGRyZW5baV0gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZU5hdlBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uc2V0KGRlbGV0ZU5hdlBhcmVudC5pZCwgZGVsZXRlTmF2UGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVsZXRlTmF2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmRlbGV0ZShkZWxldGVOYXYuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICBjYXNlICdOQVYvS0VZJzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgbGFzdEtleTogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgIGNhc2UgJ05BVi9TRUxFQ1RFRCc6XG4gICAgICAgICAgICBpZiAoaXNPdXRPZk1vZGFsKHN0YXRlLm5hdmlnYXRpb24sIHN0YXRlLnNlbGVjdGVkLCBhY3Rpb24ucGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGxhc3RTZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQsIHNlbGVjdGVkOiBhY3Rpb24ucGF5bG9hZCwgc2VsZWN0ZWROYXY6IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGFjdGlvbi5wYXlsb2FkKSB9KTtcbiAgICAgICAgY2FzZSAnTkFWL1NFTEVDVF9MRUFGJzpcbiAgICAgICAgICAgIHZhciBpZCA9IGdldEZpcnN0TGVhZihzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogaWQsIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChpZCkgfSk7XG4gICAgICAgIGNhc2UgJ05BVi9BQ1RJVkFURUQnOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBsYXN0QWN0aXZhdGVkOiBzdGF0ZS5hY3RpdmF0ZWQsIGFjdGl2YXRlZDogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgIGNhc2UgJ05BVi9NT1ZFX0hPUklaT05UQUwnOlxuICAgICAgICAgICAgdmFyIG5ld1NlbGVjdGVkID0gc3RhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB2YXIgbG9vcFNlbGVjdGVkID0gc3RhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KHN0YXRlLnNlbGVjdGVkKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgY3VycmVudC5wYXJlbnRJZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoY3VycmVudC5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgdmFyIGxvb3BpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvb3BXaGlsZTogd2hpbGUgKGxvb3BpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9vcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50XzEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9vcDE6IGZvciAodmFyIF9pID0gMCwgX2EgPSBwYXJlbnRfMS5jaGlsZHJlbjsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IGxpc3Rbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gbG9vcFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLmdldChsb29wU2VsZWN0ZWQpLm1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkID09PSAxICYmIGogPCBsaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkID0gZ2V0Rmlyc3RMZWFmKHN0YXRlLCBsaXN0W2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wV2hpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLnBheWxvYWQgPT09IC0xICYmIGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZCA9IGdldExhc3RMZWFmKHN0YXRlLCBsaXN0W2ogLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wV2hpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50XzEucGFyZW50SWQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BTZWxlY3RlZCA9IHBhcmVudF8xLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xID0gc3RhdGUubmF2aWdhdGlvbi5nZXQocGFyZW50XzEucGFyZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3AxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogbmV3U2VsZWN0ZWQsIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChuZXdTZWxlY3RlZCkgfSk7XG4gICAgICAgIGNhc2UgJ05BVi9NT1ZFX1ZFUlRJQ0FMJzpcbiAgICAgICAgICAgIHZhciBuZXdTZWxlY3RlZDIgPSBzdGF0ZS5zZWxlY3RlZDtcbiAgICAgICAgICAgIHZhciBsb29wU2VsZWN0ZWQyID0gc3RhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICB2YXIgY3VycmVudDIgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChzdGF0ZS5zZWxlY3RlZCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudDIgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Mi5wYXJlbnRJZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8yID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoY3VycmVudDIucGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIHZhciBsb29waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb29wV2hpbGU6IHdoaWxlIChsb29waW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudF8yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvb3AxOiBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmVudF8yLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50XzIuY2hpbGRyZW5bal0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YocGFyZW50XzIuY2hpbGRyZW5bal0sIGxvb3BTZWxlY3RlZDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJlbnRfMi5jaGlsZHJlbltqXVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gbG9vcFNlbGVjdGVkMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5nZXQobG9vcFNlbGVjdGVkMikubW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQgPT09IDEgJiYgaiA8IHBhcmVudF8yLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkMiA9IGdldEZpcnN0TGVhZihzdGF0ZSwgcGFyZW50XzIuY2hpbGRyZW5baiArIDFdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3BXaGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24ucGF5bG9hZCA9PT0gLTEgJiYgaiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkMiA9IGdldExhc3RMZWFmKHN0YXRlLCBwYXJlbnRfMi5jaGlsZHJlbltqIC0gMV1bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgbG9vcFdoaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudF8yLnBhcmVudElkID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wU2VsZWN0ZWQyID0gcGFyZW50XzIuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzIgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChwYXJlbnRfMi5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgbG9vcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGxhc3RTZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQsIHNlbGVjdGVkOiBuZXdTZWxlY3RlZDIsIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChuZXdTZWxlY3RlZDIpIH0pO1xuICAgICAgICBjYXNlICdOQVYvU0VMRUNUX0JZX05BTUUnOlxuICAgICAgICAgICAgdmFyIG5hbWVfMSA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkJ5TmFtZSA9IGdldEZpcnN0TGVhZihzdGF0ZSwgc3RhdGUubmF2TmFtZXMuZ2V0KG5hbWVfMSkpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkJ5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogc2VsZWN0aW9uQnlOYW1lLCBzZWxlY3RlZE5hdjogc3RhdGUubmF2aWdhdGlvbi5nZXQoc2VsZWN0aW9uQnlOYW1lKSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdOQVYvU0VMRUNUX0JZX0lEJzpcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25CeUlkID0gZ2V0Rmlyc3RMZWFmKHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uQnlJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogc2VsZWN0aW9uQnlJZCwgc2VsZWN0ZWROYXY6IHN0YXRlLm5hdmlnYXRpb24uZ2V0KHNlbGVjdGlvbkJ5SWQpIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufTtcbnZhciBnZXRSZWN1cnNpdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldFJlY3Vyc2l2ZUNoaWxkcmVuKG5hdmlnYXRpb24sIGlkKSB7XG4gICAgdmFyIGJlZm9yZSA9IFtdO1xuICAgIHZhciBub2RlID0gbmF2aWdhdGlvbi5nZXQoaWQpO1xuICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5vZGUuY2hpbGRyZW5baV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBiZWZvcmUgPSBiZWZvcmUuY29uY2F0KFtub2RlLmNoaWxkcmVuW2ldW2pdXSk7XG4gICAgICAgICAgICAgICAgYmVmb3JlID0gYmVmb3JlLmNvbmNhdChnZXRSZWN1cnNpdmVDaGlsZHJlbihuYXZpZ2F0aW9uLCBub2RlLmNoaWxkcmVuW2ldW2pdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJlZm9yZTtcbn07XG52YXIgZ2V0Rmlyc3RMZWFmID0gZnVuY3Rpb24gZ2V0Rmlyc3RMZWFmKHN0YXRlLCBpZCkge1xuICAgIHZhciBjdXJyZW50ID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoaWQpO1xuICAgIHZhciBsb29waW5nID0gdHJ1ZTtcbiAgICB3aGlsZSAoY3VycmVudCAhPT0gdW5kZWZpbmVkICYmIGxvb3BpbmcpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQuY2hpbGRyZW5bMF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3VycmVudCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGN1cnJlbnQuY2hpbGRyZW5bMF1bMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9vcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbn07XG52YXIgZ2V0TGFzdExlYWYgPSBmdW5jdGlvbiBnZXRMYXN0TGVhZihzdGF0ZSwgaWQpIHtcbiAgICB2YXIgY3VycmVudCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGlkKTtcbiAgICB2YXIgbG9vcGluZyA9IHRydWU7XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiBsb29waW5nKSB7XG4gICAgICAgIGlmIChjdXJyZW50LmZvcmNlRmlyc3QgPT09IHRydWUgJiYgY3VycmVudC5jaGlsZHJlblswXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoY3VycmVudC5jaGlsZHJlblswXVswXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5jaGlsZHJlbltjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBjdXJyZW50LmNoaWxkcmVuW2N1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV1bY3VycmVudC5jaGlsZHJlblswXS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChwb3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9vcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbn07XG52YXIgaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIG51bSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBudW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG52YXIgaXNPdXRPZk1vZGFsID0gZnVuY3Rpb24gaXNPdXRPZk1vZGFsKG5hdmlnYXRpb24sIGlkLCBuZXdJZCkge1xuICAgIHZhciBpZE1vZGFsID0gLTE7XG4gICAgdmFyIG5hdjtcbiAgICBkbyB7XG4gICAgICAgIG5hdiA9IG5hdmlnYXRpb24uZ2V0KGlkKTtcbiAgICAgICAgaWYgKG5hdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF2Lm1vZGFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZE1vZGFsID0gbmF2LmlkO1xuICAgICAgICB9XG4gICAgICAgIGlkID0gbmF2LnBhcmVudElkO1xuICAgIH0gd2hpbGUgKGlkTW9kYWwgPCAwICYmIGlkICE9PSB1bmRlZmluZWQpO1xuICAgIGlmIChpZE1vZGFsID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpZE1vZGFsID49IDApIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbmF2ID0gbmF2aWdhdGlvbi5nZXQobmV3SWQpO1xuICAgICAgICAgICAgaWYgKG5hdi5pZCA9PT0gaWRNb2RhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkID0gbmF2LnBhcmVudElkO1xuICAgICAgICB9IHdoaWxlIChpZE1vZGFsIDwgMCAmJiBpZCAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZXhwb3J0cy5pbml0aWFsTmF2U3RhdGUgPSB7XG4gICAgbmF2aWdhdGlvbjogbmV3IE1hcCgpLFxuICAgIGxhc3RLZXk6ICcnLFxuICAgIHNlbGVjdGVkOiAzLFxuICAgIHNlbGVjdGVkTmF2OiB1bmRlZmluZWQsXG4gICAgYWN0aXZhdGVkOiAtMSxcbiAgICBsYXN0U2VsZWN0ZWQ6IC0xLFxuICAgIGxhc3RBY3RpdmF0ZWQ6IC0xLFxuICAgIG5hdk5hbWVzOiBuZXcgTWFwKClcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MjA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuO1xuZXhwb3J0cy5VSVJlZHVjZXIgPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXRlID0gZXhwb3J0cy5pbml0aWFsVUlTdGF0ZTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJVSVJlZHVjZXI6IFwiLCBhY3Rpb24pO1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlVJL1NFVF9ESVZJREVSXCI6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVJL1NFVF9ESVZJREVSXCIsIGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCA9PT0gc3RhdGUuZGl2aWRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgZGl2aWRlcjogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgIGNhc2UgJ1VJL09QRU5fU1lOQyc6XG4gICAgICAgICAgICB2YXIgbmV3Q29udGFpbmVycyA9IHN0YXRlLmNvbnRhaW5lcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lcnNbMV0uY29tcG9uZW50ID0gJ0NBUk9VU0VMJztcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgZGl2aWRlcjogNjAsIGNvbnRhaW5lcnM6IG5ld0NvbnRhaW5lcnMgfSk7XG4gICAgICAgIGNhc2UgJ1VJL09QRU4nOlxuICAgICAgICAgICAgdmFyIG5ld0NvbnRhaW5lcnMyID0gW3sgY29tcG9uZW50OiBhY3Rpb24ucGF5bG9hZC50b3AgfSwgeyBjb21wb25lbnQ6IGFjdGlvbi5wYXlsb2FkLmJvdHRvbSB9XTtcbiAgICAgICAgICAgIHZhciBkaXZpZGVyVmFsID0gMTAwO1xuICAgICAgICAgICAgaWYgKFtcIkdSSURcIiwgXCJDQVJPVVNFTFwiLCBcIkhPTUVcIiwgXCJDQVJEU1wiLCBcIkNBUkRcIiwgXCJQUk9GSUxFXCIsIFwiSEVMUFwiXS5pbmRleE9mKGFjdGlvbi5wYXlsb2FkLmJvdHRvbSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRpdmlkZXJWYWwgPSA2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXZpZGVyVmFsICE9PSBzdGF0ZS5kaXZpZGVyIHx8IHN0YXRlLmNvbnRhaW5lcnNbMF0uY29tcG9uZW50ICE9PSBuZXdDb250YWluZXJzMlswXS5jb21wb25lbnQgfHwgc3RhdGUuY29udGFpbmVyc1swXS5jb21wb25lbnQgIT09IG5ld0NvbnRhaW5lcnMyWzFdLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgZGl2aWRlcjogZGl2aWRlclZhbCwgY29udGFpbmVyczogbmV3Q29udGFpbmVyczIgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnVUkvT1BFTl9DQVJEJzpcbiAgICAgICAgICAgIHZhciBuZXdDb250YWluZXJzMyA9IFtzdGF0ZS5jb250YWluZXJzWzBdLCB7IGNvbXBvbmVudDogXCJDQVJEXCIgfV07XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGRpdmlkZXI6IDYwLCBjb250YWluZXJzOiBuZXdDb250YWluZXJzMywgY2FyZDogYWN0aW9uLnBheWxvYWQgfSk7XG4gICAgICAgIGNhc2UgJ1VJL0FERF9URVNUX0NBUkRTJzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgdGVzdENhcmRzOiBzdGF0ZS50ZXN0Q2FyZHMuY29uY2F0KFthY3Rpb24ucGF5bG9hZF0pIH0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn07XG5leHBvcnRzLmluaXRpYWxVSVN0YXRlID0ge1xuICAgIGNvbnRhaW5lcnM6IFt7XG4gICAgICAgIGNvbXBvbmVudDogXCJFTVBUWVwiXG4gICAgfSwge1xuICAgICAgICBjb21wb25lbnQ6IFwiQ0FST1VTRUxcIlxuICAgIH1dLFxuICAgIGNhcmQ6IHVuZGVmaW5lZCxcbiAgICB0ZXN0Q2FyZHM6IFt7IGNhcmRfaWQ6IFwiMjhlN2NiNTItMDFhMi0zZTk1LWE3MWYtNGZjMmQzZTQ2Zjg2XCIsIHZlcnNpb246IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSwgeyBjYXJkX2lkOiBcImJkNGYyNmJhLTBjMmEtM2ExNi1iYjdiLTc5YWEwNjZhYmY0NFwiIH0sIHsgY2FyZF9pZDogXCJlMDE0M2Q3Yi0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiB9LCB7IFwiY2FyZF9pZFwiOiBcImRmNWI5ZGQxLTFlNzYtMTFlNi05N2FjLTA2ODQ5ODVjYmJlM1wiLCBcInZlcnNpb25cIjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiB9LCB7IFwiY2FyZF9pZFwiOiBcImYyNjZlZTBhLTFlNzYtMTFlNi05N2FjLTA2ODQ5ODVjYmJlM1wiLCBcInZlcnNpb25cIjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiB9LCB7IFwiY2FyZF9pZFwiOiBcImRlNTdjMjM5LTFlNzYtMTFlNi05N2FjLTA2ODQ5ODVjYmJlM1wiLCBcInZlcnNpb25cIjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiB9LCB7IFwiY2FyZF9pZFwiOiBcImYwOTEzMzk1LTFlNzYtMTFlNi05N2FjLTA2ODQ5ODVjYmJlM1wiLCBcInZlcnNpb25cIjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiB9XSxcbiAgICBkaXZpZGVyOiA2MFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDUyMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN5bmNSZWR1Y2VyID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGF0ZSA9IGV4cG9ydHMuaW5pdGlhbFN5bmNTdGF0ZTtcbiAgICB9XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdTWU5DL1NFVF9NT1ZJRSc6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IG1vdmllSWQ6IGFjdGlvbi5wYXlsb2FkLCBjYXJkczogW10gfSk7XG4gICAgICAgIGNhc2UgJ1NZTkMvVVBEQVRFX1RJTUUnOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBjdXJyZW50VGltZTogY2FsY1RpbWUoc3RhdGUsIERhdGUubm93KCkpLCBsYXN0VXBkYXRlZFRpbWU6IERhdGUubm93KCkgfSk7XG4gICAgICAgIGNhc2UgJ1NZTkMvU1RBUlRfU0NFTkUnOlxuICAgICAgICAgICAgaWYgKHN0YXRlLmNhcmRzIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLnBheWxvYWQgaW5zdGFuY2VvZiBBcnJheSAmJiBzdGF0ZS5jYXJkcy5sZW5ndGggIT09IGFjdGlvbi5wYXlsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgY2FyZHM6IGFjdGlvbi5wYXlsb2FkLCBzZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRydWUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgY2FyZHM6IFtdLCBzZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1NZTkMvVVBEQVRFX1NDRU5FJzpcbiAgICAgICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCBpbnN0YW5jZW9mIEFycmF5ICYmIGFjdGlvbi5wYXlsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgY2FyZHM6IGFjdGlvbi5wYXlsb2FkLmNvbmNhdChzdGF0ZS5jYXJkcykgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnU1lOQy9FTkRfU0NFTkUnOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBjYXJkczogW10gfSk7XG4gICAgICAgIGNhc2UgJ1NZTkMvU0VUX1RSQUlMRVInOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBkZW1vOiBhY3Rpb24ucGF5bG9hZCB9KTtcbiAgICAgICAgY2FzZSAnU1lOQy9TRVRfU1lOQ19UWVBFJzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgdHlwZTogYWN0aW9uLnBheWxvYWQsIHNvY2tldFN0YXR1czogJ0lOSVQnLCB0aW1lTW92aWVTeW5jZWQ6IGV4cG9ydHMuaW5pdGlhbFN5bmNTdGF0ZS50aW1lTW92aWVTeW5jZWQsIGN1cnJlbnRUaW1lOiBleHBvcnRzLmluaXRpYWxTeW5jU3RhdGUuY3VycmVudFRpbWUsIGxhc3RVcGRhdGVkVGltZTogZXhwb3J0cy5pbml0aWFsU3luY1N0YXRlLmxhc3RVcGRhdGVkVGltZSB9KTtcbiAgICAgICAgY2FzZSAnU1lOQy9TRVRfU0VMRUNURURfT05fU0NFTkVfQ0hBTkdFJzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgc2VsZWN0ZWRPblNjZW5lQ2hhbmdlOiBhY3Rpb24ucGF5bG9hZCB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59O1xudmFyIGNhbGNUaW1lID0gZnVuY3Rpb24gY2FsY1RpbWUoc3RhdGUsIHRpbWUpIHtcbiAgICByZXR1cm4gKHN0YXRlLnRpbWVNb3ZpZSArICh0aW1lIC0gc3RhdGUudGltZU1vdmllU3luY2VkKSAqIHN0YXRlLnRpbWVSYXRpbykgLyAxMDAwO1xufTtcbmV4cG9ydHMuaW5pdGlhbFN5bmNTdGF0ZSA9IHtcbiAgICBzZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRydWUsXG4gICAgc29ja2V0U3RhdHVzOiAnSU5JVCcsXG4gICAgbW92aWVJZDogXCJtMDAwMDFcIixcbiAgICBjYXJkczogW10sXG4gICAgZGVtbzogXCJcIixcbiAgICBjdXJyZW50VGltZTogMCxcbiAgICB0aW1lTW92aWU6IDAsXG4gICAgdGltZU1vdmllU3luY2VkOiAwLFxuICAgIHRpbWVSYXRpbzogMSxcbiAgICBsYXN0VXBkYXRlZFRpbWU6IDBcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MjI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVXNlclJlZHVjZXIgPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXRlID0gZXhwb3J0cy5pbml0aWFsVXNlclN0YXRlO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJVU0VSL1NFVF9VU0VSXCI6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufTtcbmV4cG9ydHMuaW5pdGlhbFVzZXJTdGF0ZSA9IHt9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTIzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIHJlYWN0X3JlZHV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcbnZhciBDb250YWluZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcbnZhciBBY3Rpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIExheW91dENsYXNzID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXlvdXRDbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMYXlvdXRDbGFzcygpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBMYXlvdXRDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltMYXlvdXRDbGFzc10gUmVuZGVyIFwiLCB0aGlzLnByb3BzLnVpKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMgJiYgdGhpcy5wcm9wcy51aSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbTGF5b3V0Q2xhc3NdIFJlbmRlciBPS1wiKTtcbiAgICAgICAgICAgIHZhciB0b3BUeXBlID0gdGhpcy5wcm9wcy51aS5jb250YWluZXJzWzBdLmNvbXBvbmVudDtcbiAgICAgICAgICAgIHZhciB0b3BTdHlsZSA9IHsgaGVpZ2h0OiB0aGlzLnByb3BzLnVpLmRpdmlkZXIgKyBcIiVcIiB9O1xuICAgICAgICAgICAgdmFyIGJvdHRvbVR5cGUgPSB0aGlzLnByb3BzLnVpLmNvbnRhaW5lcnNbMV0uY29tcG9uZW50O1xuICAgICAgICAgICAgdmFyIGJvdHRvbVN0eWxlID0geyBoZWlnaHQ6IDEwMCAtIHRoaXMucHJvcHMudWkuZGl2aWRlciArIFwiJVwiIH07XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb250YWluZXJMYXlvdXRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxheW91dFRvcFwiLCBzdHlsZTogdG9wU3R5bGUgfSwgdGhpcy5nZXRUb3AodG9wVHlwZSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxheW91dEJvdHRvbVwiLCBzdHlsZTogYm90dG9tU3R5bGUgfSwgdGhpcy5nZXRCb3R0b20oYm90dG9tVHlwZSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMYXlvdXRDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuZ2V0VmlkZW9TdGF0dXMsIDUwMCk7XG4gICAgfTtcbiAgICBMYXlvdXRDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmdldFZpZGVvU3RhdHVzLCA1MDApO1xuICAgIH07XG4gICAgTGF5b3V0Q2xhc3MucHJvdG90eXBlLmdldFZpZGVvU3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXVybCA9IFwiaHR0cDovL2RlbW8uZGl2ZS50djo4MDk1L2JkNGYyNmJhLTBjMmEtM2ExNi1iYjdiLTc5YWEwNjZhYmY0NC0zMDAwXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdmlkZWxlbTFfMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlbzEnKTtcbiAgICAgICAgICAgIGlmICh2aWRlbGVtMV8xLnBsYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2aWRlbGVtMV8xLm9uUGxheVN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEgPT0gdmlkZWxlbTFfMS5wbGF5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbGVtMV8xLm9uUGxheVN0YXRlQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoNiA9PSB2aWRlbGVtMV8xLnBsYXlTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVsZW0xXzEub25QbGF5U3RhdGVDaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWRlbGVtMV8xLmRhdGEgPSBtdXJsO1xuICAgICAgICAgICAgICAgIHZpZGVsZW0xXzEucGxheSgxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHZpZGVvIGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGF5b3V0VG9wXCIpWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicGlua1wiO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxheW91dFRvcFwiKVswXS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYXlvdXRUb3BcIilbMF0uc3R5bGUuZm9udFNpemUgPSBcIjQwcHhcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYXlvdXRUb3BcIilbMF0uaW5uZXJIVE1MICs9IFwiRVJST1I6IFwiICsgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGF5b3V0Q2xhc3MucHJvdG90eXBlLmdldFRvcCA9IGZ1bmN0aW9uIChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIHZhciBzdHlsZWQgPSBcInBvc2l0aW9uOiByZWxhdGl2ZTsgbGVmdDogNzAwcHg7IHRvcDogMzAwcHg7IHdpZHRoOiAzMjBweDsgaGVpZ2h0OiAxODBweDsgYmFja2dyb3VuZC1jb2xvcjpyZWQ7XCI7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgaWQ6IFwidmlkZW9Db250YWluZXJcIiwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICBfX2h0bWw6IFwiPG9iamVjdCB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFxcXCIgaWQ9XFxcInZpZGVvMVxcXCIgdHlwZT1cXFwidmlkZW8vbXBlZ1xcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1xcXCI+PC9vYmplY3Q+XCJcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfTtcbiAgICBMYXlvdXRDbGFzcy5wcm90b3R5cGUuZ2V0Qm90dG9tID0gZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgc3dpdGNoIChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdDQVJPVVNFTCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyc18xLkNhcm91c2VsLCB7IGtleTogXCJjYXJvdXNlbCNcIiArIHRoaXMubGFzdFRpbWVNZW51Q2xpY2tlZCwgcGFyZW50OiB0aGlzLCBjb2x1bW5zOiAxLCBuYW1lOiBcIkNBUk9VU0VMXCIsIGdyb3VwTmFtZTogXCJDQVJPVVNFTFwiLCBpc0RlZmF1bHQ6IHRydWUgfSk7XG4gICAgICAgICAgICBjYXNlICdDQVJEJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy51aS50ZXN0Q2FyZHMubWFwKGZ1bmN0aW9uIChjYXJkLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyc18xLkNhcmREZXRhaWxDb250YWluZXIsIHsgY2FyZElkOiBjYXJkLmNhcmRfaWQsIHZlcnNpb246IGNhcmQudmVyc2lvbiwga2V5OiBcImNhcmREZXRhaWxfXCIgKyBpZHgsIG5hdkNsYXNzOiBcImNhcmREZXRhaWxOYXZcIiwgcGFyZW50OiBfdGhpcywgY29sdW1uczogMSwgaXNEZWZhdWx0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGF5b3V0Q2xhc3MucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbTGF5b3V0XSBjb21wb25lbnRXaWxsTW91bnQ6XCIsIHRoaXMucHJvcHMpO1xuICAgICAgICB0aGlzLnByb3BzLnNldERpdmlkZXIodGhpcy5wcm9wcy51aS5kaXZpZGVyKTtcbiAgICB9O1xuICAgIExheW91dENsYXNzLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIHRoaXMubGFzdFRpbWVNZW51Q2xpY2tlZCA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGF5b3V0Q2xhc3M7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5MYXlvdXRDbGFzcyA9IExheW91dENsYXNzO1xudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgIHJldHVybiB7IHVpOiBzdGF0ZS51aSB9O1xufTtcbmV4cG9ydHMuTGF5b3V0ID0gSE9DXzEubmF2aWdhYmxlKHJlYWN0X3JlZHV4XzEuY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIEFjdGlvbnNfMS5VSUFjdGlvbnMpKExheW91dENsYXNzKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIFJlYWN0RE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xudmFyIGNsYXNzTmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcbnZhciByZWFjdF9yZWR1eF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG52YXIgQWN0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG52YXIgU2VydmljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xud2luZG93LmN1cnJlbnROYXZJZCA9IDA7XG52YXIgTmF2aWdhYmxlQ2xhc3MgPSBmdW5jdGlvbiBOYXZpZ2FibGVDbGFzcyhJbm5lckNvbXBvbmVudCkge1xuICAgIHZhciBOYXZpZ2FibGUgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOYXZpZ2FibGUsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5hdmlnYWJsZShwcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5uYXZJZCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5mb2N1c1RyYWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmdldE5ld0lkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiArK3dpbmRvdy5jdXJyZW50TmF2SWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzSWQgPSBfdGhpcy5nZXRJZCgpO1xuICAgICAgICAgICAgICAgIHZhciBuYXYgPSBfdGhpcy5wcm9wcy5uYXZpZ2F0aW9uLmdldCh0aGlzSWQpO1xuICAgICAgICAgICAgICAgIGlmIChuYXYgIT09IHVuZGVmaW5lZCAmJiBuYXYuY2hpbGRyZW5bMF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNldFNlbGVjdGVkKHRoaXNJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzSWQgPT09IF90aGlzLnByb3BzLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy53cmFwcGVyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25DbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGUuYnV0dG9ucyAhPT0gMSAmJiAhZS5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5hdiA9IF90aGlzLnByb3BzLm5hdmlnYXRpb24uZ2V0KF90aGlzLmdldElkKCkpO1xuICAgICAgICAgICAgICAgIHZhciBldmVudENvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKG5hdiAhPT0gdW5kZWZpbmVkICYmIG5hdi5jaGlsZHJlblswXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0QWN0aXZhdGVkKG5hdi5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2xpY2tBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuY2xpY2tBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudENvbnN1bWVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLm9uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IF90aGlzLmdldElkKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5hdiA9IF90aGlzLnByb3BzLm5hdmlnYXRpb24uZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0ZWROYXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0ZWROYXYuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kb1NlbGZTY3JvbGwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXNDYWxsYmFjayAhPT0gdW5kZWZpbmVkICYmICghX3RoaXMuZm9jdXNUcmFja2VkIHx8IF90aGlzLnByb3BzLm9uRm9jdXNDYWxsYmFja1JlcGVhdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZm9jdXNUcmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1c0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuYXYgIT09IHVuZGVmaW5lZCAmJiBuYXYuY2hpbGRyZW5bMF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5nZXRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubmF2SWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25LZXlQcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vbktleVByZXNzRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIGttID0gU2VydmljZXNfMS5LZXlNYXA7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBrbS5VUDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm1vdmVWZXJ0aWNhbCgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBrbS5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm1vdmVIb3Jpem9udGFsKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2Uga20uTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm1vdmVIb3Jpem9udGFsKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGttLkRPV046XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5tb3ZlVmVydGljYWwoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBrbS5FTlRFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzLnJlZkNvbXBvbmVudCkuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuaXNTY3JvbGxhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1NlbGVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hdiA9IF90aGlzLnByb3BzLnNlbGVjdGVkTmF2O1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2ICE9PSB1bmRlZmluZWQgJiYgbmF2LnBhcmVudElkICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYXYgJiYgbmF2LmlzU2Nyb2xsYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2ID0gX3RoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQobmF2LnBhcmVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChuYXYgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmlzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnNlbGVjdGVkID09PSBfdGhpcy5nZXRJZCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmdldFNjcm9sbGFibGVFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMud3JhcHBlcjtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsICYmIGVsZW1lbnQuY2xvc2VzdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsb3Nlc3QoJy5zY3JvbGxhYmxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmNhbGN1bGF0ZVNjcm9sbCA9IGZ1bmN0aW9uIChIVE1MTGlzdCwgSFRNTFNjcm9sbGFibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNTY3JvbGxhYmxlKCkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQgIT09IG51bGwgJiYgSFRNTFNjcm9sbGFibGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEhUTUxMaXN0XzEgPSBSZWFjdERPTS5maW5kRE9NTm9kZShIVE1MU2Nyb2xsYWJsZSkucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEhUTUxMaXN0XzEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJnaW4gPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2Nyb2xsUGFkZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luID0gX3RoaXMucHJvcHMuc2Nyb2xsUGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gSFRNTFNjcm9sbGFibGUub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByaWdodCA9IEhUTUxTY3JvbGxhYmxlLm9mZnNldFdpZHRoICsgSFRNTFNjcm9sbGFibGUub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IEhUTUxTY3JvbGxhYmxlLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudExlZnQgPSBIVE1MTGlzdF8xLm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50UmlnaHQgPSBIVE1MTGlzdF8xLm9mZnNldFdpZHRoICsgSFRNTExpc3RfMS5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudFdpZHRoID0gSFRNTExpc3RfMS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0ICsgbWFyZ2luID4gcGFyZW50UmlnaHQgKyBIVE1MTGlzdF8xLnNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSByaWdodCAtIHBhcmVudFdpZHRoICsgbWFyZ2luO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWZ0IC0gbWFyZ2luIDwgSFRNTExpc3RfMS5zY3JvbGxMZWZ0ICsgcGFyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGxlZnQgLSBtYXJnaW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IEhUTUxMaXN0XzEuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmRvU2VsZlNjcm9sbCA9IGZ1bmN0aW9uIChhc3luYywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tPayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH0gOiBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICB2YXIgSFRNTEl0ZW0gPSBfdGhpcy5nZXRTY3JvbGxhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBIVE1MTGlzdCA9IEhUTUxJdGVtID8gUmVhY3RET00uZmluZERPTU5vZGUoSFRNTEl0ZW0pLnBhcmVudEVsZW1lbnQgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGwgPSBfdGhpcy5jYWxjdWxhdGVTY3JvbGwoSFRNTExpc3QsIEhUTUxJdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsID49IDAgJiYgSFRNTExpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXN5bmMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhUTUxMaXN0LnNjcm9sbExlZnQgPSBzY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrT2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEhUTUxMaXN0LnNjcm9sbExlZnQgPSBzY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tPaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja09rKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMubmF2SWQgPSBfdGhpcy5nZXROZXdJZCgpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIE5hdmlnYWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLmdldElkKCkgPT09IHRoaXMucHJvcHMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZWxmU2Nyb2xsKHRydWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLndyYXBwZXIuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBOYXZpZ2FibGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoaXNJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRDb21wb25lbnQgPSB0aGlzLnByb3BzLnBhcmVudDtcbiAgICAgICAgICAgIHZhciBwYXJlbnRJZCA9IC0xO1xuICAgICAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnByb3BzLmlkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50SWQgPSBwYXJlbnRDb21wb25lbnQucHJvcHMuaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICAgICAgICBwYXJlbnRJZDogcGFyZW50SWQsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtbXV0sXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXNJZCxcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiB0aGlzLnByb3BzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgZ3JvdXBOYW1lOiB0aGlzLnByb3BzLmdyb3VwTmFtZSxcbiAgICAgICAgICAgICAgICBmb3JjZUZpcnN0OiB0aGlzLnByb3BzLmZvcmNlRmlyc3QsXG4gICAgICAgICAgICAgICAgZm9yY2VPcmRlcjogdGhpcy5wcm9wcy5mb3JjZU9yZGVyLFxuICAgICAgICAgICAgICAgIG1vZGFsOiB0aGlzLnByb3BzLm1vZGFsLFxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdGhpcy5wcm9wcy5pc1Njcm9sbGFibGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnByb3BzLmFkZE5vZGUob2JqKTtcbiAgICAgICAgICAgIGlmICh0aGlzSWQgPT09IHRoaXMucHJvcHMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0Tm9kZUJ5SWQodGhpc0lkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZE5hdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdlNlbGVjdGVkID0gdGhpcy5wcm9wcy5zZWxlY3RlZE5hdjtcbiAgICAgICAgICAgICAgICB2YXIgbmF2ID0gdGhpcy5wcm9wcy5uYXZpZ2F0aW9uLmdldCh0aGlzSWQpO1xuICAgICAgICAgICAgICAgIGlmIChuYXZTZWxlY3RlZC5pZCA9PT0gbmF2LnBhcmVudElkICYmIG5hdlNlbGVjdGVkLmNoaWxkcmVuWzBdWzBdID09PSB0aGlzSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXROb2RlQnlJZCh0aGlzSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmF2aWdhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGlzSWQgPSB0aGlzLmdldElkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkJlZm9yZVVubW91bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25CZWZvcmVVbm1vdW50KHRoaXMucHJvcHMuc2VsZWN0ZWROYXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWROYXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBuYXZTZWxlY3RlZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWROYXY7XG4gICAgICAgICAgICAgICAgdmFyIG5hdiA9IHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQodGhpc0lkKTtcbiAgICAgICAgICAgICAgICBpZiAobmF2U2VsZWN0ZWQuaWQgPT09IHRoaXNJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNldE5vZGVCeUlkKG5hdi5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVOb2RlKHRoaXNJZCk7XG4gICAgICAgIH07XG4gICAgICAgIE5hdmlnYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciB0aGlzSWQgPSB0aGlzLmdldElkKCk7XG4gICAgICAgICAgICB2YXIgb2ZmID0gdGhpcy5wcm9wcy5zZWxlY3RlZE5hdiA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucHJvcHMuZ3JvdXBOYW1lICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkTmF2Lmdyb3VwTmFtZTtcbiAgICAgICAgICAgIHZhciBhY3RpdmUgPSB0aGlzSWQgPT09IHRoaXMucHJvcHMuYWN0aXZhdGVkO1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hdkFjdGl2ZTogYWN0aXZlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubmF2Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW3RoaXMucHJvcHMubmF2Q2xhc3NdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZvY3VzQ2hhaW5DbGFzcyAmJiB0aGlzLnByb3BzLmZvY3VzQ2hhaW5DbGFzcy5sZW5ndGggJiYgdGhpcy5wcm9wcy5zZWxlY3RlZE5hdikge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbdGhpcy5wcm9wcy5mb2N1c0NoYWluQ2xhc3NdID0gdGhpcy5pbkZvY3VzQ2hhaW4odGhpcy5wcm9wcy5zZWxlY3RlZE5hdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVHcm91cENsYXNzICYmIHRoaXMucHJvcHMuYWN0aXZlR3JvdXBDbGFzcy5sZW5ndGggJiYgIW9mZikge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbdGhpcy5wcm9wcy5hY3RpdmVHcm91cENsYXNzXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xhc3Nlc0FwcGxpZWQgPSBjbGFzc05hbWVzKGNsYXNzZXMpO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpZHggPSBfYS5pZHgsXG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IF9hLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgdGFiSW5kZXggPSBfYS50YWJJbmRleCxcbiAgICAgICAgICAgICAgICBjbGlja0FjdGlvbiA9IF9hLmNsaWNrQWN0aW9uLFxuICAgICAgICAgICAgICAgIGlzRGVmYXVsdCA9IF9hLmlzRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBvbkZvY3VzQ2FsbGJhY2sgPSBfYS5vbkZvY3VzQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgb25Gb2N1c0NhbGxiYWNrUmVwZWF0ID0gX2Eub25Gb2N1c0NhbGxiYWNrUmVwZWF0LFxuICAgICAgICAgICAgICAgIGZvcmNlRmlyc3QgPSBfYS5mb3JjZUZpcnN0LFxuICAgICAgICAgICAgICAgIGZvcmNlT3JkZXIgPSBfYS5mb3JjZU9yZGVyLFxuICAgICAgICAgICAgICAgIG1vZGFsID0gX2EubW9kYWwsXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVbm1vdW50ID0gX2Eub25CZWZvcmVVbm1vdW50LFxuICAgICAgICAgICAgICAgIGZvY3VzQ2hhaW5DbGFzcyA9IF9hLmZvY3VzQ2hhaW5DbGFzcyxcbiAgICAgICAgICAgICAgICBuYXZDbGFzcyA9IF9hLm5hdkNsYXNzLFxuICAgICAgICAgICAgICAgIG5vTmF2T3duUHJvcHMgPSBfX3Jlc3QoX2EsIFtcImlkeFwiLCBcImNvbHVtbnNcIiwgXCJ0YWJJbmRleFwiLCBcImNsaWNrQWN0aW9uXCIsIFwiaXNEZWZhdWx0XCIsIFwib25Gb2N1c0NhbGxiYWNrXCIsIFwib25Gb2N1c0NhbGxiYWNrUmVwZWF0XCIsIFwiZm9yY2VGaXJzdFwiLCBcImZvcmNlT3JkZXJcIiwgXCJtb2RhbFwiLCBcIm9uQmVmb3JlVW5tb3VudFwiLCBcImZvY3VzQ2hhaW5DbGFzc1wiLCBcIm5hdkNsYXNzXCJdKTtcbiAgICAgICAgICAgIHZhciBuYXZpZ2F0aW9uID0gbm9OYXZPd25Qcm9wcy5uYXZpZ2F0aW9uLFxuICAgICAgICAgICAgICAgIGxhc3RLZXkgPSBub05hdk93blByb3BzLmxhc3RLZXksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBub05hdk93blByb3BzLnNlbGVjdGVkLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTmF2ID0gbm9OYXZPd25Qcm9wcy5zZWxlY3RlZE5hdixcbiAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWQgPSBub05hdk93blByb3BzLmxhc3RTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZWQgPSBub05hdk93blByb3BzLmFjdGl2YXRlZCxcbiAgICAgICAgICAgICAgICBsYXN0QWN0aXZhdGVkID0gbm9OYXZPd25Qcm9wcy5sYXN0QWN0aXZhdGVkLFxuICAgICAgICAgICAgICAgIG5hdk5hbWVzID0gbm9OYXZPd25Qcm9wcy5uYXZOYW1lcyxcbiAgICAgICAgICAgICAgICBjaGlsZFByb3BzID0gX19yZXN0KG5vTmF2T3duUHJvcHMsIFtcIm5hdmlnYXRpb25cIiwgXCJsYXN0S2V5XCIsIFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZE5hdlwiLCBcImxhc3RTZWxlY3RlZFwiLCBcImFjdGl2YXRlZFwiLCBcImxhc3RBY3RpdmF0ZWRcIiwgXCJuYXZOYW1lc1wiXSk7XG4gICAgICAgICAgICB2YXIgQ2hpbGRDb21wb25lbnQgPSBJbm5lckNvbXBvbmVudDtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy53cmFwcGVyID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IGNsYXNzZXNBcHBsaWVkLCB0YWJJbmRleDogLTEsIGtleTogdGhpcy5wcm9wcy5rZXkgPyB0aGlzLnByb3BzLmtleSArICdfTmF2JyA6IFwiXCIsIG9uS2V5VXA6IHRoaXMub25LZXlQcmVzcywgb25LZXlEb3duOiB0aGlzLm9uS2V5UHJlc3NEb3duLCBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLCBvbk1vdXNlRG93bjogdGhpcy5vbkNsaWNrLCBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25Gb2N1cyhlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIGlkOiB0aGlzSWQudG9TdHJpbmcoKSB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENoaWxkQ29tcG9uZW50LCBfX2Fzc2lnbih7IHJlZjogZnVuY3Rpb24gcmVmKHJlZkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVmQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZDb21wb25lbnQgPSByZWZDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IH0sIGNoaWxkUHJvcHMsIHsgaWR4OiB0aGlzSWQgfSkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgTmF2aWdhYmxlLnByb3RvdHlwZS5pbkZvY3VzQ2hhaW4gPSBmdW5jdGlvbiAobmF2aWdhdGlvbikge1xuICAgICAgICAgICAgdmFyIG5hdiA9IG5hdmlnYXRpb247XG4gICAgICAgICAgICB2YXIgbXlJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGlmIChuYXYpIHtcbiAgICAgICAgICAgICAgICBpZiAobmF2LmlkID09PSBteUlkIHx8IG5hdi5wYXJlbnRJZCA9PT0gbXlJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hdi5wYXJlbnRJZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5Gb2N1c0NoYWluKHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQobmF2LnBhcmVudElkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gTmF2aWdhYmxlO1xuICAgIH0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG4gICAgdmFyIG1hcElVSVN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcElVSVN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgICAgICByZXR1cm4gc3RhdGUubmF2O1xuICAgIH07XG4gICAgdmFyIGNvbm5lY3RlZCA9IHJlYWN0X3JlZHV4XzEuY29ubmVjdChtYXBJVUlTdGF0ZVRvUHJvcHMsIEFjdGlvbnNfMS5OYXZBY3Rpb25zLCB1bmRlZmluZWQsIHsgd2l0aFJlZjogdHJ1ZSB9KShOYXZpZ2FibGUpO1xuICAgIHJldHVybiBjb25uZWN0ZWQ7XG59O1xuZXhwb3J0cy5uYXZpZ2FibGUgPSBOYXZpZ2FibGVDbGFzcztcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMubmF2aWdhYmxlO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTI1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSGVscGVyQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVscGVyQ2xhc3MoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gKGNhcmQsIHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXJkLmluZm8gPyBjYXJkLmluZm8uZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC50eXBlID09PSB0eXBlO1xuICAgICAgICAgICAgfSlbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UmVsYXRpb24gPSBmdW5jdGlvbiAocmVsYXRpb25zLCB2YWx1ZSwgZmllbGQpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGQgPSAndHlwZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVsYXRpb25zID8gcmVsYXRpb25zLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxbZmllbGRdID09PSB2YWx1ZTtcbiAgICAgICAgICAgIH0pWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN1dFRleHQgPSBmdW5jdGlvbiAodGV4dCwgY291bnQpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ICsgMyA+PSB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCAtPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgY291bnQpICsgJy4uLic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gSGVscGVyQ2xhc3M7XG59KCk7XG5leHBvcnRzLkhlbHBlciA9IG5ldyBIZWxwZXJDbGFzcygpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTI2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIG1lbW9pemVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MjcpO1xudmFyIEVTID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODMpO1xudmFyIEVOID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODQpO1xudmFyIERFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODUpO1xudmFyIExvY2FsaXplU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NhbGl6ZVNlcnZpY2UoKSB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBcIkVOXCI7XG4gICAgICAgIHRoaXMudGV4dHMgPSB7XG4gICAgICAgICAgICBFTjogRU4sXG4gICAgICAgICAgICBFUzogRVMsXG4gICAgICAgICAgICBERTogREVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgTG9jYWxpemVTZXJ2aWNlLnByb3RvdHlwZS5zZXRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xuICAgIH07XG4gICAgTG9jYWxpemVTZXJ2aWNlLnByb3RvdHlwZS5nZXRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFuZ3VhZ2U7XG4gICAgfTtcbiAgICBMb2NhbGl6ZVNlcnZpY2UucHJvdG90eXBlLmdldExpdGVyYWwgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN1YnN0aXR1dGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHN1YnN0aXR1dGlvbnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0ID0gdGhpcy5nZXRMaXRlcmFsV2l0aExhbmd1YWdlKGlkLCB0aGlzLmxhbmd1YWdlKSB8fCBcIlwiO1xuICAgICAgICAgICAgdmFyIHRleHRCbG9ja0FycmF5ID0gYmFzZVRleHQuc3BsaXQoXCJcXFxcblwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCB3cml0ZSA9IDEsIGxlbmd0aF8xID0gdGV4dEJsb2NrQXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoXzEgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ZXh0QmxvY2tBcnJheS5zcGxpY2Uod3JpdGUsIDAsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCB7IGtleTogaSB9KSk7XG4gICAgICAgICAgICAgICAgd3JpdGUgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHRBcnJheV8xID0gW107XG4gICAgICAgICAgICB0ZXh0QmxvY2tBcnJheS5tYXAoZnVuY3Rpb24gKHRleHRCbG9jaykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dEJsb2NrID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0QXJyYXkgPSB0ZXh0QmxvY2suc3BsaXQoLyVbXFxkXStcXCRzLyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhMb29wID0gTWF0aC5taW4odGV4dEFycmF5Lmxlbmd0aCAtIDEsIHN1YnN0aXR1dGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHdyaXRlID0gMTsgaSA8IG1heExvb3A7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnN0aXR1dGlvbnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gX3RoaXMuZ2V0TGl0ZXJhbChzdWJzdGl0dXRpb25zW2ldKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFycmF5LnNwbGljZSh3cml0ZSwgMCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3Vic3RpdHV0aW9uIHN1YnN0aXR1dGlvbi1cIiArIChpICsgMSkgKyBcIiBcIiArIGlkICsgXCItXCIgKyBzdWJzdGl0dXRpb25zW2ldLCBcImRhdGEtaW5kZXhcIjogXCJcIiArIGkgfSwgdGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGUgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRBcnJheV8xLnB1c2godGV4dEFycmF5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRBcnJheV8xLnB1c2godGV4dEJsb2NrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRBcnJheV8xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvY2FsaXplU2VydmljZS5wcm90b3R5cGUuZ2V0TGl0ZXJhbFdpdGhMYW5ndWFnZSA9IGZ1bmN0aW9uIChpZCwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0c1tsYW5ndWFnZV1baWRdO1xuICAgICAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgbGl0ZXJhbCBpbiBcIiArIGxhbmd1YWdlICsgXCIsIFwiICsgaWQpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgbGl0ZXJhbCBpbiBcIiArIGxhbmd1YWdlICsgXCIsIFwiICsgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy50ZXh0cy5FTltpZF07XG4gICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJNaXNzaW5nIGxpdGVyYWxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9jYWxpemVTZXJ2aWNlLnByb3RvdHlwZS50ZXh0VG9NYXJrdXBXaXRoTGluZUJyZWFrcyA9IGZ1bmN0aW9uICh0ZXh0LCBzZXBhcmF0b3IpIHtcbiAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBcIlxcXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdChzZXBhcmF0b3IpLm1hcChmdW5jdGlvbiAoaXRlbSwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsga2V5OiBrZXkgfSwgaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvY2FsaXplU2VydmljZTtcbn0oKTtcbmV4cG9ydHMuTG9jYWxpemVkID0gbmV3IExvY2FsaXplU2VydmljZSgpO1xuZXhwb3J0cy5Mb2NhbGl6ZSA9IG1lbW9pemVlKGV4cG9ydHMuTG9jYWxpemVkLmdldExpdGVyYWwuYmluZChleHBvcnRzLkxvY2FsaXplZCkpO1xud2luZG93LkxvY2FsaXplZCA9IGV4cG9ydHMuTG9jYWxpemVkO1xud2luZG93LkxvY2FsaXplID0gZXhwb3J0cy5Mb2NhbGl6ZWQuZ2V0TGl0ZXJhbC5iaW5kKGV4cG9ydHMuTG9jYWxpemVkKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDU4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgICAgIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg0NDIpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNDg0KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg0ODYpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNDg3KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1ODM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wiVkVSU0lPTl9PVVREQVRFRF9USVRMRVwiOlwiXCIsXCJWRVJTSU9OX09VVERBVEVEX1RFWFRcIjpcIlwiLFwiVkVSU0lPTl9ERVBSRUNBVEVEX1RJVExFXCI6XCJcIixcIlZFUlNJT05fREVQUkVDQVRFRF9URVhUXCI6XCJcIixcIkdPVF9JVFwiOlwiXCIsXCJOT1dfVElUTEVcIjpcIlwiLFwiTk9XX1NVQlRJVExFXCI6XCJcIixcIlVQQ09NSU5HX1RJVExFXCI6XCJcIixcIkdSSURfTk9fREFUQV9URVhUXCI6XCJcIixcIlRSWV9ERU1PXCI6XCJcIixcIk1FTlVfU0VUVElOR1NcIjpcIlwiLFwiTUVOVV9ERU1PXCI6XCJERU1PXCIsXCJNRU5VX1BST0ZJTEVcIjpcIlBFUkZJTFwiLFwiTUVOVV9DQVJEU1wiOlwiTUlTIENBUkRTXCIsXCJNRU5VX1NZTkNcIjpcIkRJVkUgSU5cIixcIlNFRV9JTkZPXCI6XCJcIixcIlRWR1JJRF9CUk9BRENBU1RfVElUTEUxXCI6XCJBaG9yYSBlbiBUVlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTJcIjpcIlRlc3QgZGUgdHJhZHVjY2nDs25cIixcIlRWR1JJRF9VUENPTUlOR19USVRMRVwiOlwiXCIsXCJUVkdSSURfQlJPQURDQVNUX05PX0NPTlRFTlRcIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9OT19DT05URU5UX1RSWV9ERU1PXCI6XCJcIixcIlRWR1JJRF9VUENPTUlOR19OT19DT05URU5UXCI6XCJcIixcIlRWR1JJRF9VUENPTUlOR19OT19DT05URU5UX1RSWV9ERU1PXCI6XCJcIixcIkdFTkVSSUNfRVJST1JfVElUTEVcIjpcIlwiLFwiR0VORVJJQ19FUlJPUl9URVhUXCI6XCJcIixcIkVYSVRfVElUTEVcIjpcIlwiLFwiRVhJVF9URVhUXCI6XCJcIixcIkVYSVRfQlVUVE9OX09LXCI6XCJcIixcIk5FVFdPUktfRVJST1JfVElUTEVcIjpcIlwiLFwiTkVUV09SS19FUlJPUl9URVhUXCI6XCJcIixcIlRWR1JJRF9FTVBUWV9CUk9BRENBU1RfVElUTEUxXCI6XCJcIixcIlRWR1JJRF9FTVBUWV9CUk9BRENBU1RfVElUTEUyXCI6XCJcIixcIlRWR1JJRF9FTVBUWV9VUENPTUlOR19UWFQxXCI6XCJcIixcIlRWR1JJRF9FTVBUWV9VUENPTUlOR19UWFQyXCI6XCJcIixcIlRWR1JJRF9FTVBUWV9XQVRDSF9PVVJfREVNT1wiOlwiXCIsXCJTRUxFQ1RPUl9BTExfQ0FURUdPUklFU1wiOlwiXCIsXCJTRUxFQ1RPUl9DQVNUX0NIQVJBQ1RFUlwiOlwiXCIsXCJTRUxFQ1RPUl9GQVNISU9OX0JFQVVUWVwiOlwiXCIsXCJTRUxFQ1RPUl9NVVNJQ1wiOlwiXCIsXCJTRUxFQ1RPUl9QTEFDRVNfVFJBVkVMXCI6XCJcIixcIlNFTEVDVE9SX0NBUlNfTU9SRVwiOlwiXCIsXCJTRUxFQ1RPUl9GVU5fRkFDVFNcIjpcIlwiLFwiU0VMRUNUT1JfT1RIRVJfQ0FURUdPUklFU1wiOlwiXCIsXCJCSU9HUkFQSFlcIjpcIkJpb2dyYWbDrWFcIixcIkNPTUVEWVwiOlwiQ29tZWRpYVwiLFwiQ1JJTUVcIjpcIkNyaW1lblwiLFwiQUNUSU9OXCI6XCJBY2Npw7NuXCIsXCJUSFJJTExFUlwiOlwiU3VzcGVuc2VcIixcIkFEVkVOVFVSRVwiOlwiQXZlbnR1cmFzXCIsXCJTQ0lfRklcIjpcIkNpZW5jaWEgZmljY2nDs25cIixcIkZBTlRBU1lcIjpcIkZhbnRhc8OtYVwiLFwiRFJBTUFcIjpcIkRyYW1hXCIsXCJST01BTkNFXCI6XCJSb23DoW50aWNhXCIsXCJURVJST1JcIjpcIlRlcnJvclwiLFwiSElTVE9SWVwiOlwiSGlzdMOzcmljYVwiLFwiV0VTVEVSTlwiOlwiV2VzdGVyblwiLFwiV0FSXCI6XCJCw6lsaWNhc1wiLFwiTUlTVEVSWVwiOlwiTWlzdGVyaW9cIixcIkZBTUlMWVwiOlwiRmFtaWxhclwiLFwiU1BPUlRcIjpcIkRlcG9ydGVcIixcIk1VU0lDXCI6XCJNw7pzaWNhXCIsXCJNVVNJQ0FMXCI6XCJNdXNpY2FsXCIsXCJBTklNQVRJT05cIjpcIkFuaW1hY2nDs25cIixcIkRPQ1VNRU5UQVJZXCI6XCJEb2N1bWVudGFsXCIsXCJGSUxNX05PSVJcIjpcIkNpbmUgbmVncm9cIixcIk5FV1NcIjpcIk5vdGljaWFzXCIsXCJLSURTXCI6XCJJbmZhbnRpbFwiLFwiVEFMS19TSE9XXCI6XCJFbnRyZXZpc3Rhc1wiLFwiQ1VSUkVOVF9TQ0VORVwiOlwiXCIsXCJQSVpaQV9PUl9QT1BfQ09STlwiOlwiXCIsXCJXRV9SRUNPTU1FTkRcIjpcIlwiLFwiTUFLRV9QT1BfQ09STlwiOlwiXCIsXCJMSUdIVFNfQ0FNRVJBXCI6XCJcIixcIldFX0FSRV9MT0FESU5HXCI6XCJcIixcIkVWRVJZVEhJTkdfRU5EXCI6XCJcIixcIk1PVklFX09GRlwiOlwiXCIsXCJNT1ZJRV9FTkRFRFwiOlwiXCIsXCJPS0FZXCI6XCJcIixcIkNBUk9VU0VMX0NBUkRfU0FWRVwiOlwiXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVEXCI6XCJcIixcIkNBUk9VU0VMX05FV19DQVJEX0FEREVEXCI6XCJcIixcIkNBUk9VU0VMX05FV19DQVJEU19BRERFRFwiOlwiXCIsXCJUVkdSSURfQ09NTUVSQ0lBTF9UWFRcIjpcIlwiLFwiVFZHUklEX1RPREFZXCI6XCJcIixcIlRWR1JJRF9UT01PUlJPV1wiOlwiXCIsXCJFWElUX0JVVFRPTl9DQU5DRUxcIjpcIlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19USVRMRVwiOlwiXCIsXCJFUlJPUl9TQ0FOX0NIQU5ORUxTX1RFWFRcIjpcIlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19CVE5fU0NBTlwiOlwiXCIsXCJTQ0FOX0ZJUlNUX1RJTUVfVElUTEVcIjpcIlwiLFwiU0NBTl9GSVJTVF9USU1FX1RFWFRcIjpcIlwiLFwiU0NBTl9GSVJTVF9USU1FX0JUTlwiOlwiXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RJVExFXCI6XCJcIixcIlNDQU5fSEVMUF9SRVNDQU5fVEVYVFwiOlwiXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX0JUTlwiOlwiXCIsXCJTQ0FOX0hFTFBfVElUTEVfMVwiOlwiXCIsXCJTQ0FOX0hFTFBfVElUTEVfMlwiOlwiXCIsXCJTQ0FOX0hFTFBfU1VHR0VTVElPTlwiOlwiXCIsXCJTQ0FOX0hFTFBfUExFQVNFX0NPTlRBQ1RcIjpcIlwiLFwiU0NBTl9IRUxQX0VNQUlMXCI6XCJcIixcIlNDQU5fSEVMUF9TVUJKRUNUXCI6XCJcIixcIlNDQU5fSEVMUF9WRVJTSU9OXCI6XCJcIixcIlJFR0lPTl9TRVRfVElUTEVcIjpcIlwiLFwiUkVHSU9OX1NFVF9URVhUXCI6XCJcIixcIlJFR0lPTl9TRVRfU1BBSU5cIjpcIlwiLFwiUkVHSU9OX1NFVF9HRVJNQU5ZXCI6XCJcIixcIlJFR0lPTl9TRVRfVVNBXCI6XCJcIixcIlRWR1JJRF9DSEFOR0VfQ0hBTk5FTF9USVRMRVwiOlwiXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVEVYVFwiOlwiXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfQlROXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX01PVklFXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1NFUklFXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1BFUlNPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19DSEFSQUNURVJcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfVkVISUNMRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19GQVNISU9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0xPQ0FUSU9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0hJU1RPUklDXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1RSSVZJQVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19RVU9URVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19PU1RcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfSE9NRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19URUNITk9MT0dZXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0FSVFwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TT05HXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0xPT0tcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfVFJBSUxFUlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19XRUFQT05cIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfTEVJU1VSRV9TUE9SVFwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19IRUFMVEhfQkVBVVRZXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0ZPT0RfRFJJTktcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfRkFVTkFfRkxPUkFcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQlVTSU5FU1NcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfUkVGRVJFTkNFXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1ZJREVPQ0xJUFwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19DSEFQVEVSXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0FDVElPTl9FTU9USU9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1NFRV9NT1JFXCI6XCJcIixcIlNPVVJDRVwiOlwiXCIsXCJTUEVDU1wiOlwiXCIsXCJCQVNJQ19EQVRBXCI6XCJcIixcIkFXQVJEU1wiOlwiXCIsXCJXSU5ORVJfU0lOR1VMQVJcIjpcIlByZW1pb1wiLFwiV0lOTkVSX1BMVVJBTFwiOlwiUHJlbWlvc1wiLFwiTk9NSU5FRV9TSU5HVUxBUlwiOlwiTm9taW5hY2nDs25cIixcIk5PTUlORUVfUExVUkFMXCI6XCJOb21pbmFjaW9uZXNcIixcIlBPQ0tFVF9USVRMRV8xXCI6XCJcIixcIlBPQ0tFVF9USVRMRV8yXCI6XCJcIixcIlBPQ0tFVF9OT19DQVJEU19USVRMRVwiOlwiXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVFhUXCI6XCJcIixcIkdBTExFUllcIjpcIkdhbGVyw61hXCIsXCJMT0NBVElPTlwiOlwiTG9jYWxpemFjacOzblwiLFwiQ1VSSU9TSVRZX1RJVExFXCI6XCJcIixcIk9WRVJWSUVXXCI6XCJcIn1cblxuLyoqKi8gfSksXG5cbi8qKiovIDU4NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJWRVJTSU9OX09VVERBVEVEX1RJVExFXCI6XCJXYXJuaW5nXCIsXCJWRVJTSU9OX09VVERBVEVEX1RFWFRcIjpcIlRoZSB2ZXJzaW9uIHlvdSd2ZSBpbnN0YWxsZWQgaXMgb3V0ZGF0ZWQuXFxcXG5Zb3UgbmVlZCB0byB1cGdyYWRlIG5vdyB0byB0aGUgbGF0ZXN0IHZlcnNpb24gaW4gb3JkZXIgdG8gY29udGludWUgZW5qb3lpbmcgRGl2ZS5cIixcIlZFUlNJT05fREVQUkVDQVRFRF9USVRMRVwiOlwiV2FybmluZ1wiLFwiVkVSU0lPTl9ERVBSRUNBVEVEX1RFWFRcIjpcIlRoZSB2ZXJzaW9uIHlvdSd2ZSBpbnN0YWxsZWQgaXMgb3V0ZGF0ZWQuXFxcXG5BIG5ldyB2ZXJzaW9uIG9mIERpdmUgaXMgYXZhaWxhYmxlIGZvciB5b3UuXFxcXG5Zb3UgY2FuIHVwZGF0ZSBvciBjb250aW51ZSB3aXRoIGFuIG9sZCB2ZXJzaW9uIG9mIERpdmUuXCIsXCJHT1RfSVRcIjpcIkdPVCBJVFwiLFwiTk9XX1RJVExFXCI6XCJOT1cgT04gVFZcIixcIk5PV19TVUJUSVRMRVwiOlwiV2hhdCB3aWxsIHlvdSBkaXNjb3Zlcj9cIixcIlVQQ09NSU5HX1RJVExFXCI6XCJVUENPTUlOR1wiLFwiR1JJRF9OT19EQVRBX1RFWFRcIjpcIkF0IHRoZSBtb21lbnQsIHRoZXJlIGlzIG5vdGhpbmcgYXZhaWxhYmxlIHRvIHN5bmMgd2l0aCBEaXZlLiBIYXZlIHlvdSB0cmllZCB0aGUgZGVtbz9cIixcIlRSWV9ERU1PXCI6XCJUUlkgREVNT1wiLFwiTUVOVV9TRVRUSU5HU1wiOlwiU0VUVElOR1NcIixcIk1FTlVfREVNT1wiOlwiREVNT1wiLFwiTUVOVV9QUk9GSUxFXCI6XCJQUk9GSUxFXCIsXCJNRU5VX0NBUkRTXCI6XCJNWSBDQVJEU1wiLFwiTUVOVV9TWU5DXCI6XCJESVZFIElOXCIsXCJTRUVfSU5GT1wiOlwiU0VFIElORk9cIixcIlRWR1JJRF9CUk9BRENBU1RfVElUTEUxXCI6XCJOb3cgb24gVFZcIixcIlRWR1JJRF9CUk9BRENBU1RfVElUTEUyXCI6XCJXaGF0IHdpbGwgeW91IGRpc2NvdmVyP1wiLFwiVFZHUklEX1VQQ09NSU5HX1RJVExFXCI6XCJVcGNvbWluZ+KAplwiLFwiVFZHUklEX0JST0FEQ0FTVF9OT19DT05URU5UXCI6XCJBdCB0aGUgbW9tZW50LCB0aGVyZSBpcyBub3RoaW5nIGF2YWlsYWJsZSB0byBzeW5jIHdpdGggRGl2ZS4gSGF2ZSB5b3UgdHJpZWQgdGhlIGRlbW8/XCIsXCJUVkdSSURfQlJPQURDQVNUX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlRyeSBkZW1vXCIsXCJUVkdSSURfVVBDT01JTkdfTk9fQ09OVEVOVFwiOlwiTm8gY29udGVudCBhdmFpbGFibGUgb24gb3VyIGd1aWRlLiBUcnkgYWdhaW4gbGF0ZXIgb3IgdHJ5IG91ciBkZW1vLlwiLFwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlRyeSBkZW1vXCIsXCJHRU5FUklDX0VSUk9SX1RJVExFXCI6XCLCoUhPVVNUT04hIFdF4oCZVkUgQSBQUk9CTEVN4oCmXCIsXCJHRU5FUklDX0VSUk9SX1RFWFRcIjpcIldlcmUgaGF2aW5nIHNvbWUgaXNzdWVzIHdpdGggdGhlIGFwcC4gV2XigJlyZSB3b3JraW5nIG9uIGl0IHRvIGZpeCBpdCwgcGxlYXNlIHRyeSBhZ2FpbiBvciBjb21lIGJhY2sgYWdhaW4gaW4gYSBmZXcgbWludXRlcy5cIixcIkVYSVRfVElUTEVcIjpcIlBMRUFTRSwgRE9O4oCZVCBHTy5cIixcIkVYSVRfVEVYVFwiOlwiWW91XFxcXCdyZSBhYm91dCB0byBsZWF2ZSBEaXZlLlxcXFxuQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGV4aXQ/XCIsXCJFWElUX0JVVFRPTl9PS1wiOlwiWUVTLCBFWElUXCIsXCJORVRXT1JLX0VSUk9SX1RJVExFXCI6XCJJTlRFUk5FVCBDT05ORUNUSU9OIFJFUVVJUkVEXCIsXCJORVRXT1JLX0VSUk9SX1RFWFRcIjpcIk5vIGNvbm5lY3Rpb24gZGV0ZWN0ZWQuIFxcXFxuR28gdG8gc2V0dGluZ3MgYW5kIHZlcmlmeSBpZiB5b3VyIEludGVybmV0IGlzIHdvcmtpbmcuXCIsXCJUVkdSSURfRU1QVFlfQlJPQURDQVNUX1RJVExFMVwiOlwiVGhpcyBpcyBhd2t3YXJkXCIsXCJUVkdSSURfRU1QVFlfQlJPQURDQVNUX1RJVExFMlwiOlwiV2hhdCBjYW4gSSBkbz9cIixcIlRWR1JJRF9FTVBUWV9VUENPTUlOR19UWFQxXCI6XCJUaGVyZSdzIG5vIGNvbnRlbnQgcmlnaHQgbm93LlxcXFxuQ2hlY2sgbGF0ZXIgb3IgZW5qb3kgJTEkcy5cIixcIlRWR1JJRF9FTVBUWV9VUENPTUlOR19UWFQyXCI6XCJEaXZlIG9uIHlvdXIgcGhvbmVcIixcIlRWR1JJRF9FTVBUWV9XQVRDSF9PVVJfREVNT1wiOlwiV2F0Y2hcXFxcbm91clxcXFxuZGVtb1wiLFwiU0VMRUNUT1JfQUxMX0NBVEVHT1JJRVNcIjpcIkFsbCBjYXRlZ29yaWVzXCIsXCJTRUxFQ1RPUl9DQVNUX0NIQVJBQ1RFUlwiOlwiQ2FzdCAmIENoYXJhY3RlclwiLFwiU0VMRUNUT1JfRkFTSElPTl9CRUFVVFlcIjpcIkZhc2hpb24gJiBCZWF1dHlcIixcIlNFTEVDVE9SX01VU0lDXCI6XCJNdXNpY1wiLFwiU0VMRUNUT1JfUExBQ0VTX1RSQVZFTFwiOlwiUGxhY2VzICYgVHJhdmVsXCIsXCJTRUxFQ1RPUl9DQVJTX01PUkVcIjpcIkNhcnMgJiBNb3JlXCIsXCJTRUxFQ1RPUl9GVU5fRkFDVFNcIjpcIkZ1biBmYWN0c1wiLFwiU0VMRUNUT1JfT1RIRVJfQ0FURUdPUklFU1wiOlwiQ2F0ZWdvcmllc1wiLFwiQklPR1JBUEhZXCI6XCJCaW9ncmFwaHlcIixcIkNPTUVEWVwiOlwiQ29tZWR5XCIsXCJDUklNRVwiOlwiQ3JpbWVcIixcIkFDVElPTlwiOlwiQWN0aW9uXCIsXCJUSFJJTExFUlwiOlwiVGhyaWxsZXJcIixcIkFEVkVOVFVSRVwiOlwiQWR2ZW50dXJlXCIsXCJTQ0lfRklcIjpcIlNjaS1GaVwiLFwiRkFOVEFTWVwiOlwiRmFudGFzeVwiLFwiRFJBTUFcIjpcIkRyYW1hXCIsXCJST01BTkNFXCI6XCJSb21hbmNlXCIsXCJURVJST1JcIjpcIkhvcnJvclwiLFwiSElTVE9SWVwiOlwiSGlzdG9yeVwiLFwiV0VTVEVSTlwiOlwiV2VzdGVyblwiLFwiV0FSXCI6XCJXYXJcIixcIk1JU1RFUllcIjpcIk15c3RlcnlcIixcIkZBTUlMWVwiOlwiRmFtaWx5XCIsXCJTUE9SVFwiOlwiU3BvcnRcIixcIk1VU0lDXCI6XCJNdXNpY1wiLFwiTVVTSUNBTFwiOlwiTXVzaWNhbFwiLFwiQU5JTUFUSU9OXCI6XCJBbmltYXRpb25cIixcIkRPQ1VNRU5UQVJZXCI6XCJEb2N1bWVudGFyeVwiLFwiRklMTV9OT0lSXCI6XCJGaWxtLU5vaXJcIixcIk5FV1NcIjpcIk5ld3NcIixcIktJRFNcIjpcIktpZHNcIixcIlRBTEtfU0hPV1wiOlwiVGFsay1TaG93XCIsXCJDVVJSRU5UX1NDRU5FXCI6XCJDdXJyZW50IFNjZW5lXCIsXCJQSVpaQV9PUl9QT1BfQ09STlwiOlwiUElaWkEgT1IgUE9QIENPUk4/XCIsXCJXRV9SRUNPTU1FTkRcIjpcIlRoZSBzaG93IHlvdeKAmXJlIHdhdGNoaW5nIGlzIG9uIGFkdmVydGlzaW5nLCB3ZSByZWNvbW1lbmQ6XCIsXCJNQUtFX1BPUF9DT1JOXCI6XCIxLiBNYWtlIG1vcmUgUG9wIENvcm4uXFxuMi4gQW5kIGJyb3dzZSB0aGUgY29udGVudCB3aGlsZSB3ZeKAmXJlIG9uIGEgYnJlYWtcIixcIkxJR0hUU19DQU1FUkFcIjpcIkxJR0hUUywgQ0FNRVJBIEFORCBBQ1RJT05cIixcIldFX0FSRV9MT0FESU5HXCI6XCJXZSdyZSBsb2FkaW5nIHRoZSBjb250ZW50IHlvdSdyZSB3YXRjaGluZyBvbiBUVi5cIixcIkVWRVJZVEhJTkdfRU5EXCI6XCJFVkVSWVRISU5HIEhBUyBBTiBFTkRcIixcIk1PVklFX09GRlwiOlwiVGhlIGJyb2FkY2FzdCBoYXMgYmVlbiBpbnRlcnJ1cHRlZC5cIixcIk1PVklFX0VOREVEXCI6XCJUaGUgbW92aWUgaGFzIGVuZGVkXCIsXCJPS0FZXCI6XCJPS0FZXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVcIjpcIlNhdmUgZm9yIGxhdGVyXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVEXCI6XCJTYXZlZFwiLFwiQ0FST1VTRUxfTkVXX0NBUkRfQURERURcIjpcIjEgbmV3IGNhcmQgaGFzIGJlZW4gYWRkZWQhXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRFNfQURERURcIjpcIiUxJGQgbmV3IGNhcmRzIGhhdmUgYmVlbiBhZGRlZCFcIixcIlRWR1JJRF9DT01NRVJDSUFMX1RYVFwiOlwiRW5qb3kgRGl2ZSBvbiB5b3VyIHBob25lXCIsXCJUVkdSSURfVE9EQVlcIjpcIlRvZGF5XCIsXCJUVkdSSURfVE9NT1JST1dcIjpcIlRvbW9ycm93XCIsXCJFWElUX0JVVFRPTl9DQU5DRUxcIjpcIk5PLCBJIERPTidUIFdBTlQgVE9cIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfVElUTEVcIjpcIlJFLVNDQU4gVFYgQ0hBTk5FTFNcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfVEVYVFwiOlwiVGhpcyBjaGFubmVsIGlzIG5vdCBzZXQgeWV0LCBwbGVhc2UgcmUtc2NhbiB0byBhZGQgdGhlIG5ldyBjaGFubmVscy5cXFxcbldlIG5lZWQgdGhpcyB0byBzZXQgdGhlIFRWIHNpZ25hbC5cIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfQlROX1NDQU5cIjpcIk9LLCBTVEFSVCBTQ0FOXCIsXCJTQ0FOX0ZJUlNUX1RJTUVfVElUTEVcIjpcIkxFVOKAmVMgU0VUIFRIRSBUViBTSUdOQUxcIixcIlNDQU5fRklSU1RfVElNRV9URVhUXCI6XCJXZSBuZWVkIHRvIHNjYW4gdGhlIGNoYW5uZWxzIHRvIHNldCB0aGUgVFYgc2lnbmFsLlxcXFxuWW914oCZbGwgYmUgYWJsZSB0byByZS1zY2FuIHRoZSBjaGFubmVscyBpbiB5b3VyIG1lbnUgaWYgeW91IHdhbnQgdG8gYWRkIG1vcmUuXCIsXCJTQ0FOX0ZJUlNUX1RJTUVfQlROXCI6XCJPSywgU1RBUlQgU0NBTlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9USVRMRVwiOlwiUkUtU0NBTiBUViBDSEFOTkVMU1wiLFwiU0NBTl9IRUxQX1JFU0NBTl9URVhUXCI6XCJSZS1zY2FuIHRvIGFkZCBuZXcgY2hhbm5lbHMuXFxcXG5XZSBuZWVkIHRoaXMgdG8gc2V0IHRoZSBUViBzaWduYWwuXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX0JUTlwiOlwiT0ssIFNUQVJUIFNDQU5cIixcIlNDQU5fSEVMUF9USVRMRV8xXCI6XCJTRVRUSU5HU1wiLFwiU0NBTl9IRUxQX1RJVExFXzJcIjpcIlNldCB5b3VyIERpdmUgZXhwZXJpZW5jZVwiLFwiU0NBTl9IRUxQX1NVR0dFU1RJT05cIjpcIlNvbWV0aGluZyB3cm9uZz8gQW55IHN1Z2dlc3Rpb25zP1wiLFwiU0NBTl9IRUxQX1BMRUFTRV9DT05UQUNUXCI6XCJGb3IgY3VzdG9tZXIgc3VwcG9ydCBwbGVhc2UgY29udGFjdDpcIixcIlNDQU5fSEVMUF9FTUFJTFwiOlwic3VwcG9ydEBkaXZlLnR2XCIsXCJTQ0FOX0hFTFBfU1VCSkVDVFwiOlwiV3JpdGUgVFYgaW4gdGhlIHN1YmplY3QgbGluZSBhbmQgd2Ugd2lsbCBjb250YWN0IHlvdSBhcyBzb29uIGFzIHBvc3NpYmxlLlwiLFwiU0NBTl9IRUxQX1ZFUlNJT05cIjpcIkRJVkUgdiUxJHNcIixcIlJFR0lPTl9TRVRfVElUTEVcIjpcIkZJUlNUIFRISU5HUywgRklSU1TigKZcIixcIlJFR0lPTl9TRVRfVEVYVFwiOlwiV2UgbmVlZCB0byBrbm93IHdoZXJlIHlvdSBhcmUgdG8gc2hvdyB5b3UgdGhlIFRWIGNvbnRlbnRzIGF2YWlsYWJsZSB0byBzeW5jIHdpdGguXCIsXCJSRUdJT05fU0VUX1NQQUlOXCI6XCJTUEFJTlwiLFwiUkVHSU9OX1NFVF9HRVJNQU5ZXCI6XCJHRVJNQU5ZXCIsXCJSRUdJT05fU0VUX1VTQVwiOlwiVVNBXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVElUTEVcIjpcIkNIQU5ORUwgQ0hBTkdFXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVEVYVFwiOlwiUGxlYXNlIGNvbmZpcm0gdGhhdCB5b3VcXFxcJ3ZlIGNoYW5nZWQgdGhlIGNoYW5uZWwgc28gdGhhdCB3ZSBjYW4gbG9hZCB0aGUgY29udGVudCBvZiAlMSRzLlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX0JUTlwiOlwiQ09ORklSTVwiLFwiQ0FST1VTRUxfQUxJQVNfTU9WSUVcIjpcIk1vdmllXCIsXCJDQVJPVVNFTF9BTElBU19TRVJJRVwiOlwiU2VyaWVcIixcIkNBUk9VU0VMX0FMSUFTX1BFUlNPTlwiOlwiUGVyc29uXCIsXCJDQVJPVVNFTF9BTElBU19DSEFSQUNURVJcIjpcIkNoYXJhY3RlclwiLFwiQ0FST1VTRUxfQUxJQVNfVkVISUNMRVwiOlwiVmVoaWNsZVwiLFwiQ0FST1VTRUxfQUxJQVNfRkFTSElPTlwiOlwiRmFzaGlvblwiLFwiQ0FST1VTRUxfQUxJQVNfTE9DQVRJT05cIjpcIkxvY2F0aW9uXCIsXCJDQVJPVVNFTF9BTElBU19ISVNUT1JJQ1wiOlwiSGlzdG9yaWNcIixcIkNBUk9VU0VMX0FMSUFTX1RSSVZJQVwiOlwiVHJpdmlhXCIsXCJDQVJPVVNFTF9BTElBU19RVU9URVwiOlwiUXVvdGVcIixcIkNBUk9VU0VMX0FMSUFTX09TVFwiOlwiT1NUXCIsXCJDQVJPVVNFTF9BTElBU19IT01FXCI6XCJIb21lXCIsXCJDQVJPVVNFTF9BTElBU19URUNITk9MT0dZXCI6XCJUZWNobm9sb2d5XCIsXCJDQVJPVVNFTF9BTElBU19BUlRcIjpcIkFydFwiLFwiQ0FST1VTRUxfQUxJQVNfU09OR1wiOlwiU29uZ1wiLFwiQ0FST1VTRUxfQUxJQVNfTE9PS1wiOlwiTG9va1wiLFwiQ0FST1VTRUxfQUxJQVNfVFJBSUxFUlwiOlwiVHJhaWxlclwiLFwiQ0FST1VTRUxfQUxJQVNfV0VBUE9OXCI6XCJXZWFwb25cIixcIkNBUk9VU0VMX0FMSUFTX0xFSVNVUkVfU1BPUlRcIjpcIkxlaXN1cmUgU3BvcnRcIixcIkNBUk9VU0VMX0FMSUFTX0hFQUxUSF9CRUFVVFlcIjpcIkhlYWx0aCAmIEJlYXV0eVwiLFwiQ0FST1VTRUxfQUxJQVNfRk9PRF9EUklOS1wiOlwiRm9vZCAmIERyaW5rXCIsXCJDQVJPVVNFTF9BTElBU19GQVVOQV9GTE9SQVwiOlwiRmF1bmEgJiBGbG9yYVwiLFwiQ0FST1VTRUxfQUxJQVNfQlVTSU5FU1NcIjpcIkJ1c2luZXNzXCIsXCJDQVJPVVNFTF9BTElBU19SRUZFUkVOQ0VcIjpcIlJlZmVyZW5jZVwiLFwiQ0FST1VTRUxfQUxJQVNfVklERU9DTElQXCI6XCJWaWRlb2NsaXBcIixcIkNBUk9VU0VMX0FMSUFTX0NIQVBURVJcIjpcIkNoYXB0ZXJcIixcIkNBUk9VU0VMX0FMSUFTX0FDVElPTl9FTU9USU9OXCI6XCJBY3Rpb24gJiBFbW90aW9uXCIsXCJDQVJPVVNFTF9BTElBU19TRUVfTU9SRVwiOlwiRXhwbG9yZSBNb3JlXCIsXCJTT1VSQ0VcIjpcIlNvdXJjZVwiLFwiU1BFQ1NcIjpcIlNwZWNzXCIsXCJCQVNJQ19EQVRBXCI6XCJCYXNpYyBEYXRhXCIsXCJBV0FSRFNcIjpcIkF3YXJkc1wiLFwiV0lOTkVSX1NJTkdVTEFSXCI6XCJcIixcIldJTk5FUl9QTFVSQUxcIjpcIlwiLFwiTk9NSU5FRV9TSU5HVUxBUlwiOlwiXCIsXCJOT01JTkVFX1BMVVJBTFwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMVwiOlwiTVkgQ0FSRFNcIixcIlBPQ0tFVF9USVRMRV8yXCI6XCJUaGUgY29udGVudCB5b3VcXFxcJ3ZlIGxpa2VkXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVElUTEVcIjpcIk5PIFNBVkVEIENBUkRTIFlFVFwiLFwiUE9DS0VUX05PX0NBUkRTX1RYVFwiOlwiU2F2ZSBldmVyeSBjYXJkIHlvdSBsaWtlIGJ5IHByZXNzaW5nIG9uIHRoZSBoZWFydCBpY29uIG9yIGFjdGl2YXRlIHlvdXIgYWNjb3VudCB0byBzZWUgdGhlIGNhcmRzIHNhdmVkIGZyb20geW91ciBEaXZlIG1vYmlsZSB2ZXJzaW9uLlwiLFwiR0FMTEVSWVwiOlwiR2FsbGVyeVwiLFwiTE9DQVRJT05cIjpcIkxvY2F0aW9uXCIsXCJDVVJJT1NJVFlfVElUTEVcIjpcIkRpZCB5b3Uga25vdy4uLj9cIixcIk9WRVJWSUVXXCI6XCJTeW5vcHNpc1wifVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTg1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcIlZFUlNJT05fT1VUREFURURfVElUTEVcIjpcIlwiLFwiVkVSU0lPTl9PVVREQVRFRF9URVhUXCI6XCJcIixcIlZFUlNJT05fREVQUkVDQVRFRF9USVRMRVwiOlwiXCIsXCJWRVJTSU9OX0RFUFJFQ0FURURfVEVYVFwiOlwiXCIsXCJHT1RfSVRcIjpcIlwiLFwiTk9XX1RJVExFXCI6XCJcIixcIk5PV19TVUJUSVRMRVwiOlwiXCIsXCJVUENPTUlOR19USVRMRVwiOlwiXCIsXCJHUklEX05PX0RBVEFfVEVYVFwiOlwiXCIsXCJUUllfREVNT1wiOlwiXCIsXCJNRU5VX1NFVFRJTkdTXCI6XCJcIixcIk1FTlVfREVNT1wiOlwiXCIsXCJNRU5VX1BST0ZJTEVcIjpcIlwiLFwiTUVOVV9DQVJEU1wiOlwiXCIsXCJNRU5VX1NZTkNcIjpcIlwiLFwiU0VFX0lORk9cIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTFcIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTJcIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX1RJVExFXCI6XCJcIixcIlRWR1JJRF9CUk9BRENBU1RfTk9fQ09OVEVOVFwiOlwiXCIsXCJUVkdSSURfQlJPQURDQVNUX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlRcIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlwiLFwiR0VORVJJQ19FUlJPUl9USVRMRVwiOlwiXCIsXCJHRU5FUklDX0VSUk9SX1RFWFRcIjpcIlwiLFwiRVhJVF9USVRMRVwiOlwiXCIsXCJFWElUX1RFWFRcIjpcIlwiLFwiRVhJVF9CVVRUT05fT0tcIjpcIlwiLFwiTkVUV09SS19FUlJPUl9USVRMRVwiOlwiXCIsXCJORVRXT1JLX0VSUk9SX1RFWFRcIjpcIlwiLFwiVFZHUklEX0VNUFRZX0JST0FEQ0FTVF9USVRMRTFcIjpcIlwiLFwiVFZHUklEX0VNUFRZX0JST0FEQ0FTVF9USVRMRTJcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDFcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDJcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1dBVENIX09VUl9ERU1PXCI6XCJcIixcIlNFTEVDVE9SX0FMTF9DQVRFR09SSUVTXCI6XCJcIixcIlNFTEVDVE9SX0NBU1RfQ0hBUkFDVEVSXCI6XCJcIixcIlNFTEVDVE9SX0ZBU0hJT05fQkVBVVRZXCI6XCJcIixcIlNFTEVDVE9SX01VU0lDXCI6XCJcIixcIlNFTEVDVE9SX1BMQUNFU19UUkFWRUxcIjpcIlwiLFwiU0VMRUNUT1JfQ0FSU19NT1JFXCI6XCJcIixcIlNFTEVDVE9SX0ZVTl9GQUNUU1wiOlwiXCIsXCJTRUxFQ1RPUl9PVEhFUl9DQVRFR09SSUVTXCI6XCJcIixcIkJJT0dSQVBIWVwiOlwiQmlvZ3JhcGhpZVwiLFwiQ09NRURZXCI6XCJDb21lZHlcIixcIkNSSU1FXCI6XCJLcmltaVwiLFwiQUNUSU9OXCI6XCJBY3Rpb25cIixcIlRIUklMTEVSXCI6XCJUaHJpbGxlclwiLFwiQURWRU5UVVJFXCI6XCJBYmVudGV1ZXJcIixcIlNDSV9GSVwiOlwiU2NpLUZpXCIsXCJGQU5UQVNZXCI6XCJGYW50YXN5XCIsXCJEUkFNQVwiOlwiRHJhbWFcIixcIlJPTUFOQ0VcIjpcIlJvbWFuY2VcIixcIlRFUlJPUlwiOlwiSG9ycm9yXCIsXCJISVNUT1JZXCI6XCJHZXNjaGljaHRlXCIsXCJXRVNURVJOXCI6XCJXZXN0ZXJuXCIsXCJXQVJcIjpcIktyaWVnXCIsXCJNSVNURVJZXCI6XCJNeXN0ZXJ5XCIsXCJGQU1JTFlcIjpcIkZhbWlsaWVcIixcIlNQT1JUXCI6XCJTcG9ydFwiLFwiTVVTSUNcIjpcIk11c2lrXCIsXCJNVVNJQ0FMXCI6XCJNdXNpY2FsXCIsXCJBTklNQVRJT05cIjpcIkFuaW1hdGlvblwiLFwiRE9DVU1FTlRBUllcIjpcIkRva3VtZW50YXJcIixcIkZJTE1fTk9JUlwiOlwiRmlsbSBub2lyXCIsXCJORVdTXCI6XCJOZXdzXCIsXCJLSURTXCI6XCJLaW5kZXJcIixcIlRBTEtfU0hPV1wiOlwiVGFsa3Nob3dcIixcIkNVUlJFTlRfU0NFTkVcIjpcIlwiLFwiUElaWkFfT1JfUE9QX0NPUk5cIjpcIlwiLFwiV0VfUkVDT01NRU5EXCI6XCJcIixcIk1BS0VfUE9QX0NPUk5cIjpcIlwiLFwiTElHSFRTX0NBTUVSQVwiOlwiXCIsXCJXRV9BUkVfTE9BRElOR1wiOlwiXCIsXCJFVkVSWVRISU5HX0VORFwiOlwiXCIsXCJNT1ZJRV9PRkZcIjpcIlwiLFwiTU9WSUVfRU5ERURcIjpcIlwiLFwiT0tBWVwiOlwiXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVcIjpcIlwiLFwiQ0FST1VTRUxfQ0FSRF9TQVZFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRF9BRERFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRFNfQURERURcIjpcIlwiLFwiVFZHUklEX0NPTU1FUkNJQUxfVFhUXCI6XCJcIixcIlRWR1JJRF9UT0RBWVwiOlwiXCIsXCJUVkdSSURfVE9NT1JST1dcIjpcIlwiLFwiRVhJVF9CVVRUT05fQ0FOQ0VMXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfVElUTEVcIjpcIlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19URVhUXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfQlROX1NDQU5cIjpcIlwiLFwiU0NBTl9GSVJTVF9USU1FX1RJVExFXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9URVhUXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9USVRMRVwiOlwiXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RFWFRcIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzFcIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzJcIjpcIlwiLFwiU0NBTl9IRUxQX1NVR0dFU1RJT05cIjpcIlwiLFwiU0NBTl9IRUxQX1BMRUFTRV9DT05UQUNUXCI6XCJcIixcIlNDQU5fSEVMUF9FTUFJTFwiOlwiXCIsXCJTQ0FOX0hFTFBfU1VCSkVDVFwiOlwiXCIsXCJTQ0FOX0hFTFBfVkVSU0lPTlwiOlwiXCIsXCJSRUdJT05fU0VUX1RJVExFXCI6XCJcIixcIlJFR0lPTl9TRVRfVEVYVFwiOlwiXCIsXCJSRUdJT05fU0VUX1NQQUlOXCI6XCJcIixcIlJFR0lPTl9TRVRfR0VSTUFOWVwiOlwiXCIsXCJSRUdJT05fU0VUX1VTQVwiOlwiXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVElUTEVcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX1RFWFRcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX0JUTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19NT1ZJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRVJJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19QRVJTT05cIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUkFDVEVSXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1ZFSElDTEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfRkFTSElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT0NBVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19ISVNUT1JJQ1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19UUklWSUFcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfUVVPVEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfT1NUXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0hPTUVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfVEVDSE5PTE9HWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfU09OR1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT09LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1RSQUlMRVJcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfV0VBUE9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0xFSVNVUkVfU1BPUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfSEVBTFRIX0JFQVVUWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19GT09EX0RSSU5LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0ZBVU5BX0ZMT1JBXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0JVU0lORVNTXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1JFRkVSRU5DRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19WSURFT0NMSVBcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUFRFUlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BQ1RJT05fRU1PVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRUVfTU9SRVwiOlwiXCIsXCJTT1VSQ0VcIjpcIlwiLFwiU1BFQ1NcIjpcIlwiLFwiQkFTSUNfREFUQVwiOlwiXCIsXCJBV0FSRFNcIjpcIlwiLFwiV0lOTkVSX1NJTkdVTEFSXCI6XCJcIixcIldJTk5FUl9QTFVSQUxcIjpcIlwiLFwiTk9NSU5FRV9TSU5HVUxBUlwiOlwiXCIsXCJOT01JTkVFX1BMVVJBTFwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMVwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMlwiOlwiXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVElUTEVcIjpcIlwiLFwiUE9DS0VUX05PX0NBUkRTX1RYVFwiOlwiXCIsXCJHQUxMRVJZXCI6XCJcIixcIkxPQ0FUSU9OXCI6XCJcIixcIkNVUklPU0lUWV9USVRMRVwiOlwiXCIsXCJPVkVSVklFV1wiOlwiXCJ9XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1ODY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBLZXlNYXBfSEJCVFYgPSB7fTtcbmV4cG9ydHMubG9hZEhiYnR2S2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUtleUV2ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGttID0gS2V5TWFwX0hCQlRWO1xuICAgIGttLlVQID0gS2V5RXZlbnQuVktfVVA7XG4gICAga20uRE9XTiA9IEtleUV2ZW50LlZLX0RPV047XG4gICAga20uTEVGVCA9IEtleUV2ZW50LlZLX0xFRlQ7XG4gICAga20uUklHSFQgPSBLZXlFdmVudC5WS19SSUdIVDtcbiAgICBrbS5FTlRFUiA9IEtleUV2ZW50LlZLX0VOVEVSO1xufTtcbmV4cG9ydHMuS2V5TWFwID0gS2V5TWFwX0hCQlRWO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTg3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBzdGF0aWNzKGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYiwgYSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuc3RhdGljcyA9IHN0YXRpY3M7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1ODg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciByZWFjdF9yZWR1eF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG52YXIgQ29udGFpbmVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG52YXIgQWN0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG52YXIgQXBwQ2xhc3MgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFwcENsYXNzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFwcENsYXNzKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFwcENsYXNzLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBBcHBDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhcHBcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lcnNfMS5MYXlvdXQsIHsgY29sdW1uczogMSwgcGFyZW50OiB0aGlzIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBBcHBDbGFzcztcbn0oUmVhY3QuQ29tcG9uZW50KTtcbmV4cG9ydHMuQXBwQ2xhc3MgPSBBcHBDbGFzcztcbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgIHJldHVybiB7fTtcbn1cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAgIHJldHVybiBfX2Fzc2lnbih7fSwgQWN0aW9uc18xLlVJQWN0aW9ucyk7XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZVByb3BzLCBvd25Qcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG59XG5leHBvcnRzLkFwcCA9IHJlYWN0X3JlZHV4XzEuY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykoQXBwQ2xhc3MpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTg5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENhcmRNb2R1bGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Myk7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBDYXJkTW9kdWxlTGlzdCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FyZE1vZHVsZUxpc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FyZE1vZHVsZUxpc3QoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ2FyZE1vZHVsZUxpc3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZE1vZHVsZXNDb250YWluZXJcIiB9LCB0aGlzLnByb3BzLmNhcmQgPyB0aGlzLmRlY2lkZU1vZHVsZXModGhpcy5wcm9wcy5jYXJkKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLkxvYWRpbmcsIG51bGwpKTtcbiAgICB9O1xuICAgIENhcmRNb2R1bGVMaXN0LnByb3RvdHlwZS5kZWNpZGVNb2R1bGVzID0gZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1vZHVsZXMgPSBbXTtcbiAgICAgICAgdmFyIG1vZHVsZUxpc3QgPSBbXTtcbiAgICAgICAgdmFyIGNhcmRNb2R1bGVPcmRlciA9IENhcmRNb2R1bGVzXzEuY2FyZE1vZHVsZUNvbmZpZ1tjYXJkLnR5cGVdO1xuICAgICAgICBpZiAoY2FyZC50eXBlICYmIGNhcmRNb2R1bGVPcmRlciAmJiBjYXJkTW9kdWxlT3JkZXIuc2VjdGlvbnMgJiYgY2FyZE1vZHVsZU9yZGVyLnNlY3Rpb25zWzBdICYmIGNhcmRNb2R1bGVPcmRlci5zZWN0aW9uc1swXS5tb2R1bGVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGNhcmRNb2R1bGVPcmRlci5zZWN0aW9uc1swXS5tb2R1bGVzLm1hcChmdW5jdGlvbiAoY2FyZE1vZHVsZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmRNb2R1bGUudHlwZSAmJiBjYXJkTW9kdWxlLnR5cGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IENhcmRNb2R1bGVzXzEuY2FyZE1vZHVsZUNsYXNzZXNbY2FyZE1vZHVsZS50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKENhcmRNb2R1bGVzXzEuaXNWYWxpZGF0YWJsZShjYW5kaWRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW5zdGFudGlhdGluZ1wiLCBjYXJkTW9kdWxlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IGNhbmRpZGF0ZS52YWxpZGF0ZShjYXJkLCBjYXJkTW9kdWxlLnR5cGUsIF90aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFkZGluZzogMzAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkluc3RhbnRpYXRpbmcgYmVjYXVzZSB2YWxpZGF0ZWRcIiwgY2FyZE1vZHVsZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hdkNsYXNzID0gY2FuZGlkYXRlLm1vZHVsZU5hbWUgPyBjYW5kaWRhdGUubW9kdWxlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpICsgXCItY29udGFpbmVyIGNhcmRNb2R1bGUtY29udGFpbmVyIHNjcm9sbGFibGVcIiA6IFwiY29udGFpbmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBuYXZDbGFzcywga2V5OiBjYXJkLmNhcmRfaWQgKyBcIl9tb2R1bGVfXCIgKyBpZHggfSwgbW9kdWxlSW5zdGFuY2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGV4aXN0ZSBlbCBtw7NkdWxvIG8gbm8gaGEgdmFsaWRhZG9cIiwgY2FyZE1vZHVsZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGV4aXN0ZSBlbCBtw7NkdWxvXCIsIGNhcmRNb2R1bGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2R1bGVMaXN0O1xuICAgIH07XG4gICAgcmV0dXJuIENhcmRNb2R1bGVMaXN0O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuQ2FyZE1vZHVsZUxpc3QgPSBDYXJkTW9kdWxlTGlzdDtcbmV4cG9ydHMuTmF2aWdhYmxlQ2FyZE1vZHVsZUxpc3QgPSBIT0NfMS5uYXZpZ2FibGUoQ2FyZE1vZHVsZUxpc3QpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTkwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYXJ0Q29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTEpO1xudmFyIGJ1c2luZXNzQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTIpO1xudmFyIGNoYXB0ZXJDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Myk7XG52YXIgZmFzaGlvbkNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTk0KTtcbnZhciBmYXVuYV9mbG9yYUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTk1KTtcbnZhciBmb29kX2RyaW5rQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTYpO1xudmFyIGhlYWx0aF9iZWF1dHlDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Nyk7XG52YXIgaGlzdG9yaWNDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5OCk7XG52YXIgaG9tZUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTk5KTtcbnZhciBsZWlzdXJlX3Nwb3J0Q29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDApO1xudmFyIGxvY2F0aW9uQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDEpO1xudmFyIGxvb2tDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMik7XG52YXIgbW92aWVDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMyk7XG52YXIgb3N0Q29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDQpO1xudmFyIHBlcnNvbkNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA1KTtcbnZhciBjaGFyYWN0ZXJDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNik7XG52YXIgcmVmZXJlbmNlQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xudmFyIHNlcmllQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDgpO1xudmFyIHNvbmdDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOSk7XG52YXIgdGVjaG5vbG9neUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEwKTtcbnZhciB0cml2aWFDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMSk7XG52YXIgdmVoaWNsZUNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEyKTtcbnZhciB3ZWFwb25Db25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMyk7XG52YXIgY2FyZERldGFpbENvbmZpZyA9IHtcbiAgICBhcnRDb25maWc6IGFydENvbmZpZyxcbiAgICBidXNpbmVzc0NvbmZpZzogYnVzaW5lc3NDb25maWcsXG4gICAgY2hhcHRlckNvbmZpZzogY2hhcHRlckNvbmZpZyxcbiAgICBmYXNoaW9uQ29uZmlnOiBmYXNoaW9uQ29uZmlnLFxuICAgIGZhdW5hX2Zsb3JhQ29uZmlnOiBmYXVuYV9mbG9yYUNvbmZpZyxcbiAgICBmb29kX2RyaW5rQ29uZmlnOiBmb29kX2RyaW5rQ29uZmlnLFxuICAgIGhlYWx0aF9iZWF1dHlDb25maWc6IGhlYWx0aF9iZWF1dHlDb25maWcsXG4gICAgaGlzdG9yaWNDb25maWc6IGhpc3RvcmljQ29uZmlnLFxuICAgIGhvbWVDb25maWc6IGhvbWVDb25maWcsXG4gICAgbGVpc3VyZV9zcG9ydENvbmZpZzogbGVpc3VyZV9zcG9ydENvbmZpZyxcbiAgICBsb2NhdGlvbkNvbmZpZzogbG9jYXRpb25Db25maWcsXG4gICAgbG9va0NvbmZpZzogbG9va0NvbmZpZyxcbiAgICBtb3ZpZUNvbmZpZzogbW92aWVDb25maWcsXG4gICAgb3N0Q29uZmlnOiBvc3RDb25maWcsXG4gICAgcGVyc29uQ29uZmlnOiBwZXJzb25Db25maWcsXG4gICAgY2hhcmFjdGVyQ29uZmlnOiBjaGFyYWN0ZXJDb25maWcsXG4gICAgcmVmZXJlbmNlQ29uZmlnOiByZWZlcmVuY2VDb25maWcsXG4gICAgc2VyaWVDb25maWc6IHNlcmllQ29uZmlnLFxuICAgIHNvbmdDb25maWc6IHNvbmdDb25maWcsXG4gICAgdGVjaG5vbG9neUNvbmZpZzogdGVjaG5vbG9neUNvbmZpZyxcbiAgICB0cml2aWFDb25maWc6IHRyaXZpYUNvbmZpZyxcbiAgICB2ZWhpY2xlQ29uZmlnOiB2ZWhpY2xlQ29uZmlnLFxuICAgIHdlYXBvbkNvbmZpZzogd2VhcG9uQ29uZmlnXG59O1xuZXhwb3J0cy5jYXJkTW9kdWxlQ29uZmlnID0ge1xuICAgIGFydDogY2FyZERldGFpbENvbmZpZy5hcnRDb25maWcsXG4gICAgYnVzaW5lc3M6IGNhcmREZXRhaWxDb25maWcuYnVzaW5lc3NDb25maWcsXG4gICAgY2hhcHRlcjogY2FyZERldGFpbENvbmZpZy5jaGFwdGVyQ29uZmlnLFxuICAgIGZhc2hpb246IGNhcmREZXRhaWxDb25maWcuZmFzaGlvbkNvbmZpZyxcbiAgICBmYXVuYV9mbG9yYTogY2FyZERldGFpbENvbmZpZy5mYXVuYV9mbG9yYUNvbmZpZyxcbiAgICBmb29kX2RyaW5rOiBjYXJkRGV0YWlsQ29uZmlnLmZvb2RfZHJpbmtDb25maWcsXG4gICAgaGVhbHRoX2JlYXV0eTogY2FyZERldGFpbENvbmZpZy5oZWFsdGhfYmVhdXR5Q29uZmlnLFxuICAgIGhpc3RvcmljOiBjYXJkRGV0YWlsQ29uZmlnLmhpc3RvcmljQ29uZmlnLFxuICAgIGhvbWU6IGNhcmREZXRhaWxDb25maWcuaG9tZUNvbmZpZyxcbiAgICBsZWlzdXJlX3Nwb3J0OiBjYXJkRGV0YWlsQ29uZmlnLmxlaXN1cmVfc3BvcnRDb25maWcsXG4gICAgbG9jYXRpb246IGNhcmREZXRhaWxDb25maWcubG9jYXRpb25Db25maWcsXG4gICAgbG9vazogY2FyZERldGFpbENvbmZpZy5sb29rQ29uZmlnLFxuICAgIG1vdmllOiBjYXJkRGV0YWlsQ29uZmlnLm1vdmllQ29uZmlnLFxuICAgIG9zdDogY2FyZERldGFpbENvbmZpZy5vc3RDb25maWcsXG4gICAgcGVyc29uOiBjYXJkRGV0YWlsQ29uZmlnLnBlcnNvbkNvbmZpZyxcbiAgICBjaGFyYWN0ZXI6IGNhcmREZXRhaWxDb25maWcuY2hhcmFjdGVyQ29uZmlnLFxuICAgIHJlZmVyZW5jZTogY2FyZERldGFpbENvbmZpZy5yZWZlcmVuY2VDb25maWcsXG4gICAgc2VyaWU6IGNhcmREZXRhaWxDb25maWcuc2VyaWVDb25maWcsXG4gICAgc29uZzogY2FyZERldGFpbENvbmZpZy5zb25nQ29uZmlnLFxuICAgIHRlY2hub2xvZ3k6IGNhcmREZXRhaWxDb25maWcudGVjaG5vbG9neUNvbmZpZyxcbiAgICB0cml2aWE6IGNhcmREZXRhaWxDb25maWcudHJpdmlhQ29uZmlnLFxuICAgIHZlaGljbGU6IGNhcmREZXRhaWxDb25maWcudmVoaWNsZUNvbmZpZyxcbiAgICB3ZWFwb246IGNhcmREZXRhaWxDb25maWcud2VhcG9uQ29uZmlnXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTkxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJNYXBNb2R1bGVcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1OTI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTkzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiTW92aWVIZWFkZXJcIn0se1widHlwZVwiOlwiTW92aWVIZWFkZXJTbWFsbFwifSx7XCJ0eXBlXCI6XCJPdmVydmlld1wifSx7XCJ0eXBlXCI6XCJCYXNpY0luZm9cIn0se1widHlwZVwiOlwiVHJhaWxlclwifSx7XCJ0eXBlXCI6XCJDYXN0XCJ9LHtcInR5cGVcIjpcIkJlbG9uZ1RvU2luZ2xlXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJQbGFjZXNTaG93blwifSx7XCJ0eXBlXCI6XCJWZWhpY2xlc1wifSx7XCJ0eXBlXCI6XCJNb3ZpZVNvdW5kdHJhY2tcIn0se1widHlwZVwiOlwiSGlnaGxpZ2h0c1wifSx7XCJ0eXBlXCI6XCJEaXZlSW5Nb2R1bGVcIn0se1widHlwZVwiOlwiUmVjb21tZW5kZWRcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDU5NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkJ1dHRvbkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJGYXNoaW9uXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDU5NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1OTY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiVmlkZW9cIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTk3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDU5ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiTWFwTW9kdWxlXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTk5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiQnV0dG9uSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkhvbWVcIn0se1widHlwZVwiOlwiQ29tcGxldGVUaGVEZWNvXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIk1hcE1vZHVsZVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5Mb2NhdGlvblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjAyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiQnV0dG9uSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiTG9va1wifSx7XCJ0eXBlXCI6XCJDYXJyeVwifSx7XCJ0eXBlXCI6XCJNb3JlTG9va3NcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIk1vdmllSGVhZGVyXCJ9LHtcInR5cGVcIjpcIk1vdmllSGVhZGVyU21hbGxcIn0se1widHlwZVwiOlwiT3ZlcnZpZXdcIn0se1widHlwZVwiOlwiQmFzaWNJbmZvXCJ9LHtcInR5cGVcIjpcIlRyYWlsZXJcIn0se1widHlwZVwiOlwiQ2FzdFwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiUGxhY2VzU2hvd25cIn0se1widHlwZVwiOlwiVmVoaWNsZXNcIn0se1widHlwZVwiOlwiTW92aWVTb3VuZHRyYWNrXCJ9LHtcInR5cGVcIjpcIkhpZ2hsaWdodHNcIn0se1widHlwZVwiOlwiRGl2ZUluTW9kdWxlXCJ9LHtcInR5cGVcIjpcIlJlY29tbWVuZGVkXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiU291bmR0cmFja1wifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU291bmRzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJCaW9ncmFwaHlcIn0se1widHlwZVwiOlwiQmFzaWNJbmZvXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQXdhcmRzTW9kdWxlTGlzdFwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiRmlsbW9ncmFwaHlcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJCaW9ncmFwaHlcIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIlZpZGVvXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkhpZ2hsaWd0c1wifSx7XCJ0eXBlXCI6XCJJbnRlcnByZXRlZEJ5U2luZ2xlXCJ9LHtcInR5cGVcIjpcIkludGVycHJldGVkQnlcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwNzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIlJlZmVyZW5jZVwifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIlZpZGVvXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIk1vdmllSGVhZGVyXCJ9LHtcInR5cGVcIjpcIk1vdmllSGVhZGVyU21hbGxcIn0se1widHlwZVwiOlwiT3ZlcnZpZXdcIn0se1widHlwZVwiOlwiU2Vhc29uc1wifSx7XCJ0eXBlXCI6XCJUcmFpbGVyXCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkF3YXJkc01vZHVsZUxpc3RcIn0se1widHlwZVwiOlwiQ2FzdFwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiUmVjb21tZW5kZWRcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYwOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJNdXNpY1Nob3BcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIlNvbmdCZWxvbmdUb1NpbmdsZVwifSx7XCJ0eXBlXCI6XCJTb25nQmVsb25nVG9cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJWaWRlb1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJGdWxsQ3VyaW9zaXR5XCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiVmlkZW9cIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNjEyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIlZpZGVvXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuLyoqKi8gfSksXG5cbi8qKiovIDYxMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzVmFsaWRhdGFibGUob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiAndmFsaWRhdGUnIGluIG9iamVjdDtcbn1cbmV4cG9ydHMuaXNWYWxpZGF0YWJsZSA9IGlzVmFsaWRhdGFibGU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTU6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mMiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn07XG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xudmFyIF9fZGVjb3JhdGUgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuICAgICAgICBkO1xuICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIFNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIEhlYWRlciA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSGVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhlYWRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBIZWFkZXJfMSA9IEhlYWRlcjtcbiAgICBIZWFkZXIucHJvdG90eXBlLmdldFN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5uYXZpZ2FibGVTdWJ0aXRsZSAmJiB0aGlzLnByb3BzLnN1YnRpdGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdWJ0aXRsZVwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsgcGFyZW50OiB0aGlzLCBjb2x1bW5zOiAxIH0sIHRoaXMucHJvcHMuc3VidGl0bGUpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN1YnRpdGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdWJ0aXRsZVwiIH0sIHRoaXMucHJvcHMuc3VidGl0bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhlYWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3VidGl0bGUgPSB0aGlzLmdldFN1YnRpdGxlKCk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImhlYWRlciBjYXJkTW9kdWxlXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuQ2FyZEFuZENhdGVnb3J5LCB7IGNhcmQ6IHRoaXMucHJvcHMuY2FyZCB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyaWdodFBhcnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImluZm9cIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRpdGxlQ29udGFpbmVyXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgeyBjbGFzc05hbWU6IFwidGl0bGVcIiB9LCB0aGlzLnByb3BzLnRpdGxlKSwgdGhpcy5wcm9wcy50aXRsZVBhcmVudGhlc2lzID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0aXRsZVBhcmVudGhlc2lzXCIgfSwgXCIgKFwiLCB0aGlzLnByb3BzLnRpdGxlUGFyZW50aGVzaXMsIFwiKVwiKSA6IG51bGwpLCBzdWJ0aXRsZSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXRlZ29yaWVzXCIgfSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzKSA6IG51bGwsIHRoaXMucHJvcHMudGltZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidGltZVwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHsgY2xhc3NOYW1lOiBcImNsb2NrXCIgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHRoaXMucHJvcHMudGltZSkpIDogbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoZWFkZXJCdXR0b25zXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTmF2aWdhdGlvbkNvbnRhaW5lciwgeyBwYXJlbnQ6IHRoaXMsIGNvbHVtbnM6IDEsIGlzRGVmYXVsdDogdHJ1ZSwgY2xhc3NOYW1lOiBcImxpa2VCdXR0b24gZ2VuZXJpY0J0blwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2VudGVyZWRDb250ZW50XCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwgeyBjbGFzc05hbWU6IFwiaWNvbiBsaWtlXCIgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJDQVJPVVNFTF9DQVJEX1NBVkVcIikpKSkpKSkpO1xuICAgIH07XG4gICAgSGVhZGVyID0gSGVhZGVyXzEgPSBfX2RlY29yYXRlKFtIT0NfMS5zdGF0aWNzKHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJoZWFkZXJcIixcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNhcmQsIG1vZHVsZVR5cGUsIHBhcmVudCwgcHJvcHMpIHtcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGNhcmQudGl0bGU7XG4gICAgICAgICAgICB2YXIgc3VidGl0bGUgPSBjYXJkLnN1YnRpdGxlICYmIGNhcmQuc3VidGl0bGUgIT09IFwiXCIgPyBjYXJkLnN1YnRpdGxlIDogbnVsbDtcbiAgICAgICAgICAgIHZhciB0aW1lID0gbnVsbDtcbiAgICAgICAgICAgIHZhciB0aXRsZVBhcmVudGhlc2lzID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBuYXZpZ2FibGVTdWJ0aXRsZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3dpdGNoIChjYXJkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibW92aWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VyaWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hhcHRlclwiOlxuICAgICAgICAgICAgICAgICAgICB2YXIgY2F0YWxvZ0luZm8gPSBTZXJ2aWNlc18xLkhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgXCJjYXRhbG9nXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0YWxvZ0luZm8gJiYgY2F0YWxvZ0luZm8uZGF0YSAmJiBjYXRhbG9nSW5mby5kYXRhWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWFEYXRhID0gY2F0YWxvZ0luZm8uZGF0YVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRpYURhdGEucnVudGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZUluU2VjcyA9IG1lZGlhRGF0YS5ydW50aW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoY3VycmVudFRpbWVJblNlY3MgLyAzNjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZUluU2VjcyAlPSAzNjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcihjdXJyZW50VGltZUluU2VjcyAvIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gbWludXRlcyArIFwiIG1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBob3VycyArIFwiIGggXCIgKyB0aW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRpYURhdGEueWVhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlUGFyZW50aGVzaXMgPSBcIlwiICsgY2F0YWxvZ0luZm8uZGF0YVswXS55ZWFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS5nZW5yZXMgJiYgbWVkaWFEYXRhLmdlbnJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9IG1lZGlhRGF0YS5nZW5yZXMuam9pbihcIiwgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS5kaXJlY3RvciAmJiBtZWRpYURhdGEuZGlyZWN0b3IgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9IG1lZGlhRGF0YS5kaXJlY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2FibGVTdWJ0aXRsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgSW5zdGFudGlhdGVkID0gSE9DXzEubmF2aWdhYmxlKEhlYWRlcl8xKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEluc3RhbnRpYXRlZCwgX19hc3NpZ24oeyBwYXJlbnQ6IHBhcmVudCwgaXNTY3JvbGxhYmxlOiB0cnVlLCBjYXJkOiBjYXJkLCBtb2R1bGVUeXBlOiBtb2R1bGVUeXBlLCB0aXRsZTogdGl0bGUsIHN1YnRpdGxlOiBzdWJ0aXRsZSwgbmF2aWdhYmxlU3VidGl0bGU6IG5hdmlnYWJsZVN1YnRpdGxlLCB0aW1lOiB0aW1lLCB0aXRsZVBhcmVudGhlc2lzOiB0aXRsZVBhcmVudGhlc2lzLCBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzIH0sIHByb3BzKSk7XG4gICAgICAgIH1cbiAgICB9KV0sIEhlYWRlcik7XG4gICAgcmV0dXJuIEhlYWRlcjtcbiAgICB2YXIgSGVhZGVyXzE7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5IZWFkZXIgPSBIZWFkZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIEhPQ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgTmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOYXZpZ2F0aW9uQ29udGFpbmVyQ2xhc3MsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE5hdmlnYXRpb25Db250YWluZXJDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgYWNjZXB0ID0gX2EuYWNjZXB0LFxuICAgICAgICAgICAgYWNjZXB0Q2hhcnNldCA9IF9hLmFjY2VwdENoYXJzZXQsXG4gICAgICAgICAgICBhY3Rpb24gPSBfYS5hY3Rpb24sXG4gICAgICAgICAgICBhbGxvd0Z1bGxTY3JlZW4gPSBfYS5hbGxvd0Z1bGxTY3JlZW4sXG4gICAgICAgICAgICBhbGxvd1RyYW5zcGFyZW5jeSA9IF9hLmFsbG93VHJhbnNwYXJlbmN5LFxuICAgICAgICAgICAgYWx0ID0gX2EuYWx0LFxuICAgICAgICAgICAgYXN5bmMgPSBfYS5hc3luYyxcbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZSA9IF9hLmF1dG9Db21wbGV0ZSxcbiAgICAgICAgICAgIGF1dG9Gb2N1cyA9IF9hLmF1dG9Gb2N1cyxcbiAgICAgICAgICAgIGF1dG9QbGF5ID0gX2EuYXV0b1BsYXksXG4gICAgICAgICAgICBjYXB0dXJlID0gX2EuY2FwdHVyZSxcbiAgICAgICAgICAgIGNlbGxQYWRkaW5nID0gX2EuY2VsbFBhZGRpbmcsXG4gICAgICAgICAgICBjZWxsU3BhY2luZyA9IF9hLmNlbGxTcGFjaW5nLFxuICAgICAgICAgICAgY2hhclNldCA9IF9hLmNoYXJTZXQsXG4gICAgICAgICAgICBjaGFsbGVuZ2UgPSBfYS5jaGFsbGVuZ2UsXG4gICAgICAgICAgICBjaGVja2VkID0gX2EuY2hlY2tlZCxcbiAgICAgICAgICAgIGNpdGUgPSBfYS5jaXRlLFxuICAgICAgICAgICAgY2xhc3NJRCA9IF9hLmNsYXNzSUQsXG4gICAgICAgICAgICBjb2xzID0gX2EuY29scyxcbiAgICAgICAgICAgIGNvbFNwYW4gPSBfYS5jb2xTcGFuLFxuICAgICAgICAgICAgY29udGVudCA9IF9hLmNvbnRlbnQsXG4gICAgICAgICAgICBjb250cm9scyA9IF9hLmNvbnRyb2xzLFxuICAgICAgICAgICAgY29vcmRzID0gX2EuY29vcmRzLFxuICAgICAgICAgICAgY3Jvc3NPcmlnaW4gPSBfYS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIGRhdGEgPSBfYS5kYXRhLFxuICAgICAgICAgICAgZGF0ZVRpbWUgPSBfYS5kYXRlVGltZSxcbiAgICAgICAgICAgIGRlZmVyID0gX2EuZGVmZXIsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgICAgZG93bmxvYWQgPSBfYS5kb3dubG9hZCxcbiAgICAgICAgICAgIGVuY1R5cGUgPSBfYS5lbmNUeXBlLFxuICAgICAgICAgICAgZm9ybSA9IF9hLmZvcm0sXG4gICAgICAgICAgICBmb3JtQWN0aW9uID0gX2EuZm9ybUFjdGlvbixcbiAgICAgICAgICAgIGZvcm1FbmNUeXBlID0gX2EuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgICBmb3JtTWV0aG9kID0gX2EuZm9ybU1ldGhvZCxcbiAgICAgICAgICAgIGZvcm1Ob1ZhbGlkYXRlID0gX2EuZm9ybU5vVmFsaWRhdGUsXG4gICAgICAgICAgICBmb3JtVGFyZ2V0ID0gX2EuZm9ybVRhcmdldCxcbiAgICAgICAgICAgIGZyYW1lQm9yZGVyID0gX2EuZnJhbWVCb3JkZXIsXG4gICAgICAgICAgICBoZWFkZXJzID0gX2EuaGVhZGVycyxcbiAgICAgICAgICAgIGhlaWdodCA9IF9hLmhlaWdodCxcbiAgICAgICAgICAgIGhpZ2ggPSBfYS5oaWdoLFxuICAgICAgICAgICAgaHJlZiA9IF9hLmhyZWYsXG4gICAgICAgICAgICBocmVmTGFuZyA9IF9hLmhyZWZMYW5nLFxuICAgICAgICAgICAgaHRtbEZvciA9IF9hLmh0bWxGb3IsXG4gICAgICAgICAgICBodHRwRXF1aXYgPSBfYS5odHRwRXF1aXYsXG4gICAgICAgICAgICBpbnRlZ3JpdHkgPSBfYS5pbnRlZ3JpdHksXG4gICAgICAgICAgICBrZXlQYXJhbXMgPSBfYS5rZXlQYXJhbXMsXG4gICAgICAgICAgICBrZXlUeXBlID0gX2Eua2V5VHlwZSxcbiAgICAgICAgICAgIGtpbmQgPSBfYS5raW5kLFxuICAgICAgICAgICAgbGFiZWwgPSBfYS5sYWJlbCxcbiAgICAgICAgICAgIGxpc3QgPSBfYS5saXN0LFxuICAgICAgICAgICAgbG9vcCA9IF9hLmxvb3AsXG4gICAgICAgICAgICBsb3cgPSBfYS5sb3csXG4gICAgICAgICAgICBtYW5pZmVzdCA9IF9hLm1hbmlmZXN0LFxuICAgICAgICAgICAgbWFyZ2luSGVpZ2h0ID0gX2EubWFyZ2luSGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luV2lkdGggPSBfYS5tYXJnaW5XaWR0aCxcbiAgICAgICAgICAgIG1heCA9IF9hLm1heCxcbiAgICAgICAgICAgIG1heExlbmd0aCA9IF9hLm1heExlbmd0aCxcbiAgICAgICAgICAgIG1lZGlhID0gX2EubWVkaWEsXG4gICAgICAgICAgICBtZWRpYUdyb3VwID0gX2EubWVkaWFHcm91cCxcbiAgICAgICAgICAgIG1ldGhvZCA9IF9hLm1ldGhvZCxcbiAgICAgICAgICAgIG1pbiA9IF9hLm1pbixcbiAgICAgICAgICAgIG1pbkxlbmd0aCA9IF9hLm1pbkxlbmd0aCxcbiAgICAgICAgICAgIG11bHRpcGxlID0gX2EubXVsdGlwbGUsXG4gICAgICAgICAgICBtdXRlZCA9IF9hLm11dGVkLFxuICAgICAgICAgICAgbmFtZSA9IF9hLm5hbWUsXG4gICAgICAgICAgICBub25jZSA9IF9hLm5vbmNlLFxuICAgICAgICAgICAgbm9WYWxpZGF0ZSA9IF9hLm5vVmFsaWRhdGUsXG4gICAgICAgICAgICBvcGVuID0gX2Eub3BlbixcbiAgICAgICAgICAgIG9wdGltdW0gPSBfYS5vcHRpbXVtLFxuICAgICAgICAgICAgcGF0dGVybiA9IF9hLnBhdHRlcm4sXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IF9hLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgcGxheXNJbmxpbmUgPSBfYS5wbGF5c0lubGluZSxcbiAgICAgICAgICAgIHBvc3RlciA9IF9hLnBvc3RlcixcbiAgICAgICAgICAgIHByZWxvYWQgPSBfYS5wcmVsb2FkLFxuICAgICAgICAgICAgcmVhZE9ubHkgPSBfYS5yZWFkT25seSxcbiAgICAgICAgICAgIHJlbCA9IF9hLnJlbCxcbiAgICAgICAgICAgIHJlcXVpcmVkID0gX2EucmVxdWlyZWQsXG4gICAgICAgICAgICByZXZlcnNlZCA9IF9hLnJldmVyc2VkLFxuICAgICAgICAgICAgcm93cyA9IF9hLnJvd3MsXG4gICAgICAgICAgICByb3dTcGFuID0gX2Eucm93U3BhbixcbiAgICAgICAgICAgIHNhbmRib3ggPSBfYS5zYW5kYm94LFxuICAgICAgICAgICAgc2NvcGUgPSBfYS5zY29wZSxcbiAgICAgICAgICAgIHNjb3BlZCA9IF9hLnNjb3BlZCxcbiAgICAgICAgICAgIHNjcm9sbGluZyA9IF9hLnNjcm9sbGluZyxcbiAgICAgICAgICAgIHNlYW1sZXNzID0gX2Euc2VhbWxlc3MsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IF9hLnNlbGVjdGVkLFxuICAgICAgICAgICAgc2hhcGUgPSBfYS5zaGFwZSxcbiAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgc2l6ZXMgPSBfYS5zaXplcyxcbiAgICAgICAgICAgIHNwYW4gPSBfYS5zcGFuLFxuICAgICAgICAgICAgc3JjID0gX2Euc3JjLFxuICAgICAgICAgICAgc3JjRG9jID0gX2Euc3JjRG9jLFxuICAgICAgICAgICAgc3JjTGFuZyA9IF9hLnNyY0xhbmcsXG4gICAgICAgICAgICBzcmNTZXQgPSBfYS5zcmNTZXQsXG4gICAgICAgICAgICBzdGFydCA9IF9hLnN0YXJ0LFxuICAgICAgICAgICAgc3RlcCA9IF9hLnN0ZXAsXG4gICAgICAgICAgICBzdW1tYXJ5ID0gX2Euc3VtbWFyeSxcbiAgICAgICAgICAgIHRhcmdldCA9IF9hLnRhcmdldCxcbiAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgICAgdXNlTWFwID0gX2EudXNlTWFwLFxuICAgICAgICAgICAgdmFsdWUgPSBfYS52YWx1ZSxcbiAgICAgICAgICAgIHdpZHRoID0gX2Eud2lkdGgsXG4gICAgICAgICAgICB3bW9kZSA9IF9hLndtb2RlLFxuICAgICAgICAgICAgd3JhcCA9IF9hLndyYXAsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9hLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gX2EuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nID0gX2Euc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nLFxuICAgICAgICAgICAgYWNjZXNzS2V5ID0gX2EuYWNjZXNzS2V5LFxuICAgICAgICAgICAgY29udGVudEVkaXRhYmxlID0gX2EuY29udGVudEVkaXRhYmxlLFxuICAgICAgICAgICAgY29udGV4dE1lbnUgPSBfYS5jb250ZXh0TWVudSxcbiAgICAgICAgICAgIGRpciA9IF9hLmRpcixcbiAgICAgICAgICAgIGRyYWdnYWJsZSA9IF9hLmRyYWdnYWJsZSxcbiAgICAgICAgICAgIGhpZGRlbiA9IF9hLmhpZGRlbixcbiAgICAgICAgICAgIGlkID0gX2EuaWQsXG4gICAgICAgICAgICBsYW5nID0gX2EubGFuZyxcbiAgICAgICAgICAgIHNwZWxsQ2hlY2sgPSBfYS5zcGVsbENoZWNrLFxuICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgIHRhYkluZGV4ID0gX2EudGFiSW5kZXgsXG4gICAgICAgICAgICB0aXRsZSA9IF9hLnRpdGxlLFxuICAgICAgICAgICAgaW5wdXRNb2RlID0gX2EuaW5wdXRNb2RlLFxuICAgICAgICAgICAgaXMgPSBfYS5pcyxcbiAgICAgICAgICAgIHJhZGlvR3JvdXAgPSBfYS5yYWRpb0dyb3VwLFxuICAgICAgICAgICAgcm9sZSA9IF9hLnJvbGUsXG4gICAgICAgICAgICBhYm91dCA9IF9hLmFib3V0LFxuICAgICAgICAgICAgZGF0YXR5cGUgPSBfYS5kYXRhdHlwZSxcbiAgICAgICAgICAgIGlubGlzdCA9IF9hLmlubGlzdCxcbiAgICAgICAgICAgIHByZWZpeCA9IF9hLnByZWZpeCxcbiAgICAgICAgICAgIHByb3BlcnR5ID0gX2EucHJvcGVydHksXG4gICAgICAgICAgICByZXNvdXJjZSA9IF9hLnJlc291cmNlLFxuICAgICAgICAgICAgdm9jYWIgPSBfYS52b2NhYixcbiAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplID0gX2EuYXV0b0NhcGl0YWxpemUsXG4gICAgICAgICAgICBhdXRvQ29ycmVjdCA9IF9hLmF1dG9Db3JyZWN0LFxuICAgICAgICAgICAgYXV0b1NhdmUgPSBfYS5hdXRvU2F2ZSxcbiAgICAgICAgICAgIGNvbG9yID0gX2EuY29sb3IsXG4gICAgICAgICAgICBpdGVtUHJvcCA9IF9hLml0ZW1Qcm9wLFxuICAgICAgICAgICAgaXRlbVNjb3BlID0gX2EuaXRlbVNjb3BlLFxuICAgICAgICAgICAgaXRlbVR5cGUgPSBfYS5pdGVtVHlwZSxcbiAgICAgICAgICAgIGl0ZW1JRCA9IF9hLml0ZW1JRCxcbiAgICAgICAgICAgIGl0ZW1SZWYgPSBfYS5pdGVtUmVmLFxuICAgICAgICAgICAgcmVzdWx0cyA9IF9hLnJlc3VsdHMsXG4gICAgICAgICAgICBzZWN1cml0eSA9IF9hLnNlY3VyaXR5LFxuICAgICAgICAgICAgdW5zZWxlY3RhYmxlID0gX2EudW5zZWxlY3RhYmxlLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gX2EuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsXG4gICAgICAgICAgICBvbkNvcHkgPSBfYS5vbkNvcHksXG4gICAgICAgICAgICBvbkNvcHlDYXB0dXJlID0gX2Eub25Db3B5Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uQ3V0ID0gX2Eub25DdXQsXG4gICAgICAgICAgICBvbkN1dENhcHR1cmUgPSBfYS5vbkN1dENhcHR1cmUsXG4gICAgICAgICAgICBvblBhc3RlID0gX2Eub25QYXN0ZSxcbiAgICAgICAgICAgIG9uUGFzdGVDYXB0dXJlID0gX2Eub25QYXN0ZUNhcHR1cmUsXG4gICAgICAgICAgICBvbkNvbXBvc2l0aW9uRW5kID0gX2Eub25Db21wb3NpdGlvbkVuZCxcbiAgICAgICAgICAgIG9uQ29tcG9zaXRpb25FbmRDYXB0dXJlID0gX2Eub25Db21wb3NpdGlvbkVuZENhcHR1cmUsXG4gICAgICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnQgPSBfYS5vbkNvbXBvc2l0aW9uU3RhcnQsXG4gICAgICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlID0gX2Eub25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uQ29tcG9zaXRpb25VcGRhdGUgPSBfYS5vbkNvbXBvc2l0aW9uVXBkYXRlLFxuICAgICAgICAgICAgb25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUgPSBfYS5vbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRm9jdXMgPSBfYS5vbkZvY3VzLFxuICAgICAgICAgICAgb25Gb2N1c0NhcHR1cmUgPSBfYS5vbkZvY3VzQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uQmx1ciA9IF9hLm9uQmx1cixcbiAgICAgICAgICAgIG9uQmx1ckNhcHR1cmUgPSBfYS5vbkJsdXJDYXB0dXJlLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgICAgIG9uQ2hhbmdlQ2FwdHVyZSA9IF9hLm9uQ2hhbmdlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uSW5wdXQgPSBfYS5vbklucHV0LFxuICAgICAgICAgICAgb25JbnB1dENhcHR1cmUgPSBfYS5vbklucHV0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uUmVzZXQgPSBfYS5vblJlc2V0LFxuICAgICAgICAgICAgb25SZXNldENhcHR1cmUgPSBfYS5vblJlc2V0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uU3VibWl0ID0gX2Eub25TdWJtaXQsXG4gICAgICAgICAgICBvblN1Ym1pdENhcHR1cmUgPSBfYS5vblN1Ym1pdENhcHR1cmUsXG4gICAgICAgICAgICBvbkludmFsaWQgPSBfYS5vbkludmFsaWQsXG4gICAgICAgICAgICBvbkludmFsaWRDYXB0dXJlID0gX2Eub25JbnZhbGlkQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uTG9hZCA9IF9hLm9uTG9hZCxcbiAgICAgICAgICAgIG9uTG9hZENhcHR1cmUgPSBfYS5vbkxvYWRDYXB0dXJlLFxuICAgICAgICAgICAgb25FcnJvciA9IF9hLm9uRXJyb3IsXG4gICAgICAgICAgICBvbkVycm9yQ2FwdHVyZSA9IF9hLm9uRXJyb3JDYXB0dXJlLFxuICAgICAgICAgICAgb25LZXlEb3duID0gX2Eub25LZXlEb3duLFxuICAgICAgICAgICAgb25LZXlEb3duQ2FwdHVyZSA9IF9hLm9uS2V5RG93bkNhcHR1cmUsXG4gICAgICAgICAgICBvbktleVByZXNzID0gX2Eub25LZXlQcmVzcyxcbiAgICAgICAgICAgIG9uS2V5UHJlc3NDYXB0dXJlID0gX2Eub25LZXlQcmVzc0NhcHR1cmUsXG4gICAgICAgICAgICBvbktleVVwID0gX2Eub25LZXlVcCxcbiAgICAgICAgICAgIG9uS2V5VXBDYXB0dXJlID0gX2Eub25LZXlVcENhcHR1cmUsXG4gICAgICAgICAgICBvbkFib3J0ID0gX2Eub25BYm9ydCxcbiAgICAgICAgICAgIG9uQWJvcnRDYXB0dXJlID0gX2Eub25BYm9ydENhcHR1cmUsXG4gICAgICAgICAgICBvbkNhblBsYXkgPSBfYS5vbkNhblBsYXksXG4gICAgICAgICAgICBvbkNhblBsYXlDYXB0dXJlID0gX2Eub25DYW5QbGF5Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uQ2FuUGxheVRocm91Z2ggPSBfYS5vbkNhblBsYXlUaHJvdWdoLFxuICAgICAgICAgICAgb25DYW5QbGF5VGhyb3VnaENhcHR1cmUgPSBfYS5vbkNhblBsYXlUaHJvdWdoQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRHVyYXRpb25DaGFuZ2UgPSBfYS5vbkR1cmF0aW9uQ2hhbmdlLFxuICAgICAgICAgICAgb25EdXJhdGlvbkNoYW5nZUNhcHR1cmUgPSBfYS5vbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRW1wdGllZCA9IF9hLm9uRW1wdGllZCxcbiAgICAgICAgICAgIG9uRW1wdGllZENhcHR1cmUgPSBfYS5vbkVtcHRpZWRDYXB0dXJlLFxuICAgICAgICAgICAgb25FbmNyeXB0ZWQgPSBfYS5vbkVuY3J5cHRlZCxcbiAgICAgICAgICAgIG9uRW5jcnlwdGVkQ2FwdHVyZSA9IF9hLm9uRW5jcnlwdGVkQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRW5kZWQgPSBfYS5vbkVuZGVkLFxuICAgICAgICAgICAgb25FbmRlZENhcHR1cmUgPSBfYS5vbkVuZGVkQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uTG9hZGVkRGF0YSA9IF9hLm9uTG9hZGVkRGF0YSxcbiAgICAgICAgICAgIG9uTG9hZGVkRGF0YUNhcHR1cmUgPSBfYS5vbkxvYWRlZERhdGFDYXB0dXJlLFxuICAgICAgICAgICAgb25Mb2FkZWRNZXRhZGF0YSA9IF9hLm9uTG9hZGVkTWV0YWRhdGEsXG4gICAgICAgICAgICBvbkxvYWRlZE1ldGFkYXRhQ2FwdHVyZSA9IF9hLm9uTG9hZGVkTWV0YWRhdGFDYXB0dXJlLFxuICAgICAgICAgICAgb25Mb2FkU3RhcnQgPSBfYS5vbkxvYWRTdGFydCxcbiAgICAgICAgICAgIG9uTG9hZFN0YXJ0Q2FwdHVyZSA9IF9hLm9uTG9hZFN0YXJ0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uUGF1c2UgPSBfYS5vblBhdXNlLFxuICAgICAgICAgICAgb25QYXVzZUNhcHR1cmUgPSBfYS5vblBhdXNlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uUGxheSA9IF9hLm9uUGxheSxcbiAgICAgICAgICAgIG9uUGxheUNhcHR1cmUgPSBfYS5vblBsYXlDYXB0dXJlLFxuICAgICAgICAgICAgb25QbGF5aW5nID0gX2Eub25QbGF5aW5nLFxuICAgICAgICAgICAgb25QbGF5aW5nQ2FwdHVyZSA9IF9hLm9uUGxheWluZ0NhcHR1cmUsXG4gICAgICAgICAgICBvblByb2dyZXNzID0gX2Eub25Qcm9ncmVzcyxcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3NDYXB0dXJlID0gX2Eub25Qcm9ncmVzc0NhcHR1cmUsXG4gICAgICAgICAgICBvblJhdGVDaGFuZ2UgPSBfYS5vblJhdGVDaGFuZ2UsXG4gICAgICAgICAgICBvblJhdGVDaGFuZ2VDYXB0dXJlID0gX2Eub25SYXRlQ2hhbmdlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uU2Vla2VkID0gX2Eub25TZWVrZWQsXG4gICAgICAgICAgICBvblNlZWtlZENhcHR1cmUgPSBfYS5vblNlZWtlZENhcHR1cmUsXG4gICAgICAgICAgICBvblNlZWtpbmcgPSBfYS5vblNlZWtpbmcsXG4gICAgICAgICAgICBvblNlZWtpbmdDYXB0dXJlID0gX2Eub25TZWVraW5nQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uU3RhbGxlZCA9IF9hLm9uU3RhbGxlZCxcbiAgICAgICAgICAgIG9uU3RhbGxlZENhcHR1cmUgPSBfYS5vblN0YWxsZWRDYXB0dXJlLFxuICAgICAgICAgICAgb25TdXNwZW5kID0gX2Eub25TdXNwZW5kLFxuICAgICAgICAgICAgb25TdXNwZW5kQ2FwdHVyZSA9IF9hLm9uU3VzcGVuZENhcHR1cmUsXG4gICAgICAgICAgICBvblRpbWVVcGRhdGUgPSBfYS5vblRpbWVVcGRhdGUsXG4gICAgICAgICAgICBvblRpbWVVcGRhdGVDYXB0dXJlID0gX2Eub25UaW1lVXBkYXRlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uVm9sdW1lQ2hhbmdlID0gX2Eub25Wb2x1bWVDaGFuZ2UsXG4gICAgICAgICAgICBvblZvbHVtZUNoYW5nZUNhcHR1cmUgPSBfYS5vblZvbHVtZUNoYW5nZUNhcHR1cmUsXG4gICAgICAgICAgICBvbldhaXRpbmcgPSBfYS5vbldhaXRpbmcsXG4gICAgICAgICAgICBvbldhaXRpbmdDYXB0dXJlID0gX2Eub25XYWl0aW5nQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICAgICAgb25DbGlja0NhcHR1cmUgPSBfYS5vbkNsaWNrQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uQ29udGV4dE1lbnUgPSBfYS5vbkNvbnRleHRNZW51LFxuICAgICAgICAgICAgb25Db250ZXh0TWVudUNhcHR1cmUgPSBfYS5vbkNvbnRleHRNZW51Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uRG91YmxlQ2xpY2sgPSBfYS5vbkRvdWJsZUNsaWNrLFxuICAgICAgICAgICAgb25Eb3VibGVDbGlja0NhcHR1cmUgPSBfYS5vbkRvdWJsZUNsaWNrQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRHJhZyA9IF9hLm9uRHJhZyxcbiAgICAgICAgICAgIG9uRHJhZ0NhcHR1cmUgPSBfYS5vbkRyYWdDYXB0dXJlLFxuICAgICAgICAgICAgb25EcmFnRW5kID0gX2Eub25EcmFnRW5kLFxuICAgICAgICAgICAgb25EcmFnRW5kQ2FwdHVyZSA9IF9hLm9uRHJhZ0VuZENhcHR1cmUsXG4gICAgICAgICAgICBvbkRyYWdFbnRlciA9IF9hLm9uRHJhZ0VudGVyLFxuICAgICAgICAgICAgb25EcmFnRW50ZXJDYXB0dXJlID0gX2Eub25EcmFnRW50ZXJDYXB0dXJlLFxuICAgICAgICAgICAgb25EcmFnRXhpdCA9IF9hLm9uRHJhZ0V4aXQsXG4gICAgICAgICAgICBvbkRyYWdFeGl0Q2FwdHVyZSA9IF9hLm9uRHJhZ0V4aXRDYXB0dXJlLFxuICAgICAgICAgICAgb25EcmFnTGVhdmUgPSBfYS5vbkRyYWdMZWF2ZSxcbiAgICAgICAgICAgIG9uRHJhZ0xlYXZlQ2FwdHVyZSA9IF9hLm9uRHJhZ0xlYXZlQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRHJhZ092ZXIgPSBfYS5vbkRyYWdPdmVyLFxuICAgICAgICAgICAgb25EcmFnT3ZlckNhcHR1cmUgPSBfYS5vbkRyYWdPdmVyQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gX2Eub25EcmFnU3RhcnQsXG4gICAgICAgICAgICBvbkRyYWdTdGFydENhcHR1cmUgPSBfYS5vbkRyYWdTdGFydENhcHR1cmUsXG4gICAgICAgICAgICBvbkRyb3AgPSBfYS5vbkRyb3AsXG4gICAgICAgICAgICBvbkRyb3BDYXB0dXJlID0gX2Eub25Ecm9wQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uTW91c2VEb3duID0gX2Eub25Nb3VzZURvd24sXG4gICAgICAgICAgICBvbk1vdXNlRG93bkNhcHR1cmUgPSBfYS5vbk1vdXNlRG93bkNhcHR1cmUsXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXIsXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmUgPSBfYS5vbk1vdXNlTGVhdmUsXG4gICAgICAgICAgICBvbk1vdXNlTW92ZSA9IF9hLm9uTW91c2VNb3ZlLFxuICAgICAgICAgICAgb25Nb3VzZU1vdmVDYXB0dXJlID0gX2Eub25Nb3VzZU1vdmVDYXB0dXJlLFxuICAgICAgICAgICAgb25Nb3VzZU91dCA9IF9hLm9uTW91c2VPdXQsXG4gICAgICAgICAgICBvbk1vdXNlT3V0Q2FwdHVyZSA9IF9hLm9uTW91c2VPdXRDYXB0dXJlLFxuICAgICAgICAgICAgb25Nb3VzZU92ZXIgPSBfYS5vbk1vdXNlT3ZlcixcbiAgICAgICAgICAgIG9uTW91c2VPdmVyQ2FwdHVyZSA9IF9hLm9uTW91c2VPdmVyQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uTW91c2VVcCA9IF9hLm9uTW91c2VVcCxcbiAgICAgICAgICAgIG9uTW91c2VVcENhcHR1cmUgPSBfYS5vbk1vdXNlVXBDYXB0dXJlLFxuICAgICAgICAgICAgb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgICAgIG9uU2VsZWN0Q2FwdHVyZSA9IF9hLm9uU2VsZWN0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uVG91Y2hDYW5jZWwgPSBfYS5vblRvdWNoQ2FuY2VsLFxuICAgICAgICAgICAgb25Ub3VjaENhbmNlbENhcHR1cmUgPSBfYS5vblRvdWNoQ2FuY2VsQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uVG91Y2hFbmQgPSBfYS5vblRvdWNoRW5kLFxuICAgICAgICAgICAgb25Ub3VjaEVuZENhcHR1cmUgPSBfYS5vblRvdWNoRW5kQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uVG91Y2hNb3ZlID0gX2Eub25Ub3VjaE1vdmUsXG4gICAgICAgICAgICBvblRvdWNoTW92ZUNhcHR1cmUgPSBfYS5vblRvdWNoTW92ZUNhcHR1cmUsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQgPSBfYS5vblRvdWNoU3RhcnQsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnRDYXB0dXJlID0gX2Eub25Ub3VjaFN0YXJ0Q2FwdHVyZSxcbiAgICAgICAgICAgIG9uU2Nyb2xsID0gX2Eub25TY3JvbGwsXG4gICAgICAgICAgICBvblNjcm9sbENhcHR1cmUgPSBfYS5vblNjcm9sbENhcHR1cmUsXG4gICAgICAgICAgICBvbldoZWVsID0gX2Eub25XaGVlbCxcbiAgICAgICAgICAgIG9uV2hlZWxDYXB0dXJlID0gX2Eub25XaGVlbENhcHR1cmUsXG4gICAgICAgICAgICBvbkFuaW1hdGlvblN0YXJ0ID0gX2Eub25BbmltYXRpb25TdGFydCxcbiAgICAgICAgICAgIG9uQW5pbWF0aW9uU3RhcnRDYXB0dXJlID0gX2Eub25BbmltYXRpb25TdGFydENhcHR1cmUsXG4gICAgICAgICAgICBvbkFuaW1hdGlvbkVuZCA9IF9hLm9uQW5pbWF0aW9uRW5kLFxuICAgICAgICAgICAgb25BbmltYXRpb25FbmRDYXB0dXJlID0gX2Eub25BbmltYXRpb25FbmRDYXB0dXJlLFxuICAgICAgICAgICAgb25BbmltYXRpb25JdGVyYXRpb24gPSBfYS5vbkFuaW1hdGlvbkl0ZXJhdGlvbixcbiAgICAgICAgICAgIG9uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZSA9IF9hLm9uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZSxcbiAgICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZCA9IF9hLm9uVHJhbnNpdGlvbkVuZCxcbiAgICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZENhcHR1cmUgPSBfYS5vblRyYW5zaXRpb25FbmRDYXB0dXJlLFxuICAgICAgICAgICAga2V5ID0gX2Eua2V5LFxuICAgICAgICAgICAgY2hpbGRyZW5Qcm9wcyA9IF9fcmVzdChfYSwgW1wiYWNjZXB0XCIsIFwiYWNjZXB0Q2hhcnNldFwiLCBcImFjdGlvblwiLCBcImFsbG93RnVsbFNjcmVlblwiLCBcImFsbG93VHJhbnNwYXJlbmN5XCIsIFwiYWx0XCIsIFwiYXN5bmNcIiwgXCJhdXRvQ29tcGxldGVcIiwgXCJhdXRvRm9jdXNcIiwgXCJhdXRvUGxheVwiLCBcImNhcHR1cmVcIiwgXCJjZWxsUGFkZGluZ1wiLCBcImNlbGxTcGFjaW5nXCIsIFwiY2hhclNldFwiLCBcImNoYWxsZW5nZVwiLCBcImNoZWNrZWRcIiwgXCJjaXRlXCIsIFwiY2xhc3NJRFwiLCBcImNvbHNcIiwgXCJjb2xTcGFuXCIsIFwiY29udGVudFwiLCBcImNvbnRyb2xzXCIsIFwiY29vcmRzXCIsIFwiY3Jvc3NPcmlnaW5cIiwgXCJkYXRhXCIsIFwiZGF0ZVRpbWVcIiwgXCJkZWZlclwiLCBcImRpc2FibGVkXCIsIFwiZG93bmxvYWRcIiwgXCJlbmNUeXBlXCIsIFwiZm9ybVwiLCBcImZvcm1BY3Rpb25cIiwgXCJmb3JtRW5jVHlwZVwiLCBcImZvcm1NZXRob2RcIiwgXCJmb3JtTm9WYWxpZGF0ZVwiLCBcImZvcm1UYXJnZXRcIiwgXCJmcmFtZUJvcmRlclwiLCBcImhlYWRlcnNcIiwgXCJoZWlnaHRcIiwgXCJoaWdoXCIsIFwiaHJlZlwiLCBcImhyZWZMYW5nXCIsIFwiaHRtbEZvclwiLCBcImh0dHBFcXVpdlwiLCBcImludGVncml0eVwiLCBcImtleVBhcmFtc1wiLCBcImtleVR5cGVcIiwgXCJraW5kXCIsIFwibGFiZWxcIiwgXCJsaXN0XCIsIFwibG9vcFwiLCBcImxvd1wiLCBcIm1hbmlmZXN0XCIsIFwibWFyZ2luSGVpZ2h0XCIsIFwibWFyZ2luV2lkdGhcIiwgXCJtYXhcIiwgXCJtYXhMZW5ndGhcIiwgXCJtZWRpYVwiLCBcIm1lZGlhR3JvdXBcIiwgXCJtZXRob2RcIiwgXCJtaW5cIiwgXCJtaW5MZW5ndGhcIiwgXCJtdWx0aXBsZVwiLCBcIm11dGVkXCIsIFwibmFtZVwiLCBcIm5vbmNlXCIsIFwibm9WYWxpZGF0ZVwiLCBcIm9wZW5cIiwgXCJvcHRpbXVtXCIsIFwicGF0dGVyblwiLCBcInBsYWNlaG9sZGVyXCIsIFwicGxheXNJbmxpbmVcIiwgXCJwb3N0ZXJcIiwgXCJwcmVsb2FkXCIsIFwicmVhZE9ubHlcIiwgXCJyZWxcIiwgXCJyZXF1aXJlZFwiLCBcInJldmVyc2VkXCIsIFwicm93c1wiLCBcInJvd1NwYW5cIiwgXCJzYW5kYm94XCIsIFwic2NvcGVcIiwgXCJzY29wZWRcIiwgXCJzY3JvbGxpbmdcIiwgXCJzZWFtbGVzc1wiLCBcInNlbGVjdGVkXCIsIFwic2hhcGVcIiwgXCJzaXplXCIsIFwic2l6ZXNcIiwgXCJzcGFuXCIsIFwic3JjXCIsIFwic3JjRG9jXCIsIFwic3JjTGFuZ1wiLCBcInNyY1NldFwiLCBcInN0YXJ0XCIsIFwic3RlcFwiLCBcInN1bW1hcnlcIiwgXCJ0YXJnZXRcIiwgXCJ0eXBlXCIsIFwidXNlTWFwXCIsIFwidmFsdWVcIiwgXCJ3aWR0aFwiLCBcIndtb2RlXCIsIFwid3JhcFwiLCBcImRlZmF1bHRDaGVja2VkXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIsIFwiYWNjZXNzS2V5XCIsIFwiY29udGVudEVkaXRhYmxlXCIsIFwiY29udGV4dE1lbnVcIiwgXCJkaXJcIiwgXCJkcmFnZ2FibGVcIiwgXCJoaWRkZW5cIiwgXCJpZFwiLCBcImxhbmdcIiwgXCJzcGVsbENoZWNrXCIsIFwic3R5bGVcIiwgXCJ0YWJJbmRleFwiLCBcInRpdGxlXCIsIFwiaW5wdXRNb2RlXCIsIFwiaXNcIiwgXCJyYWRpb0dyb3VwXCIsIFwicm9sZVwiLCBcImFib3V0XCIsIFwiZGF0YXR5cGVcIiwgXCJpbmxpc3RcIiwgXCJwcmVmaXhcIiwgXCJwcm9wZXJ0eVwiLCBcInJlc291cmNlXCIsIFwidm9jYWJcIiwgXCJhdXRvQ2FwaXRhbGl6ZVwiLCBcImF1dG9Db3JyZWN0XCIsIFwiYXV0b1NhdmVcIiwgXCJjb2xvclwiLCBcIml0ZW1Qcm9wXCIsIFwiaXRlbVNjb3BlXCIsIFwiaXRlbVR5cGVcIiwgXCJpdGVtSURcIiwgXCJpdGVtUmVmXCIsIFwicmVzdWx0c1wiLCBcInNlY3VyaXR5XCIsIFwidW5zZWxlY3RhYmxlXCIsIFwiY2hpbGRyZW5cIiwgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiLCBcIm9uQ29weVwiLCBcIm9uQ29weUNhcHR1cmVcIiwgXCJvbkN1dFwiLCBcIm9uQ3V0Q2FwdHVyZVwiLCBcIm9uUGFzdGVcIiwgXCJvblBhc3RlQ2FwdHVyZVwiLCBcIm9uQ29tcG9zaXRpb25FbmRcIiwgXCJvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZVwiLCBcIm9uQ29tcG9zaXRpb25TdGFydFwiLCBcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIiwgXCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsIFwib25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmVcIiwgXCJvbkZvY3VzXCIsIFwib25Gb2N1c0NhcHR1cmVcIiwgXCJvbkJsdXJcIiwgXCJvbkJsdXJDYXB0dXJlXCIsIFwib25DaGFuZ2VcIiwgXCJvbkNoYW5nZUNhcHR1cmVcIiwgXCJvbklucHV0XCIsIFwib25JbnB1dENhcHR1cmVcIiwgXCJvblJlc2V0XCIsIFwib25SZXNldENhcHR1cmVcIiwgXCJvblN1Ym1pdFwiLCBcIm9uU3VibWl0Q2FwdHVyZVwiLCBcIm9uSW52YWxpZFwiLCBcIm9uSW52YWxpZENhcHR1cmVcIiwgXCJvbkxvYWRcIiwgXCJvbkxvYWRDYXB0dXJlXCIsIFwib25FcnJvclwiLCBcIm9uRXJyb3JDYXB0dXJlXCIsIFwib25LZXlEb3duXCIsIFwib25LZXlEb3duQ2FwdHVyZVwiLCBcIm9uS2V5UHJlc3NcIiwgXCJvbktleVByZXNzQ2FwdHVyZVwiLCBcIm9uS2V5VXBcIiwgXCJvbktleVVwQ2FwdHVyZVwiLCBcIm9uQWJvcnRcIiwgXCJvbkFib3J0Q2FwdHVyZVwiLCBcIm9uQ2FuUGxheVwiLCBcIm9uQ2FuUGxheUNhcHR1cmVcIiwgXCJvbkNhblBsYXlUaHJvdWdoXCIsIFwib25DYW5QbGF5VGhyb3VnaENhcHR1cmVcIiwgXCJvbkR1cmF0aW9uQ2hhbmdlXCIsIFwib25EdXJhdGlvbkNoYW5nZUNhcHR1cmVcIiwgXCJvbkVtcHRpZWRcIiwgXCJvbkVtcHRpZWRDYXB0dXJlXCIsIFwib25FbmNyeXB0ZWRcIiwgXCJvbkVuY3J5cHRlZENhcHR1cmVcIiwgXCJvbkVuZGVkXCIsIFwib25FbmRlZENhcHR1cmVcIiwgXCJvbkxvYWRlZERhdGFcIiwgXCJvbkxvYWRlZERhdGFDYXB0dXJlXCIsIFwib25Mb2FkZWRNZXRhZGF0YVwiLCBcIm9uTG9hZGVkTWV0YWRhdGFDYXB0dXJlXCIsIFwib25Mb2FkU3RhcnRcIiwgXCJvbkxvYWRTdGFydENhcHR1cmVcIiwgXCJvblBhdXNlXCIsIFwib25QYXVzZUNhcHR1cmVcIiwgXCJvblBsYXlcIiwgXCJvblBsYXlDYXB0dXJlXCIsIFwib25QbGF5aW5nXCIsIFwib25QbGF5aW5nQ2FwdHVyZVwiLCBcIm9uUHJvZ3Jlc3NcIiwgXCJvblByb2dyZXNzQ2FwdHVyZVwiLCBcIm9uUmF0ZUNoYW5nZVwiLCBcIm9uUmF0ZUNoYW5nZUNhcHR1cmVcIiwgXCJvblNlZWtlZFwiLCBcIm9uU2Vla2VkQ2FwdHVyZVwiLCBcIm9uU2Vla2luZ1wiLCBcIm9uU2Vla2luZ0NhcHR1cmVcIiwgXCJvblN0YWxsZWRcIiwgXCJvblN0YWxsZWRDYXB0dXJlXCIsIFwib25TdXNwZW5kXCIsIFwib25TdXNwZW5kQ2FwdHVyZVwiLCBcIm9uVGltZVVwZGF0ZVwiLCBcIm9uVGltZVVwZGF0ZUNhcHR1cmVcIiwgXCJvblZvbHVtZUNoYW5nZVwiLCBcIm9uVm9sdW1lQ2hhbmdlQ2FwdHVyZVwiLCBcIm9uV2FpdGluZ1wiLCBcIm9uV2FpdGluZ0NhcHR1cmVcIiwgXCJvbkNsaWNrXCIsIFwib25DbGlja0NhcHR1cmVcIiwgXCJvbkNvbnRleHRNZW51XCIsIFwib25Db250ZXh0TWVudUNhcHR1cmVcIiwgXCJvbkRvdWJsZUNsaWNrXCIsIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIiwgXCJvbkRyYWdcIiwgXCJvbkRyYWdDYXB0dXJlXCIsIFwib25EcmFnRW5kXCIsIFwib25EcmFnRW5kQ2FwdHVyZVwiLCBcIm9uRHJhZ0VudGVyXCIsIFwib25EcmFnRW50ZXJDYXB0dXJlXCIsIFwib25EcmFnRXhpdFwiLCBcIm9uRHJhZ0V4aXRDYXB0dXJlXCIsIFwib25EcmFnTGVhdmVcIiwgXCJvbkRyYWdMZWF2ZUNhcHR1cmVcIiwgXCJvbkRyYWdPdmVyXCIsIFwib25EcmFnT3ZlckNhcHR1cmVcIiwgXCJvbkRyYWdTdGFydFwiLCBcIm9uRHJhZ1N0YXJ0Q2FwdHVyZVwiLCBcIm9uRHJvcFwiLCBcIm9uRHJvcENhcHR1cmVcIiwgXCJvbk1vdXNlRG93blwiLCBcIm9uTW91c2VEb3duQ2FwdHVyZVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiLCBcIm9uTW91c2VNb3ZlXCIsIFwib25Nb3VzZU1vdmVDYXB0dXJlXCIsIFwib25Nb3VzZU91dFwiLCBcIm9uTW91c2VPdXRDYXB0dXJlXCIsIFwib25Nb3VzZU92ZXJcIiwgXCJvbk1vdXNlT3ZlckNhcHR1cmVcIiwgXCJvbk1vdXNlVXBcIiwgXCJvbk1vdXNlVXBDYXB0dXJlXCIsIFwib25TZWxlY3RcIiwgXCJvblNlbGVjdENhcHR1cmVcIiwgXCJvblRvdWNoQ2FuY2VsXCIsIFwib25Ub3VjaENhbmNlbENhcHR1cmVcIiwgXCJvblRvdWNoRW5kXCIsIFwib25Ub3VjaEVuZENhcHR1cmVcIiwgXCJvblRvdWNoTW92ZVwiLCBcIm9uVG91Y2hNb3ZlQ2FwdHVyZVwiLCBcIm9uVG91Y2hTdGFydFwiLCBcIm9uVG91Y2hTdGFydENhcHR1cmVcIiwgXCJvblNjcm9sbFwiLCBcIm9uU2Nyb2xsQ2FwdHVyZVwiLCBcIm9uV2hlZWxcIiwgXCJvbldoZWVsQ2FwdHVyZVwiLCBcIm9uQW5pbWF0aW9uU3RhcnRcIiwgXCJvbkFuaW1hdGlvblN0YXJ0Q2FwdHVyZVwiLCBcIm9uQW5pbWF0aW9uRW5kXCIsIFwib25BbmltYXRpb25FbmRDYXB0dXJlXCIsIFwib25BbmltYXRpb25JdGVyYXRpb25cIiwgXCJvbkFuaW1hdGlvbkl0ZXJhdGlvbkNhcHR1cmVcIiwgXCJvblRyYW5zaXRpb25FbmRcIiwgXCJvblRyYW5zaXRpb25FbmRDYXB0dXJlXCIsIFwia2V5XCJdKTtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgPyBcIm5hdmlnYWJsZUNvbnRhaW5lciBcIiArIGNsYXNzTmFtZSA6IFwibmF2aWdhYmxlQ29udGFpbmVyXCI7XG4gICAgICAgIGNsYXNzTmFtZSA9IFwiZmlsbFBhcmVudCBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgdmFyIGRpdlByb3BzID0geyBhY2NlcHQ6IGFjY2VwdCwgYWNjZXB0Q2hhcnNldDogYWNjZXB0Q2hhcnNldCwgYWN0aW9uOiBhY3Rpb24sIGFsbG93RnVsbFNjcmVlbjogYWxsb3dGdWxsU2NyZWVuLCBhbGxvd1RyYW5zcGFyZW5jeTogYWxsb3dUcmFuc3BhcmVuY3ksIGFsdDogYWx0LCBhc3luYzogYXN5bmMsIGF1dG9Db21wbGV0ZTogYXV0b0NvbXBsZXRlLCBhdXRvRm9jdXM6IGF1dG9Gb2N1cywgYXV0b1BsYXk6IGF1dG9QbGF5LCBjYXB0dXJlOiBjYXB0dXJlLCBjZWxsUGFkZGluZzogY2VsbFBhZGRpbmcsIGNlbGxTcGFjaW5nOiBjZWxsU3BhY2luZywgY2hhclNldDogY2hhclNldCwgY2hhbGxlbmdlOiBjaGFsbGVuZ2UsIGNoZWNrZWQ6IGNoZWNrZWQsIGNpdGU6IGNpdGUsIGNsYXNzSUQ6IGNsYXNzSUQsIGNvbHM6IGNvbHMsIGNvbFNwYW46IGNvbFNwYW4sIGNvbnRlbnQ6IGNvbnRlbnQsIGNvbnRyb2xzOiBjb250cm9scywgY29vcmRzOiBjb29yZHMsIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbiwgZGF0YTogZGF0YSwgZGF0ZVRpbWU6IGRhdGVUaW1lLCBkZWZlcjogZGVmZXIsIGRpc2FibGVkOiBkaXNhYmxlZCwgZG93bmxvYWQ6IGRvd25sb2FkLCBlbmNUeXBlOiBlbmNUeXBlLCBmb3JtOiBmb3JtLCBmb3JtQWN0aW9uOiBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZTogZm9ybUVuY1R5cGUsIGZvcm1NZXRob2Q6IGZvcm1NZXRob2QsIGZvcm1Ob1ZhbGlkYXRlOiBmb3JtTm9WYWxpZGF0ZSwgZm9ybVRhcmdldDogZm9ybVRhcmdldCwgZnJhbWVCb3JkZXI6IGZyYW1lQm9yZGVyLCBoZWFkZXJzOiBoZWFkZXJzLCBoZWlnaHQ6IGhlaWdodCwgaGlnaDogaGlnaCwgaHJlZjogaHJlZiwgaHJlZkxhbmc6IGhyZWZMYW5nLCBodG1sRm9yOiBodG1sRm9yLCBodHRwRXF1aXY6IGh0dHBFcXVpdiwgaW50ZWdyaXR5OiBpbnRlZ3JpdHksIGtleVBhcmFtczoga2V5UGFyYW1zLCBrZXlUeXBlOiBrZXlUeXBlLCBraW5kOiBraW5kLCBsYWJlbDogbGFiZWwsIGxpc3Q6IGxpc3QsIGxvb3A6IGxvb3AsIGxvdzogbG93LCBtYW5pZmVzdDogbWFuaWZlc3QsIG1hcmdpbkhlaWdodDogbWFyZ2luSGVpZ2h0LCBtYXJnaW5XaWR0aDogbWFyZ2luV2lkdGgsIG1heDogbWF4LCBtYXhMZW5ndGg6IG1heExlbmd0aCwgbWVkaWE6IG1lZGlhLCBtZWRpYUdyb3VwOiBtZWRpYUdyb3VwLCBtZXRob2Q6IG1ldGhvZCwgbWluOiBtaW4sIG1pbkxlbmd0aDogbWluTGVuZ3RoLCBtdWx0aXBsZTogbXVsdGlwbGUsIG11dGVkOiBtdXRlZCwgbmFtZTogbmFtZSwgbm9uY2U6IG5vbmNlLCBub1ZhbGlkYXRlOiBub1ZhbGlkYXRlLCBvcGVuOiBvcGVuLCBvcHRpbXVtOiBvcHRpbXVtLCBwYXR0ZXJuOiBwYXR0ZXJuLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIHBsYXlzSW5saW5lOiBwbGF5c0lubGluZSwgcG9zdGVyOiBwb3N0ZXIsIHByZWxvYWQ6IHByZWxvYWQsIHJlYWRPbmx5OiByZWFkT25seSwgcmVsOiByZWwsIHJlcXVpcmVkOiByZXF1aXJlZCwgcmV2ZXJzZWQ6IHJldmVyc2VkLCByb3dzOiByb3dzLCByb3dTcGFuOiByb3dTcGFuLCBzYW5kYm94OiBzYW5kYm94LCBzY29wZTogc2NvcGUsIHNjb3BlZDogc2NvcGVkLCBzY3JvbGxpbmc6IHNjcm9sbGluZywgc2VhbWxlc3M6IHNlYW1sZXNzLCBzZWxlY3RlZDogc2VsZWN0ZWQsIHNoYXBlOiBzaGFwZSwgc2l6ZTogc2l6ZSwgc2l6ZXM6IHNpemVzLCBzcGFuOiBzcGFuLCBzcmM6IHNyYywgc3JjRG9jOiBzcmNEb2MsIHNyY0xhbmc6IHNyY0xhbmcsIHNyY1NldDogc3JjU2V0LCBzdGFydDogc3RhcnQsIHN0ZXA6IHN0ZXAsIHN1bW1hcnk6IHN1bW1hcnksIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCB1c2VNYXA6IHVzZU1hcCwgdmFsdWU6IHZhbHVlLCB3aWR0aDogd2lkdGgsIHdtb2RlOiB3bW9kZSwgd3JhcDogd3JhcCwgZGVmYXVsdENoZWNrZWQ6IGRlZmF1bHRDaGVja2VkLCBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nOiBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcsIGFjY2Vzc0tleTogYWNjZXNzS2V5LCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgY29udGVudEVkaXRhYmxlOiBjb250ZW50RWRpdGFibGUsIGNvbnRleHRNZW51OiBjb250ZXh0TWVudSwgZGlyOiBkaXIsIGRyYWdnYWJsZTogZHJhZ2dhYmxlLCBoaWRkZW46IGhpZGRlbiwgaWQ6IGlkLCBsYW5nOiBsYW5nLCBzcGVsbENoZWNrOiBzcGVsbENoZWNrLCBzdHlsZTogc3R5bGUsIHRhYkluZGV4OiB0YWJJbmRleCwgdGl0bGU6IHRpdGxlLCBpbnB1dE1vZGU6IGlucHV0TW9kZSwgaXM6IGlzLCByYWRpb0dyb3VwOiByYWRpb0dyb3VwLCByb2xlOiByb2xlLCBhYm91dDogYWJvdXQsIGRhdGF0eXBlOiBkYXRhdHlwZSwgaW5saXN0OiBpbmxpc3QsIHByZWZpeDogcHJlZml4LCBwcm9wZXJ0eTogcHJvcGVydHksIHJlc291cmNlOiByZXNvdXJjZSwgdm9jYWI6IHZvY2FiLCBhdXRvQ2FwaXRhbGl6ZTogYXV0b0NhcGl0YWxpemUsIGF1dG9Db3JyZWN0OiBhdXRvQ29ycmVjdCwgYXV0b1NhdmU6IGF1dG9TYXZlLCBjb2xvcjogY29sb3IsIGl0ZW1Qcm9wOiBpdGVtUHJvcCwgaXRlbVNjb3BlOiBpdGVtU2NvcGUsIGl0ZW1UeXBlOiBpdGVtVHlwZSwgaXRlbUlEOiBpdGVtSUQsIGl0ZW1SZWY6IGl0ZW1SZWYsIHJlc3VsdHM6IHJlc3VsdHMsIHNlY3VyaXR5OiBzZWN1cml0eSwgdW5zZWxlY3RhYmxlOiB1bnNlbGVjdGFibGUsIGNoaWxkcmVuOiBjaGlsZHJlbiwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBvbkNvcHk6IG9uQ29weSwgb25Db3B5Q2FwdHVyZTogb25Db3B5Q2FwdHVyZSwgb25DdXQ6IG9uQ3V0LCBvbkN1dENhcHR1cmU6IG9uQ3V0Q2FwdHVyZSwgb25QYXN0ZTogb25QYXN0ZSwgb25QYXN0ZUNhcHR1cmU6IG9uUGFzdGVDYXB0dXJlLCBvbkNvbXBvc2l0aW9uRW5kOiBvbkNvbXBvc2l0aW9uRW5kLCBvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZTogb25Db21wb3NpdGlvbkVuZENhcHR1cmUsIG9uQ29tcG9zaXRpb25TdGFydDogb25Db21wb3NpdGlvblN0YXJ0LCBvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlOiBvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlLCBvbkNvbXBvc2l0aW9uVXBkYXRlOiBvbkNvbXBvc2l0aW9uVXBkYXRlLCBvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZTogb25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUsIG9uRm9jdXM6IG9uRm9jdXMsIG9uRm9jdXNDYXB0dXJlOiBvbkZvY3VzQ2FwdHVyZSwgb25CbHVyOiBvbkJsdXIsIG9uQmx1ckNhcHR1cmU6IG9uQmx1ckNhcHR1cmUsIG9uQ2hhbmdlOiBvbkNoYW5nZSwgb25DaGFuZ2VDYXB0dXJlOiBvbkNoYW5nZUNhcHR1cmUsIG9uSW5wdXQ6IG9uSW5wdXQsIG9uSW5wdXRDYXB0dXJlOiBvbklucHV0Q2FwdHVyZSwgb25SZXNldDogb25SZXNldCwgb25SZXNldENhcHR1cmU6IG9uUmVzZXRDYXB0dXJlLCBvblN1Ym1pdDogb25TdWJtaXQsIG9uU3VibWl0Q2FwdHVyZTogb25TdWJtaXRDYXB0dXJlLCBvbkludmFsaWQ6IG9uSW52YWxpZCwgb25JbnZhbGlkQ2FwdHVyZTogb25JbnZhbGlkQ2FwdHVyZSwgb25Mb2FkOiBvbkxvYWQsIG9uTG9hZENhcHR1cmU6IG9uTG9hZENhcHR1cmUsIG9uRXJyb3I6IG9uRXJyb3IsIG9uRXJyb3JDYXB0dXJlOiBvbkVycm9yQ2FwdHVyZSwgb25LZXlEb3duOiBvbktleURvd24sIG9uS2V5RG93bkNhcHR1cmU6IG9uS2V5RG93bkNhcHR1cmUsIG9uS2V5UHJlc3M6IG9uS2V5UHJlc3MsIG9uS2V5UHJlc3NDYXB0dXJlOiBvbktleVByZXNzQ2FwdHVyZSwgb25LZXlVcDogb25LZXlVcCwgb25LZXlVcENhcHR1cmU6IG9uS2V5VXBDYXB0dXJlLCBvbkFib3J0OiBvbkFib3J0LCBvbkFib3J0Q2FwdHVyZTogb25BYm9ydENhcHR1cmUsIG9uQ2FuUGxheTogb25DYW5QbGF5LCBvbkNhblBsYXlDYXB0dXJlOiBvbkNhblBsYXlDYXB0dXJlLCBvbkNhblBsYXlUaHJvdWdoOiBvbkNhblBsYXlUaHJvdWdoLCBvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZTogb25DYW5QbGF5VGhyb3VnaENhcHR1cmUsIG9uRHVyYXRpb25DaGFuZ2U6IG9uRHVyYXRpb25DaGFuZ2UsIG9uRHVyYXRpb25DaGFuZ2VDYXB0dXJlOiBvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZSwgb25FbXB0aWVkOiBvbkVtcHRpZWQsIG9uRW1wdGllZENhcHR1cmU6IG9uRW1wdGllZENhcHR1cmUsIG9uRW5jcnlwdGVkOiBvbkVuY3J5cHRlZCwgb25FbmNyeXB0ZWRDYXB0dXJlOiBvbkVuY3J5cHRlZENhcHR1cmUsIG9uRW5kZWQ6IG9uRW5kZWQsIG9uRW5kZWRDYXB0dXJlOiBvbkVuZGVkQ2FwdHVyZSwgb25Mb2FkZWREYXRhOiBvbkxvYWRlZERhdGEsIG9uTG9hZGVkRGF0YUNhcHR1cmU6IG9uTG9hZGVkRGF0YUNhcHR1cmUsIG9uTG9hZGVkTWV0YWRhdGE6IG9uTG9hZGVkTWV0YWRhdGEsIG9uTG9hZGVkTWV0YWRhdGFDYXB0dXJlOiBvbkxvYWRlZE1ldGFkYXRhQ2FwdHVyZSwgb25Mb2FkU3RhcnQ6IG9uTG9hZFN0YXJ0LCBvbkxvYWRTdGFydENhcHR1cmU6IG9uTG9hZFN0YXJ0Q2FwdHVyZSwgb25QYXVzZTogb25QYXVzZSwgb25QYXVzZUNhcHR1cmU6IG9uUGF1c2VDYXB0dXJlLCBvblBsYXk6IG9uUGxheSwgb25QbGF5Q2FwdHVyZTogb25QbGF5Q2FwdHVyZSwgb25QbGF5aW5nOiBvblBsYXlpbmcsIG9uUGxheWluZ0NhcHR1cmU6IG9uUGxheWluZ0NhcHR1cmUsIG9uUHJvZ3Jlc3M6IG9uUHJvZ3Jlc3MsIG9uUHJvZ3Jlc3NDYXB0dXJlOiBvblByb2dyZXNzQ2FwdHVyZSwgb25SYXRlQ2hhbmdlOiBvblJhdGVDaGFuZ2UsIG9uUmF0ZUNoYW5nZUNhcHR1cmU6IG9uUmF0ZUNoYW5nZUNhcHR1cmUsIG9uU2Vla2VkOiBvblNlZWtlZCwgb25TZWVrZWRDYXB0dXJlOiBvblNlZWtlZENhcHR1cmUsIG9uU2Vla2luZzogb25TZWVraW5nLCBvblNlZWtpbmdDYXB0dXJlOiBvblNlZWtpbmdDYXB0dXJlLCBvblN0YWxsZWQ6IG9uU3RhbGxlZCwgb25TdGFsbGVkQ2FwdHVyZTogb25TdGFsbGVkQ2FwdHVyZSwgb25TdXNwZW5kOiBvblN1c3BlbmQsIG9uU3VzcGVuZENhcHR1cmU6IG9uU3VzcGVuZENhcHR1cmUsIG9uVGltZVVwZGF0ZTogb25UaW1lVXBkYXRlLCBvblRpbWVVcGRhdGVDYXB0dXJlOiBvblRpbWVVcGRhdGVDYXB0dXJlLCBvblZvbHVtZUNoYW5nZTogb25Wb2x1bWVDaGFuZ2UsIG9uVm9sdW1lQ2hhbmdlQ2FwdHVyZTogb25Wb2x1bWVDaGFuZ2VDYXB0dXJlLCBvbldhaXRpbmc6IG9uV2FpdGluZywgb25XYWl0aW5nQ2FwdHVyZTogb25XYWl0aW5nQ2FwdHVyZSwgb25DbGljazogb25DbGljaywgb25DbGlja0NhcHR1cmU6IG9uQ2xpY2tDYXB0dXJlLCBvbkNvbnRleHRNZW51OiBvbkNvbnRleHRNZW51LCBvbkNvbnRleHRNZW51Q2FwdHVyZTogb25Db250ZXh0TWVudUNhcHR1cmUsIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2ssIG9uRG91YmxlQ2xpY2tDYXB0dXJlOiBvbkRvdWJsZUNsaWNrQ2FwdHVyZSwgb25EcmFnOiBvbkRyYWcsIG9uRHJhZ0NhcHR1cmU6IG9uRHJhZ0NhcHR1cmUsIG9uRHJhZ0VuZDogb25EcmFnRW5kLCBvbkRyYWdFbmRDYXB0dXJlOiBvbkRyYWdFbmRDYXB0dXJlLCBvbkRyYWdFbnRlcjogb25EcmFnRW50ZXIsIG9uRHJhZ0VudGVyQ2FwdHVyZTogb25EcmFnRW50ZXJDYXB0dXJlLCBvbkRyYWdFeGl0OiBvbkRyYWdFeGl0LCBvbkRyYWdFeGl0Q2FwdHVyZTogb25EcmFnRXhpdENhcHR1cmUsIG9uRHJhZ0xlYXZlOiBvbkRyYWdMZWF2ZSwgb25EcmFnTGVhdmVDYXB0dXJlOiBvbkRyYWdMZWF2ZUNhcHR1cmUsIG9uRHJhZ092ZXI6IG9uRHJhZ092ZXIsIG9uRHJhZ092ZXJDYXB0dXJlOiBvbkRyYWdPdmVyQ2FwdHVyZSwgb25EcmFnU3RhcnQ6IG9uRHJhZ1N0YXJ0LCBvbkRyYWdTdGFydENhcHR1cmU6IG9uRHJhZ1N0YXJ0Q2FwdHVyZSwgb25Ecm9wOiBvbkRyb3AsIG9uRHJvcENhcHR1cmU6IG9uRHJvcENhcHR1cmUsIG9uTW91c2VEb3duOiBvbk1vdXNlRG93biwgb25Nb3VzZURvd25DYXB0dXJlOiBvbk1vdXNlRG93bkNhcHR1cmUsIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSwgb25Nb3VzZU1vdmU6IG9uTW91c2VNb3ZlLCBvbk1vdXNlTW92ZUNhcHR1cmU6IG9uTW91c2VNb3ZlQ2FwdHVyZSwgb25Nb3VzZU91dDogb25Nb3VzZU91dCwgb25Nb3VzZU91dENhcHR1cmU6IG9uTW91c2VPdXRDYXB0dXJlLCBvbk1vdXNlT3Zlcjogb25Nb3VzZU92ZXIsIG9uTW91c2VPdmVyQ2FwdHVyZTogb25Nb3VzZU92ZXJDYXB0dXJlLCBvbk1vdXNlVXA6IG9uTW91c2VVcCwgb25Nb3VzZVVwQ2FwdHVyZTogb25Nb3VzZVVwQ2FwdHVyZSwgb25TZWxlY3Q6IG9uU2VsZWN0LCBvblNlbGVjdENhcHR1cmU6IG9uU2VsZWN0Q2FwdHVyZSwgb25Ub3VjaENhbmNlbDogb25Ub3VjaENhbmNlbCwgb25Ub3VjaENhbmNlbENhcHR1cmU6IG9uVG91Y2hDYW5jZWxDYXB0dXJlLCBvblRvdWNoRW5kOiBvblRvdWNoRW5kLCBvblRvdWNoRW5kQ2FwdHVyZTogb25Ub3VjaEVuZENhcHR1cmUsIG9uVG91Y2hNb3ZlOiBvblRvdWNoTW92ZSwgb25Ub3VjaE1vdmVDYXB0dXJlOiBvblRvdWNoTW92ZUNhcHR1cmUsIG9uVG91Y2hTdGFydDogb25Ub3VjaFN0YXJ0LCBvblRvdWNoU3RhcnRDYXB0dXJlOiBvblRvdWNoU3RhcnRDYXB0dXJlLCBvblNjcm9sbDogb25TY3JvbGwsIG9uU2Nyb2xsQ2FwdHVyZTogb25TY3JvbGxDYXB0dXJlLCBvbldoZWVsOiBvbldoZWVsLCBvbldoZWVsQ2FwdHVyZTogb25XaGVlbENhcHR1cmUsIG9uQW5pbWF0aW9uU3RhcnQ6IG9uQW5pbWF0aW9uU3RhcnQsIG9uQW5pbWF0aW9uU3RhcnRDYXB0dXJlOiBvbkFuaW1hdGlvblN0YXJ0Q2FwdHVyZSwgb25BbmltYXRpb25FbmQ6IG9uQW5pbWF0aW9uRW5kLCBvbkFuaW1hdGlvbkVuZENhcHR1cmU6IG9uQW5pbWF0aW9uRW5kQ2FwdHVyZSwgb25BbmltYXRpb25JdGVyYXRpb246IG9uQW5pbWF0aW9uSXRlcmF0aW9uLCBvbkFuaW1hdGlvbkl0ZXJhdGlvbkNhcHR1cmU6IG9uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZSwgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmQsIG9uVHJhbnNpdGlvbkVuZENhcHR1cmU6IG9uVHJhbnNpdGlvbkVuZENhcHR1cmUsIGtleToga2V5IH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBkaXZQcm9wcyksIHRoaXMucHJvcHMuY2hpbGRyZW4gPyB0aGlzLnJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbikgOiBudWxsKTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250YWluZXJDbGFzcy5wcm90b3R5cGUucmVjdXJzaXZlQ2xvbmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wcm9wYWdhdGVQYXJlbnQgPyBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkKSByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IF9fYXNzaWduKHt9LCBjaGlsZC5wcm9wcyk7XG4gICAgICAgICAgICB2YXIgZm91bmROYXYgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wcm9wcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgJiYgY2hpbGRQcm9wcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFByb3BzID0gX19hc3NpZ24oe30sIGNoaWxkUHJvcHMsIHsgcGFyZW50OiBfdGhpcyB9KTtcbiAgICAgICAgICAgICAgICBmb3VuZE5hdiA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmICghZm91bmROYXYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRQcm9wcy5jaGlsZHJlbiA9IF90aGlzLnJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4oY2hpbGQucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIF9fYXNzaWduKHt9LCBjaGlsZFByb3BzKSk7XG4gICAgICAgIH0pIDogY2hpbGRyZW47XG4gICAgfTtcbiAgICByZXR1cm4gTmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzO1xufShSZWFjdC5Db21wb25lbnQpO1xuTmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcm9wYWdhdGVQYXJlbnQ6IGZhbHNlXG59O1xuZXhwb3J0cy5OYXZpZ2F0aW9uQ29udGFpbmVyID0gSE9DXzEubmF2aWdhYmxlKE5hdmlnYXRpb25Db250YWluZXJDbGFzcyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciByZWR1eF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG52YXIgcmVhY3RfcmVkdXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIENvbXBvbmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIEFjdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIEhPQ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgQ29udGFpbmVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG5leHBvcnRzLmNhcmREZXRhaWxJbml0aWFsU3RhdGUgPSB7XG4gICAgc3RhdHVzOiBcIkxPQURJTkdcIlxufTtcbnZhciBDYXJkRGV0YWlsQ2xhc3MgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhcmREZXRhaWxDbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYXJkRGV0YWlsQ2xhc3MocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNhcmRNb2R1bGVzID0gW107XG4gICAgICAgIF90aGlzLnN0YXRlID0gZXhwb3J0cy5jYXJkRGV0YWlsSW5pdGlhbFN0YXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhcmREZXRhaWxDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkRGV0YWlsIGZpbGxQYXJlbnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJvdHRvbUNvbnRhaW5lclRvcEJ1dHRvbnNcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmREZXRhaWxCdG5cIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5OYXZpZ2F0aW9uQ29udGFpbmVyLCB7IGtleTogXCJjYXJvdXNlbENsb3NlXCIsIGNsYXNzTmFtZTogXCJiY3RCdXR0b24gY2xvc2VcIiwgcGFyZW50OiB0aGlzLCBjbGlja0FjdGlvbjogZnVuY3Rpb24gY2xpY2tBY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9LCBjb2x1bW5zOiAxIH0pKSksIHRoaXMucHJvcHMuY2FyZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyc18xLk5hdmlnYWJsZUNhcmRNb2R1bGVMaXN0LCB7IGlzRGVmYXVsdDogdHJ1ZSwgcGFyZW50OiB0aGlzLCBjb2x1bW5zOiAxLCBjYXJkOiB0aGlzLnByb3BzLmNhcmQsIGZvcmNlRmlyc3Q6IHRydWUgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5Mb2FkaW5nLCBudWxsKSk7XG4gICAgfTtcbiAgICBDYXJkRGV0YWlsQ2xhc3MucHJvdG90eXBlLmNsb3NlQWxsQ2FyZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ0xPU0UgQUxMIENBUkRTXCIpO1xuICAgICAgICB0aGlzLnByb3BzLnVpQWN0aW9ucy5vcGVuU3luYygpO1xuICAgIH07XG4gICAgQ2FyZERldGFpbENsYXNzLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNhcmQgJiYgdGhpcy5zdGF0ZS5zdGF0dXMgIT09IFwiRE9ORVwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKF9fYXNzaWduKHt9LCB0aGlzLnN0YXRlLCB7IHN0YXR1czogXCJET05FXCIgfSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYXJkRGV0YWlsQ2xhc3MucHJvdG90eXBlLmFkZFRvQXJyYXlJZkV4aXN0cyA9IGZ1bmN0aW9uICh0YXJnZXRBcnJheSwgY2FuZGlkYXRlKSB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgIHRhcmdldEFycmF5LnB1c2goY2FuZGlkYXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhcmREZXRhaWxDbGFzcztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5leHBvcnRzLkNhcmREZXRhaWxDbGFzcyA9IENhcmREZXRhaWxDbGFzcztcbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1aUFjdGlvbnM6IHJlZHV4XzEuYmluZEFjdGlvbkNyZWF0b3JzKEFjdGlvbnNfMS5VSUFjdGlvbnMsIGRpc3BhdGNoKVxuICAgIH07XG59O1xudmFyIG1lcmdlUHJvcHMgPSBmdW5jdGlvbiBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZVByb3BzLCBvd25Qcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG59O1xuZXhwb3J0cy5DYXJkRGV0YWlsID0gSE9DXzEubmF2aWdhYmxlKHJlYWN0X3JlZHV4XzEuY29ubmVjdCh1bmRlZmluZWQsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykoQ2FyZERldGFpbENsYXNzKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgU2VydmljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xudmFyIENhcmRBbmRDYXRlZ29yeSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FyZEFuZENhdGVnb3J5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhcmRBbmRDYXRlZ29yeSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBDYXJkQW5kQ2F0ZWdvcnkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhcmQgPSB0aGlzLnByb3BzLmNhcmQ7XG4gICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICB2YXIgc2hvd0ltYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2FyZC5pbWFnZSAmJiBjYXJkLmltYWdlLnRodW1iKSB7XG4gICAgICAgICAgICAgICAgc2hvd0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaG93SWNvbiA9ICFzaG93SW1hZ2U7XG4gICAgICAgICAgICB2YXIgc2hvd1RpdGxlID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc2hvd1N1YnRpdGxlID0gZmFsc2U7XG4gICAgICAgICAgICBzd2l0Y2ggKGNhcmQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ29zdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc29uZyc6XG4gICAgICAgICAgICAgICAgICAgIHNob3dJbWFnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzaG93SWNvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUaXRsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNob3dTdWJ0aXRsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3F1b3RlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdyZWZlcmVuY2UnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyaXZpYSc6XG4gICAgICAgICAgICAgICAgICAgIHNob3dJbWFnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzaG93SWNvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzaG93VGl0bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IFNlcnZpY2VzXzEuTG9jYWxpemUoXCJDQVJPVVNFTF9BTElBU19cIiArIGNhcmQudHlwZS50b1VwcGVyQ2FzZSgpKSB8fCBjYXJkLnR5cGU7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkQW5kQ2F0ZWdvcnlcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImltYWdlIFwiICsgY2FyZC50eXBlLCBzdHlsZTogc2hvd0ltYWdlID8ge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiICsgY2FyZC5pbWFnZS50aHVtYiArIFwiKVwiLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IGNhcmQuaW1hZ2UuYW5jaG9yX3ggKyBcIiUgXCIgKyBjYXJkLmltYWdlLmFuY2hvcl95ICsgXCIlXCJcbiAgICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkIH0sIHNob3dJY29uID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpY29uXCIgfSkgOiBudWxsLCBzaG93VGl0bGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRpdGxlXCIgfSwgY2FyZC50aXRsZSkgOiBudWxsLCBzaG93U3VidGl0bGUgJiYgIXNob3dJY29uID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdWJ0aXRsZVwiIH0sIGNhcmQuc3VidGl0bGUpIDogbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2F0ZWdvcnlcIiB9LCBjYXRlZ29yeSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQ2FyZEFuZENhdGVnb3J5LmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY2FyZDogbnVsbFxuICAgIH07XG4gICAgcmV0dXJuIENhcmRBbmRDYXRlZ29yeTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5leHBvcnRzLkNhcmRBbmRDYXRlZ29yeSA9IENhcmRBbmRDYXRlZ29yeTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYxOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBjbGFzc05hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG52YXIgU2VydmljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xudmFyIENvbXBvbmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIEhPQ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgVmVydGljYWxTY3JvbGxDbGFzcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmVydGljYWxTY3JvbGxDbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWZXJ0aWNhbFNjcm9sbENsYXNzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZG93bkFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbEJveC5zY3JvbGxUb3AgKz0gX3RoaXMuc2Nyb2xsQm94Lm9mZnNldEhlaWdodDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudXBBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxCb3guc2Nyb2xsVG9wIC09IF90aGlzLnNjcm9sbEJveC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmVydGljYWxTY3JvbGxDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnVsbCA9IHRoaXMucHJvcHMuc291cmNlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5zb3VyY2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHJvcHMuc291cmNlLm5hbWUgIT09ICcnO1xuICAgICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgZnVsbDogZnVsbCxcbiAgICAgICAgICAgIHNjcm9sbEJveDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMucHJvcHMuc291cmNlICYmIHRoaXMucHJvcHMuc291cmNlLm5hbWUgPyB0aGlzLnByb3BzLnNvdXJjZS5uYW1lIDogdGhpcy5wcm9wcy5zb3VyY2UgJiYgdGhpcy5wcm9wcy5zb3VyY2UudXJsID8gdGhpcy5wcm9wcy5zb3VyY2UudXJsIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidmVydGljYWxTY3JvbGxcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNjcm9sbEJveFwiLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxCb3ggPSBlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IH0sIHRoaXMucHJvcHMuY2hpbGRyZW4pLCBzb3VyY2UgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNvdXJjZVwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJsYWJlbFwiIH0sIFNlcnZpY2VzXzEuTG9jYWxpemUoJ1NPVVJDRScpLCBcIjogXCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwidGV4dFwiIH0sIHNvdXJjZSkpIDogbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidG5zXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuRGlyZWN0aW9uQnV0dG9uTGlzdCwgeyBwYXJlbnQ6IHRoaXMsIHRlbXBsYXRlOiBcImhvcml6b250YWxcIiwgYnRuczogW3sgZGlyZWN0aW9uOiAndXAnLCBhY3Rpb246IHRoaXMudXBBY3Rpb24gfSwgeyBkaXJlY3Rpb246ICdkb3duJywgYWN0aW9uOiB0aGlzLmRvd25BY3Rpb24gfV0gfSkpKTtcbiAgICB9O1xuICAgIHJldHVybiBWZXJ0aWNhbFNjcm9sbENsYXNzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuVmVydGljYWxTY3JvbGxDbGFzcyA9IFZlcnRpY2FsU2Nyb2xsQ2xhc3M7XG5leHBvcnRzLlZlcnRpY2FsU2Nyb2xsID0gSE9DXzEubmF2aWdhYmxlKFZlcnRpY2FsU2Nyb2xsQ2xhc3MpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjIwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIENvbXBvbmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIEhPQ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgSG9yaXpvbnRhbFNjcm9sbENsYXNzID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIb3Jpem9udGFsU2Nyb2xsQ2xhc3MsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSG9yaXpvbnRhbFNjcm9sbENsYXNzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgX3RoaXMuc2hvd0VsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBfdGhpcy5vZmZzZXQ7IGkgPCBfdGhpcy5wcm9wcy5pdGVtc1Nob3duICsgX3RoaXMub2Zmc2V0ICYmIGkgPCBfdGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKF90aGlzLnByb3BzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmxlZnRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vZmZzZXQgLT0gX3RoaXMucHJvcHMuaXRlbXNTaG93bjtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJpZ2h0QWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub2Zmc2V0ICs9IF90aGlzLnByb3BzLml0ZW1zU2hvd247XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSAmJiBfdGhpcy5vZmZzZXQgKyBfdGhpcy5wcm9wcy5pdGVtc1Nob3duID49IF90aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9mZnNldCA9IF90aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aCAtIF90aGlzLnByb3BzLml0ZW1zU2hvd247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEhvcml6b250YWxTY3JvbGxDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJob3Jpem9udGFsU2Nyb2xsXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzY3JvbGxCb3hcIiwgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsQm94ID0gZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5OYXZpZ2F0aW9uQ29udGFpbmVyLCB7IHBhcmVudDogdGhpcywgcHJvcGFnYXRlUGFyZW50OiB0cnVlLCBjbGFzc05hbWU6IFwic2Nyb2xsQm94Q29udGVudFwiIH0sIHRoaXMuc2hvd0VsZW1lbnRzKCkpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidG5zXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuRGlyZWN0aW9uQnV0dG9uTGlzdCwgeyBwYXJlbnQ6IHRoaXMsIHRlbXBsYXRlOiBcInZlcnRpY2FsXCIsIGJ0bnM6IFt7IGRpcmVjdGlvbjogJ3JpZ2h0JywgYWN0aW9uOiB0aGlzLnJpZ2h0QWN0aW9uIH0sIHsgZGlyZWN0aW9uOiAnbGVmdCcsIGFjdGlvbjogdGhpcy5sZWZ0QWN0aW9uIH1dIH0pKSk7XG4gICAgfTtcbiAgICByZXR1cm4gSG9yaXpvbnRhbFNjcm9sbENsYXNzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuSG9yaXpvbnRhbFNjcm9sbENsYXNzID0gSG9yaXpvbnRhbFNjcm9sbENsYXNzO1xuZXhwb3J0cy5Ib3Jpem9udGFsU2Nyb2xsID0gSE9DXzEubmF2aWdhYmxlKEhvcml6b250YWxTY3JvbGxDbGFzcyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MjE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBEaXJlY3Rpb25CdXR0b25MaXN0Q2xhc3MgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpcmVjdGlvbkJ1dHRvbkxpc3RDbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXJlY3Rpb25CdXR0b25MaXN0Q2xhc3MoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgRGlyZWN0aW9uQnV0dG9uTGlzdENsYXNzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBjbGFzc05hbWU6ICdkaXJlY3Rpb25CdXR0b25MaXN0ICcgKyB0aGlzLnByb3BzLnRlbXBsYXRlIH0sIHRoaXMucHJvcHMuYnRucy5tYXAoZnVuY3Rpb24gKGJ0biwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJidG5cIiwga2V5OiBpIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLkRpcmVjdGlvbkJ1dHRvbiwgeyBkaXJlY3Rpb246IGJ0bi5kaXJlY3Rpb24sIGNsaWNrQWN0aW9uOiBidG4uYWN0aW9uLCBwYXJlbnQ6IF90aGlzLCBjb2x1bW5zOiBfdGhpcy5wcm9wcy50ZW1wbGF0ZSAhPT0gJ3ZlcnRpY2FsJyA/IF90aGlzLnByb3BzLmJ0bnMubGVuZ3RoIDogMSB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBEaXJlY3Rpb25CdXR0b25MaXN0Q2xhc3M7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5EaXJlY3Rpb25CdXR0b25MaXN0Q2xhc3MgPSBEaXJlY3Rpb25CdXR0b25MaXN0Q2xhc3M7XG5leHBvcnRzLkRpcmVjdGlvbkJ1dHRvbkxpc3QgPSBIT0NfMS5uYXZpZ2FibGUoRGlyZWN0aW9uQnV0dG9uTGlzdENsYXNzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYyMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBjbGFzc05hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBEaXJlY3Rpb25CdXR0b25DbGFzcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlyZWN0aW9uQnV0dG9uQ2xhc3MsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGlyZWN0aW9uQnV0dG9uQ2xhc3MoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgRGlyZWN0aW9uQnV0dG9uQ2xhc3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKCdkaXJlY3Rpb25CdXR0b24nLCB0aGlzLnByb3BzLmRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIERpcmVjdGlvbkJ1dHRvbkNsYXNzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuRGlyZWN0aW9uQnV0dG9uQ2xhc3MgPSBEaXJlY3Rpb25CdXR0b25DbGFzcztcbmV4cG9ydHMuRGlyZWN0aW9uQnV0dG9uID0gSE9DXzEubmF2aWdhYmxlKERpcmVjdGlvbkJ1dHRvbkNsYXNzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYyMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBjbGFzc05hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBTZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgTWluaUNhcmRCdXR0b25DbGFzcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWluaUNhcmRCdXR0b25DbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNaW5pQ2FyZEJ1dHRvbkNsYXNzKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1pbmlDYXJkQnV0dG9uQ2xhc3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ01PUkUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1pbmlDYXJkQnV0dG9uIGZpbGxQYXJlbnQgbW9yZVwiLCBvbkNsaWNrOiB0aGlzLnByb3BzLmNsaWNrQWN0aW9uIH0sIFwiK1wiKTtcbiAgICAgICAgICAgIGNhc2UgJ1NBVkUnOlxuICAgICAgICAgICAgICAgIHZhciBjbGFzc2VzQXBwbGllZCA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICAgICBpY29uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaWtlOiB0aGlzLnByb3BzLmxpa2VkID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaWtlZDogdGhpcy5wcm9wcy5saWtlZCA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1pbmlDYXJkQnV0dG9uIGZpbGxQYXJlbnRcIiwgb25DbGljazogdGhpcy5wcm9wcy5jbGlja0FjdGlvbiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogY2xhc3Nlc0FwcGxpZWQgfSksIHRoaXMucHJvcHMubGlrZWQgPyBTZXJ2aWNlc18xLkxvY2FsaXplKCdDQVJPVVNFTF9DQVJEX1NBVkVEJykgOiBTZXJ2aWNlc18xLkxvY2FsaXplKCdDQVJPVVNFTF9DQVJEX1NBVkUnKSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1pbmlDYXJkQnV0dG9uIGZpbGxQYXJlbnRcIiwgb25DbGljazogdGhpcy5wcm9wcy5jbGlja0FjdGlvbiB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1pbmlDYXJkQnV0dG9uQ2xhc3M7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5NaW5pQ2FyZEJ1dHRvbkNsYXNzID0gTWluaUNhcmRCdXR0b25DbGFzcztcbmV4cG9ydHMuTWluaUNhcmRCdXR0b24gPSBIT0NfMS5uYXZpZ2FibGUoTWluaUNhcmRCdXR0b25DbGFzcyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mMiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn07XG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciByZWR1eF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG52YXIgcmVhY3RfcmVkdXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIEhPQ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgQ29tcG9uZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgQWN0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG52YXIgTWluaUNhcmRMaXN0Q2xhc3MgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1pbmlDYXJkTGlzdENsYXNzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1pbmlDYXJkTGlzdENsYXNzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2V0UmVsYXRpb25zID0gZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAgICAgICAgIHZhciByZWxzID0gW107XG4gICAgICAgICAgICB2YXIgbGltaXQgPSAzO1xuICAgICAgICAgICAgaWYgKGNhcmQucmVsYXRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGNhcmQucmVsYXRpb25zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWwgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWwuY29udGVudF90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdob21lX2RlY28nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxTaW5nbGUgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxzLnB1c2guYXBwbHkocmVscywgcmVsU2luZ2xlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbHM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWluaUNhcmRMaXN0Q2xhc3MucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKF90eXBlb2YodGhpcy5wcm9wcy5lbGVtZW50cykgIT09IF90eXBlb2YobmV4dFByb3BzLmVsZW1lbnRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFByb3BzLmVsZW1lbnRzICYmIG5leHRQcm9wcy5lbGVtZW50cy5sZW5ndGggIT09IHRoaXMucHJvcHMuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNaW5pQ2FyZExpc3RDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMud2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZXROb2RlQnlJZCAmJiB0aGlzLnByb3BzLmlkeCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0Tm9kZUJ5SWQodGhpcy5wcm9wcy5pZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5lbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNaW5pQ2FyZExpc3RDbGFzcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRzOiBcIiwgdGhpcy5wcm9wcy5lbGVtZW50cyk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBjbGFzc05hbWU6IFwibWluaUNhcmRMaXN0XCIgfSwgdGhpcy5wcm9wcy5lbGVtZW50cy5tYXAoZnVuY3Rpb24gKHNjZW5lQ2FyZCwgaSwgc2NlbmVDYXJkcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGVsOiBzY2VuZUNhcmQsXG4gICAgICAgICAgICAgICAga2V5OiBzY2VuZUNhcmQuY2FyZF9pZCArICcjJyArIHNjZW5lQ2FyZC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIGNvdW50OiBzY2VuZUNhcmRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhcmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIE1pbmlDYXJkTGlzdENsYXNzLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgZWwgPSBwYXJhbXMuZWwsXG4gICAgICAgICAgICBrZXkgPSBwYXJhbXMua2V5LFxuICAgICAgICAgICAgY291bnQgPSBwYXJhbXMuY291bnQsXG4gICAgICAgICAgICBpbmRleCA9IHBhcmFtcy5pbmRleCxcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmFtcy5wYXJlbnQ7XG4gICAgICAgIHZhciBjYXJkID0gcGFyYW1zLmVsO1xuICAgICAgICB2YXIgcmVsYXRlZENhcmRzID0gdGhpcy5nZXRSZWxhdGlvbnMoY2FyZCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBbUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTWluaUNhcmQsIHsgZm9jdXNDaGFpbkNsYXNzOiBcImNoaWxkRm9jdXNlZFwiLCBhY3RpdmVHcm91cENsYXNzOiBcImFjdGl2ZUdyb3VwXCIsIGdyb3VwTmFtZTogKGVsLmNhcmRfaWQgKyAnJyArIGVsLnZlcnNpb24pLnRvU3RyaW5nKCksIGVsZW1lbnQ6IGNhcmQsIHBhcmVudDogdGhpcywgZm9yY2VGaXJzdDogdHJ1ZSwgZm9yY2VPcmRlcjogaW5kZXgsIGNsaWNrQWN0aW9uTW9yZTogdGhpcy5jbGlja0FjdGlvbk1vcmUuYmluZCh0aGlzKShjYXJkKSwgY2xpY2tBY3Rpb25MaWtlOiB0aGlzLmNsaWNrQWN0aW9uTGlrZS5iaW5kKHRoaXMpKGNhcmQpLCBvbkZvY3VzQ2FsbGJhY2s6IHRoaXMub25Gb2N1c0NhbGxiYWNrLmJpbmQodGhpcykoY2FyZCksIGtleTogY2FyZC5jYXJkX2lkICsgJyMnICsgY2FyZC52ZXJzaW9uLCBpZDogXCJcIiArIGtleSwgaXNTY3JvbGxhYmxlOiB0cnVlLCBuYXZDbGFzczogXCJzY3JvbGxhYmxlXCIgfSldO1xuICAgICAgICBpZiAocmVsYXRlZENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoZXhwb3J0cy5NaW5pQ2FyZExpc3QsIHsgZWxlbWVudHM6IHJlbGF0ZWRDYXJkcywgbW92aWVJZDogdGhpcy5wcm9wcy5tb3ZpZUlkLCBnZXRNb3ZpZVRpbWU6IHRoaXMucHJvcHMuZ2V0TW92aWVUaW1lLCBwYXJlbnQ6IHRoaXMsIGNvbHVtbnM6IDEsIGZvcmNlT3JkZXI6IGluZGV4ICsgMSwgZ3JvdXBOYW1lOiBcIk1pbmlDYXJkTGlzdFwiLCBzZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlLCB3YXNTZWxlY3RlZE9uQ2hhbmdlU2NlbmU6IHRoaXMucHJvcHMud2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTWluaUNhcmRMaXN0Q2xhc3MucHJvdG90eXBlLmNsaWNrQWN0aW9uTGlrZSA9IGZ1bmN0aW9uIChvcmlnaW5hbENhcmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbUNhcmQpIHtcbiAgICAgICAgICAgIHZhciBjYXJkID0gcGFyYW1DYXJkIHx8IG9yaWdpbmFsQ2FyZDtcbiAgICAgICAgICAgIGlmICghY2FyZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTElLRVwiLCBjYXJkLmNhcmRfaWQpO1xuICAgICAgICAgICAgX3RoaXMucHJvcHMudXNlckFjdGlvbnMubGlrZUNhcmQoY2FyZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWtlZCBzdWNjZXNzXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNaW5pQ2FyZExpc3RDbGFzcy5wcm90b3R5cGUuY2xpY2tBY3Rpb25Nb3JlID0gZnVuY3Rpb24gKG9yaWdpbmFsQ2FyZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHBhcmFtQ2FyZCkge1xuICAgICAgICAgICAgdmFyIGNhcmQgPSBwYXJhbUNhcmQgfHwgb3JpZ2luYWxDYXJkO1xuICAgICAgICAgICAgaWYgKCFjYXJkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYXJkIGNsaWNrZWRcIiwgY2FyZCk7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy51aUFjdGlvbnMub3BlbkNhcmQoY2FyZC5jYXJkX2lkLCBcIm9mZm1vdmllXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgTWluaUNhcmRMaXN0Q2xhc3MucHJvdG90eXBlLm9uRm9jdXNDYWxsYmFjayA9IGZ1bmN0aW9uIChvcmlnaW5hbENhcmQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbUNhcmQpIHtcbiAgICAgICAgICAgIHZhciBjYXJkID0gcGFyYW1DYXJkIHx8IG9yaWdpbmFsQ2FyZDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBNaW5pQ2FyZExpc3RDbGFzcztcbn0oUmVhY3QuQ29tcG9uZW50KTtcbmV4cG9ydHMuTWluaUNhcmRMaXN0Q2xhc3MgPSBNaW5pQ2FyZExpc3RDbGFzcztcbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1aUFjdGlvbnM6IHJlZHV4XzEuYmluZEFjdGlvbkNyZWF0b3JzKEFjdGlvbnNfMS5VSUFjdGlvbnMsIGRpc3BhdGNoKVxuICAgIH07XG59O1xudmFyIG1lcmdlUHJvcHMgPSBmdW5jdGlvbiBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZVByb3BzLCBvd25Qcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG59O1xuZXhwb3J0cy5NaW5pQ2FyZExpc3QgPSByZWFjdF9yZWR1eF8xLmNvbm5lY3QodW5kZWZpbmVkLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIHsgd2l0aFJlZjogdHJ1ZSB9KShIT0NfMS5uYXZpZ2FibGUoTWluaUNhcmRMaXN0Q2xhc3MpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYyNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIFNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBjbGFzc05hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG52YXIgTWluaUNhcmRDbGFzcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWluaUNhcmRDbGFzcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNaW5pQ2FyZENsYXNzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWluaUNhcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkTGVmdFwiLCBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5zZXROb2RlQnlJZChfdGhpcy5wcm9wcy5pZHgpO1xuICAgICAgICAgICAgICAgIH0gfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuQ2FyZEFuZENhdGVnb3J5LCB7IGNhcmQ6IF90aGlzLnByb3BzLmVsZW1lbnQgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5leHBhbmRlZEluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IF90aGlzLmV4cGFuZGVkSW5mb1RleHQoKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImV4cGFuZGVkSW5mb0NvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZXhwYW5kZWRJbmZvXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJleHBhbmRlZEluZm9JbnNpZGVcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHRcIiB9LCB0ZXh0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidG5cIiB9LCBfdGhpcy5idXR0b24oJ01PUkUnKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnRuXCIgfSwgX3RoaXMuYnV0dG9uKCdTQVZFJykpKSkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5leHBhbmRlZEluZm9UZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJveDtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgICAgICAgICB2YXIgdGV4dENvbnRhaW5lciA9IFNlcnZpY2VzXzEuSGVscGVyLmdldENvbnRhaW5lcihfdGhpcy5wcm9wcy5lbGVtZW50LCAndGV4dCcpO1xuICAgICAgICAgICAgaWYgKHRleHRDb250YWluZXIgIT09IHVuZGVmaW5lZCAmJiB0ZXh0Q29udGFpbmVyLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0Q29udGFpbmVyLmRhdGFbMF0udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucHJvcHMuZWxlbWVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncXVvdGUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlZmVyZW5jZSc6XG4gICAgICAgICAgICAgICAgICAgIGJveCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidGV4dCBhbG9uZVwiIH0sIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjaGFyYWN0ZXInOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb24gPSBTZXJ2aWNlc18xLkhlbHBlci5nZXRSZWxhdGlvbihfdGhpcy5wcm9wcy5lbGVtZW50LnJlbGF0aW9ucywgJ3BsYXllZF9ieScpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHVwbGUgPSByZWxhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR1cGxlICYmIGR1cGxlLmRhdGEgaW5zdGFuY2VvZiBBcnJheSAmJiBkdXBsZS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwZXJzb24gPSBkdXBsZS5kYXRhWzBdLmZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBfdGhpcy5wcm9wcy5lbGVtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcnNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub3BlbkNhcmQgPSBwZXJzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcnNvbi50aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gcGVyc29uLnRpdGxlICsgJyBhcyAnICsgdGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0UGVyc29uQ29udGFpbmVyID0gU2VydmljZXNfMS5IZWxwZXIuZ2V0Q29udGFpbmVyKHBlcnNvbiwgJ3RleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFBlcnNvbkNvbnRhaW5lciAhPT0gdW5kZWZpbmVkICYmIHRleHRQZXJzb25Db250YWluZXIuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0UGVyc29uQ29udGFpbmVyLmRhdGFbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRpdGxlXCIgfSwgdGl0bGUpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRlc2NcIiB9LCB0ZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbmcnOlxuICAgICAgICAgICAgICAgICAgICBib3ggPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0XCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0aXRsZVwiIH0sIF90aGlzLnByb3BzLmVsZW1lbnQudGl0bGUpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRlc2NcIiB9LCB0ZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYnV0dG9uID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb25XaGVuTW9yZSA9IGZ1bmN0aW9uIGFjdGlvbldoZW5Nb3JlKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLmNsaWNrQWN0aW9uTW9yZShfdGhpcy5vcGVuQ2FyZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFjdGlvbldoZW5MaWtlID0gZnVuY3Rpb24gYWN0aW9uV2hlbkxpa2UoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuY2xpY2tBY3Rpb25MaWtlKF90aGlzLm9wZW5DYXJkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTWluaUNhcmRCdXR0b24sIHsgY2xpY2tBY3Rpb246IHR5cGUgPT09ICdTQVZFJyA/IGFjdGlvbldoZW5MaWtlIDogYWN0aW9uV2hlbk1vcmUsIHBhcmVudDogX3RoaXMsIGNvbHVtbnM6IDEsIGdyb3VwTmFtZTogX3RoaXMucHJvcHMuZ3JvdXBOYW1lLCB0eXBlOiB0eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1pbmlDYXJkQ2xhc3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzUmVsYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgIG1pbmljYXJkOiB0cnVlLFxuICAgICAgICAgICAgcmVsYXRpb246IGlzUmVsYXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBpZDogdGhpcy5wcm9wcy5pZCB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzIH0sIGlzUmVsYXRpb24gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlbGF0aW9uQmFyXCIgfSkgOiAnJywgdGhpcy5taW5pQ2FyZCgpLCB0aGlzLmV4cGFuZGVkSW5mbygpKSk7XG4gICAgfTtcbiAgICBNaW5pQ2FyZENsYXNzLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BlbkNhcmQgPSB0aGlzLnByb3BzLmVsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gTWluaUNhcmRDbGFzcztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5leHBvcnRzLk1pbmlDYXJkQ2xhc3MgPSBNaW5pQ2FyZENsYXNzO1xuZXhwb3J0cy5NaW5pQ2FyZCA9IEhPQ18xLm5hdmlnYWJsZShNaW5pQ2FyZENsYXNzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYyNjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBMb2FkaW5nID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2FkaW5nLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExvYWRpbmcoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTG9hZGluZy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmaWxsUGFyZW50XCIsIHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwaW5uZXJcIiB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9hZGluZztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5leHBvcnRzLkxvYWRpbmcgPSBMb2FkaW5nO1xuO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjI3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZjIgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59O1xuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG52YXIgX19hc3NpZ24gPSB0aGlzICYmIHRoaXMuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX2RlY29yYXRlID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcbiAgICAgICAgZDtcbiAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIFNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBUZXh0ID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRleHQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgVGV4dF8xID0gVGV4dDtcbiAgICBUZXh0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0VGl0bGUgPSB0aGlzLmdldFRpdGxlKCk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRNb2R1bGVUZXh0IGNhcmRNb2R1bGVcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLlZlcnRpY2FsU2Nyb2xsLCB7IHNvdXJjZTogdGhpcy5wcm9wcy50ZXh0RGF0YSA/IHRoaXMucHJvcHMudGV4dERhdGEuc291cmNlIDogdW5kZWZpbmVkLCBwYXJlbnQ6IHRoaXMgfSwgdGV4dFRpdGxlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkVGl0bGVcIiB9LCB0ZXh0VGl0bGUpIDogbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkVGV4dFwiIH0sIHRoaXMucHJvcHMudGV4dERhdGEudGV4dCkpKSk7XG4gICAgfTtcbiAgICBUZXh0LnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29udGFpbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuY29udGFpbmVyLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYmlvZ3JhcGh5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZXNfMS5Mb2NhbGl6ZSgnQklPR1JBUEhZJyk7XG4gICAgICAgICAgICBjYXNlICdvdmVydmlldyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2VzXzEuTG9jYWxpemUoJ09WRVJWSUVXJyk7XG4gICAgICAgICAgICBjYXNlICdjdXJpb3NpdHknOlxuICAgICAgICAgICAgY2FzZSAncmVmZXJlbmNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZXNfMS5Mb2NhbGl6ZSgnQ1VSSU9TSVRZX1RJVExFJyk7XG4gICAgICAgICAgICBjYXNlICdxdW90ZSc6XG4gICAgICAgICAgICBjYXNlICdyZWZlcmVuY2UnOlxuICAgICAgICAgICAgY2FzZSAnZGVzY3JpcHRpb24nOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGV4dCA9IFRleHRfMSA9IF9fZGVjb3JhdGUoW0hPQ18xLnN0YXRpY3Moe1xuICAgICAgICBtb2R1bGVOYW1lOiBcInRleHRcIixcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNhcmQsIG1vZHVsZVR5cGUsIHBhcmVudCwgcHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBTZXJ2aWNlc18xLkhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgJ3RleHQnKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIgIT09IHVuZGVmaW5lZCAmJiBjb250YWluZXIuZGF0YSAhPT0gdW5kZWZpbmVkICYmIGNvbnRhaW5lci5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgSW5zdGFudGlhdGVkID0gSE9DXzEubmF2aWdhYmxlKFRleHRfMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5zdGFudGlhdGVkLCBfX2Fzc2lnbih7IGNvbnRhaW5lcjogY29udGFpbmVyLCB0ZXh0RGF0YTogY29udGFpbmVyLmRhdGFbMF0sIHBhcmVudDogcGFyZW50LCBpc1Njcm9sbGFibGU6IHRydWUsIGNhcmQ6IGNhcmQsIG1vZHVsZVR5cGU6IG1vZHVsZVR5cGUgfSwgcHJvcHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSldLCBUZXh0KTtcbiAgICByZXR1cm4gVGV4dDtcbiAgICB2YXIgVGV4dF8xO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuVGV4dCA9IFRleHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2Mjg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mMiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn07XG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2RlY29yYXRlID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcbiAgICAgICAgZDtcbiAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBTZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgQ29tcG9uZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBUYWJsZSA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGFibGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucHJvcHMuY29udGFpbmVyLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NwZWNzJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2VzXzEuTG9jYWxpemUoJ1NQRUNTJyk7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmFzaWNfZGF0YSc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2VzXzEuTG9jYWxpemUoJ0JBU0lDX0RBVEEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWJsZV8xID0gVGFibGU7XG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZE1vZHVsZVRhYmxlIGNhcmRNb2R1bGVcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLlZlcnRpY2FsU2Nyb2xsLCB7IHBhcmVudDogdGhpcyB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRUaXRsZVwiIH0sIHRoaXMuZ2V0VGl0bGUoKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidGFibGVcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIHRoaXMucHJvcHMuY29udGFpbmVyLmRhdGEubWFwKGZ1bmN0aW9uIChsaXN0SXRlbSwgaWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHsga2V5OiBpZHggfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIGxpc3RJdGVtLnRleHQpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgbGlzdEl0ZW0udmFsdWUpKTtcbiAgICAgICAgfSkpKSkpKSk7XG4gICAgfTtcbiAgICBUYWJsZSA9IFRhYmxlXzEgPSBfX2RlY29yYXRlKFtIT0NfMS5zdGF0aWNzKHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJ0YWJsZVwiLFxuICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoY2FyZCwgbW9kdWxlVHlwZSwgcGFyZW50LCBwcm9wcykge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IFNlcnZpY2VzXzEuSGVscGVyLmdldENvbnRhaW5lcihjYXJkLCAnbGlzdGluZycpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuZGF0YSAmJiBjb250YWluZXIuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIEluc3RhbnRpYXRlZCA9IEhPQ18xLm5hdmlnYWJsZShUYWJsZV8xKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbnN0YW50aWF0ZWQsIHsgY29udGFpbmVyOiBjb250YWluZXIsIHBhcmVudDogcGFyZW50LCBpc1Njcm9sbGFibGU6IHRydWUsIGNhcmQ6IGNhcmQsIG1vZHVsZVR5cGU6IG1vZHVsZVR5cGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pXSwgVGFibGUpO1xuICAgIHJldHVybiBUYWJsZTtcbiAgICB2YXIgVGFibGVfMTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5leHBvcnRzLlRhYmxlID0gVGFibGU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2Mjk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfdHlwZW9mMiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZjIob2JqKTtcbn07XG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2RlY29yYXRlID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcbiAgICAgICAgZDtcbiAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBTZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgQ29tcG9uZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbjtcbnZhciBMaXN0ID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpc3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nZXRMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBfdGhpcy5wcm9wcy5tb2R1bGVUeXBlO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnR2FsbGVyeSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRHYWxsZXJ5TGlzdCgpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1Nob3AnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1RyYXZlbFNob3AnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U2hvcExpc3QoKTtcbiAgICAgICAgICAgICAgICBjYXNlICdGaWxtb2dyYXBoeSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRGaWxtb2dyYXBoeUxpc3QoKTtcbiAgICAgICAgICAgICAgICBjYXNlICdDYXN0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldENhc3RMaXN0KCk7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXBwZWFyc0luTG9jYXRpb24nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlVGhlRGVjbyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSZWxTaW5nbGVMaXN0KCk7XG4gICAgICAgICAgICAgICAgY2FzZSAnU2Vhc29ucyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRTZWFzb25MaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldEdhbGxlcnlMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IF90aGlzLnByb3BzLmNvbnRhaW5lci5kYXRhLm1hcChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsga2V5OiBfdGhpcy5wcm9wcy5jb250YWluZXIuY29udGVudF90eXBlICsgJ19zaG93XycgKyBpLCBwYXJlbnQ6IF90aGlzLCBmb3JjZU9yZGVyOiBpICUgX3RoaXMucHJvcHMuaXRlbXNTaG93biwgY29sdW1uczogMiwgY2xhc3NOYW1lOiBcImhvcml6b250YWxFbGVtZW50IGxpc3RFbGVtZW50IGZvY3VzYWJsZVwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBzcmM6IGVsLnRodW1iIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0U2hvcExpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gX3RoaXMucHJvcHMuY29udGFpbmVyLmRhdGEubWFwKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0R2VuZXJpY0VsZW1lbnQoZWwucHJpY2UudG9TdHJpbmcoKSArIGVsLmN1cnJlbmN5LCBlbC5pbWFnZSwgaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldEZpbG1vZ3JhcGh5TGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBfdGhpcy5wcm9wcy5jb250YWluZXIuZGF0YS5tYXAoZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRHZW5lcmljRWxlbWVudChlbC5mcm9tLnRpdGxlLCBlbC5mcm9tLmltYWdlID8gZWwuZnJvbS5pbWFnZS50aHVtYiA6IG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRDYXN0TGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBfdGhpcy5wcm9wcy5jb250YWluZXIuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5yZWxfdHlwZSA9PSAncGxheXMnICYmIGVsLmZyb20uaW1hZ2UgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0R2VuZXJpY0VsZW1lbnQoZWwuZnJvbS50aXRsZSwgZWwuZnJvbS5pbWFnZS50aHVtYiwgaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFJlbFNpbmdsZUxpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gX3RoaXMucHJvcHMuY29udGFpbmVyLmRhdGEubWFwKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0R2VuZXJpY0VsZW1lbnQoZWwudGl0bGUsIGVsLmltYWdlLnRodW1iLCBpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0U2Vhc29uTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBfdGhpcy5wcm9wcy5jb250YWluZXIuZGF0YS5tYXAoZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRHZW5lcmljRWxlbWVudCgnU2Vhc29uICcgKyBlbC5zZWFzb25faW5kZXgsIGVsLmltYWdlLnRodW1iLCBpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0R2VuZXJpY0VsZW1lbnQgPSBmdW5jdGlvbiAodGl0bGUsIGltYWdlLCBvcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsga2V5OiBfdGhpcy5wcm9wcy5jb250YWluZXIuY29udGVudF90eXBlICsgJ19zaG93XycgKyBvcmRlciwgcGFyZW50OiBfdGhpcywgZm9yY2VPcmRlcjogb3JkZXIgJSBfdGhpcy5wcm9wcy5pdGVtc1Nob3duLCBjb2x1bW5zOiAyLCBjbGFzc05hbWU6IFwiaG9yaXpvbnRhbEVsZW1lbnQgbGlzdEVsZW1lbnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImltYWdlIGZvY3VzYWJsZVwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBzcmM6IGltYWdlIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0aXRsZSBmb2N1c2FibGVcIiB9LCB0aXRsZSkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucHJvcHMuY29udGFpbmVyLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dhbGxlcnknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZXNfMS5Mb2NhbGl6ZSgnR0FMTEVSWScpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExpc3RfMSA9IExpc3Q7XG4gICAgTGlzdC5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoY2FyZCwgbW9kdWxlVHlwZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZpbG1vZ3JhcGh5IGNhcmQ6IFwiLCBjYXJkKTtcbiAgICAgICAgc3dpdGNoIChtb2R1bGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdHYWxsZXJ5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZXNfMS5IZWxwZXIuZ2V0Q29udGFpbmVyKGNhcmQsICdpbWFnZScpO1xuICAgICAgICAgICAgY2FzZSAnU2hvcCc6XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncHJvZHVjdHMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjYXJkLnByb2R1Y3RzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdGluZydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBjYXNlICdUcmF2ZWxTaG9wJzpcbiAgICAgICAgICAgICAgICB2YXIgb2JqMiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncHJvZHVjdHMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjYXJkLnByb2R1Y3RzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdGluZydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmoyO1xuICAgICAgICAgICAgY2FzZSAnRmlsbW9ncmFwaHknOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlc18xLkhlbHBlci5nZXRSZWxhdGlvbihjYXJkLnJlbGF0aW9ucywgJ2ZpbG1vZ3JhcGh5JywgJ2NvbnRlbnRfdHlwZScpO1xuICAgICAgICAgICAgY2FzZSAnQ2FzdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2VzXzEuSGVscGVyLmdldFJlbGF0aW9uKGNhcmQucmVsYXRpb25zLCAnY2FzdGluZycsICdjb250ZW50X3R5cGUnKTtcbiAgICAgICAgICAgIGNhc2UgJ1NlYXNvbnMnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlc18xLkhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgJ3NlYXNvbnMnKTtcbiAgICAgICAgICAgIGNhc2UgJ0FwcGVhcnNJbkxvY2F0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZXNfMS5IZWxwZXIuZ2V0UmVsYXRpb24oY2FyZC5yZWxhdGlvbnMsICdmaWxtZWRfaW4nLCAnY29udGVudF90eXBlJyk7XG4gICAgICAgICAgICBjYXNlICdDb21wbGV0ZVRoZURlY28nOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlc18xLkhlbHBlci5nZXRSZWxhdGlvbihjYXJkLnJlbGF0aW9ucywgJ2hvbWVfZGVjbycsICdjb250ZW50X3R5cGUnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dFRpdGxlID0gdGhpcy5nZXRUaXRsZSgpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkTW9kdWxlTGlzdCBjYXJkTW9kdWxlXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb250YWluZXJcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRUaXRsZVwiIH0sIHRleHRUaXRsZSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGlzdENvbnRlbnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5Ib3Jpem9udGFsU2Nyb2xsLCB7IHBhcmVudDogdGhpcywgdW5pcXVlSWQ6IHRoaXMucHJvcHMuY29udGFpbmVyLmNvbnRlbnRfdHlwZSwgaXRlbXNTaG93bjogdGhpcy5wcm9wcy5pdGVtc1Nob3duIH0sIHRoaXMuZ2V0TGlzdCgpKSkpKTtcbiAgICB9O1xuICAgIExpc3QgPSBMaXN0XzEgPSBfX2RlY29yYXRlKFtIT0NfMS5zdGF0aWNzKHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJsaXN0XCIsXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShjYXJkLCBtb2R1bGVUeXBlLCBwYXJlbnQsIHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gTGlzdF8xLmdldENvbnRhaW5lcihjYXJkLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIgIT09IHVuZGVmaW5lZCAmJiBjb250YWluZXIuZGF0YSAhPT0gdW5kZWZpbmVkICYmIGNvbnRhaW5lci5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgSW5zdGFudGlhdGVkID0gSE9DXzEubmF2aWdhYmxlKExpc3RfMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5zdGFudGlhdGVkLCB7IGl0ZW1zU2hvd246IDIsIGNvbnRhaW5lcjogY29udGFpbmVyLCBwYXJlbnQ6IHBhcmVudCwgaXNTY3JvbGxhYmxlOiB0cnVlLCBjYXJkOiBjYXJkLCBtb2R1bGVUeXBlOiBtb2R1bGVUeXBlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9KV0sIExpc3QpO1xuICAgIHJldHVybiBMaXN0O1xuICAgIHZhciBMaXN0XzE7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5MaXN0ID0gTGlzdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDYzMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF90eXBlb2YyID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mMihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mMihvYmopO1xufTtcblxudmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xudmFyIF9fZGVjb3JhdGUgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuICAgICAgICBkO1xuICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIFNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIEF3YXJkcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXdhcmRzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEF3YXJkcygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIExvY2FsaXplKCdBV0FSRFMnKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBd2FyZHNfMSA9IEF3YXJkcztcbiAgICBBd2FyZHMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZE1vZHVsZUF3YXJkcyBjYXJkTW9kdWxlXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb250YWluZXJcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5WZXJ0aWNhbFNjcm9sbCwgeyBwYXJlbnQ6IHRoaXMgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkVGl0bGVcIiB9LCB0aGlzLmdldFRpdGxlKCkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImF3YXJkc1wiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiwgbnVsbCwgdGhpcy5wcm9wcy5jb250YWluZXIuZGF0YS5tYXAoZnVuY3Rpb24gKGxpc3RJdGVtLCBpZHgpIHtcbiAgICAgICAgICAgIHZhciB3aW5uZXJOdW0gPSBsaXN0SXRlbS53aW5uZXIgaW5zdGFuY2VvZiBBcnJheSAmJiBsaXN0SXRlbS53aW5uZXIubGVuZ3RoID4gMCA/IGxpc3RJdGVtLndpbm5lci5sZW5ndGggOiAwO1xuICAgICAgICAgICAgdmFyIG5vbWluZWVOdW0gPSBsaXN0SXRlbS5ub21pbmVlIGluc3RhbmNlb2YgQXJyYXkgJiYgbGlzdEl0ZW0ubm9taW5lZS5sZW5ndGggPiAwID8gbGlzdEl0ZW0ubm9taW5lZS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgdmFyIG5vbWluZWVUZXh0cyA9IG5vbWluZWVOdW0gPiAwID8gbm9taW5lZU51bSArIFwiIFwiICsgKG5vbWluZWVOdW0gPiAxID8gTG9jYWxpemUoXCJOT01JTkVFX1BMVVJBTFwiKSA6IExvY2FsaXplKFwiTk9NSU5FRV9TSU5HVUxBUlwiKSkgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIHRvdGFsQXdhcmRzVGV4dHMgPSB3aW5uZXJOdW0gPiAwID8gd2lubmVyTnVtICsgXCIgXCIgKyAod2lubmVyTnVtID4gMSA/IExvY2FsaXplKFwiV0lOTkVSX1BMVVJBTFwiKSA6IExvY2FsaXplKFwiV0lOTkVSX1NJTkdVTEFSXCIpKSArIChub21pbmVlTnVtID4gMCA/IFwiIC8gXCIgKyBub21pbmVlVGV4dHMgOiBcIlwiKSA6IG5vbWluZWVUZXh0cztcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgeyBrZXk6IGlkeCB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgeyBrZXk6IFwibmFtZVwiLCBjbGFzc05hbWU6IFwiYXdhcmROYW1lXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIGxpc3RJdGVtLnRpdGxlKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7IGtleTogXCJudW1cIiwgY2xhc3NOYW1lOiBcImF3YXJkTnVtc1wiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCB0b3RhbEF3YXJkc1RleHRzKSkpKSkpO1xuICAgICAgICB9KSkpKSkpKTtcbiAgICB9O1xuICAgIEF3YXJkcyA9IEF3YXJkc18xID0gX19kZWNvcmF0ZShbSE9DXzEuc3RhdGljcyh7XG4gICAgICAgIG1vZHVsZU5hbWU6IFwiYXdhcmRzXCIsXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShjYXJkLCBtb2R1bGVUeXBlLCBwYXJlbnQsIHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gU2VydmljZXNfMS5IZWxwZXIuZ2V0Q29udGFpbmVyKGNhcmQsICdhd2FyZHMnKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmRhdGEgJiYgY29udGFpbmVyLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBJbnN0YW50aWF0ZWQgPSBIT0NfMS5uYXZpZ2FibGUoQXdhcmRzXzEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEluc3RhbnRpYXRlZCwgeyBjb250YWluZXI6IGNvbnRhaW5lciwgcGFyZW50OiBwYXJlbnQsIGlzU2Nyb2xsYWJsZTogdHJ1ZSwgY2FyZDogY2FyZCwgbW9kdWxlVHlwZTogbW9kdWxlVHlwZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSldLCBBd2FyZHMpO1xuICAgIHJldHVybiBBd2FyZHM7XG4gICAgdmFyIEF3YXJkc18xO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuQXdhcmRzID0gQXdhcmRzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjMxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3R5cGVvZjIgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YyKG9iaik7XG59O1xuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG52YXIgX19hc3NpZ24gPSB0aGlzICYmIHRoaXMuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX2RlY29yYXRlID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcbiAgICAgICAgZDtcbiAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBTZXJ2aWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgSE9DXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBNYXAgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTWFwXzEgPSBNYXA7XG4gICAgTWFwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0VGl0bGUgPSB0aGlzLmdldFRpdGxlKCk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMubWFwRGF0YSxcbiAgICAgICAgICAgIGxhdGl0dWRlID0gX2EubGF0aXR1ZGUsXG4gICAgICAgICAgICBsb25naXR1ZGUgPSBfYS5sb25naXR1ZGUsXG4gICAgICAgICAgICB6b29tID0gX2Euem9vbTtcbiAgICAgICAgdmFyIG1hcFVybCA9IFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3N0YXRpY21hcD9jZW50ZXI9XCIgKyBsYXRpdHVkZSArIFwiLFwiICsgbG9uZ2l0dWRlICsgXCImc2l6ZT0zMDB4MTY4XCI7XG4gICAgICAgIHZhciBhcHBsaWVkWm9vbSA9IHBhcnNlSW50KFwiXCIgKyB6b29tLCAxMCk7XG4gICAgICAgIGlmIChhcHBsaWVkWm9vbSkge1xuICAgICAgICAgICAgbWFwVXJsICs9IFwiJnpvb209XCIgKyBhcHBsaWVkWm9vbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkTW9kdWxlTWFwIGNhcmRNb2R1bGVcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lclwiIH0sIHRleHRUaXRsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZFRpdGxlXCIgfSwgdGV4dFRpdGxlKSA6IG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWFwXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IHNyYzogbWFwVXJsLCBjbGFzc05hbWU6IFwibWFwVGh1bWJuYWlsXCIgfSkpKSk7XG4gICAgfTtcbiAgICBNYXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb250YWluZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTZXJ2aWNlc18xLkxvY2FsaXplKCdMT0NBVElPTicpO1xuICAgIH07XG4gICAgTWFwID0gTWFwXzEgPSBfX2RlY29yYXRlKFtIT0NfMS5zdGF0aWNzKHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJtYXBcIixcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNhcmQsIG1vZHVsZVR5cGUsIHBhcmVudCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW01hcF0gY2FyZDogXCIsIGNhcmQpO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IFNlcnZpY2VzXzEuSGVscGVyLmdldENvbnRhaW5lcihjYXJkLCAnbWFwJyk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyICE9PSB1bmRlZmluZWQgJiYgY29udGFpbmVyLmRhdGEgIT09IHVuZGVmaW5lZCAmJiBjb250YWluZXIuZGF0YS5sZW5ndGggPiAwICYmIGNvbnRhaW5lci5kYXRhWzBdLmxhdGl0dWRlICYmIGNvbnRhaW5lci5kYXRhWzBdLmxvbmdpdHVkZSkge1xuICAgICAgICAgICAgICAgIHZhciBJbnN0YW50aWF0ZWQgPSBIT0NfMS5uYXZpZ2FibGUoTWFwXzEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEluc3RhbnRpYXRlZCwgX19hc3NpZ24oe30sIHByb3BzLCB7IGNvbnRhaW5lcjogY29udGFpbmVyLCBtYXBEYXRhOiBjb250YWluZXIuZGF0YVswXSwgcGFyZW50OiBwYXJlbnQsIGNhcmQ6IGNhcmQsIG1vZHVsZVR5cGU6IG1vZHVsZVR5cGUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9KV0sIE1hcCk7XG4gICAgcmV0dXJuIE1hcDtcbiAgICB2YXIgTWFwXzE7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5NYXAgPSBNYXA7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MzI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDYXJkTW9kdWxlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzMpO1xuZXhwb3J0cy5jYXJkTW9kdWxlQ2xhc3NlcyA9IHtcbiAgICBIZWFkZXI6IENhcmRNb2R1bGVzXzEuSGVhZGVyLFxuICAgIEJ1dHRvbkhlYWRlcjogQ2FyZE1vZHVsZXNfMS5IZWFkZXIsXG4gICAgTW92aWVIZWFkZXI6IENhcmRNb2R1bGVzXzEuSGVhZGVyLFxuICAgIERlc2NyaXB0aW9uOiBDYXJkTW9kdWxlc18xLlRleHQsXG4gICAgQmlvZ3JhcGh5OiBDYXJkTW9kdWxlc18xLlRleHQsXG4gICAgUmVmZXJlbmNlOiBDYXJkTW9kdWxlc18xLlRleHQsXG4gICAgRnVsbEN1cmlvc2l0eTogQ2FyZE1vZHVsZXNfMS5UZXh0LFxuICAgIE92ZXJ2aWV3OiBDYXJkTW9kdWxlc18xLlRleHQsXG4gICAgR2FsbGVyeTogQ2FyZE1vZHVsZXNfMS5MaXN0LFxuICAgIFNob3A6IENhcmRNb2R1bGVzXzEuTGlzdCxcbiAgICBUcmF2ZWxTaG9wOiBDYXJkTW9kdWxlc18xLkxpc3QsXG4gICAgRGlyZWN0b3JzOiBDYXJkTW9kdWxlc18xLkxpc3QsXG4gICAgU2Vhc29uczogQ2FyZE1vZHVsZXNfMS5MaXN0LFxuICAgIEZpbG1vZ3JhcGh5OiBDYXJkTW9kdWxlc18xLkxpc3QsXG4gICAgQ2FzdDogQ2FyZE1vZHVsZXNfMS5MaXN0LFxuICAgIEFwcGVhcnNJbkxvY2F0aW9uOiBDYXJkTW9kdWxlc18xLkxpc3QsXG4gICAgQ29tcGxldGVUaGVEZWNvOiBDYXJkTW9kdWxlc18xLkxpc3QsXG4gICAgU3BlY2lmaWNhdGlvbnM6IENhcmRNb2R1bGVzXzEuVGFibGUsXG4gICAgQmFzaWNJbmZvOiBDYXJkTW9kdWxlc18xLlRhYmxlLFxuICAgIEF3YXJkc01vZHVsZUxpc3Q6IENhcmRNb2R1bGVzXzEuQXdhcmRzLFxuICAgIE1hcE1vZHVsZTogQ2FyZE1vZHVsZXNfMS5NYXBcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MzM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBDb21wb25lbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIENhcmREZXRhaWxDb250YWluZXJDbGFzcyA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FyZERldGFpbENvbnRhaW5lckNsYXNzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhcmREZXRhaWxDb250YWluZXJDbGFzcygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHN0YXR1czogXCJMT0FESU5HXCIsIGNhcmQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhcmREZXRhaWxDb250YWluZXJDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuc3RhdHVzID09PSBcIkxPQURJTkdcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudmVyc2lvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgRGl2ZUFQSS5nZXRDYXJkVmVyc2lvbih7IGNhcmRJZDogdGhpcy5wcm9wcy5jYXJkSWQsIHZlcnNpb246IHRoaXMucHJvcHMudmVyc2lvbiwgcHJvZHVjdHM6IHRydWUgfSkudGhlbihmdW5jdGlvbiAoY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltjYXJkXSBcIiArIGNhcmQudGl0bGUgKyBcIjogXCIsIGNhcmQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShfX2Fzc2lnbih7fSwgX3RoaXMuc3RhdGUsIHsgc3RhdHVzOiBcIkxPQURFRFwiLCBjYXJkOiBjYXJkIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRGl2ZUFQSS5nZXRDYXJkKHsgY2FyZElkOiB0aGlzLnByb3BzLmNhcmRJZCwgcHJvZHVjdHM6IHRydWUgfSkudGhlbihmdW5jdGlvbiAoY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltjYXJkXSBcIiArIGNhcmQudGl0bGUgKyBcIjogXCIsIGNhcmQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShfX2Fzc2lnbih7fSwgX3RoaXMuc3RhdGUsIHsgc3RhdHVzOiBcIkxPQURFRFwiLCBjYXJkOiBjYXJkIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FyZERldGFpbENvbnRhaW5lckNsYXNzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJjb21wb25lbnQgPSAhdGhpcy5zdGF0ZSB8fCB0aGlzLnN0YXRlLnN0YXR1cyAhPT0gXCJMT0FERURcIiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLkxvYWRpbmcsIG51bGwpIDogUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuQ2FyZERldGFpbCwgeyBwYXJlbnQ6IHRoaXMsIGNhcmQ6IHRoaXMuc3RhdGUuY2FyZCwgY29sdW1uczogMSwgbmF2Q2xhc3M6IFwiY2FyZERldGFpbE5hdlwiLCBpc0RlZmF1bHQ6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiBzdWJjb21wb25lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FyZERldGFpbENvbnRhaW5lckNsYXNzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbmV4cG9ydHMuQ2FyZERldGFpbENvbnRhaW5lckNsYXNzID0gQ2FyZERldGFpbENvbnRhaW5lckNsYXNzO1xuZXhwb3J0cy5DYXJkRGV0YWlsQ29udGFpbmVyID0gSE9DXzEubmF2aWdhYmxlKENhcmREZXRhaWxDb250YWluZXJDbGFzcyk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA2MzQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfX2V4dGVuZHMgPSB0aGlzICYmIHRoaXMuX19leHRlbmRzIHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gYikge1xuICAgICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgQ29tcG9uZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG47XG52YXIgQm90dG9tT3ZlcmxheU1lc3NhZ2UgPSBmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvdHRvbU92ZXJsYXlNZXNzYWdlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvdHRvbU92ZXJsYXlNZXNzYWdlKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHsgaGlkZGVuOiBmYWxzZSB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJvdHRvbU92ZXJsYXlNZXNzYWdlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaGlkZGVuID8gbnVsbCA6IHRoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICB9O1xuICAgIEJvdHRvbU92ZXJsYXlNZXNzYWdlLnByb3RvdHlwZS5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm90dG9tTWVzc2FnZSBmaWxsUGFyZW50XCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTmF2aWdhdGlvbkNvbnRhaW5lciwgeyBtb2RhbDogdHJ1ZSwgcGFyZW50OiB0aGlzLnByb3BzLm5hdmlnYXRpb25QYXJlbnQsIGlzRGVmYXVsdDogdHJ1ZSwgcHJvcGFnYXRlUGFyZW50OiB0cnVlLCBjb2x1bW5zOiAxIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVzc2FnZUNvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2xvc2VDb250YWluZXJcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5OYXZpZ2F0aW9uQ29udGFpbmVyLCB7IGNsYXNzTmFtZTogXCJjYXJvdXNlbEJ1dHRvbiBjYXJvdXNlbENsb3NlXCIsIHBhcmVudDogdGhpcywgaXNEZWZhdWx0OiB0cnVlLCBjb2x1bW5zOiAxLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaGlkZGVuOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSB9KSksIHRoaXMucHJvcHMuY2hpbGRyZW4pKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQm90dG9tT3ZlcmxheU1lc3NhZ2U7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5Cb3R0b21PdmVybGF5TWVzc2FnZSA9IEJvdHRvbU92ZXJsYXlNZXNzYWdlO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNjM1OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX19leHRlbmRzID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgfSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KCk7XG52YXIgX19hc3NpZ24gPSB0aGlzICYmIHRoaXMuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgcmVhY3RfcmVkdXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xudmFyIHJlZHV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciBIT0NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIENvbXBvbmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIEFjdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIFNlcnZpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBDb25zdGFudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYzKTtcbnZhciBDb250YWluZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcbnZhciBDYXJvdXNlbENsYXNzID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYXJvdXNlbENsYXNzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhcm91c2VsQ2xhc3MocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNodW5rUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmN1cnJlbnRTY2VuZVRleHQgPSBTZXJ2aWNlc18xLkxvY2FsaXplKFwiQ1VSUkVOVF9TQ0VORVwiKTtcbiAgICAgICAgX3RoaXMuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMuc3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0geyByZXdpbmRlZDogZmFsc2UgfTtcbiAgICAgICAgX3RoaXMuY2xvc2VDYXJvdXNlbCA9IF90aGlzLmNsb3NlQ2Fyb3VzZWwuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmdldEN1cnJlbnRUaW1lID0gX3RoaXMuZ2V0Q3VycmVudFRpbWUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmFkTWVzc2FnZUNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBcImFkTWVzc2FnZUNvbnRlbnRcIiwgY2xhc3NOYW1lOiBcImZpbGxQYXJlbnQgYWRNZXNzYWdlIGNhcm91c2VsTWVzc2FnZUNvbnRlbnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFkTWVzc2FnZUxlZnRcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgU2VydmljZXNfMS5Mb2NhbGl6ZShcIlBJWlpBX09SX1BPUF9DT1JOXCIpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgeyBjbGFzc05hbWU6IFwidGV4dDFcIiB9LCBTZXJ2aWNlc18xLkxvY2FsaXplKFwiV0VfUkVDT01NRU5EXCIpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgeyBjbGFzc05hbWU6IFwidGV4dDJcIiB9LCBTZXJ2aWNlc18xLkxvY2FsaXplKFwiTUFLRV9QT1BfQ09STlwiKSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFkTWVzc2FnZVJpZ2h0XCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJUVkdSSURfQ09NTUVSQ0lBTF9UWFRcIikpKSk7XG4gICAgICAgIF90aGlzLmVuZE1lc3NhZ2VDb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleTogXCJlbmRNZXNzYWdlQ29udGVudFwiLCBjbGFzc05hbWU6IFwiZmlsbFBhcmVudCBlbmRNZXNzYWdlIGNhcm91c2VsTWVzc2FnZUNvbnRlbnQgY2VudGVyZWRNZXNzYWdlXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZXNzYWdlQ2VudGVyXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJFVkVSWVRISU5HX0VORFwiKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsgY2xhc3NOYW1lOiBcInRleHQxXCIgfSwgU2VydmljZXNfMS5Mb2NhbGl6ZShcIk1PVklFX0VOREVEXCIpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidXR0b25zQ29udGFpbmVyXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTmF2aWdhdGlvbkNvbnRhaW5lciwgeyBjbGFzc05hbWU6IFwiZ2VuZXJpY0J0blwiLCBwYXJlbnQ6IF90aGlzLCBpc0RlZmF1bHQ6IHRydWUsIGNvbHVtbnM6IDEsIGtleTogXCJtZXNzYWdlQ2xvc2VDYXJvdXNlbFwiLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnVpQWN0aW9ucy5vcGVuKHsgdG9wOiBcIlRWXCIsIGJvdHRvbTogXCJHUklEXCIgfSk7XG4gICAgICAgICAgICB9IH0sIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJPS0FZXCIpKSkpKTtcbiAgICAgICAgX3RoaXMub2ZmTWVzc2FnZUNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBcIm9mZk1lc3NhZ2VDb250ZW50XCIsIGNsYXNzTmFtZTogXCJmaWxsUGFyZW50IG9mZk1lc3NhZ2VDb250ZW50IGNhcm91c2VsTWVzc2FnZUNvbnRlbnQgY2VudGVyZWRNZXNzYWdlXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZXNzYWdlQ2VudGVyXCIgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJFVkVSWVRISU5HX0VORFwiKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsgY2xhc3NOYW1lOiBcInRleHQxXCIgfSwgU2VydmljZXNfMS5Mb2NhbGl6ZShcIk1PVklFX09GRlwiKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnV0dG9uc0NvbnRhaW5lclwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsgY2xhc3NOYW1lOiBcImdlbmVyaWNCdG5cIiwga2V5OiBcIm1lc3NhZ2VDbG9zZUNhcm91c2VsXCIsIHBhcmVudDogX3RoaXMsIGlzRGVmYXVsdDogdHJ1ZSwgY29sdW1uczogMSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy51aUFjdGlvbnMub3Blbih7IHRvcDogXCJUVlwiLCBib3R0b206IFwiR1JJRFwiIH0pO1xuICAgICAgICAgICAgfSB9LCBTZXJ2aWNlc18xLkxvY2FsaXplKFwiT0tBWVwiKSkpKSk7XG4gICAgICAgIF90aGlzLnJlYWR5TWVzc2FnZUNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBcIm9mZk1lc3NhZ2VDb250ZW50XCIsIGNsYXNzTmFtZTogXCJmaWxsUGFyZW50IHJlYWR5TWVzc2FnZUNvbnRlbnQgY2Fyb3VzZWxNZXNzYWdlQ29udGVudCBjZW50ZXJlZE1lc3NhZ2VcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1lc3NhZ2VDZW50ZXJcIiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgU2VydmljZXNfMS5Mb2NhbGl6ZShcIkxJR0hUU19DQU1FUkFcIikpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0MVwiIH0sIFNlcnZpY2VzXzEuTG9jYWxpemUoXCJXRV9BUkVfTE9BRElOR1wiKSkpKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDYXJvdXNlbENsYXNzLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gKG5leHRQcm9wcykge307XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb3BzLnN5bmNDaGFubmVsKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlRmlsdGVycyA9IFt0aGlzLmFsbENhdGVnb3JpZXNGaWx0ZXJdO1xuICAgIH07XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBDYXJvdXNlbENsYXNzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjYXJkcyA9IHRoaXMucHJvcHMuc3RhdGUuY2FyZHMgIT09IHVuZGVmaW5lZCA/IHRoaXMucHJvcHMuc3RhdGUuY2FyZHMgOiBbXTtcbiAgICAgICAgY2FyZHMgPSBjYXJkcy5maWx0ZXIoZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXJkICYmIGNhcmQudHlwZSAmJiBDb25zdGFudHNfMS5TVVBQT1JURURfQ0FSRF9UWVBFUy5pbmRleE9mKGNhcmQudHlwZSkgPiAtMSAmJiBjYXJkLnR5cGUgIT09ICdwZXJzb24nO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29udGFpbmVyQ2Fyb3VzZWwgZmlsbFBhcmVudFwiIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsga2V5OiBcImJ1dHRvbkNvbnRhaW5lclwiLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25zQ29udGFpbmVyID0gZWwuZ2V0V3JhcHBlZEluc3RhbmNlKCkucmVmQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHByb3BhZ2F0ZVBhcmVudDogZmFsc2UsIHBhcmVudDogdGhpcywgZm9yY2VGaXJzdDogdHJ1ZSwgY29sdW1uczogMSB9LCB0aGlzLmJ1dHRvbnNDb250YWluZXIgPyB0aGlzLmdldEJ1dHRvbnMoKSA6IFwiXCIpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRzXCIgfSwgY2FyZHMubGVuZ3RoID09PSAwID8gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRzXzEuTG9hZGluZywgbnVsbCkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudHNfMS5NaW5pQ2FyZExpc3QsIHsgZWxlbWVudHM6IGNhcmRzLCBtb3ZpZUlkOiB0aGlzLmdldFN0YXRlKCkubW92aWVJZCwgZ2V0TW92aWVUaW1lOiB0aGlzLmdldEN1cnJlbnRUaW1lLCBwYXJlbnQ6IHRoaXMsIGNvbHVtbnM6IDEsIGdyb3VwTmFtZTogXCJNaW5pQ2FyZExpc3RcIiwgc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlOiB0aGlzLnByb3BzLnNldFNlbGVjdGVkT25TY2VuZUNoYW5nZSwgd2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lOiB0aGlzLnByb3BzLnN0YXRlLnNlbGVjdGVkT25TY2VuZUNoYW5nZSB9KSksIHRoaXMuZ2V0TWVzc2FnZUZvckNhcm91c2VsKCkpO1xuICAgIH07XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuZ2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnN0YXRlLmN1cnJlbnRUaW1lO1xuICAgIH07XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuZ2V0QnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lSW5TZWNzID0gdGhpcy5wcm9wcy5zdGF0ZS5jdXJyZW50VGltZTtcbiAgICAgICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcihjdXJyZW50VGltZUluU2VjcyAvIDM2MDApO1xuICAgICAgICBjdXJyZW50VGltZUluU2VjcyAlPSAzNjAwO1xuICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoY3VycmVudFRpbWVJblNlY3MgLyA2MCk7XG4gICAgICAgIHZhciBzZWNvbmRzID0gcGFyc2VJbnQoKGN1cnJlbnRUaW1lSW5TZWNzICUgNjApLnRvRml4ZWQoMCksIDEwKTtcbiAgICAgICAgdmFyIGJ1dHRvbkNvdW50ID0gNztcbiAgICAgICAgaWYgKDApIHtcbiAgICAgICAgICAgIGJ1dHRvbkNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDApIHtcbiAgICAgICAgICAgIGJ1dHRvbkNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucmV3aW5kZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBidXR0b25Db3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aW1lRm9ybWF0dGVkID0gKGhvdXJzIDwgMTAgPyBcIjBcIiArIGhvdXJzIDogaG91cnMpICsgXCI6XCIgKyAoKG1pbnV0ZXMgPCAxMCA/IFwiMFwiICsgbWludXRlcyA6IG1pbnV0ZXMpICsgXCI6XCIgKyAoc2Vjb25kcyA8IDEwID8gXCIwXCIgKyBzZWNvbmRzIDogc2Vjb25kcykpO1xuICAgICAgICB2YXIgYnV0dG9uc1RvUmVuZGVyID0gW107XG4gICAgICAgIGJ1dHRvbnNUb1JlbmRlci5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c18xLk5hdmlnYXRpb25Db250YWluZXIsIHsga2V5OiBcImNhcm91c2VsQ2xvc2VcIiwgY2xhc3NOYW1lOiBcImNhcm91c2VsQnV0dG9uIGJjdEJ1dHRvbiBjbG9zZVwiLCBmb3JjZU9yZGVyOiAwLCBwYXJlbnQ6IHRoaXMuYnV0dG9uc0NvbnRhaW5lciwgb25DbGljazogdGhpcy5jbG9zZUNhcm91c2VsIH0pKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogXCJjYXJvdXNlbEJ1dHRvbnNcIiwgY2xhc3NOYW1lOiBcImJvdHRvbUNvbnRhaW5lclRvcEJ1dHRvbnNcIiB9LCBidXR0b25zVG9SZW5kZXIpO1xuICAgIH07XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuY2xvc2VDYXJvdXNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy51aUFjdGlvbnMub3Blbih7IHRvcDogXCJUVlwiLCBib3R0b206IFwiR1JJRFwiIH0pO1xuICAgIH07XG4gICAgQ2Fyb3VzZWxDbGFzcy5wcm90b3R5cGUuZ2V0TWVzc2FnZUZvckNhcm91c2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIHZhciBjaGFubmVsU3RhdHVzID0gdGhpcy5nZXRTdGF0ZSgpLmNoYW5uZWxTdGF0dXM7XG4gICAgICAgIGlmIChjaGFubmVsU3RhdHVzID09PSBcInBhdXNlZFwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IHRoaXMuYWRNZXNzYWdlQ29udGVudDtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsU3RhdHVzID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IHRoaXMuZW5kTWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbFN0YXR1cyA9PT0gXCJvZmZcIikge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSB0aGlzLm9mZk1lc3NhZ2VDb250ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxTdGF0dXMgPT09IFwicmVhZHlcIikge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSB0aGlzLnJlYWR5TWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2VDb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXJzXzEuQm90dG9tT3ZlcmxheU1lc3NhZ2UsIHsga2V5OiBcImJvdHRvbU1lc3NhZ2UjXCIgKyB0aGlzLnByb3BzLnN0YXRlLnRpbWVNb3ZpZVN5bmNlZCArIFwiI1wiICsgY2hhbm5lbFN0YXR1cywgbmF2aWdhdGlvblBhcmVudDogdGhpcyB9LCBtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhcm91c2VsQ2xhc3MucHJvdG90eXBlLmFsbENhdGVnb3JpZXNGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIENhcm91c2VsQ2xhc3M7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuZXhwb3J0cy5DYXJvdXNlbENsYXNzID0gQ2Fyb3VzZWxDbGFzcztcbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICByZXR1cm4geyBzdGF0ZTogX19hc3NpZ24oe30sIHN0YXRlLmNhcm91c2VsKSB9O1xufTtcbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gX19hc3NpZ24oe30sIHJlZHV4XzEuYmluZEFjdGlvbkNyZWF0b3JzKEFjdGlvbnNfMS5TeW5jQWN0aW9ucywgZGlzcGF0Y2gpLCB7IHVpQWN0aW9uczogcmVkdXhfMS5iaW5kQWN0aW9uQ3JlYXRvcnMoQWN0aW9uc18xLlVJQWN0aW9ucywgZGlzcGF0Y2gpIH0pO1xufTtcbmV4cG9ydHMuQ2Fyb3VzZWwgPSBIT0NfMS5uYXZpZ2FibGUocmVhY3RfcmVkdXhfMS5jb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXJvdXNlbENsYXNzKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA5ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkge1xuICAgICAgICBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNTIzKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OCkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg1ODkpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNjMzKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDYzNCkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2MzUpKTtcblxuLyoqKi8gfSlcblxufSxbMzEwXSk7XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gRGl2ZVNESy5mcm9udC5qcyIsImV4cG9ydCAqIGZyb20gJy4vbmF2aWdhYmxlL25hdmlnYWJsZS5IT0MnO1xuZXhwb3J0ICogZnJvbSAnLi9zdGF0aWNzL3N0YXRpY3MuSE9DJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0hPQy9pbmRleC50c3giLCJleHBvcnQgKiBmcm9tICcuL25hdmlnYXRpb25Db250YWluZXIvbmF2aWdhdGlvbkNvbnRhaW5lci5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9jYXJkRGV0YWlsL2NhcmREZXRhaWwuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vY2FyZEFuZENhdGVnb3J5L2NhcmRBbmRDYXRlZ29yeS5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi92ZXJ0aWNhbFNjcm9sbC92ZXJ0aWNhbFNjcm9sbC5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9ob3Jpem9udGFsU2Nyb2xsL2hvcml6b250YWxTY3JvbGwuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vZGlyZWN0aW9uQnV0dG9uTGlzdC9kaXJlY3Rpb25CdXR0b25MaXN0LmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2RpcmVjdGlvbkJ1dHRvbkxpc3QvZGlyZWN0aW9uQnV0dG9uL2RpcmVjdGlvbkJ1dHRvbi5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9taW5pQ2FyZC9taW5pQ2FyZEJ1dHRvbi9taW5pQ2FyZEJ1dHRvbi5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9taW5pQ2FyZExpc3QvbWluaUNhcmRMaXN0LmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL21pbmlDYXJkL21pbmlDYXJkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xvYWRpbmcvbG9hZGluZy5jb21wb25lbnQnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9pbmRleC50cyIsImV4cG9ydCAqIGZyb20gXCIuL2hlbHBlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbG9jYWxpemVkX3RleHRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXltYXBcIjtcbmV4cG9ydCAqIGZyb20gXCJAZGl2ZS10di9hcGktdHlwZXNjcmlwdC1saWJyYXJ5XCI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zZXJ2aWNlcy9pbmRleC50c3giLCIvL2ltcG9ydCAqIGFzIFJ4SlMgZnJvbSAncnhqcyc7XG4vLyBpbXBvcnQgeyBLZXlzTWFwcGVkIGFzIE9yc2F5S2V5c01hcHBlZCwgUm9sbGJhcktleSBhcyBPcnNheVJvbGxiYXJLZXkgfSBmcm9tIFwiLi90eXBlcy9leHRyYS5vcnNheVwiO1xuLy8gaW1wb3J0IHsgS2V5c01hcHBlZCBhcyBUaXplbktleXNNYXBwZWQsIFJvbGxiYXJLZXkgYXMgVGl6ZW5Sb2xsYmFyS2V5IH0gZnJvbSBcIi4vdHlwZXMvZXh0cmEudGl6ZW5cIjtcbmRlY2xhcmUgY29uc3QgX19FTkFCTEVfUk9MTEJBUl9fOiBib29sZWFuO1xuZGVjbGFyZSBjb25zdCBfX0VOQUJMRV9BTkFMWVRJQ1NfXzogYm9vbGVhbjtcbmRlY2xhcmUgY29uc3QgX19FTkFCTEVfQVdTX186IGJvb2xlYW47XG5kZWNsYXJlIGNvbnN0IF9fRU5BQkxFX1NFR01FTlRfXzogYm9vbGVhbjtcbmRlY2xhcmUgY29uc3QgX19FTkFCTEVfV0hZX186IGJvb2xlYW47XG5kZWNsYXJlIGNvbnN0IF9fRElWRV9FTlZfXzogXCJERVZcIiB8IFwiUFJFXCIgfCBcIlBST1wiO1xuZGVjbGFyZSBjb25zdCBfX0RJVkVfVkVSU0lPTl9fOiBzdHJpbmc7XG5kZWNsYXJlIGNvbnN0IF9fQ0hVTktfVkVSU0lPTl9fOiBzdHJpbmc7XG5jb25zdCBlbnZpcm9ubWVudDogXCJERVZcIiB8IFwiUFJFXCIgfCBcIlBST1wiID0gX19ESVZFX0VOVl9fO1xuLy8gY29uc3Qgcm9sbGJhcktleTogc3RyaW5nID0gZ2V0Um9sbGJhcktleSgpO1xuY29uc3QgZW5hYmxlUm9sbGJhcjogYm9vbGVhbiA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWSA9ICdEaXZlU3RhdGUnO1xuLypleHBvcnQgY29uc3Qga2V5RG93bk9ic2VydmFibGUkID0gUnhKUy5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgXCJrZXlkb3duXCIpXG4gICAgLm1hcCgoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGV2ZW50LmtleUNvZGUpO1xuZXhwb3J0IGNvbnN0IGtleVVwT2JzZXJ2YWJsZSQgPSBSeEpTLk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBcImtleXVwXCIpXG4gICAgLm1hcCgoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGV2ZW50LmtleUNvZGUpOyovXG5cbmV4cG9ydCBjb25zdCBESVZFX0VOVklST05NRU5UOiBcIkRFVlwiIHwgXCJQUkVcIiB8IFwiUFJPXCIgPSBlbnZpcm9ubWVudDtcbmV4cG9ydCBjb25zdCBFTkFCTEVfUk9MTEJBUiA9IGVuYWJsZVJvbGxiYXI7XG4vKiBDQVJPVVNFTCAqL1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9DQVJEX1RZUEVTID0gW1xuICAgIFwibW92aWVcIiwgLy8gMSAtIENhdGFsb2cgbW92aWVcbiAgICBcInNlcmllXCIsIC8vIDIgLSBDYXRhbG9nIGZ1bGwgc2VyaWVcbiAgICBcInBlcnNvblwiLCAvLyAzIC0gQWN0b3Igb3IgZGlyZWN0b3JcbiAgICBcImNoYXJhY3RlclwiLCAvLyA0IC0gTW92aWUgY2hhcmFjdGVyXG4gICAgXCJ2ZWhpY2xlXCIsIC8vIDUgLSBWZWhpY2xlIGRlc2NyaXB0aW9uXG4gICAgXCJmYXNoaW9uXCIsIC8vIDYgLSBGYXNoaW9uIGl0ZW1cbiAgICBcImxvY2F0aW9uXCIsIC8vIDcgLSBSZWFsIG9yIGZpY3Rpb25hbCBsb2NhdGlvblxuICAgIFwiaGlzdG9yaWNcIiwgLy8gOSAtIEhpc3RvcmljYWwgY29udGV4dFxuICAgIFwidHJpdmlhXCIsIC8vIDEwIC0gTW92aWUgdHJpdmlhIG9yIGN1cmlvc2l0eVxuICAgIFwicXVvdGVcIiwgLy8gMTEgLSBQbG90IHF1b3RlXG4gICAgXCJvc3RcIiwgLy8gMTIgLSBPcmlnaW5hbCBTb3VudHJhY2tcbiAgICBcImhvbWVcIiwgLy8gMTMgLSBIb21lIGFuZCBkZWNvIGl0ZW1cbiAgICBcInRlY2hub2xvZ3lcIiwgLy8gMTQgLSBUZWNobm9sb2d5IGl0ZW1cbiAgICBcImFydFwiLCAvLyAxNiAtIEFydCBpdGVtXG4gICAgXCJzb25nXCIsIC8vIDE3IC0gU2luZ2xlIE9TVCBzb25nXG4gICAgLy8gXCJsb29rXCIsIC8vIDE4IC0gRmFzaGlvbiBsb29rXG4gICAgLy8gXCJ0cmFpbGVyXCIsIC8vIDE5IC0gTW92aWUgdHJhaWxlclxuICAgIFwid2VhcG9uXCIsIC8vIDIwIC0gV2VhcG9uIGl0ZW1cbiAgICBcImxlaXN1cmVfc3BvcnRcIiwgLy8gMjEgLSBMZWlzdXJlIG9yIHNwb3J0cyBpdGVtXG4gICAgXCJoZWFsdGhfYmVhdXR5XCIsIC8vIDIyIC0gSGVhbHRoIGFuZCBiZWF1dHkgaXRlbVxuICAgIFwiZm9vZF9kcmlua1wiLCAvLyAyMyAtIEZvb2Qgb3IgZHJpbmsgcmVjaXBlXG4gICAgXCJmYXVuYV9mbG9yYVwiLCAvLyAyNCAtIEFuaW1hbCBvciBwbGFudCBkZXNjcmlwdGlvblxuICAgIFwiYnVzaW5lc3NcIiwgLy8gMjUgLSBCdXNpbmVzcyBhbmQgam9icyByZWxhdGVkIGl0ZW1cbiAgICBcInJlZmVyZW5jZVwiLCAvLyAyNiAtIE1lbnRpb24gdG8gb3RoZXIgY2FyZCBpbiBhIG1vdmllXG4gICAgLy8gXCJ2aWRlb2NsaXBcIiwgLy8gMjcgLSBNdXNpYyB2aWRlb2NsaXBcbiAgICBcImNoYXB0ZXJcIiwgLy8gMjggLSBTZXJpZSBjaGFwdGVyXG4gICAgLy8gXCJhY3Rpb25fZW1vdGlvblwiLCAvLyAyOSAtIEFjdGlvbiBvciBlbW90aW9uIHNob3duIG9uc2NyZWVuXG5dO1xuXG4vKmZ1bmN0aW9uIGdldEtleUFsaWFzKCk6IElLZXlzVG9NYXAge1xuICAgIGlmIChfX1BMQVRGT1JNX18gPT09IFwib3JzYXlcIikge1xuICAgICAgICByZXR1cm4gT3JzYXlLZXlzTWFwcGVkO1xuICAgIH0gZWxzZSBpZiAoX19QTEFURk9STV9fID09PSBcInRpemVuXCIpIHtcbiAgICAgICAgcmV0dXJuIFRpemVuS2V5c01hcHBlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBBZGQgY2xpZW50IGtleXNcbiAgICAgICAgcmV0dXJuIE9yc2F5S2V5c01hcHBlZDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFJvbGxiYXJLZXkoKSB7XG4gICAgaWYgKF9fUExBVEZPUk1fXyA9PT0gXCJvcnNheVwiKSB7XG4gICAgICAgIHJldHVybiBPcnNheVJvbGxiYXJLZXk7XG4gICAgfSBlbHNlIGlmIChfX1BMQVRGT1JNX18gPT09IFwidGl6ZW5cIikge1xuICAgICAgICByZXR1cm4gVGl6ZW5Sb2xsYmFyS2V5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IEFkZCBjbGllbnQga2V5c1xuICAgICAgICByZXR1cm4gT3JzYXlSb2xsYmFyS2V5O1xuICAgIH1cbn1cbiovXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb25zdGFudHMudHN4IiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDEpKSlcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxyXG4vKipcclxuICogRXhwb3NlIGBFbWl0dGVyYC5cclxuICovXHJcblxyXG5pZiAodHJ1ZSkge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gKlxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XHJcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcbn07XHJcblxyXG4vKipcclxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1peGluKG9iaikge1xyXG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xyXG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub24gPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxyXG4gICAgLnB1c2goZm4pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxyXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICBmdW5jdGlvbiBvbigpIHtcclxuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XHJcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgb24uZm4gPSBmbjtcclxuICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcclxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICAvLyBhbGxcclxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcclxuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuICB2YXIgY2I7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcclxuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcclxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuXHJcbiAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG52YXIgaGFzQmluYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgc2xpY2VCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcbnZhciBhZnRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIHV0ZjggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIGJhc2U2NGVuY29kZXI7XG5pZiAoZ2xvYmFsICYmIGdsb2JhbC5BcnJheUJ1ZmZlcikge1xuICBiYXNlNjRlbmNvZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UgYXJlIHJ1bm5pbmcgYW4gYW5kcm9pZCBicm93c2VyLiBUaGF0IHJlcXVpcmVzIHVzIHRvIHVzZVxuICogQXJyYXlCdWZmZXIgd2l0aCBwb2xsaW5nIHRyYW5zcG9ydHMuLi5cbiAqXG4gKiBodHRwOi8vZ2hpbmRhLm5ldC9qcGVnLWJsb2ItYWpheC1hbmRyb2lkL1xuICovXG5cbnZhciBpc0FuZHJvaWQgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UgYXJlIHJ1bm5pbmcgaW4gUGhhbnRvbUpTLlxuICogVXBsb2FkaW5nIGEgQmxvYiB3aXRoIFBoYW50b21KUyBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseSwgYXMgcmVwb3J0ZWQgaGVyZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hcml5YS9waGFudG9tanMvaXNzdWVzLzExMzk1XG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbnZhciBpc1BoYW50b21KUyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9QaGFudG9tSlMvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIFdoZW4gdHJ1ZSwgYXZvaWRzIHVzaW5nIEJsb2JzIHRvIGVuY29kZSBwYXlsb2Fkcy5cbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xudmFyIGRvbnRTZW5kQmxvYnMgPSBpc0FuZHJvaWQgfHwgaXNQaGFudG9tSlM7XG5cbi8qKlxuICogQ3VycmVudCBwcm90b2NvbCB2ZXJzaW9uLlxuICovXG5cbmV4cG9ydHMucHJvdG9jb2wgPSAzO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlcy5cbiAqL1xuXG52YXIgcGFja2V0cyA9IGV4cG9ydHMucGFja2V0cyA9IHtcbiAgICBvcGVuOiAgICAgMCAgICAvLyBub24td3NcbiAgLCBjbG9zZTogICAgMSAgICAvLyBub24td3NcbiAgLCBwaW5nOiAgICAgMlxuICAsIHBvbmc6ICAgICAzXG4gICwgbWVzc2FnZTogIDRcbiAgLCB1cGdyYWRlOiAgNVxuICAsIG5vb3A6ICAgICA2XG59O1xuXG52YXIgcGFja2V0c2xpc3QgPSBrZXlzKHBhY2tldHMpO1xuXG4vKipcbiAqIFByZW1hZGUgZXJyb3IgcGFja2V0LlxuICovXG5cbnZhciBlcnIgPSB7IHR5cGU6ICdlcnJvcicsIGRhdGE6ICdwYXJzZXIgZXJyb3InIH07XG5cbi8qKlxuICogQ3JlYXRlIGEgYmxvYiBhcGkgZXZlbiBmb3IgYmxvYiBidWlsZGVyIHdoZW4gdmVuZG9yIHByZWZpeGVzIGV4aXN0XG4gKi9cblxudmFyIEJsb2IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxuLyoqXG4gKiBFbmNvZGVzIGEgcGFja2V0LlxuICpcbiAqICAgICA8cGFja2V0IHR5cGUgaWQ+IFsgPGRhdGE+IF1cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICA1aGVsbG8gd29ybGRcbiAqICAgICAzXG4gKiAgICAgNFxuICpcbiAqIEJpbmFyeSBpcyBlbmNvZGVkIGluIGFuIGlkZW50aWNhbCBwcmluY2lwbGVcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmVuY29kZVBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCB1dGY4ZW5jb2RlLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIHN1cHBvcnRzQmluYXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBzdXBwb3J0c0JpbmFyeTtcbiAgICBzdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB1dGY4ZW5jb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSB1dGY4ZW5jb2RlO1xuICAgIHV0ZjhlbmNvZGUgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRhdGEgPSAocGFja2V0LmRhdGEgPT09IHVuZGVmaW5lZClcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogcGFja2V0LmRhdGEuYnVmZmVyIHx8IHBhY2tldC5kYXRhO1xuXG4gIGlmIChnbG9iYWwuQXJyYXlCdWZmZXIgJiYgZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGVuY29kZUFycmF5QnVmZmVyKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKTtcbiAgfSBlbHNlIGlmIChCbG9iICYmIGRhdGEgaW5zdGFuY2VvZiBnbG9iYWwuQmxvYikge1xuICAgIHJldHVybiBlbmNvZGVCbG9iKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIG1pZ2h0IGJlIGFuIG9iamVjdCB3aXRoIHsgYmFzZTY0OiB0cnVlLCBkYXRhOiBkYXRhQXNCYXNlNjRTdHJpbmcgfVxuICBpZiAoZGF0YSAmJiBkYXRhLmJhc2U2NCkge1xuICAgIHJldHVybiBlbmNvZGVCYXNlNjRPYmplY3QocGFja2V0LCBjYWxsYmFjayk7XG4gIH1cblxuICAvLyBTZW5kaW5nIGRhdGEgYXMgYSB1dGYtOCBzdHJpbmdcbiAgdmFyIGVuY29kZWQgPSBwYWNrZXRzW3BhY2tldC50eXBlXTtcblxuICAvLyBkYXRhIGZyYWdtZW50IGlzIG9wdGlvbmFsXG4gIGlmICh1bmRlZmluZWQgIT09IHBhY2tldC5kYXRhKSB7XG4gICAgZW5jb2RlZCArPSB1dGY4ZW5jb2RlID8gdXRmOC5lbmNvZGUoU3RyaW5nKHBhY2tldC5kYXRhKSwgeyBzdHJpY3Q6IGZhbHNlIH0pIDogU3RyaW5nKHBhY2tldC5kYXRhKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsYmFjaygnJyArIGVuY29kZWQpO1xuXG59O1xuXG5mdW5jdGlvbiBlbmNvZGVCYXNlNjRPYmplY3QocGFja2V0LCBjYWxsYmFjaykge1xuICAvLyBwYWNrZXQgZGF0YSBpcyBhbiBvYmplY3QgeyBiYXNlNjQ6IHRydWUsIGRhdGE6IGRhdGFBc0Jhc2U2NFN0cmluZyB9XG4gIHZhciBtZXNzYWdlID0gJ2InICsgZXhwb3J0cy5wYWNrZXRzW3BhY2tldC50eXBlXSArIHBhY2tldC5kYXRhLmRhdGE7XG4gIHJldHVybiBjYWxsYmFjayhtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBFbmNvZGUgcGFja2V0IGhlbHBlcnMgZm9yIGJpbmFyeSB0eXBlc1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUFycmF5QnVmZmVyKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKSB7XG4gIGlmICghc3VwcG9ydHNCaW5hcnkpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5lbmNvZGVCYXNlNjRQYWNrZXQocGFja2V0LCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHBhY2tldC5kYXRhO1xuICB2YXIgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIHZhciByZXN1bHRCdWZmZXIgPSBuZXcgVWludDhBcnJheSgxICsgZGF0YS5ieXRlTGVuZ3RoKTtcblxuICByZXN1bHRCdWZmZXJbMF0gPSBwYWNrZXRzW3BhY2tldC50eXBlXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZW50QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRCdWZmZXJbaSsxXSA9IGNvbnRlbnRBcnJheVtpXTtcbiAgfVxuXG4gIHJldHVybiBjYWxsYmFjayhyZXN1bHRCdWZmZXIuYnVmZmVyKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlQmxvYkFzQXJyYXlCdWZmZXIocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spIHtcbiAgaWYgKCFzdXBwb3J0c0JpbmFyeSkge1xuICAgIHJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGZyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHBhY2tldC5kYXRhID0gZnIucmVzdWx0O1xuICAgIGV4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIHRydWUsIGNhbGxiYWNrKTtcbiAgfTtcbiAgcmV0dXJuIGZyLnJlYWRBc0FycmF5QnVmZmVyKHBhY2tldC5kYXRhKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlQmxvYihwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykge1xuICBpZiAoIXN1cHBvcnRzQmluYXJ5KSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCwgY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKGRvbnRTZW5kQmxvYnMpIHtcbiAgICByZXR1cm4gZW5jb2RlQmxvYkFzQXJyYXlCdWZmZXIocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIGxlbmd0aCA9IG5ldyBVaW50OEFycmF5KDEpO1xuICBsZW5ndGhbMF0gPSBwYWNrZXRzW3BhY2tldC50eXBlXTtcbiAgdmFyIGJsb2IgPSBuZXcgQmxvYihbbGVuZ3RoLmJ1ZmZlciwgcGFja2V0LmRhdGFdKTtcblxuICByZXR1cm4gY2FsbGJhY2soYmxvYik7XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIHBhY2tldCB3aXRoIGJpbmFyeSBkYXRhIGluIGEgYmFzZTY0IHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQsIGhhcyBgdHlwZWAgYW5kIGBkYXRhYFxuICogQHJldHVybiB7U3RyaW5nfSBiYXNlNjQgZW5jb2RlZCBtZXNzYWdlXG4gKi9cblxuZXhwb3J0cy5lbmNvZGVCYXNlNjRQYWNrZXQgPSBmdW5jdGlvbihwYWNrZXQsIGNhbGxiYWNrKSB7XG4gIHZhciBtZXNzYWdlID0gJ2InICsgZXhwb3J0cy5wYWNrZXRzW3BhY2tldC50eXBlXTtcbiAgaWYgKEJsb2IgJiYgcGFja2V0LmRhdGEgaW5zdGFuY2VvZiBnbG9iYWwuQmxvYikge1xuICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZnIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYjY0ID0gZnIucmVzdWx0LnNwbGl0KCcsJylbMV07XG4gICAgICBjYWxsYmFjayhtZXNzYWdlICsgYjY0KTtcbiAgICB9O1xuICAgIHJldHVybiBmci5yZWFkQXNEYXRhVVJMKHBhY2tldC5kYXRhKTtcbiAgfVxuXG4gIHZhciBiNjRkYXRhO1xuICB0cnkge1xuICAgIGI2NGRhdGEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KHBhY2tldC5kYXRhKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBpUGhvbmUgU2FmYXJpIGRvZXNuJ3QgbGV0IHlvdSBhcHBseSB3aXRoIHR5cGVkIGFycmF5c1xuICAgIHZhciB0eXBlZCA9IG5ldyBVaW50OEFycmF5KHBhY2tldC5kYXRhKTtcbiAgICB2YXIgYmFzaWMgPSBuZXcgQXJyYXkodHlwZWQubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBiYXNpY1tpXSA9IHR5cGVkW2ldO1xuICAgIH1cbiAgICBiNjRkYXRhID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBiYXNpYyk7XG4gIH1cbiAgbWVzc2FnZSArPSBnbG9iYWwuYnRvYShiNjRkYXRhKTtcbiAgcmV0dXJuIGNhbGxiYWNrKG1lc3NhZ2UpO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgcGFja2V0LiBDaGFuZ2VzIGZvcm1hdCB0byBCbG9iIGlmIHJlcXVlc3RlZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggYHR5cGVgIGFuZCBgZGF0YWAgKGlmIGFueSlcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuZGVjb2RlUGFja2V0ID0gZnVuY3Rpb24gKGRhdGEsIGJpbmFyeVR5cGUsIHV0ZjhkZWNvZGUpIHtcbiAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbiAgLy8gU3RyaW5nIGRhdGFcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGlmIChkYXRhLmNoYXJBdCgwKSA9PT0gJ2InKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZWNvZGVCYXNlNjRQYWNrZXQoZGF0YS5zdWJzdHIoMSksIGJpbmFyeVR5cGUpO1xuICAgIH1cblxuICAgIGlmICh1dGY4ZGVjb2RlKSB7XG4gICAgICBkYXRhID0gdHJ5RGVjb2RlKGRhdGEpO1xuICAgICAgaWYgKGRhdGEgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0eXBlID0gZGF0YS5jaGFyQXQoMCk7XG5cbiAgICBpZiAoTnVtYmVyKHR5cGUpICE9IHR5cGUgfHwgIXBhY2tldHNsaXN0W3R5cGVdKSB7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IHBhY2tldHNsaXN0W3R5cGVdLCBkYXRhOiBkYXRhLnN1YnN0cmluZygxKSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBwYWNrZXRzbGlzdFt0eXBlXSB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBhc0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIHZhciB0eXBlID0gYXNBcnJheVswXTtcbiAgdmFyIHJlc3QgPSBzbGljZUJ1ZmZlcihkYXRhLCAxKTtcbiAgaWYgKEJsb2IgJiYgYmluYXJ5VHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgcmVzdCA9IG5ldyBCbG9iKFtyZXN0XSk7XG4gIH1cbiAgcmV0dXJuIHsgdHlwZTogcGFja2V0c2xpc3RbdHlwZV0sIGRhdGE6IHJlc3QgfTtcbn07XG5cbmZ1bmN0aW9uIHRyeURlY29kZShkYXRhKSB7XG4gIHRyeSB7XG4gICAgZGF0YSA9IHV0ZjguZGVjb2RlKGRhdGEsIHsgc3RyaWN0OiBmYWxzZSB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBEZWNvZGVzIGEgcGFja2V0IGVuY29kZWQgaW4gYSBiYXNlNjQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGJhc2U2NCBlbmNvZGVkIG1lc3NhZ2VcbiAqIEByZXR1cm4ge09iamVjdH0gd2l0aCBgdHlwZWAgYW5kIGBkYXRhYCAoaWYgYW55KVxuICovXG5cbmV4cG9ydHMuZGVjb2RlQmFzZTY0UGFja2V0ID0gZnVuY3Rpb24obXNnLCBiaW5hcnlUeXBlKSB7XG4gIHZhciB0eXBlID0gcGFja2V0c2xpc3RbbXNnLmNoYXJBdCgwKV07XG4gIGlmICghYmFzZTY0ZW5jb2Rlcikge1xuICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIGRhdGE6IHsgYmFzZTY0OiB0cnVlLCBkYXRhOiBtc2cuc3Vic3RyKDEpIH0gfTtcbiAgfVxuXG4gIHZhciBkYXRhID0gYmFzZTY0ZW5jb2Rlci5kZWNvZGUobXNnLnN1YnN0cigxKSk7XG5cbiAgaWYgKGJpbmFyeVR5cGUgPT09ICdibG9iJyAmJiBCbG9iKSB7XG4gICAgZGF0YSA9IG5ldyBCbG9iKFtkYXRhXSk7XG4gIH1cblxuICByZXR1cm4geyB0eXBlOiB0eXBlLCBkYXRhOiBkYXRhIH07XG59O1xuXG4vKipcbiAqIEVuY29kZXMgbXVsdGlwbGUgbWVzc2FnZXMgKHBheWxvYWQpLlxuICpcbiAqICAgICA8bGVuZ3RoPjpkYXRhXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgMTE6aGVsbG8gd29ybGQyOmhpXG4gKlxuICogSWYgYW55IGNvbnRlbnRzIGFyZSBiaW5hcnksIHRoZXkgd2lsbCBiZSBlbmNvZGVkIGFzIGJhc2U2NCBzdHJpbmdzLiBCYXNlNjRcbiAqIGVuY29kZWQgc3RyaW5ncyBhcmUgbWFya2VkIHdpdGggYSBiIGJlZm9yZSB0aGUgbGVuZ3RoIHNwZWNpZmllclxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuZW5jb2RlUGF5bG9hZCA9IGZ1bmN0aW9uIChwYWNrZXRzLCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBzdXBwb3J0c0JpbmFyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gc3VwcG9ydHNCaW5hcnk7XG4gICAgc3VwcG9ydHNCaW5hcnkgPSBudWxsO1xuICB9XG5cbiAgdmFyIGlzQmluYXJ5ID0gaGFzQmluYXJ5KHBhY2tldHMpO1xuXG4gIGlmIChzdXBwb3J0c0JpbmFyeSAmJiBpc0JpbmFyeSkge1xuICAgIGlmIChCbG9iICYmICFkb250U2VuZEJsb2JzKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNCbG9iKHBhY2tldHMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcihwYWNrZXRzLCBjYWxsYmFjayk7XG4gIH1cblxuICBpZiAoIXBhY2tldHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCcwOicpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0TGVuZ3RoSGVhZGVyKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbWVzc2FnZS5sZW5ndGggKyAnOicgKyBtZXNzYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5jb2RlT25lKHBhY2tldCwgZG9uZUNhbGxiYWNrKSB7XG4gICAgZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCAhaXNCaW5hcnkgPyBmYWxzZSA6IHN1cHBvcnRzQmluYXJ5LCBmYWxzZSwgZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgZG9uZUNhbGxiYWNrKG51bGwsIHNldExlbmd0aEhlYWRlcihtZXNzYWdlKSk7XG4gICAgfSk7XG4gIH1cblxuICBtYXAocGFja2V0cywgZW5jb2RlT25lLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0cy5qb2luKCcnKSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBc3luYyBhcnJheSBtYXAgdXNpbmcgYWZ0ZXJcbiAqL1xuXG5mdW5jdGlvbiBtYXAoYXJ5LCBlYWNoLCBkb25lKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoYXJ5Lmxlbmd0aCk7XG4gIHZhciBuZXh0ID0gYWZ0ZXIoYXJ5Lmxlbmd0aCwgZG9uZSk7XG5cbiAgdmFyIGVhY2hXaXRoSW5kZXggPSBmdW5jdGlvbihpLCBlbCwgY2IpIHtcbiAgICBlYWNoKGVsLCBmdW5jdGlvbihlcnJvciwgbXNnKSB7XG4gICAgICByZXN1bHRbaV0gPSBtc2c7XG4gICAgICBjYihlcnJvciwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyeS5sZW5ndGg7IGkrKykge1xuICAgIGVhY2hXaXRoSW5kZXgoaSwgYXJ5W2ldLCBuZXh0KTtcbiAgfVxufVxuXG4vKlxuICogRGVjb2RlcyBkYXRhIHdoZW4gYSBwYXlsb2FkIGlzIG1heWJlIGV4cGVjdGVkLiBQb3NzaWJsZSBiaW5hcnkgY29udGVudHMgYXJlXG4gKiBkZWNvZGVkIGZyb20gdGhlaXIgYmFzZTY0IHJlcHJlc2VudGF0aW9uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGRhdGEsIGNhbGxiYWNrIG1ldGhvZFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmRlY29kZVBheWxvYWQgPSBmdW5jdGlvbiAoZGF0YSwgYmluYXJ5VHlwZSwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBleHBvcnRzLmRlY29kZVBheWxvYWRBc0JpbmFyeShkYXRhLCBiaW5hcnlUeXBlLCBjYWxsYmFjayk7XG4gIH1cblxuICBpZiAodHlwZW9mIGJpbmFyeVR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IGJpbmFyeVR5cGU7XG4gICAgYmluYXJ5VHlwZSA9IG51bGw7XG4gIH1cblxuICB2YXIgcGFja2V0O1xuICBpZiAoZGF0YSA9PT0gJycpIHtcbiAgICAvLyBwYXJzZXIgZXJyb3IgLSBpZ25vcmluZyBwYXlsb2FkXG4gICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gJycsIG4sIG1zZztcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGRhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGNociA9IGRhdGEuY2hhckF0KGkpO1xuXG4gICAgaWYgKGNociAhPT0gJzonKSB7XG4gICAgICBsZW5ndGggKz0gY2hyO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA9PT0gJycgfHwgKGxlbmd0aCAhPSAobiA9IE51bWJlcihsZW5ndGgpKSkpIHtcbiAgICAgIC8vIHBhcnNlciBlcnJvciAtIGlnbm9yaW5nIHBheWxvYWRcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICAgIH1cblxuICAgIG1zZyA9IGRhdGEuc3Vic3RyKGkgKyAxLCBuKTtcblxuICAgIGlmIChsZW5ndGggIT0gbXNnLmxlbmd0aCkge1xuICAgICAgLy8gcGFyc2VyIGVycm9yIC0gaWdub3JpbmcgcGF5bG9hZFxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKG1zZy5sZW5ndGgpIHtcbiAgICAgIHBhY2tldCA9IGV4cG9ydHMuZGVjb2RlUGFja2V0KG1zZywgYmluYXJ5VHlwZSwgZmFsc2UpO1xuXG4gICAgICBpZiAoZXJyLnR5cGUgPT09IHBhY2tldC50eXBlICYmIGVyci5kYXRhID09PSBwYWNrZXQuZGF0YSkge1xuICAgICAgICAvLyBwYXJzZXIgZXJyb3IgaW4gaW5kaXZpZHVhbCBwYWNrZXQgLSBpZ25vcmluZyBwYXlsb2FkXG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0ID0gY2FsbGJhY2socGFja2V0LCBpICsgbiwgbCk7XG4gICAgICBpZiAoZmFsc2UgPT09IHJldCkgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFkdmFuY2UgY3Vyc29yXG4gICAgaSArPSBuO1xuICAgIGxlbmd0aCA9ICcnO1xuICB9XG5cbiAgaWYgKGxlbmd0aCAhPT0gJycpIHtcbiAgICAvLyBwYXJzZXIgZXJyb3IgLSBpZ25vcmluZyBwYXlsb2FkXG4gICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gIH1cblxufTtcblxuLyoqXG4gKiBFbmNvZGVzIG11bHRpcGxlIG1lc3NhZ2VzIChwYXlsb2FkKSBhcyBiaW5hcnkuXG4gKlxuICogPDEgPSBiaW5hcnksIDAgPSBzdHJpbmc+PG51bWJlciBmcm9tIDAtOT48bnVtYmVyIGZyb20gMC05PlsuLi5dPG51bWJlclxuICogMjU1PjxkYXRhPlxuICpcbiAqIEV4YW1wbGU6XG4gKiAxIDMgMjU1IDEgMiAzLCBpZiB0aGUgYmluYXJ5IGNvbnRlbnRzIGFyZSBpbnRlcnByZXRlZCBhcyA4IGJpdCBpbnRlZ2Vyc1xuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHNcbiAqIEByZXR1cm4ge0FycmF5QnVmZmVyfSBlbmNvZGVkIHBheWxvYWRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQXJyYXlCdWZmZXIgPSBmdW5jdGlvbihwYWNrZXRzLCBjYWxsYmFjaykge1xuICBpZiAoIXBhY2tldHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBBcnJheUJ1ZmZlcigwKSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LCBkb25lQ2FsbGJhY2spIHtcbiAgICBleHBvcnRzLmVuY29kZVBhY2tldChwYWNrZXQsIHRydWUsIHRydWUsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiBkb25lQ2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBtYXAocGFja2V0cywgZW5jb2RlT25lLCBmdW5jdGlvbihlcnIsIGVuY29kZWRQYWNrZXRzKSB7XG4gICAgdmFyIHRvdGFsTGVuZ3RoID0gZW5jb2RlZFBhY2tldHMucmVkdWNlKGZ1bmN0aW9uKGFjYywgcCkge1xuICAgICAgdmFyIGxlbjtcbiAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpe1xuICAgICAgICBsZW4gPSBwLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlbiA9IHAuYnl0ZUxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2MgKyBsZW4udG9TdHJpbmcoKS5sZW5ndGggKyBsZW4gKyAyOyAvLyBzdHJpbmcvYmluYXJ5IGlkZW50aWZpZXIgKyBzZXBhcmF0b3IgPSAyXG4gICAgfSwgMCk7XG5cbiAgICB2YXIgcmVzdWx0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7XG5cbiAgICB2YXIgYnVmZmVySW5kZXggPSAwO1xuICAgIGVuY29kZWRQYWNrZXRzLmZvckVhY2goZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGlzU3RyaW5nID0gdHlwZW9mIHAgPT09ICdzdHJpbmcnO1xuICAgICAgdmFyIGFiID0gcDtcbiAgICAgIGlmIChpc1N0cmluZykge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KHAubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmlld1tpXSA9IHAuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBhYiA9IHZpZXcuYnVmZmVyO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcpIHsgLy8gbm90IHRydWUgYmluYXJ5XG4gICAgICAgIHJlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdID0gMDtcbiAgICAgIH0gZWxzZSB7IC8vIHRydWUgYmluYXJ5XG4gICAgICAgIHJlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdID0gMTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlblN0ciA9IGFiLmJ5dGVMZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuU3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdID0gcGFyc2VJbnQobGVuU3RyW2ldKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdID0gMjU1O1xuXG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGFiKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXSA9IHZpZXdbaV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0QXJyYXkuYnVmZmVyKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEVuY29kZSBhcyBCbG9iXG4gKi9cblxuZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNCbG9iID0gZnVuY3Rpb24ocGFja2V0cywgY2FsbGJhY2spIHtcbiAgZnVuY3Rpb24gZW5jb2RlT25lKHBhY2tldCwgZG9uZUNhbGxiYWNrKSB7XG4gICAgZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCB0cnVlLCB0cnVlLCBmdW5jdGlvbihlbmNvZGVkKSB7XG4gICAgICB2YXIgYmluYXJ5SWRlbnRpZmllciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgYmluYXJ5SWRlbnRpZmllclswXSA9IDE7XG4gICAgICBpZiAodHlwZW9mIGVuY29kZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoZW5jb2RlZC5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2aWV3W2ldID0gZW5jb2RlZC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIGVuY29kZWQgPSB2aWV3LmJ1ZmZlcjtcbiAgICAgICAgYmluYXJ5SWRlbnRpZmllclswXSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW4gPSAoZW5jb2RlZCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKVxuICAgICAgICA/IGVuY29kZWQuYnl0ZUxlbmd0aFxuICAgICAgICA6IGVuY29kZWQuc2l6ZTtcblxuICAgICAgdmFyIGxlblN0ciA9IGxlbi50b1N0cmluZygpO1xuICAgICAgdmFyIGxlbmd0aEFyeSA9IG5ldyBVaW50OEFycmF5KGxlblN0ci5sZW5ndGggKyAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuU3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxlbmd0aEFyeVtpXSA9IHBhcnNlSW50KGxlblN0cltpXSk7XG4gICAgICB9XG4gICAgICBsZW5ndGhBcnlbbGVuU3RyLmxlbmd0aF0gPSAyNTU7XG5cbiAgICAgIGlmIChCbG9iKSB7XG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2JpbmFyeUlkZW50aWZpZXIuYnVmZmVyLCBsZW5ndGhBcnkuYnVmZmVyLCBlbmNvZGVkXSk7XG4gICAgICAgIGRvbmVDYWxsYmFjayhudWxsLCBibG9iKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG1hcChwYWNrZXRzLCBlbmNvZGVPbmUsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgIHJldHVybiBjYWxsYmFjayhuZXcgQmxvYihyZXN1bHRzKSk7XG4gIH0pO1xufTtcblxuLypcbiAqIERlY29kZXMgZGF0YSB3aGVuIGEgcGF5bG9hZCBpcyBtYXliZSBleHBlY3RlZC4gU3RyaW5ncyBhcmUgZGVjb2RlZCBieVxuICogaW50ZXJwcmV0aW5nIGVhY2ggYnl0ZSBhcyBhIGtleSBjb2RlIGZvciBlbnRyaWVzIG1hcmtlZCB0byBzdGFydCB3aXRoIDAuIFNlZVxuICogZGVzY3JpcHRpb24gb2YgZW5jb2RlUGF5bG9hZEFzQmluYXJ5XG4gKlxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gZGF0YSwgY2FsbGJhY2sgbWV0aG9kXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuZGVjb2RlUGF5bG9hZEFzQmluYXJ5ID0gZnVuY3Rpb24gKGRhdGEsIGJpbmFyeVR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgYmluYXJ5VHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gYmluYXJ5VHlwZTtcbiAgICBiaW5hcnlUeXBlID0gbnVsbDtcbiAgfVxuXG4gIHZhciBidWZmZXJUYWlsID0gZGF0YTtcbiAgdmFyIGJ1ZmZlcnMgPSBbXTtcblxuICB3aGlsZSAoYnVmZmVyVGFpbC5ieXRlTGVuZ3RoID4gMCkge1xuICAgIHZhciB0YWlsQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXJUYWlsKTtcbiAgICB2YXIgaXNTdHJpbmcgPSB0YWlsQXJyYXlbMF0gPT09IDA7XG4gICAgdmFyIG1zZ0xlbmd0aCA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IDsgaSsrKSB7XG4gICAgICBpZiAodGFpbEFycmF5W2ldID09PSAyNTUpIGJyZWFrO1xuXG4gICAgICAvLyAzMTAgPSBjaGFyIGxlbmd0aCBvZiBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgICBpZiAobXNnTGVuZ3RoLmxlbmd0aCA+IDMxMCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgICAgIH1cblxuICAgICAgbXNnTGVuZ3RoICs9IHRhaWxBcnJheVtpXTtcbiAgICB9XG5cbiAgICBidWZmZXJUYWlsID0gc2xpY2VCdWZmZXIoYnVmZmVyVGFpbCwgMiArIG1zZ0xlbmd0aC5sZW5ndGgpO1xuICAgIG1zZ0xlbmd0aCA9IHBhcnNlSW50KG1zZ0xlbmd0aCk7XG5cbiAgICB2YXIgbXNnID0gc2xpY2VCdWZmZXIoYnVmZmVyVGFpbCwgMCwgbXNnTGVuZ3RoKTtcbiAgICBpZiAoaXNTdHJpbmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG1zZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkobXNnKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlQaG9uZSBTYWZhcmkgZG9lc24ndCBsZXQgeW91IGFwcGx5IHRvIHR5cGVkIGFycmF5c1xuICAgICAgICB2YXIgdHlwZWQgPSBuZXcgVWludDhBcnJheShtc2cpO1xuICAgICAgICBtc2cgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1zZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHR5cGVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGJ1ZmZlcnMucHVzaChtc2cpO1xuICAgIGJ1ZmZlclRhaWwgPSBzbGljZUJ1ZmZlcihidWZmZXJUYWlsLCBtc2dMZW5ndGgpO1xuICB9XG5cbiAgdmFyIHRvdGFsID0gYnVmZmVycy5sZW5ndGg7XG4gIGJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihidWZmZXIsIGkpIHtcbiAgICBjYWxsYmFjayhleHBvcnRzLmRlY29kZVBhY2tldChidWZmZXIsIGJpbmFyeVR5cGUsIHRydWUpLCBpLCB0b3RhbCk7XG4gIH0pO1xufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXHJcbiAqIENvbXBpbGVzIGEgcXVlcnlzdHJpbmdcclxuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgdmFyIHN0ciA9ICcnO1xyXG5cclxuICBmb3IgKHZhciBpIGluIG9iaikge1xyXG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICBpZiAoc3RyLmxlbmd0aCkgc3RyICs9ICcmJztcclxuICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0cjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQYXJzZXMgYSBzaW1wbGUgcXVlcnlzdHJpbmcgaW50byBhbiBvYmplY3RcclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHFzXHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24ocXMpe1xyXG4gIHZhciBxcnkgPSB7fTtcclxuICB2YXIgcGFpcnMgPSBxcy5zcGxpdCgnJicpO1xyXG4gIGZvciAodmFyIGkgPSAwLCBsID0gcGFpcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICB2YXIgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICBxcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcclxuICB9XHJcbiAgcmV0dXJuIHFyeTtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYSwgYil7XG4gIHZhciBmbiA9IGZ1bmN0aW9uKCl7fTtcbiAgZm4ucHJvdG90eXBlID0gYi5wcm90b3R5cGU7XG4gIGEucHJvdG90eXBlID0gbmV3IGZuO1xuICBhLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGE7XG59O1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnc29ja2V0LmlvLXBhcnNlcicpO1xudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIGhhc0JpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIGJpbmFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xudmFyIGlzQnVmID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucHJvdG9jb2wgPSA0O1xuXG4vKipcbiAqIFBhY2tldCB0eXBlcy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudHlwZXMgPSBbXG4gICdDT05ORUNUJyxcbiAgJ0RJU0NPTk5FQ1QnLFxuICAnRVZFTlQnLFxuICAnQUNLJyxcbiAgJ0VSUk9SJyxcbiAgJ0JJTkFSWV9FVkVOVCcsXG4gICdCSU5BUllfQUNLJ1xuXTtcblxuLyoqXG4gKiBQYWNrZXQgdHlwZSBgY29ubmVjdGAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkNPTk5FQ1QgPSAwO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBkaXNjb25uZWN0YC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuRElTQ09OTkVDVCA9IDE7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGV2ZW50YC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuRVZFTlQgPSAyO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBhY2tgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5BQ0sgPSAzO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBlcnJvcmAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkVSUk9SID0gNDtcblxuLyoqXG4gKiBQYWNrZXQgdHlwZSAnYmluYXJ5IGV2ZW50J1xuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5CSU5BUllfRVZFTlQgPSA1O1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBiaW5hcnkgYWNrYC4gRm9yIGFja3Mgd2l0aCBiaW5hcnkgYXJndW1lbnRzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5CSU5BUllfQUNLID0gNjtcblxuLyoqXG4gKiBFbmNvZGVyIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5FbmNvZGVyID0gRW5jb2RlcjtcblxuLyoqXG4gKiBEZWNvZGVyIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5EZWNvZGVyID0gRGVjb2RlcjtcblxuLyoqXG4gKiBBIHNvY2tldC5pbyBFbmNvZGVyIGluc3RhbmNlXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBFbmNvZGVyKCkge31cblxuLyoqXG4gKiBFbmNvZGUgYSBwYWNrZXQgYXMgYSBzaW5nbGUgc3RyaW5nIGlmIG5vbi1iaW5hcnksIG9yIGFzIGFcbiAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBwYWNrZXQgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGhhbmRsZSBlbmNvZGluZ3MgKGxpa2VseSBlbmdpbmUud3JpdGUpXG4gKiBAcmV0dXJuIENhbGxzIGNhbGxiYWNrIHdpdGggQXJyYXkgb2YgZW5jb2RpbmdzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKG9iaiwgY2FsbGJhY2spe1xuICBpZiAoKG9iai50eXBlID09PSBleHBvcnRzLkVWRU5UIHx8IG9iai50eXBlID09PSBleHBvcnRzLkFDSykgJiYgaGFzQmluKG9iai5kYXRhKSkge1xuICAgIG9iai50eXBlID0gb2JqLnR5cGUgPT09IGV4cG9ydHMuRVZFTlQgPyBleHBvcnRzLkJJTkFSWV9FVkVOVCA6IGV4cG9ydHMuQklOQVJZX0FDSztcbiAgfVxuXG4gIGRlYnVnKCdlbmNvZGluZyBwYWNrZXQgJWonLCBvYmopO1xuXG4gIGlmIChleHBvcnRzLkJJTkFSWV9FVkVOVCA9PT0gb2JqLnR5cGUgfHwgZXhwb3J0cy5CSU5BUllfQUNLID09PSBvYmoudHlwZSkge1xuICAgIGVuY29kZUFzQmluYXJ5KG9iaiwgY2FsbGJhY2spO1xuICB9XG4gIGVsc2Uge1xuICAgIHZhciBlbmNvZGluZyA9IGVuY29kZUFzU3RyaW5nKG9iaik7XG4gICAgY2FsbGJhY2soW2VuY29kaW5nXSk7XG4gIH1cbn07XG5cbi8qKlxuICogRW5jb2RlIHBhY2tldCBhcyBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7U3RyaW5nfSBlbmNvZGVkXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGVBc1N0cmluZyhvYmopIHtcblxuICAvLyBmaXJzdCBpcyB0eXBlXG4gIHZhciBzdHIgPSAnJyArIG9iai50eXBlO1xuXG4gIC8vIGF0dGFjaG1lbnRzIGlmIHdlIGhhdmUgdGhlbVxuICBpZiAoZXhwb3J0cy5CSU5BUllfRVZFTlQgPT09IG9iai50eXBlIHx8IGV4cG9ydHMuQklOQVJZX0FDSyA9PT0gb2JqLnR5cGUpIHtcbiAgICBzdHIgKz0gb2JqLmF0dGFjaG1lbnRzICsgJy0nO1xuICB9XG5cbiAgLy8gaWYgd2UgaGF2ZSBhIG5hbWVzcGFjZSBvdGhlciB0aGFuIGAvYFxuICAvLyB3ZSBhcHBlbmQgaXQgZm9sbG93ZWQgYnkgYSBjb21tYSBgLGBcbiAgaWYgKG9iai5uc3AgJiYgJy8nICE9PSBvYmoubnNwKSB7XG4gICAgc3RyICs9IG9iai5uc3AgKyAnLCc7XG4gIH1cblxuICAvLyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSB0aGUgaWRcbiAgaWYgKG51bGwgIT0gb2JqLmlkKSB7XG4gICAgc3RyICs9IG9iai5pZDtcbiAgfVxuXG4gIC8vIGpzb24gZGF0YVxuICBpZiAobnVsbCAhPSBvYmouZGF0YSkge1xuICAgIHN0ciArPSBKU09OLnN0cmluZ2lmeShvYmouZGF0YSk7XG4gIH1cblxuICBkZWJ1ZygnZW5jb2RlZCAlaiBhcyAlcycsIG9iaiwgc3RyKTtcbiAgcmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBFbmNvZGUgcGFja2V0IGFzICdidWZmZXIgc2VxdWVuY2UnIGJ5IHJlbW92aW5nIGJsb2JzLCBhbmRcbiAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAqIGEgbGlzdCBvZiBidWZmZXJzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0J1ZmZlcn0gZW5jb2RlZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQXNCaW5hcnkob2JqLCBjYWxsYmFjaykge1xuXG4gIGZ1bmN0aW9uIHdyaXRlRW5jb2RpbmcoYmxvYmxlc3NEYXRhKSB7XG4gICAgdmFyIGRlY29uc3RydWN0aW9uID0gYmluYXJ5LmRlY29uc3RydWN0UGFja2V0KGJsb2JsZXNzRGF0YSk7XG4gICAgdmFyIHBhY2sgPSBlbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgIHZhciBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcblxuICAgIGJ1ZmZlcnMudW5zaGlmdChwYWNrKTsgLy8gYWRkIHBhY2tldCBpbmZvIHRvIGJlZ2lubmluZyBvZiBkYXRhIGxpc3RcbiAgICBjYWxsYmFjayhidWZmZXJzKTsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gIH1cblxuICBiaW5hcnkucmVtb3ZlQmxvYnMob2JqLCB3cml0ZUVuY29kaW5nKTtcbn1cblxuLyoqXG4gKiBBIHNvY2tldC5pbyBEZWNvZGVyIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkZWNvZGVyXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIERlY29kZXIoKSB7XG4gIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG59XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYCB3aXRoIERlY29kZXIuXG4gKi9cblxuRW1pdHRlcihEZWNvZGVyLnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGVjb2RlcyBhbiBlY29kZWQgcGFja2V0IHN0cmluZyBpbnRvIHBhY2tldCBKU09OLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvYmogLSBlbmNvZGVkIHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRGVjb2Rlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBwYWNrZXQ7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgIHBhY2tldCA9IGRlY29kZVN0cmluZyhvYmopO1xuICAgIGlmIChleHBvcnRzLkJJTkFSWV9FVkVOVCA9PT0gcGFja2V0LnR5cGUgfHwgZXhwb3J0cy5CSU5BUllfQUNLID09PSBwYWNrZXQudHlwZSkgeyAvLyBiaW5hcnkgcGFja2V0J3MganNvblxuICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KTtcblxuICAgICAgLy8gbm8gYXR0YWNobWVudHMsIGxhYmVsZWQgYmluYXJ5IGJ1dCBubyBiaW5hcnkgZGF0YSB0byBmb2xsb3dcbiAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IucmVjb25QYWNrLmF0dGFjaG1lbnRzID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVjb2RlZCcsIHBhY2tldCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgdGhpcy5lbWl0KCdkZWNvZGVkJywgcGFja2V0KTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoaXNCdWYob2JqKSB8fCBvYmouYmFzZTY0KSB7IC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgIGlmICghdGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgIGlmIChwYWNrZXQpIHsgLy8gcmVjZWl2ZWQgZmluYWwgYnVmZmVyXG4gICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVjb2RlZCcsIHBhY2tldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlOiAnICsgb2JqKTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGRlY29kZVN0cmluZyhzdHIpIHtcbiAgdmFyIGkgPSAwO1xuICAvLyBsb29rIHVwIHR5cGVcbiAgdmFyIHAgPSB7XG4gICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpXG4gIH07XG5cbiAgaWYgKG51bGwgPT0gZXhwb3J0cy50eXBlc1twLnR5cGVdKSByZXR1cm4gZXJyb3IoKTtcblxuICAvLyBsb29rIHVwIGF0dGFjaG1lbnRzIGlmIHR5cGUgYmluYXJ5XG4gIGlmIChleHBvcnRzLkJJTkFSWV9FVkVOVCA9PT0gcC50eXBlIHx8IGV4cG9ydHMuQklOQVJZX0FDSyA9PT0gcC50eXBlKSB7XG4gICAgdmFyIGJ1ZiA9ICcnO1xuICAgIHdoaWxlIChzdHIuY2hhckF0KCsraSkgIT09ICctJykge1xuICAgICAgYnVmICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgICBpZiAoaSA9PSBzdHIubGVuZ3RoKSBicmVhaztcbiAgICB9XG4gICAgaWYgKGJ1ZiAhPSBOdW1iZXIoYnVmKSB8fCBzdHIuY2hhckF0KGkpICE9PSAnLScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBhdHRhY2htZW50cycpO1xuICAgIH1cbiAgICBwLmF0dGFjaG1lbnRzID0gTnVtYmVyKGJ1Zik7XG4gIH1cblxuICAvLyBsb29rIHVwIG5hbWVzcGFjZSAoaWYgYW55KVxuICBpZiAoJy8nID09PSBzdHIuY2hhckF0KGkgKyAxKSkge1xuICAgIHAubnNwID0gJyc7XG4gICAgd2hpbGUgKCsraSkge1xuICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgaWYgKCcsJyA9PT0gYykgYnJlYWs7XG4gICAgICBwLm5zcCArPSBjO1xuICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwLm5zcCA9ICcvJztcbiAgfVxuXG4gIC8vIGxvb2sgdXAgaWRcbiAgdmFyIG5leHQgPSBzdHIuY2hhckF0KGkgKyAxKTtcbiAgaWYgKCcnICE9PSBuZXh0ICYmIE51bWJlcihuZXh0KSA9PSBuZXh0KSB7XG4gICAgcC5pZCA9ICcnO1xuICAgIHdoaWxlICgrK2kpIHtcbiAgICAgIHZhciBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgIGlmIChudWxsID09IGMgfHwgTnVtYmVyKGMpICE9IGMpIHtcbiAgICAgICAgLS1pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHAuaWQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKSBicmVhaztcbiAgICB9XG4gICAgcC5pZCA9IE51bWJlcihwLmlkKTtcbiAgfVxuXG4gIC8vIGxvb2sgdXAganNvbiBkYXRhXG4gIGlmIChzdHIuY2hhckF0KCsraSkpIHtcbiAgICBwID0gdHJ5UGFyc2UocCwgc3RyLnN1YnN0cihpKSk7XG4gIH1cblxuICBkZWJ1ZygnZGVjb2RlZCAlcyBhcyAlaicsIHN0ciwgcCk7XG4gIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiB0cnlQYXJzZShwLCBzdHIpIHtcbiAgdHJ5IHtcbiAgICBwLmRhdGEgPSBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIGVycm9yKCk7XG4gIH1cbiAgcmV0dXJuIHA7IFxufVxuXG4vKipcbiAqIERlYWxsb2NhdGVzIGEgcGFyc2VyJ3MgcmVzb3VyY2VzXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5EZWNvZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICB9XG59O1xuXG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KSB7XG4gIHRoaXMucmVjb25QYWNrID0gcGFja2V0O1xuICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gYmluYXJ5IGRhdGEgcmVjZWl2ZWQgZnJvbSBjb25uZWN0aW9uXG4gKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXIgfCBBcnJheUJ1ZmZlcn0gYmluRGF0YSAtIHRoZSByYXcgYmluYXJ5IGRhdGEgcmVjZWl2ZWRcbiAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gKiAgIGEgcmVjb25zdHJ1Y3RlZCBwYWNrZXQgb2JqZWN0IGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiByZWNlaXZlZC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLnRha2VCaW5hcnlEYXRhID0gZnVuY3Rpb24oYmluRGF0YSkge1xuICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7IC8vIGRvbmUgd2l0aCBidWZmZXIgbGlzdFxuICAgIHZhciBwYWNrZXQgPSBiaW5hcnkucmVjb25zdHJ1Y3RQYWNrZXQodGhpcy5yZWNvblBhY2ssIHRoaXMuYnVmZmVycyk7XG4gICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgcmV0dXJuIHBhY2tldDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbn07XG5cbmZ1bmN0aW9uIGVycm9yKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGV4cG9ydHMuRVJST1IsXG4gICAgZGF0YTogJ3BhcnNlciBlcnJvcidcbiAgfTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG5cbnZhciBoYXNDT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIHhkb21haW4gPSBvcHRzLnhkb21haW47XG5cbiAgLy8gc2NoZW1lIG11c3QgYmUgc2FtZSB3aGVuIHVzaWduIFhEb21haW5SZXF1ZXN0XG4gIC8vIGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llaW50ZXJuYWxzL2FyY2hpdmUvMjAxMC8wNS8xMy94ZG9tYWlucmVxdWVzdC1yZXN0cmljdGlvbnMtbGltaXRhdGlvbnMtYW5kLXdvcmthcm91bmRzLmFzcHhcbiAgdmFyIHhzY2hlbWUgPSBvcHRzLnhzY2hlbWU7XG5cbiAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmxvdyBvZiBub3Qgc2VuZGluZyBjb29raWUsIHRoZXJlZm9yZSBpdCBzaG91bGQgYmUgZGlzYWJsZWQgYXMgYSBkZWZhdWx0LlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vQXV0b21hdHRpYy9lbmdpbmUuaW8tY2xpZW50L3B1bGwvMjE3XG4gIHZhciBlbmFibGVzWERSID0gb3B0cy5lbmFibGVzWERSO1xuXG4gIC8vIFhNTEh0dHBSZXF1ZXN0IGNhbiBiZSBkaXNhYmxlZCBvbiBJRVxuICB0cnkge1xuICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkgeyB9XG5cbiAgLy8gVXNlIFhEb21haW5SZXF1ZXN0IGZvciBJRTggaWYgZW5hYmxlc1hEUiBpcyB0cnVlXG4gIC8vIGJlY2F1c2UgbG9hZGluZyBiYXIga2VlcHMgZmxhc2hpbmcgd2hlbiB1c2luZyBqc29ucC1wb2xsaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS95dWppb3Nha2Evc29ja2UuaW8taWU4LWxvYWRpbmctZXhhbXBsZVxuICB0cnkge1xuICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIFhEb21haW5SZXF1ZXN0ICYmICF4c2NoZW1lICYmIGVuYWJsZXNYRFIpIHtcbiAgICAgIHJldHVybiBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHsgfVxuXG4gIGlmICgheGRvbWFpbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IGdsb2JhbFtbJ0FjdGl2ZSddLmNvbmNhdCgnT2JqZWN0Jykuam9pbignWCcpXSgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcbiAgICB9IGNhdGNoIChlKSB7IH1cbiAgfVxufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNwb3J0O1xuXG4vKipcbiAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFRyYW5zcG9ydCAob3B0cykge1xuICB0aGlzLnBhdGggPSBvcHRzLnBhdGg7XG4gIHRoaXMuaG9zdG5hbWUgPSBvcHRzLmhvc3RuYW1lO1xuICB0aGlzLnBvcnQgPSBvcHRzLnBvcnQ7XG4gIHRoaXMuc2VjdXJlID0gb3B0cy5zZWN1cmU7XG4gIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICB0aGlzLnRpbWVzdGFtcFBhcmFtID0gb3B0cy50aW1lc3RhbXBQYXJhbTtcbiAgdGhpcy50aW1lc3RhbXBSZXF1ZXN0cyA9IG9wdHMudGltZXN0YW1wUmVxdWVzdHM7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICcnO1xuICB0aGlzLmFnZW50ID0gb3B0cy5hZ2VudCB8fCBmYWxzZTtcbiAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgdGhpcy5lbmFibGVzWERSID0gb3B0cy5lbmFibGVzWERSO1xuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLnBmeCA9IG9wdHMucGZ4O1xuICB0aGlzLmtleSA9IG9wdHMua2V5O1xuICB0aGlzLnBhc3NwaHJhc2UgPSBvcHRzLnBhc3NwaHJhc2U7XG4gIHRoaXMuY2VydCA9IG9wdHMuY2VydDtcbiAgdGhpcy5jYSA9IG9wdHMuY2E7XG4gIHRoaXMuY2lwaGVycyA9IG9wdHMuY2lwaGVycztcbiAgdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQgPSBvcHRzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgdGhpcy5mb3JjZU5vZGUgPSBvcHRzLmZvcmNlTm9kZTtcblxuICAvLyBvdGhlciBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLmV4dHJhSGVhZGVycyA9IG9wdHMuZXh0cmFIZWFkZXJzO1xuICB0aGlzLmxvY2FsQWRkcmVzcyA9IG9wdHMubG9jYWxBZGRyZXNzO1xufVxuXG4vKipcbiAqIE1peCBpbiBgRW1pdHRlcmAuXG4gKi9cblxuRW1pdHRlcihUcmFuc3BvcnQucHJvdG90eXBlKTtcblxuLyoqXG4gKiBFbWl0cyBhbiBlcnJvci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtUcmFuc3BvcnR9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAobXNnLCBkZXNjKSB7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyLnR5cGUgPSAnVHJhbnNwb3J0RXJyb3InO1xuICBlcnIuZGVzY3JpcHRpb24gPSBkZXNjO1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE9wZW5zIHRoZSB0cmFuc3BvcnQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnY2xvc2VkJyA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8ICcnID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSAnb3BlbmluZyc7XG4gICAgdGhpcy5kb09wZW4oKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJ29wZW5pbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZW5kcyBtdWx0aXBsZSBwYWNrZXRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChwYWNrZXRzKSB7XG4gIGlmICgnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHRoaXMud3JpdGUocGFja2V0cyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgbm90IG9wZW4nKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBvcGVuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vbk9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdvcGVuJztcbiAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gIHRoaXMuZW1pdCgnb3BlbicpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2l0aCBkYXRhLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBwYWNrZXQgPSBwYXJzZXIuZGVjb2RlUGFja2V0KGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO1xuICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aXRoIGEgZGVjb2RlZCBwYWNrZXQuXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vblBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdGhpcy5lbWl0KCdwYWNrZXQnLCBwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBjbG9zZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuICB0aGlzLmVtaXQoJ2Nsb3NlJyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXHJcbiAqIFBhcnNlcyBhbiBVUklcclxuICpcclxuICogQGF1dGhvciBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT4gKE1JVCBsaWNlbnNlKVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG52YXIgcmUgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcclxuXHJcbnZhciBwYXJ0cyA9IFtcclxuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xyXG5dO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZXVyaShzdHIpIHtcclxuICAgIHZhciBzcmMgPSBzdHIsXHJcbiAgICAgICAgYiA9IHN0ci5pbmRleE9mKCdbJyksXHJcbiAgICAgICAgZSA9IHN0ci5pbmRleE9mKCddJyk7XHJcblxyXG4gICAgaWYgKGIgIT0gLTEgJiYgZSAhPSAtMSkge1xyXG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG0gPSByZS5leGVjKHN0ciB8fCAnJyksXHJcbiAgICAgICAgdXJpID0ge30sXHJcbiAgICAgICAgaSA9IDE0O1xyXG5cclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICB1cmlbcGFydHNbaV1dID0gbVtpXSB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XHJcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcclxuICAgICAgICB1cmkuaG9zdCA9IHVyaS5ob3N0LnN1YnN0cmluZygxLCB1cmkuaG9zdC5sZW5ndGggLSAxKS5yZXBsYWNlKC87L2csICc6Jyk7XHJcbiAgICAgICAgdXJpLmF1dGhvcml0eSA9IHVyaS5hdXRob3JpdHkucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLnJlcGxhY2UoLzsvZywgJzonKTtcclxuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVyaTtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qIGdsb2JhbCBCbG9iIEZpbGUgKi9cblxuLypcbiAqIE1vZHVsZSByZXF1aXJlbWVudHMuXG4gKi9cblxudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBnbG9iYWwuQmxvYiA9PT0gJ2Z1bmN0aW9uJyB8fCB0b1N0cmluZy5jYWxsKGdsb2JhbC5CbG9iKSA9PT0gJ1tvYmplY3QgQmxvYkNvbnN0cnVjdG9yXSc7XG52YXIgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgZ2xvYmFsLkZpbGUgPT09ICdmdW5jdGlvbicgfHwgdG9TdHJpbmcuY2FsbChnbG9iYWwuRmlsZSkgPT09ICdbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl0nO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gaGFzQmluYXJ5O1xuXG4vKipcbiAqIENoZWNrcyBmb3IgYmluYXJ5IGRhdGEuXG4gKlxuICogU3VwcG9ydHMgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQmxvYiBhbmQgRmlsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW55dGhpbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gaGFzQmluYXJ5IChvYmopIHtcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgodHlwZW9mIGdsb2JhbC5CdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlciAmJiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyKG9iaikpIHx8XG4gICAgICh0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICAod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgKHdpdGhOYXRpdmVGaWxlICYmIG9iaiBpbnN0YW5jZW9mIEZpbGUpXG4gICAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2hhcy1iaW5hcnkvcHVsbC80XG4gIGlmIChvYmoudG9KU09OICYmIHR5cGVvZiBvYmoudG9KU09OID09PSAnZnVuY3Rpb24nICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gaGFzQmluYXJ5KG9iai50b0pTT04oKSwgdHJ1ZSk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xubW9kdWxlLmV4cG9ydHMgPSBpc0J1ZjtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgYnVmZmVyIG9yIGFuIGFycmF5YnVmZmVyLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzQnVmKG9iaikge1xuICByZXR1cm4gKGdsb2JhbC5CdWZmZXIgJiYgZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihvYmopKSB8fFxuICAgICAgICAgKGdsb2JhbC5BcnJheUJ1ZmZlciAmJiBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgZWlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG52YXIgU29ja2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG52YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ3NvY2tldC5pby1jbGllbnQ6bWFuYWdlcicpO1xudmFyIGluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBCYWNrb2ZmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cbi8qKlxuICogSUU2KyBoYXNPd25Qcm9wZXJ0eVxuICovXG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBNYW5hZ2VyO1xuXG4vKipcbiAqIGBNYW5hZ2VyYCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZW5naW5lIGluc3RhbmNlIG9yIGVuZ2luZSB1cmkvb3B0c1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gTWFuYWdlciAodXJpLCBvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNYW5hZ2VyKSkgcmV0dXJuIG5ldyBNYW5hZ2VyKHVyaSwgb3B0cyk7XG4gIGlmICh1cmkgJiYgKCdvYmplY3QnID09PSB0eXBlb2YgdXJpKSkge1xuICAgIG9wdHMgPSB1cmk7XG4gICAgdXJpID0gdW5kZWZpbmVkO1xuICB9XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIG9wdHMucGF0aCA9IG9wdHMucGF0aCB8fCAnL3NvY2tldC5pbyc7XG4gIHRoaXMubnNwcyA9IHt9O1xuICB0aGlzLnN1YnMgPSBbXTtcbiAgdGhpcy5vcHRzID0gb3B0cztcbiAgdGhpcy5yZWNvbm5lY3Rpb24ob3B0cy5yZWNvbm5lY3Rpb24gIT09IGZhbHNlKTtcbiAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcbiAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5IHx8IDEwMDApO1xuICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KG9wdHMucmVjb25uZWN0aW9uRGVsYXlNYXggfHwgNTAwMCk7XG4gIHRoaXMucmFuZG9taXphdGlvbkZhY3RvcihvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IgfHwgMC41KTtcbiAgdGhpcy5iYWNrb2ZmID0gbmV3IEJhY2tvZmYoe1xuICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgIG1heDogdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgIGppdHRlcjogdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKClcbiAgfSk7XG4gIHRoaXMudGltZW91dChudWxsID09IG9wdHMudGltZW91dCA/IDIwMDAwIDogb3B0cy50aW1lb3V0KTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NlZCc7XG4gIHRoaXMudXJpID0gdXJpO1xuICB0aGlzLmNvbm5lY3RpbmcgPSBbXTtcbiAgdGhpcy5sYXN0UGluZyA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBmYWxzZTtcbiAgdGhpcy5wYWNrZXRCdWZmZXIgPSBbXTtcbiAgdmFyIF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICB0aGlzLmF1dG9Db25uZWN0ID0gb3B0cy5hdXRvQ29ubmVjdCAhPT0gZmFsc2U7XG4gIGlmICh0aGlzLmF1dG9Db25uZWN0KSB0aGlzLm9wZW4oKTtcbn1cblxuLyoqXG4gKiBQcm9wYWdhdGUgZ2l2ZW4gZXZlbnQgdG8gc29ja2V0cyBhbmQgZW1pdCBvbiBgdGhpc2BcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5lbWl0QWxsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgZm9yICh2YXIgbnNwIGluIHRoaXMubnNwcykge1xuICAgIGlmIChoYXMuY2FsbCh0aGlzLm5zcHMsIG5zcCkpIHtcbiAgICAgIHRoaXMubnNwc1tuc3BdLmVtaXQuYXBwbHkodGhpcy5uc3BzW25zcF0sIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBgc29ja2V0LmlkYCBvZiBhbGwgc29ja2V0c1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVNvY2tldElkcyA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgbnNwIGluIHRoaXMubnNwcykge1xuICAgIGlmIChoYXMuY2FsbCh0aGlzLm5zcHMsIG5zcCkpIHtcbiAgICAgIHRoaXMubnNwc1tuc3BdLmlkID0gdGhpcy5nZW5lcmF0ZUlkKG5zcCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIGdlbmVyYXRlIGBzb2NrZXQuaWRgIGZvciB0aGUgZ2l2ZW4gYG5zcGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbnNwXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5nZW5lcmF0ZUlkID0gZnVuY3Rpb24gKG5zcCkge1xuICByZXR1cm4gKG5zcCA9PT0gJy8nID8gJycgOiAobnNwICsgJyMnKSkgKyB0aGlzLmVuZ2luZS5pZDtcbn07XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKE1hbmFnZXIucHJvdG90eXBlKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgcmVjb25uZWN0aW9uYCBjb25maWcuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSB0cnVlL2ZhbHNlIGlmIGl0IHNob3VsZCBhdXRvbWF0aWNhbGx5IHJlY29ubmVjdFxuICogQHJldHVybiB7TWFuYWdlcn0gc2VsZiBvciB2YWx1ZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb24gPSBmdW5jdGlvbiAodikge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb247XG4gIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHJlY29ubmVjdGlvbiBhdHRlbXB0cyBjb25maWcuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgYmVmb3JlIGdpdmluZyB1cFxuICogQHJldHVybiB7TWFuYWdlcn0gc2VsZiBvciB2YWx1ZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzO1xuICB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IHY7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWxheSBiZXR3ZWVuIHJlY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbGF5XG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5ID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgdGhpcy5iYWNrb2ZmICYmIHRoaXMuYmFja29mZi5zZXRNaW4odik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuTWFuYWdlci5wcm90b3R5cGUucmFuZG9taXphdGlvbkZhY3RvciA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I7XG4gIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3IgPSB2O1xuICB0aGlzLmJhY2tvZmYgJiYgdGhpcy5iYWNrb2ZmLnNldEppdHRlcih2KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIG1heGltdW0gZGVsYXkgYmV0d2VlbiByZWNvbm5lY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWxheVxuICogQHJldHVybiB7TWFuYWdlcn0gc2VsZiBvciB2YWx1ZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheU1heCA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4O1xuICB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heCA9IHY7XG4gIHRoaXMuYmFja29mZiAmJiB0aGlzLmJhY2tvZmYuc2V0TWF4KHYpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY29ubmVjdGlvbiB0aW1lb3V0LiBgZmFsc2VgIHRvIGRpc2FibGVcbiAqXG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbiAodikge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICogc3RhcnRlZCByZWNvbm5lY3RpbmcgeWV0XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUubWF5YmVSZWNvbm5lY3RPbk9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIC8vIE9ubHkgdHJ5IHRvIHJlY29ubmVjdCBpZiBpdCdzIHRoZSBmaXJzdCB0aW1lIHdlJ3JlIGNvbm5lY3RpbmdcbiAgaWYgKCF0aGlzLnJlY29ubmVjdGluZyAmJiB0aGlzLl9yZWNvbm5lY3Rpb24gJiYgdGhpcy5iYWNrb2ZmLmF0dGVtcHRzID09PSAwKSB7XG4gICAgLy8ga2VlcHMgcmVjb25uZWN0aW9uIGZyb20gZmlyaW5nIHR3aWNlIGZvciB0aGUgc2FtZSByZWNvbm5lY3Rpb24gbG9vcFxuICAgIHRoaXMucmVjb25uZWN0KCk7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9uYWwsIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9wZW4gPVxuTWFuYWdlci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChmbiwgb3B0cykge1xuICBkZWJ1ZygncmVhZHlTdGF0ZSAlcycsIHRoaXMucmVhZHlTdGF0ZSk7XG4gIGlmICh+dGhpcy5yZWFkeVN0YXRlLmluZGV4T2YoJ29wZW4nKSkgcmV0dXJuIHRoaXM7XG5cbiAgZGVidWcoJ29wZW5pbmcgJXMnLCB0aGlzLnVyaSk7XG4gIHRoaXMuZW5naW5lID0gZWlvKHRoaXMudXJpLCB0aGlzLm9wdHMpO1xuICB2YXIgc29ja2V0ID0gdGhpcy5lbmdpbmU7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW5pbmcnO1xuICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcblxuICAvLyBlbWl0IGBvcGVuYFxuICB2YXIgb3BlblN1YiA9IG9uKHNvY2tldCwgJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbm9wZW4oKTtcbiAgICBmbiAmJiBmbigpO1xuICB9KTtcblxuICAvLyBlbWl0IGBjb25uZWN0X2Vycm9yYFxuICB2YXIgZXJyb3JTdWIgPSBvbihzb2NrZXQsICdlcnJvcicsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgZGVidWcoJ2Nvbm5lY3RfZXJyb3InKTtcbiAgICBzZWxmLmNsZWFudXAoKTtcbiAgICBzZWxmLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcbiAgICBzZWxmLmVtaXRBbGwoJ2Nvbm5lY3RfZXJyb3InLCBkYXRhKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gZXJyb3InKTtcbiAgICAgIGVyci5kYXRhID0gZGF0YTtcbiAgICAgIGZuKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICBzZWxmLm1heWJlUmVjb25uZWN0T25PcGVuKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBlbWl0IGBjb25uZWN0X3RpbWVvdXRgXG4gIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgIHZhciB0aW1lb3V0ID0gdGhpcy5fdGltZW91dDtcbiAgICBkZWJ1ZygnY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZCcsIHRpbWVvdXQpO1xuXG4gICAgLy8gc2V0IHRpbWVyXG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBkZWJ1ZygnY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZCcsIHRpbWVvdXQpO1xuICAgICAgb3BlblN1Yi5kZXN0cm95KCk7XG4gICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsICd0aW1lb3V0Jyk7XG4gICAgICBzZWxmLmVtaXRBbGwoJ2Nvbm5lY3RfdGltZW91dCcsIHRpbWVvdXQpO1xuICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgdGhpcy5zdWJzLnB1c2goe1xuICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5zdWJzLnB1c2gob3BlblN1Yik7XG4gIHRoaXMuc3Vicy5wdXNoKGVycm9yU3ViKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnb3BlbicpO1xuXG4gIC8vIGNsZWFyIG9sZCBzdWJzXG4gIHRoaXMuY2xlYW51cCgpO1xuXG4gIC8vIG1hcmsgYXMgb3BlblxuICB0aGlzLnJlYWR5U3RhdGUgPSAnb3Blbic7XG4gIHRoaXMuZW1pdCgnb3BlbicpO1xuXG4gIC8vIGFkZCBuZXcgc3Vic1xuICB2YXIgc29ja2V0ID0gdGhpcy5lbmdpbmU7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2RhdGEnLCBiaW5kKHRoaXMsICdvbmRhdGEnKSkpO1xuICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsICdwaW5nJywgYmluZCh0aGlzLCAnb25waW5nJykpKTtcbiAgdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCAncG9uZycsIGJpbmQodGhpcywgJ29ucG9uZycpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2Vycm9yJywgYmluZCh0aGlzLCAnb25lcnJvcicpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2Nsb3NlJywgYmluZCh0aGlzLCAnb25jbG9zZScpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHRoaXMuZGVjb2RlciwgJ2RlY29kZWQnLCBiaW5kKHRoaXMsICdvbmRlY29kZWQnKSkpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBhIHBpbmcuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25waW5nID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmxhc3RQaW5nID0gbmV3IERhdGUoKTtcbiAgdGhpcy5lbWl0QWxsKCdwaW5nJyk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9ucG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0QWxsKCdwb25nJywgbmV3IERhdGUoKSAtIHRoaXMubGFzdFBpbmcpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2l0aCBkYXRhLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9uZGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9uZGVjb2RlZCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdGhpcy5lbWl0KCdwYWNrZXQnLCBwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgZGVidWcoJ2Vycm9yJywgZXJyKTtcbiAgdGhpcy5lbWl0QWxsKCdlcnJvcicsIGVycik7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc29ja2V0IGZvciB0aGUgZ2l2ZW4gYG5zcGAuXG4gKlxuICogQHJldHVybiB7U29ja2V0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5zb2NrZXQgPSBmdW5jdGlvbiAobnNwLCBvcHRzKSB7XG4gIHZhciBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgaWYgKCFzb2NrZXQpIHtcbiAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgdGhpcy5uc3BzW25zcF0gPSBzb2NrZXQ7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNvY2tldC5vbignY29ubmVjdGluZycsIG9uQ29ubmVjdGluZyk7XG4gICAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgc29ja2V0LmlkID0gc2VsZi5nZW5lcmF0ZUlkKG5zcCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5hdXRvQ29ubmVjdCkge1xuICAgICAgLy8gbWFudWFsbHkgY2FsbCBoZXJlIHNpbmNlIGNvbm5lY3RpbmcgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIGxpc3RlbmluZ1xuICAgICAgb25Db25uZWN0aW5nKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Db25uZWN0aW5nICgpIHtcbiAgICBpZiAoIX5pbmRleE9mKHNlbGYuY29ubmVjdGluZywgc29ja2V0KSkge1xuICAgICAgc2VsZi5jb25uZWN0aW5nLnB1c2goc29ja2V0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc29ja2V0O1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAqXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0XG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChzb2NrZXQpIHtcbiAgdmFyIGluZGV4ID0gaW5kZXhPZih0aGlzLmNvbm5lY3RpbmcsIHNvY2tldCk7XG4gIGlmICh+aW5kZXgpIHRoaXMuY29ubmVjdGluZy5zcGxpY2UoaW5kZXgsIDEpO1xuICBpZiAodGhpcy5jb25uZWN0aW5nLmxlbmd0aCkgcmV0dXJuO1xuXG4gIHRoaXMuY2xvc2UoKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgcGFja2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgZGVidWcoJ3dyaXRpbmcgcGFja2V0ICVqJywgcGFja2V0KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAocGFja2V0LnF1ZXJ5ICYmIHBhY2tldC50eXBlID09PSAwKSBwYWNrZXQubnNwICs9ICc/JyArIHBhY2tldC5xdWVyeTtcblxuICBpZiAoIXNlbGYuZW5jb2RpbmcpIHtcbiAgICAvLyBlbmNvZGUsIHRoZW4gd3JpdGUgdG8gZW5naW5lIHdpdGggcmVzdWx0XG4gICAgc2VsZi5lbmNvZGluZyA9IHRydWU7XG4gICAgdGhpcy5lbmNvZGVyLmVuY29kZShwYWNrZXQsIGZ1bmN0aW9uIChlbmNvZGVkUGFja2V0cykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWxmLmVuZ2luZS53cml0ZShlbmNvZGVkUGFja2V0c1tpXSwgcGFja2V0Lm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgc2VsZi5lbmNvZGluZyA9IGZhbHNlO1xuICAgICAgc2VsZi5wcm9jZXNzUGFja2V0UXVldWUoKTtcbiAgICB9KTtcbiAgfSBlbHNlIHsgLy8gYWRkIHBhY2tldCB0byB0aGUgcXVldWVcbiAgICBzZWxmLnBhY2tldEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gIH1cbn07XG5cbi8qKlxuICogSWYgcGFja2V0IGJ1ZmZlciBpcyBub24tZW1wdHksIGJlZ2lucyBlbmNvZGluZyB0aGVcbiAqIG5leHQgcGFja2V0IGluIGxpbmUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BhY2tldFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5wYWNrZXRCdWZmZXIubGVuZ3RoID4gMCAmJiAhdGhpcy5lbmNvZGluZykge1xuICAgIHZhciBwYWNrID0gdGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTtcbiAgICB0aGlzLnBhY2tldChwYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2xlYW51cCcpO1xuXG4gIHZhciBzdWJzTGVuZ3RoID0gdGhpcy5zdWJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzTGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc3ViID0gdGhpcy5zdWJzLnNoaWZ0KCk7XG4gICAgc3ViLmRlc3Ryb3koKTtcbiAgfVxuXG4gIHRoaXMucGFja2V0QnVmZmVyID0gW107XG4gIHRoaXMuZW5jb2RpbmcgPSBmYWxzZTtcbiAgdGhpcy5sYXN0UGluZyA9IG51bGw7XG5cbiAgdGhpcy5kZWNvZGVyLmRlc3Ryb3koKTtcbn07XG5cbi8qKlxuICogQ2xvc2UgdGhlIGN1cnJlbnQgc29ja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmNsb3NlID1cbk1hbmFnZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdkaXNjb25uZWN0Jyk7XG4gIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gIHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIC8vIGBvbmNsb3NlYCB3aWxsIG5vdCBmaXJlIGJlY2F1c2VcbiAgICAvLyBhbiBvcGVuIGV2ZW50IG5ldmVyIGhhcHBlbmVkXG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cbiAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuICBpZiAodGhpcy5lbmdpbmUpIHRoaXMuZW5naW5lLmNsb3NlKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGVuZ2luZSBjbG9zZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5vbmNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICBkZWJ1Zygnb25jbG9zZScpO1xuXG4gIHRoaXMuY2xlYW51cCgpO1xuICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NlZCc7XG4gIHRoaXMuZW1pdCgnY2xvc2UnLCByZWFzb24pO1xuXG4gIGlmICh0aGlzLl9yZWNvbm5lY3Rpb24gJiYgIXRoaXMuc2tpcFJlY29ubmVjdCkge1xuICAgIHRoaXMucmVjb25uZWN0KCk7XG4gIH1cbn07XG5cbi8qKlxuICogQXR0ZW1wdCBhIHJlY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpIHJldHVybiB0aGlzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodGhpcy5iYWNrb2ZmLmF0dGVtcHRzID49IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKSB7XG4gICAgZGVidWcoJ3JlY29ubmVjdCBmYWlsZWQnKTtcbiAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICB0aGlzLmVtaXRBbGwoJ3JlY29ubmVjdF9mYWlsZWQnKTtcbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHZhciBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgIGRlYnVnKCd3aWxsIHdhaXQgJWRtcyBiZWZvcmUgcmVjb25uZWN0IGF0dGVtcHQnLCBkZWxheSk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IHRydWU7XG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KSByZXR1cm47XG5cbiAgICAgIGRlYnVnKCdhdHRlbXB0aW5nIHJlY29ubmVjdCcpO1xuICAgICAgc2VsZi5lbWl0QWxsKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICBzZWxmLmVtaXRBbGwoJ3JlY29ubmVjdGluZycsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG5cbiAgICAgIC8vIGNoZWNrIGFnYWluIGZvciB0aGUgY2FzZSBzb2NrZXQgY2xvc2VkIGluIGFib3ZlIGV2ZW50c1xuICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdCkgcmV0dXJuO1xuXG4gICAgICBzZWxmLm9wZW4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZGVidWcoJ3JlY29ubmVjdCBhdHRlbXB0IGVycm9yJyk7XG4gICAgICAgICAgc2VsZi5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLnJlY29ubmVjdCgpO1xuICAgICAgICAgIHNlbGYuZW1pdEFsbCgncmVjb25uZWN0X2Vycm9yJywgZXJyLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlYnVnKCdyZWNvbm5lY3Qgc3VjY2VzcycpO1xuICAgICAgICAgIHNlbGYub25yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgZGVsYXkpO1xuXG4gICAgdGhpcy5zdWJzLnB1c2goe1xuICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9ucmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gIHRoaXMudXBkYXRlU29ja2V0SWRzKCk7XG4gIHRoaXMuZW1pdEFsbCgncmVjb25uZWN0JywgYXR0ZW1wdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciBYTUxIdHRwUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgWEhSID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG52YXIgSlNPTlAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciB3ZWJzb2NrZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblxuLyoqXG4gKiBFeHBvcnQgdHJhbnNwb3J0cy5cbiAqL1xuXG5leHBvcnRzLnBvbGxpbmcgPSBwb2xsaW5nO1xuZXhwb3J0cy53ZWJzb2NrZXQgPSB3ZWJzb2NrZXQ7XG5cbi8qKlxuICogUG9sbGluZyB0cmFuc3BvcnQgcG9seW1vcnBoaWMgY29uc3RydWN0b3IuXG4gKiBEZWNpZGVzIG9uIHhociB2cyBqc29ucCBiYXNlZCBvbiBmZWF0dXJlIGRldGVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwb2xsaW5nIChvcHRzKSB7XG4gIHZhciB4aHI7XG4gIHZhciB4ZCA9IGZhbHNlO1xuICB2YXIgeHMgPSBmYWxzZTtcbiAgdmFyIGpzb25wID0gZmFsc2UgIT09IG9wdHMuanNvbnA7XG5cbiAgaWYgKGdsb2JhbC5sb2NhdGlvbikge1xuICAgIHZhciBpc1NTTCA9ICdodHRwczonID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICB2YXIgcG9ydCA9IGxvY2F0aW9uLnBvcnQ7XG5cbiAgICAvLyBzb21lIHVzZXIgYWdlbnRzIGhhdmUgZW1wdHkgYGxvY2F0aW9uLnBvcnRgXG4gICAgaWYgKCFwb3J0KSB7XG4gICAgICBwb3J0ID0gaXNTU0wgPyA0NDMgOiA4MDtcbiAgICB9XG5cbiAgICB4ZCA9IG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lIHx8IHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICB4cyA9IG9wdHMuc2VjdXJlICE9PSBpc1NTTDtcbiAgfVxuXG4gIG9wdHMueGRvbWFpbiA9IHhkO1xuICBvcHRzLnhzY2hlbWUgPSB4cztcbiAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KG9wdHMpO1xuXG4gIGlmICgnb3BlbicgaW4geGhyICYmICFvcHRzLmZvcmNlSlNPTlApIHtcbiAgICByZXR1cm4gbmV3IFhIUihvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWpzb25wKSB0aHJvdyBuZXcgRXJyb3IoJ0pTT05QIGRpc2FibGVkJyk7XG4gICAgcmV0dXJuIG5ldyBKU09OUChvcHRzKTtcbiAgfVxufVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBUcmFuc3BvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHBhcnNlcXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgaW5oZXJpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgeWVhc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ2VuZ2luZS5pby1jbGllbnQ6cG9sbGluZycpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUG9sbGluZztcblxuLyoqXG4gKiBJcyBYSFIyIHN1cHBvcnRlZD9cbiAqL1xuXG52YXIgaGFzWEhSMiA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBYTUxIdHRwUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoeyB4ZG9tYWluOiBmYWxzZSB9KTtcbiAgcmV0dXJuIG51bGwgIT0geGhyLnJlc3BvbnNlVHlwZTtcbn0pKCk7XG5cbi8qKlxuICogUG9sbGluZyBpbnRlcmZhY2UuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFBvbGxpbmcgKG9wdHMpIHtcbiAgdmFyIGZvcmNlQmFzZTY0ID0gKG9wdHMgJiYgb3B0cy5mb3JjZUJhc2U2NCk7XG4gIGlmICghaGFzWEhSMiB8fCBmb3JjZUJhc2U2NCkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBmYWxzZTtcbiAgfVxuICBUcmFuc3BvcnQuY2FsbCh0aGlzLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFRyYW5zcG9ydC5cbiAqL1xuXG5pbmhlcml0KFBvbGxpbmcsIFRyYW5zcG9ydCk7XG5cbi8qKlxuICogVHJhbnNwb3J0IG5hbWUuXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUubmFtZSA9ICdwb2xsaW5nJztcblxuLyoqXG4gKiBPcGVucyB0aGUgc29ja2V0ICh0cmlnZ2VycyBwb2xsaW5nKS4gV2Ugd3JpdGUgYSBQSU5HIG1lc3NhZ2UgdG8gZGV0ZXJtaW5lXG4gKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5kb09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucG9sbCgpO1xufTtcblxuLyoqXG4gKiBQYXVzZXMgcG9sbGluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblBvbGxpbmcucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKG9uUGF1c2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdwYXVzaW5nJztcblxuICBmdW5jdGlvbiBwYXVzZSAoKSB7XG4gICAgZGVidWcoJ3BhdXNlZCcpO1xuICAgIHNlbGYucmVhZHlTdGF0ZSA9ICdwYXVzZWQnO1xuICAgIG9uUGF1c2UoKTtcbiAgfVxuXG4gIGlmICh0aGlzLnBvbGxpbmcgfHwgIXRoaXMud3JpdGFibGUpIHtcbiAgICB2YXIgdG90YWwgPSAwO1xuXG4gICAgaWYgKHRoaXMucG9sbGluZykge1xuICAgICAgZGVidWcoJ3dlIGFyZSBjdXJyZW50bHkgcG9sbGluZyAtIHdhaXRpbmcgdG8gcGF1c2UnKTtcbiAgICAgIHRvdGFsKys7XG4gICAgICB0aGlzLm9uY2UoJ3BvbGxDb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVidWcoJ3ByZS1wYXVzZSBwb2xsaW5nIGNvbXBsZXRlJyk7XG4gICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy53cml0YWJsZSkge1xuICAgICAgZGVidWcoJ3dlIGFyZSBjdXJyZW50bHkgd3JpdGluZyAtIHdhaXRpbmcgdG8gcGF1c2UnKTtcbiAgICAgIHRvdGFsKys7XG4gICAgICB0aGlzLm9uY2UoJ2RyYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWJ1ZygncHJlLXBhdXNlIHdyaXRpbmcgY29tcGxldGUnKTtcbiAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhdXNlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogU3RhcnRzIHBvbGxpbmcgY3ljbGUuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygncG9sbGluZycpO1xuICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICB0aGlzLmRvUG9sbCgpO1xuICB0aGlzLmVtaXQoJ3BvbGwnKTtcbn07XG5cbi8qKlxuICogT3ZlcmxvYWRzIG9uRGF0YSB0byBkZXRlY3QgcGF5bG9hZHMuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBkZWJ1ZygncG9sbGluZyBnb3QgZGF0YSAlcycsIGRhdGEpO1xuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAocGFja2V0LCBpbmRleCwgdG90YWwpIHtcbiAgICAvLyBpZiBpdHMgdGhlIGZpcnN0IG1lc3NhZ2Ugd2UgY29uc2lkZXIgdGhlIHRyYW5zcG9ydCBvcGVuXG4gICAgaWYgKCdvcGVuaW5nJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSB7XG4gICAgICBzZWxmLm9uT3BlbigpO1xuICAgIH1cblxuICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICBpZiAoJ2Nsb3NlJyA9PT0gcGFja2V0LnR5cGUpIHtcbiAgICAgIHNlbGYub25DbG9zZSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG90aGVyd2lzZSBieXBhc3Mgb25EYXRhIGFuZCBoYW5kbGUgdGhlIG1lc3NhZ2VcbiAgICBzZWxmLm9uUGFja2V0KHBhY2tldCk7XG4gIH07XG5cbiAgLy8gZGVjb2RlIHBheWxvYWRcbiAgcGFyc2VyLmRlY29kZVBheWxvYWQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSwgY2FsbGJhY2spO1xuXG4gIC8vIGlmIGFuIGV2ZW50IGRpZCBub3QgdHJpZ2dlciBjbG9zaW5nXG4gIGlmICgnY2xvc2VkJyAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgLy8gaWYgd2UgZ290IGRhdGEgd2UncmUgbm90IHBvbGxpbmdcbiAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BvbGxDb21wbGV0ZScpO1xuXG4gICAgaWYgKCdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLnBvbGwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcoJ2lnbm9yaW5nIHBvbGwgLSB0cmFuc3BvcnQgc3RhdGUgXCIlc1wiJywgdGhpcy5yZWFkeVN0YXRlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRm9yIHBvbGxpbmcsIHNlbmQgYSBjbG9zZSBwYWNrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICBkZWJ1Zygnd3JpdGluZyBjbG9zZSBwYWNrZXQnKTtcbiAgICBzZWxmLndyaXRlKFt7IHR5cGU6ICdjbG9zZScgfV0pO1xuICB9XG5cbiAgaWYgKCdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgZGVidWcoJ3RyYW5zcG9ydCBvcGVuIC0gY2xvc2luZycpO1xuICAgIGNsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaW4gY2FzZSB3ZSdyZSB0cnlpbmcgdG8gY2xvc2Ugd2hpbGVcbiAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgIGRlYnVnKCd0cmFuc3BvcnQgbm90IG9wZW4gLSBkZWZlcnJpbmcgY2xvc2UnKTtcbiAgICB0aGlzLm9uY2UoJ29wZW4nLCBjbG9zZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JpdGVzIGEgcGFja2V0cyBwYXlsb2FkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgcGFja2V0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhaW4gY2FsbGJhY2tcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblBvbGxpbmcucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHBhY2tldHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gIHZhciBjYWxsYmFja2ZuID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYud3JpdGFibGUgPSB0cnVlO1xuICAgIHNlbGYuZW1pdCgnZHJhaW4nKTtcbiAgfTtcblxuICBwYXJzZXIuZW5jb2RlUGF5bG9hZChwYWNrZXRzLCB0aGlzLnN1cHBvcnRzQmluYXJ5LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHNlbGYuZG9Xcml0ZShkYXRhLCBjYWxsYmFja2ZuKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUudXJpID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICB2YXIgc2NoZW1hID0gdGhpcy5zZWN1cmUgPyAnaHR0cHMnIDogJ2h0dHAnO1xuICB2YXIgcG9ydCA9ICcnO1xuXG4gIC8vIGNhY2hlIGJ1c3RpbmcgaXMgZm9yY2VkXG4gIGlmIChmYWxzZSAhPT0gdGhpcy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgIHF1ZXJ5W3RoaXMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgfVxuXG4gIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgcXVlcnkuYjY0ID0gMTtcbiAgfVxuXG4gIHF1ZXJ5ID0gcGFyc2Vxcy5lbmNvZGUocXVlcnkpO1xuXG4gIC8vIGF2b2lkIHBvcnQgaWYgZGVmYXVsdCBmb3Igc2NoZW1hXG4gIGlmICh0aGlzLnBvcnQgJiYgKCgnaHR0cHMnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAgKCdodHRwJyA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgcG9ydCA9ICc6JyArIHRoaXMucG9ydDtcbiAgfVxuXG4gIC8vIHByZXBlbmQgPyB0byBxdWVyeVxuICBpZiAocXVlcnkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSAnPycgKyBxdWVyeTtcbiAgfVxuXG4gIHZhciBpcHY2ID0gdGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgIT09IC0xO1xuICByZXR1cm4gc2NoZW1hICsgJzovLycgKyAoaXB2NiA/ICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScgOiB0aGlzLmhvc3RuYW1lKSArIHBvcnQgKyB0aGlzLnBhdGggKyBxdWVyeTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotXycuc3BsaXQoJycpXG4gICwgbGVuZ3RoID0gNjRcbiAgLCBtYXAgPSB7fVxuICAsIHNlZWQgPSAwXG4gICwgaSA9IDBcbiAgLCBwcmV2O1xuXG4vKipcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBlbmNvZGUobnVtKSB7XG4gIHZhciBlbmNvZGVkID0gJyc7XG5cbiAgZG8ge1xuICAgIGVuY29kZWQgPSBhbHBoYWJldFtudW0gJSBsZW5ndGhdICsgZW5jb2RlZDtcbiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIGxlbmd0aCk7XG4gIH0gd2hpbGUgKG51bSA+IDApO1xuXG4gIHJldHVybiBlbmNvZGVkO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgaW50ZWdlciB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBpbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGVkIGJ5IHRoZSBzdHJpbmcuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gIHZhciBkZWNvZGVkID0gMDtcblxuICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgZGVjb2RlZCA9IGRlY29kZWQgKiBsZW5ndGggKyBtYXBbc3RyLmNoYXJBdChpKV07XG4gIH1cblxuICByZXR1cm4gZGVjb2RlZDtcbn1cblxuLyoqXG4gKiBZZWFzdDogQSB0aW55IGdyb3dpbmcgaWQgZ2VuZXJhdG9yLlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IEEgdW5pcXVlIGlkLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24geWVhc3QoKSB7XG4gIHZhciBub3cgPSBlbmNvZGUoK25ldyBEYXRlKCkpO1xuXG4gIGlmIChub3cgIT09IHByZXYpIHJldHVybiBzZWVkID0gMCwgcHJldiA9IG5vdztcbiAgcmV0dXJuIG5vdyArJy4nKyBlbmNvZGUoc2VlZCsrKTtcbn1cblxuLy9cbi8vIE1hcCBlYWNoIGNoYXJhY3RlciB0byBpdHMgaW5kZXguXG4vL1xuZm9yICg7IGkgPCBsZW5ndGg7IGkrKykgbWFwW2FscGhhYmV0W2ldXSA9IGk7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIGB5ZWFzdGAsIGBlbmNvZGVgIGFuZCBgZGVjb2RlYCBmdW5jdGlvbnMuXG4vL1xueWVhc3QuZW5jb2RlID0gZW5jb2RlO1xueWVhc3QuZGVjb2RlID0gZGVjb2RlO1xubW9kdWxlLmV4cG9ydHMgPSB5ZWFzdDtcblxuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxudmFyIGluZGV4T2YgPSBbXS5pbmRleE9mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyciwgb2JqKXtcbiAgaWYgKGluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciB0b0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG52YXIgb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcbnZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKCdzb2NrZXQuaW8tY2xpZW50OnNvY2tldCcpO1xudmFyIHBhcnNlcXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IFNvY2tldDtcblxuLyoqXG4gKiBJbnRlcm5hbCBldmVudHMgKGJsYWNrbGlzdGVkKS5cbiAqIFRoZXNlIGV2ZW50cyBjYW4ndCBiZSBlbWl0dGVkIGJ5IHRoZSB1c2VyLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnZhciBldmVudHMgPSB7XG4gIGNvbm5lY3Q6IDEsXG4gIGNvbm5lY3RfZXJyb3I6IDEsXG4gIGNvbm5lY3RfdGltZW91dDogMSxcbiAgY29ubmVjdGluZzogMSxcbiAgZGlzY29ubmVjdDogMSxcbiAgZXJyb3I6IDEsXG4gIHJlY29ubmVjdDogMSxcbiAgcmVjb25uZWN0X2F0dGVtcHQ6IDEsXG4gIHJlY29ubmVjdF9mYWlsZWQ6IDEsXG4gIHJlY29ubmVjdF9lcnJvcjogMSxcbiAgcmVjb25uZWN0aW5nOiAxLFxuICBwaW5nOiAxLFxuICBwb25nOiAxXG59O1xuXG4vKipcbiAqIFNob3J0Y3V0IHRvIGBFbWl0dGVyI2VtaXRgLlxuICovXG5cbnZhciBlbWl0ID0gRW1pdHRlci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBgU29ja2V0YCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFNvY2tldCAoaW8sIG5zcCwgb3B0cykge1xuICB0aGlzLmlvID0gaW87XG4gIHRoaXMubnNwID0gbnNwO1xuICB0aGlzLmpzb24gPSB0aGlzOyAvLyBjb21wYXRcbiAgdGhpcy5pZHMgPSAwO1xuICB0aGlzLmFja3MgPSB7fTtcbiAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG4gIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLmRpc2Nvbm5lY3RlZCA9IHRydWU7XG4gIGlmIChvcHRzICYmIG9wdHMucXVlcnkpIHtcbiAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgfVxuICBpZiAodGhpcy5pby5hdXRvQ29ubmVjdCkgdGhpcy5vcGVuKCk7XG59XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKFNvY2tldC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byBvcGVuLCBjbG9zZSBhbmQgcGFja2V0IGV2ZW50c1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc3ViRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zdWJzKSByZXR1cm47XG5cbiAgdmFyIGlvID0gdGhpcy5pbztcbiAgdGhpcy5zdWJzID0gW1xuICAgIG9uKGlvLCAnb3BlbicsIGJpbmQodGhpcywgJ29ub3BlbicpKSxcbiAgICBvbihpbywgJ3BhY2tldCcsIGJpbmQodGhpcywgJ29ucGFja2V0JykpLFxuICAgIG9uKGlvLCAnY2xvc2UnLCBiaW5kKHRoaXMsICdvbmNsb3NlJykpXG4gIF07XG59O1xuXG4vKipcbiAqIFwiT3BlbnNcIiB0aGUgc29ja2V0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vcGVuID1cblNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY29ubmVjdGVkKSByZXR1cm4gdGhpcztcblxuICB0aGlzLnN1YkV2ZW50cygpO1xuICB0aGlzLmlvLm9wZW4oKTsgLy8gZW5zdXJlIG9wZW5cbiAgaWYgKCdvcGVuJyA9PT0gdGhpcy5pby5yZWFkeVN0YXRlKSB0aGlzLm9ub3BlbigpO1xuICB0aGlzLmVtaXQoJ2Nvbm5lY3RpbmcnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNlbmRzIGEgYG1lc3NhZ2VgIGV2ZW50LlxuICpcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMpO1xuICBhcmdzLnVuc2hpZnQoJ21lc3NhZ2UnKTtcbiAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgYGVtaXRgLlxuICogSWYgdGhlIGV2ZW50IGlzIGluIGBldmVudHNgLCBpdCdzIGVtaXR0ZWQgbm9ybWFsbHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IG5hbWVcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICBlbWl0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzKTtcbiAgdmFyIHBhY2tldCA9IHsgdHlwZTogcGFyc2VyLkVWRU5ULCBkYXRhOiBhcmdzIH07XG5cbiAgcGFja2V0Lm9wdGlvbnMgPSB7fTtcbiAgcGFja2V0Lm9wdGlvbnMuY29tcHJlc3MgPSAhdGhpcy5mbGFncyB8fCBmYWxzZSAhPT0gdGhpcy5mbGFncy5jb21wcmVzcztcblxuICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pIHtcbiAgICBkZWJ1ZygnZW1pdHRpbmcgcGFja2V0IHdpdGggYWNrIGlkICVkJywgdGhpcy5pZHMpO1xuICAgIHRoaXMuYWNrc1t0aGlzLmlkc10gPSBhcmdzLnBvcCgpO1xuICAgIHBhY2tldC5pZCA9IHRoaXMuaWRzKys7XG4gIH1cblxuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gIH1cblxuICBkZWxldGUgdGhpcy5mbGFncztcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2VuZHMgYSBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5wYWNrZXQgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIHBhY2tldC5uc3AgPSB0aGlzLm5zcDtcbiAgdGhpcy5pby5wYWNrZXQocGFja2V0KTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZW5naW5lIGBvcGVuYC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ3RyYW5zcG9ydCBpcyBvcGVuIC0gY29ubmVjdGluZycpO1xuXG4gIC8vIHdyaXRlIGNvbm5lY3QgcGFja2V0IGlmIG5lY2Vzc2FyeVxuICBpZiAoJy8nICE9PSB0aGlzLm5zcCkge1xuICAgIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgICB2YXIgcXVlcnkgPSB0eXBlb2YgdGhpcy5xdWVyeSA9PT0gJ29iamVjdCcgPyBwYXJzZXFzLmVuY29kZSh0aGlzLnF1ZXJ5KSA6IHRoaXMucXVlcnk7XG4gICAgICBkZWJ1Zygnc2VuZGluZyBjb25uZWN0IHBhY2tldCB3aXRoIHF1ZXJ5ICVzJywgcXVlcnkpO1xuICAgICAgdGhpcy5wYWNrZXQoe3R5cGU6IHBhcnNlci5DT05ORUNULCBxdWVyeTogcXVlcnl9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYWNrZXQoe3R5cGU6IHBhcnNlci5DT05ORUNUfSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGVuZ2luZSBgY2xvc2VgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb25cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25jbG9zZSA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgZGVidWcoJ2Nsb3NlICglcyknLCByZWFzb24pO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLmRpc2Nvbm5lY3RlZCA9IHRydWU7XG4gIGRlbGV0ZSB0aGlzLmlkO1xuICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3QnLCByZWFzb24pO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25wYWNrZXQgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIGlmIChwYWNrZXQubnNwICE9PSB0aGlzLm5zcCkgcmV0dXJuO1xuXG4gIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICBjYXNlIHBhcnNlci5DT05ORUNUOlxuICAgICAgdGhpcy5vbmNvbm5lY3QoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuRVZFTlQ6XG4gICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuQklOQVJZX0VWRU5UOlxuICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgcGFyc2VyLkFDSzpcbiAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuQklOQVJZX0FDSzpcbiAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuRElTQ09OTkVDVDpcbiAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgcGFyc2VyLkVSUk9SOlxuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHBhY2tldC5kYXRhKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25ldmVudCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdmFyIGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgZGVidWcoJ2VtaXR0aW5nIGV2ZW50ICVqJywgYXJncyk7XG5cbiAgaWYgKG51bGwgIT0gcGFja2V0LmlkKSB7XG4gICAgZGVidWcoJ2F0dGFjaGluZyBhY2sgY2FsbGJhY2sgdG8gZXZlbnQnKTtcbiAgICBhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSk7XG4gIH1cblxuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICBlbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKGFyZ3MpO1xuICB9XG59O1xuXG4vKipcbiAqIFByb2R1Y2VzIGFuIGFjayBjYWxsYmFjayB0byBlbWl0IHdpdGggYW4gZXZlbnQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5hY2sgPSBmdW5jdGlvbiAoaWQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc2VudCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgIGlmIChzZW50KSByZXR1cm47XG4gICAgc2VudCA9IHRydWU7XG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgZGVidWcoJ3NlbmRpbmcgYWNrICVqJywgYXJncyk7XG5cbiAgICBzZWxmLnBhY2tldCh7XG4gICAgICB0eXBlOiBwYXJzZXIuQUNLLFxuICAgICAgaWQ6IGlkLFxuICAgICAgZGF0YTogYXJnc1xuICAgIH0pO1xuICB9O1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBhY2tub3dsZWdlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uYWNrID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICB2YXIgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYWNrKSB7XG4gICAgZGVidWcoJ2NhbGxpbmcgYWNrICVzIHdpdGggJWonLCBwYWNrZXQuaWQsIHBhY2tldC5kYXRhKTtcbiAgICBhY2suYXBwbHkodGhpcywgcGFja2V0LmRhdGEpO1xuICAgIGRlbGV0ZSB0aGlzLmFja3NbcGFja2V0LmlkXTtcbiAgfSBlbHNlIHtcbiAgICBkZWJ1ZygnYmFkIGFjayAlcycsIHBhY2tldC5pZCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgdGhpcy5lbWl0KCdjb25uZWN0Jyk7XG4gIHRoaXMuZW1pdEJ1ZmZlcmVkKCk7XG59O1xuXG4vKipcbiAqIEVtaXQgYnVmZmVyZWQgZXZlbnRzIChyZWNlaXZlZCBhbmQgZW1pdHRlZCkuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5lbWl0QnVmZmVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgZW1pdC5hcHBseSh0aGlzLCB0aGlzLnJlY2VpdmVCdWZmZXJbaV0pO1xuICB9XG4gIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuXG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLnBhY2tldCh0aGlzLnNlbmRCdWZmZXJbaV0pO1xuICB9XG4gIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgZGlzY29ubmVjdC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ3NlcnZlciBkaXNjb25uZWN0ICglcyknLCB0aGlzLm5zcCk7XG4gIHRoaXMuZGVzdHJveSgpO1xuICB0aGlzLm9uY2xvc2UoJ2lvIHNlcnZlciBkaXNjb25uZWN0Jyk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGZvcmNlZCBjbGllbnQvc2VydmVyIHNpZGUgZGlzY29ubmVjdGlvbnMsXG4gKiB0aGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBtYW5hZ2VyIHN0b3BzIHRyYWNraW5nIHVzIGFuZFxuICogdGhhdCByZWNvbm5lY3Rpb25zIGRvbid0IGdldCB0cmlnZ2VyZWQgZm9yIHRoaXMuXG4gKlxuICogQGFwaSBwcml2YXRlLlxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3Vicykge1xuICAgIC8vIGNsZWFuIHN1YnNjcmlwdGlvbnMgdG8gYXZvaWQgcmVjb25uZWN0aW9uc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLnN1YnMgPSBudWxsO1xuICB9XG5cbiAgdGhpcy5pby5kZXN0cm95KHRoaXMpO1xufTtcblxuLyoqXG4gKiBEaXNjb25uZWN0cyB0aGUgc29ja2V0IG1hbnVhbGx5LlxuICpcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmNsb3NlID1cblNvY2tldC5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgZGVidWcoJ3BlcmZvcm1pbmcgZGlzY29ubmVjdCAoJXMpJywgdGhpcy5uc3ApO1xuICAgIHRoaXMucGFja2V0KHsgdHlwZTogcGFyc2VyLkRJU0NPTk5FQ1QgfSk7XG4gIH1cblxuICAvLyByZW1vdmUgc29ja2V0IGZyb20gcG9vbFxuICB0aGlzLmRlc3Ryb3koKTtcblxuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAvLyBmaXJlIGV2ZW50c1xuICAgIHRoaXMub25jbG9zZSgnaW8gY2xpZW50IGRpc2Nvbm5lY3QnKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY29tcHJlc3MgZmxhZy5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gKiBAcmV0dXJuIHtTb2NrZXR9IHNlbGZcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5jb21wcmVzcyA9IGZ1bmN0aW9uIChjb21wcmVzcykge1xuICB0aGlzLmZsYWdzID0gdGhpcy5mbGFncyB8fCB7fTtcbiAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBvbjtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIHN1YnNjcmlwdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8RXZlbnRFbWl0dGVyfSBvYmogd2l0aCBgRW1pdHRlcmAgbWl4aW4gb3IgYEV2ZW50RW1pdHRlcmBcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBuYW1lXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBvbiAob2JqLCBldiwgZm4pIHtcbiAgb2JqLm9uKGV2LCBmbik7XG4gIHJldHVybiB7XG4gICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgb2JqLnJlbW92ZUxpc3RlbmVyKGV2LCBmbik7XG4gICAgfVxuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBTbGljZSByZWZlcmVuY2UuXG4gKi9cblxudmFyIHNsaWNlID0gW10uc2xpY2U7XG5cbi8qKlxuICogQmluZCBgb2JqYCB0byBgZm5gLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBmbiBvciBzdHJpbmdcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgZm4pe1xuICBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGZuKSBmbiA9IG9ialtmbl07XG4gIGlmICgnZnVuY3Rpb24nICE9IHR5cGVvZiBmbikgdGhyb3cgbmV3IEVycm9yKCdiaW5kKCkgcmVxdWlyZXMgYSBmdW5jdGlvbicpO1xuICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KG9iaiwgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjEnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xudmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuLy8gdHNsaW50OmRpc2FibGVcclxuLyoqXHJcbiAqIERpdmUgUkVTVCBBUElcclxuICogRGl2ZSB0aGlyZCBwYXJ0eSBSRVNUIEFQSSBwcm92aWRlcyBhIHNldCBvZiBzZXJ2aWNlcyB3aGljaCBsZXZlcmFnZSBvYnRhaW5pbmcgY2F0YWxvZyBhbmQgVFYgZ3JpZCBpbmZvLCBjb250ZXh0dWFsIGl0ZW1zIChjYXJkcykgaW5mb3JtYXRpb24gYW5kIHNhdmluZyBhbmQgYSBzdGF0aWMgKHNjZW5lIGJ5IHNjZW5lKSB2ZXJzaW9uIG9mIHRoZSBjYXJkIGNhcm91c2VsIGZvciBsaW5lYXIgVFYgYW5kIHZpZGVvIG9uIGRlbWFuZFxyXG4gKlxyXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMS4wLjBcclxuICpcclxuICpcclxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxyXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXHJcbiAqL1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgcXVlcnlzdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcclxudmFyIHVybCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xyXG52YXIgZmV0Y2hfaXNvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XHJcbnZhciBpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xyXG52YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XHJcbnZhciBCQVNFX1BBVEggPSBcImh0dHBzOi8vcmVzdC5kaXZlLnR2L3YxXCIucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcclxudmFyIEJhc2VBUEkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCYXNlQVBJKGJhc2VQYXRoLCBmZXRjaCkge1xyXG4gICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgaWYgKGZldGNoID09PSB2b2lkIDApIHsgZmV0Y2ggPSBmZXRjaF9pc287IH1cclxuICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XHJcbiAgICAgICAgdGhpcy5mZXRjaCA9IGZldGNoO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEJhc2VBUEk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQmFzZUFQSSA9IEJhc2VBUEk7XHJcbi8qKlxyXG4qIERlZmF1bHRBcGkgLSBmZXRjaCBwYXJhbWV0ZXIgY3JlYXRvclxyXG4qL1xyXG5leHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvciA9IHtcclxuICAgIC8qKlxyXG4gICAgKiBEZWxldGUgY2FyZCBsaWtlXHJcbiAgICAqIFJlbW92ZXMgYSBjYXJkIGZyb20gY3VycmVudCB1c2VyJiMzOTtzIGxpa2VzIGxpc3RcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgZGVsZXRlTGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZGVsZXRlTGlrZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjYXJkSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2FyZElkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2FyZElkIHdoZW4gY2FsbGluZyBkZWxldGVMaWtlc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9saWtlcy97Y2FyZF9pZH1cIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2FyZF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjYXJkSWRcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiREVMRVRFXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBdXRob3JpemF0aW9uXCIsIHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkFjY2VwdC1MYW5ndWFnZVwiOiBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSwgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbFxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCB3aXRoIG5vIHJlbGF0aW9ucyBvciBjb250ZXh0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENhcmQ6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0Q2FyZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNhcmRJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjYXJkSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjYXJkSWQgd2hlbiBjYWxsaW5nIGdldENhcmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvY2FyZHMve2NhcmRfaWR9XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNhcmRfaWRcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2FyZElkXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwicHJvZHVjdHNcIjogcGFyYW1zW1wicHJvZHVjdHNcIl0sXHJcbiAgICAgICAgICAgIFwidXNlcl9kYXRhXCI6IHBhcmFtc1tcInVzZXJEYXRhXCJdLFxyXG4gICAgICAgICAgICBcImltYWdlX3NpemVcIjogcGFyYW1zW1wiaW1hZ2VTaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEZ1bGwgY2FyZCBkZXRhaWwgd2l0aCB2ZXJzaW9uXHJcbiAgICAqIFJldHJpZXZlcyBhIGZ1bGwgY2FyZCBkZXRhaWwsIGFuZCBpdHMgcmVsYXRpb25zIHRvIG90aGVyIGNhcmRzIGluIGEgZ2l2ZW4gY29udGV4dCAoY2FyZCB2ZXJzaW9uKVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgY2FyZFxyXG4gICAgKiBAcGFyYW0gdmVyc2lvbiBWZXJzaW9uIGlkZW50aWZpZXIsIGluZGljYXRlcyB0aGUgY29udGV4dCB3aGVyZSB0aGUgY2FyZCBpcyBiZWluZyByZXF1ZXN0ZWRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgZ2V0Q2FyZFZlcnNpb246IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0Q2FyZFZlcnNpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjYXJkSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2FyZElkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2FyZElkIHdoZW4gY2FsbGluZyBnZXRDYXJkVmVyc2lvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcInZlcnNpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1widmVyc2lvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIHZlcnNpb24gd2hlbiBjYWxsaW5nIGdldENhcmRWZXJzaW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2NhcmRzL3tjYXJkX2lkfS92ZXJzaW9ucy97dmVyc2lvbn1cIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2FyZF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjYXJkSWRcIl0pXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJ2ZXJzaW9uXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcInZlcnNpb25cIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiBwYXJhbXNbXCJwcm9kdWN0c1wiXSxcclxuICAgICAgICAgICAgXCJ1c2VyX2RhdGFcIjogcGFyYW1zW1widXNlckRhdGFcIl0sXHJcbiAgICAgICAgICAgIFwicmVsYXRpb25zXCI6IHBhcmFtc1tcInJlbGF0aW9uc1wiXSxcclxuICAgICAgICAgICAgXCJpbWFnZV9zaXplXCI6IHBhcmFtc1tcImltYWdlU2l6ZVwiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJHRVRcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBdXRob3JpemF0aW9uXCIsIHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkFjY2VwdC1MYW5ndWFnZVwiLCBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdLCBcIkFjY2VwdC1MYW5ndWFnZVwiOiBwYXJhbXNbXCJhY2NlcHRMYW5ndWFnZVwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBNb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICogUmV0cmlldmVzIGEgbW92aWUmIzM5O3MgZnVsbCBjYXJkIGJ5IGl0cyBjbGllbnQgSUQsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWQgQ2xpZW50IG1vdmllIElEIGJlaW5nIHBsYXllZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDYXRhbG9nTW92aWU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0Q2F0YWxvZ01vdmllXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2xpZW50TW92aWVJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjbGllbnRNb3ZpZUlkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2xpZW50TW92aWVJZCB3aGVuIGNhbGxpbmcgZ2V0Q2F0YWxvZ01vdmllXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL21vdmllcy97Y2xpZW50X21vdmllX2lkfVwiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjbGllbnRfbW92aWVfaWRcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2xpZW50TW92aWVJZFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcImltYWdlX3NpemVcIjogcGFyYW1zW1wiaW1hZ2VTaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgZXZlbnRzIGdyaWRcclxuICAgICogUmV0dXJucyB0aGUgY3VycmVudCBhbmQgdXBjb21pbmcgZ3JpZCBvZiBUViBldmVudHMgZm9yIHRoZSBnaXZlbiBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDaGFubmVsR3JpZDogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBnZXRDaGFubmVsR3JpZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImNoYW5uZWxJZFwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjaGFubmVsSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjaGFubmVsSWQgd2hlbiBjYWxsaW5nIGdldENoYW5uZWxHcmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2NoYW5uZWxzL3tjaGFubmVsX2lkfS9ncmlkXCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNoYW5uZWxfaWRcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2hhbm5lbElkXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBtb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICogUmV0cmlldmVzIGZ1bGwgY2FyZCBkZXRhaWwsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uLCBmb3IgdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIG9uIHRoZSBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDaGFubmVsTW92aWU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0Q2hhbm5lbE1vdmllXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2hhbm5lbElkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNoYW5uZWxJZFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNoYW5uZWxJZCB3aGVuIGNhbGxpbmcgZ2V0Q2hhbm5lbE1vdmllXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2NoYW5uZWxzL3tjaGFubmVsX2lkfVwiXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie1wiICsgXCJjaGFubmVsX2lkXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcImNoYW5uZWxJZFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcImltYWdlX3NpemVcIjogcGFyYW1zW1wiaW1hZ2VTaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEdldCBjYXJkIGxpa2VzXHJcbiAgICAqIFJldHVybnMgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjYXJkcyBsaWtlZCBieSBjdXJyZW50IHVzZXJcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICogQHBhcmFtIHBhZ2luYXRlS2V5IFBhZ2luYXRlIGtleVxyXG4gICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgZGVzaXJlZCByZXN1bHRzXHJcbiAgICAqL1xyXG4gICAgZ2V0TGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0TGlrZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvbGlrZXNcIjtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHVybE9iai5xdWVyeSA9IGFzc2lnbih7fSwgdXJsT2JqLnF1ZXJ5LCB7XHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgICAgIFwicGFnaW5hdGVfa2V5XCI6IHBhcmFtc1tcInBhZ2luYXRlS2V5XCJdLFxyXG4gICAgICAgICAgICBcInNpemVcIjogcGFyYW1zW1wic2l6ZVwiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJHRVRcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLCBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIHN5bmMgYXZhaWxhYmlsaXR5XHJcbiAgICAqIENoZWNrcyBpZiBhIGxpc3Qgb2YgY2xpZW50IGNoYW5uZWwgaWRlbnRpZmllcnMgYXJlIGN1cnJlbnRseSBicm9hZGNhc3Rpbmcgc3luY2hyb25pemFibGUgY29udGVudFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWRMaXN0IExpc3Qgb2YgY2xpZW50IGNoYW5uZWwgSURzIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBnZXRSZWFkeUNoYW5uZWxzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIGdldFJlYWR5Q2hhbm5lbHNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjaGFubmVsSWRMaXN0XCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNoYW5uZWxJZExpc3RcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjaGFubmVsSWRMaXN0IHdoZW4gY2FsbGluZyBnZXRSZWFkeUNoYW5uZWxzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2NoYW5uZWxzL3tjaGFubmVsX2lkX2xpc3R9L3JlYWR5XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNoYW5uZWxfaWRfbGlzdFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjaGFubmVsSWRMaXN0XCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmllIHN5bmMgYXZhaWxhYmlsaXR5XHJcbiAgICAqIENoZWNrcyB3aGV0aGVyIGEgbGlzdCBvZiBjbGllbnQgbW92aWUgaWRlbnRpZmllcnMgKFZpZGVvIE9uIERlbWFuZCkgYXJlIGF2YWlsYWJsZSB0byBiZSBzeW5jaHJvbml6ZWQgdXNpbmcgdGhlIERpdmUgQVBJXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWRMaXN0IExpc3Qgb2YgY2xpZW50IG1vdmllIElEcywgcHJvdmlkZWQgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIGdldFJlYWR5TW92aWVzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIGdldFJlYWR5TW92aWVzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2xpZW50TW92aWVJZExpc3RcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2xpZW50TW92aWVJZExpc3RcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjbGllbnRNb3ZpZUlkTGlzdCB3aGVuIGNhbGxpbmcgZ2V0UmVhZHlNb3ZpZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvbW92aWVzL3tjbGllbnRfbW92aWVfaWRfbGlzdH0vcmVhZHlcIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2xpZW50X21vdmllX2lkX2xpc3RcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2xpZW50TW92aWVJZExpc3RcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogU3RhdGljIGNoYW5uZWwgc2NlbmVcclxuICAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGNhcmRzIHJlbGF0ZWQgdG8gdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIGluIHRoZSBwcm92aWRlZCBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRTdGF0aWNDaGFubmVsU2NlbmU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiYXV0aG9yaXphdGlvblwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgYXV0aG9yaXphdGlvbiB3aGVuIGNhbGxpbmcgZ2V0U3RhdGljQ2hhbm5lbFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwiY2hhbm5lbElkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNoYW5uZWxJZFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGNoYW5uZWxJZCB3aGVuIGNhbGxpbmcgZ2V0U3RhdGljQ2hhbm5lbFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVVybCA9IFwiL2NoYW5uZWxzL3tjaGFubmVsX2lkfS9zdGF0aWNcIlxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwiY2hhbm5lbF9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjaGFubmVsSWRcIl0pO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJyZWxhdGlvbnNcIjogcGFyYW1zW1wicmVsYXRpb25zXCJdLFxyXG4gICAgICAgICAgICBcImltYWdlX3NpemVcIjogcGFyYW1zW1wiaW1hZ2VTaXplXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIkdFVFwiIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBjb250ZW50VHlwZUhlYWRlciA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIFN0YXRpYyBWT0Qgc2NlbmVcclxuICAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IGxpc3Qgb2YgY2FyZHMgcmVsYXRlZCB0byB0aGUgZ2l2ZW4gbW92aWUgc2NlbmVcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZCBDbGllbnQgbW92aWUgSUQgYmVpbmcgcGxheWVkXHJcbiAgICAqIEBwYXJhbSB0aW1lc3RhbXAgQ3VycmVudCBtb3ZpZSB0aW1lc3RhbXAgaW4gc2Vjb25kc1xyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRTdGF0aWNNb3ZpZVNjZW5lOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIGdldFN0YXRpY01vdmllU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjbGllbnRNb3ZpZUlkXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImNsaWVudE1vdmllSWRcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBjbGllbnRNb3ZpZUlkIHdoZW4gY2FsbGluZyBnZXRTdGF0aWNNb3ZpZVNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyIFwidGltZXN0YW1wXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcInRpbWVzdGFtcFwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIHRpbWVzdGFtcCB3aGVuIGNhbGxpbmcgZ2V0U3RhdGljTW92aWVTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi9tb3ZpZXMve2NsaWVudF9tb3ZpZV9pZH0vc3RhdGljL3t0aW1lc3RhbXB9XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNsaWVudF9tb3ZpZV9pZFwiICsgXCJ9XCIsIFwiXCIgKyBwYXJhbXNbXCJjbGllbnRNb3ZpZUlkXCJdKVxyXG4gICAgICAgICAgICAucmVwbGFjZShcIntcIiArIFwidGltZXN0YW1wXCIgKyBcIn1cIiwgXCJcIiArIHBhcmFtc1tcInRpbWVzdGFtcFwiXSk7XHJcbiAgICAgICAgdmFyIHVybE9iaiA9IHVybC5wYXJzZShiYXNlVXJsLCB0cnVlKTtcclxuICAgICAgICB1cmxPYmoucXVlcnkgPSBhc3NpZ24oe30sIHVybE9iai5xdWVyeSwge1xyXG4gICAgICAgICAgICBcInJlbGF0aW9uc1wiOiBwYXJhbXNbXCJyZWxhdGlvbnNcIl0sXHJcbiAgICAgICAgICAgIFwiaW1hZ2Vfc2l6ZVwiOiBwYXJhbXNbXCJpbWFnZVNpemVcIl0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFzc2lnbih7fSwgeyBtZXRob2Q6IFwiR0VUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdKTtmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBhc3NpZ24oe1xyXG4gICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSwgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0sXHJcbiAgICAgICAgfSwgY29udGVudFR5cGVIZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLmZvcm1hdCh1cmxPYmopLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBmZXRjaE9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQWRkIGNhcmQgbGlrZVxyXG4gICAgKiBTdG9yZXMgYSBjYXJkIHVuZGVyIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIHBvc3RMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJhdXRob3JpemF0aW9uXCIgaXMgc2V0XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBhdXRob3JpemF0aW9uIHdoZW4gY2FsbGluZyBwb3N0TGlrZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgXCJjYXJkSWRcIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiY2FyZElkXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgY2FyZElkIHdoZW4gY2FsbGluZyBwb3N0TGlrZXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gXCIvbGlrZXMve2NhcmRfaWR9XCJcclxuICAgICAgICAgICAgLnJlcGxhY2UoXCJ7XCIgKyBcImNhcmRfaWRcIiArIFwifVwiLCBcIlwiICsgcGFyYW1zW1wiY2FyZElkXCJdKTtcclxuICAgICAgICB2YXIgdXJsT2JqID0gdXJsLnBhcnNlKGJhc2VVcmwsIHRydWUpO1xyXG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBhc3NpZ24oe30sIHsgbWV0aG9kOiBcIlBPU1RcIiB9LCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgY29udGVudFR5cGVIZWFkZXIgPSB7fTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycy5hcHBlbmQoXCJBY2NlcHQtTGFuZ3VhZ2VcIiwgcGFyYW1zW1wiYWNjZXB0TGFuZ3VhZ2VcIl0pO2ZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbih7XHJcbiAgICAgICAgICAgIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLCBcIkF1dGhvcml6YXRpb25cIjogcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSxcclxuICAgICAgICB9LCBjb250ZW50VHlwZUhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiB1cmwuZm9ybWF0KHVybE9iaiksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGZldGNoT3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBUb2tlbiBlbmRwb2ludFxyXG4gICAgKiBUaGUgdG9rZW4gZW5kcG9pbnQgaXMgdXNlZCB0byBvYnRhaW4gYWNjZXNzIHRva2VucyB3aGljaCBhbGxvdyBjbGllbnRzIHRvIG1ha2UgQVBJIHJlcXVlc3RzXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEJhc2ljIGF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmFzaWMgJmx0O2NsaWVudF9rZXkmZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBncmFudFR5cGUgR3JhbnQgdHlwZSB1c2VkIHRvIG9idGFpbiB0aGUgdG9rZW4uXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBkZXZpY2VJZCBEZXZpY2UgaWRlbnRpZmllciwgbXVzdCB1bmlxdWVseSBpZGVudGlmeSB0aGUgdXNlciBvciBkZXZpY2UgYWNjZXNzaW5nIHRoZSBBUEkuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7ZGV2aWNlX2NyZWRlbnRpYWxzXFwmcXVvdDsgZ3JhbnQgdHlwZVxyXG4gICAgKiBAcGFyYW0gcmVmcmVzaFRva2VuIFJlZnJlc2ggdG9rZW4sIHVzZWQgdG8gaXNzdWUgYSBuZXcgdG9rZW4gd2l0aG91dCByZXNlbmRpbmcgY2xpZW50IGNyZWRlbnRpYWxzLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O3JlZnJlc2hfdG9rZW5cXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAqL1xyXG4gICAgcG9zdFRva2VuOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImF1dGhvcml6YXRpb25cIiBpcyBzZXRcclxuICAgICAgICBpZiAocGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGF1dGhvcml6YXRpb24gd2hlbiBjYWxsaW5nIHBvc3RUb2tlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciBcImdyYW50VHlwZVwiIGlzIHNldFxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJncmFudFR5cGVcIl0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciBncmFudFR5cGUgd2hlbiBjYWxsaW5nIHBvc3RUb2tlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBcIi90b2tlblwiO1xyXG4gICAgICAgIHZhciB1cmxPYmogPSB1cmwucGFyc2UoYmFzZVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgdXJsT2JqLnF1ZXJ5ID0gYXNzaWduKHt9LCB1cmxPYmoucXVlcnksIHtcclxuICAgICAgICAgICAgXCJncmFudF90eXBlXCI6IHBhcmFtc1tcImdyYW50VHlwZVwiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZmV0Y2hPcHRpb25zID0gYXNzaWduKHt9LCB7IG1ldGhvZDogXCJQT1NUXCIgfSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlSGVhZGVyID0ge307XHJcbiAgICAgICAgY29udGVudFR5cGVIZWFkZXIgPSB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgfTtcclxuICAgICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIFwiZGV2aWNlX2lkXCI6IHBhcmFtc1tcImRldmljZUlkXCJdLFxyXG4gICAgICAgICAgICBcInJlZnJlc2hfdG9rZW5cIjogcGFyYW1zW1wicmVmcmVzaFRva2VuXCJdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1zW1wiYXV0aG9yaXphdGlvblwiXSk7ZmV0Y2hPcHRpb25zLmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0LUxhbmd1YWdlXCIsIHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gYXNzaWduKHtcclxuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IHBhcmFtc1tcImF1dGhvcml6YXRpb25cIl0sIFwiQWNjZXB0LUxhbmd1YWdlXCI6IHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdLFxyXG4gICAgICAgIH0sIGNvbnRlbnRUeXBlSGVhZGVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHVybC5mb3JtYXQodXJsT2JqKSxcclxuICAgICAgICAgICAgb3B0aW9uczogZmV0Y2hPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuKiBEZWZhdWx0QXBpIC0gZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBpbnRlcmZhY2VcclxuKi9cclxuZXhwb3J0cy5EZWZhdWx0QXBpRnAgPSB7XHJcbiAgICAvKipcclxuICAgICogRGVsZXRlIGNhcmQgbGlrZVxyXG4gICAgKiBSZW1vdmVzIGEgY2FyZCBmcm9tIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIGRlbGV0ZUxpa2VzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmRlbGV0ZUxpa2VzKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEZ1bGwgY2FyZCBkZXRhaWxcclxuICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgd2l0aCBubyByZWxhdGlvbnMgb3IgY29udGV4dFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgY2FyZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDYXJkOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldENhcmQocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEZ1bGwgY2FyZCBkZXRhaWwgd2l0aCB2ZXJzaW9uXHJcbiAgICAqIFJldHJpZXZlcyBhIGZ1bGwgY2FyZCBkZXRhaWwsIGFuZCBpdHMgcmVsYXRpb25zIHRvIG90aGVyIGNhcmRzIGluIGEgZ2l2ZW4gY29udGV4dCAoY2FyZCB2ZXJzaW9uKVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgY2FyZFxyXG4gICAgKiBAcGFyYW0gdmVyc2lvbiBWZXJzaW9uIGlkZW50aWZpZXIsIGluZGljYXRlcyB0aGUgY29udGV4dCB3aGVyZSB0aGUgY2FyZCBpcyBiZWluZyByZXF1ZXN0ZWRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gdXNlckRhdGEgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHVzZXIgZGF0YSB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgZ2V0Q2FyZFZlcnNpb246IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0Q2FyZFZlcnNpb24ocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgYSBtb3ZpZSYjMzk7cyBmdWxsIGNhcmQgYnkgaXRzIGNsaWVudCBJRCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb25cclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZCBDbGllbnQgbW92aWUgSUQgYmVpbmcgcGxheWVkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldENhdGFsb2dNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5nZXRDYXRhbG9nTW92aWUocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgZXZlbnRzIGdyaWRcclxuICAgICogUmV0dXJucyB0aGUgY3VycmVudCBhbmQgdXBjb21pbmcgZ3JpZCBvZiBUViBldmVudHMgZm9yIHRoZSBnaXZlbiBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDaGFubmVsR3JpZDogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5nZXRDaGFubmVsR3JpZChwYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmV0Y2gsIGJhc2VQYXRoKSB7XHJcbiAgICAgICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gQkFTRV9QQVRIOyB9XHJcbiAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlUGF0aCArIGZldGNoQXJncy51cmwsIGZldGNoQXJncy5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBtb3ZpZSBjYXRhbG9nIGluZm9cclxuICAgICogUmV0cmlldmVzIGZ1bGwgY2FyZCBkZXRhaWwsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uLCBmb3IgdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIG9uIHRoZSBjaGFubmVsXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRDaGFubmVsTW92aWU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IuZ2V0Q2hhbm5lbE1vdmllKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBHZXQgY2FyZCBsaWtlc1xyXG4gICAgKiBSZXR1cm5zIGEgcGFnaW5hdGVkIGxpc3Qgb2YgY2FyZHMgbGlrZWQgYnkgY3VycmVudCB1c2VyXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqIEBwYXJhbSBwYWdpbmF0ZUtleSBQYWdpbmF0ZSBrZXlcclxuICAgICogQHBhcmFtIHNpemUgTnVtYmVyIG9mIGRlc2lyZWQgcmVzdWx0c1xyXG4gICAgKi9cclxuICAgIGdldExpa2VzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldExpa2VzKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIHN5bmMgYXZhaWxhYmlsaXR5XHJcbiAgICAqIENoZWNrcyBpZiBhIGxpc3Qgb2YgY2xpZW50IGNoYW5uZWwgaWRlbnRpZmllcnMgYXJlIGN1cnJlbnRseSBicm9hZGNhc3Rpbmcgc3luY2hyb25pemFibGUgY29udGVudFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWRMaXN0IExpc3Qgb2YgY2xpZW50IGNoYW5uZWwgSURzIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBnZXRSZWFkeUNoYW5uZWxzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldFJlYWR5Q2hhbm5lbHMocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmllIHN5bmMgYXZhaWxhYmlsaXR5XHJcbiAgICAqIENoZWNrcyB3aGV0aGVyIGEgbGlzdCBvZiBjbGllbnQgbW92aWUgaWRlbnRpZmllcnMgKFZpZGVvIE9uIERlbWFuZCkgYXJlIGF2YWlsYWJsZSB0byBiZSBzeW5jaHJvbml6ZWQgdXNpbmcgdGhlIERpdmUgQVBJXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNsaWVudE1vdmllSWRMaXN0IExpc3Qgb2YgY2xpZW50IG1vdmllIElEcywgcHJvdmlkZWQgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIGdldFJlYWR5TW92aWVzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldFJlYWR5TW92aWVzKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgKiBTdGF0aWMgY2hhbm5lbCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgY2FyZHMgcmVsYXRlZCB0byB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgaW4gdGhlIHByb3ZpZGVkIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIGdldFN0YXRpY0NoYW5uZWxTY2VuZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBmZXRjaEFyZ3MgPSBleHBvcnRzLkRlZmF1bHRBcGlGZXRjaFBhcmFtQ3JlYXRvci5nZXRTdGF0aWNDaGFubmVsU2NlbmUocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIFN0YXRpYyBWT0Qgc2NlbmVcclxuICAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IGxpc3Qgb2YgY2FyZHMgcmVsYXRlZCB0byB0aGUgZ2l2ZW4gbW92aWUgc2NlbmVcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZCBDbGllbnQgbW92aWUgSUQgYmVpbmcgcGxheWVkXHJcbiAgICAqIEBwYXJhbSB0aW1lc3RhbXAgQ3VycmVudCBtb3ZpZSB0aW1lc3RhbXAgaW4gc2Vjb25kc1xyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBnZXRTdGF0aWNNb3ZpZVNjZW5lOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGZldGNoQXJncyA9IGV4cG9ydHMuRGVmYXVsdEFwaUZldGNoUGFyYW1DcmVhdG9yLmdldFN0YXRpY01vdmllU2NlbmUocGFyYW1zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZldGNoLCBiYXNlUGF0aCkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZVBhdGggPT09IHZvaWQgMCkgeyBiYXNlUGF0aCA9IEJBU0VfUEFUSDsgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goYmFzZVBhdGggKyBmZXRjaEFyZ3MudXJsLCBmZXRjaEFyZ3Mub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIEFkZCBjYXJkIGxpa2VcclxuICAgICogU3RvcmVzIGEgY2FyZCB1bmRlciBjdXJyZW50IHVzZXImIzM5O3MgbGlrZXMgbGlzdFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBwb3N0TGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IucG9zdExpa2VzKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAqIFRva2VuIGVuZHBvaW50XHJcbiAgICAqIFRoZSB0b2tlbiBlbmRwb2ludCBpcyB1c2VkIHRvIG9idGFpbiBhY2Nlc3MgdG9rZW5zIHdoaWNoIGFsbG93IGNsaWVudHMgdG8gbWFrZSBBUEkgcmVxdWVzdHNcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQmFzaWMgYXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCYXNpYyAmbHQ7Y2xpZW50X2tleSZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGdyYW50VHlwZSBHcmFudCB0eXBlIHVzZWQgdG8gb2J0YWluIHRoZSB0b2tlbi5cclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGRldmljZUlkIERldmljZSBpZGVudGlmaWVyLCBtdXN0IHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSB1c2VyIG9yIGRldmljZSBhY2Nlc3NpbmcgdGhlIEFQSS4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtkZXZpY2VfY3JlZGVudGlhbHNcXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gUmVmcmVzaCB0b2tlbiwgdXNlZCB0byBpc3N1ZSBhIG5ldyB0b2tlbiB3aXRob3V0IHJlc2VuZGluZyBjbGllbnQgY3JlZGVudGlhbHMuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7cmVmcmVzaF90b2tlblxcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICovXHJcbiAgICBwb3N0VG9rZW46IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgZmV0Y2hBcmdzID0gZXhwb3J0cy5EZWZhdWx0QXBpRmV0Y2hQYXJhbUNyZWF0b3IucG9zdFRva2VuKHBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VQYXRoID09PSB2b2lkIDApIHsgYmFzZVBhdGggPSBCQVNFX1BBVEg7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGZldGNoKGJhc2VQYXRoICsgZmV0Y2hBcmdzLnVybCwgZmV0Y2hBcmdzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufTtcclxuLyoqXHJcbiogRGVmYXVsdEFwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcclxuKi9cclxudmFyIERlZmF1bHRBcGkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRGVmYXVsdEFwaSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIERlZmF1bHRBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIERlbGV0ZSBjYXJkIGxpa2VcclxuICAgICogUmVtb3ZlcyBhIGNhcmQgZnJvbSBjdXJyZW50IHVzZXImIzM5O3MgbGlrZXMgbGlzdFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5kZWxldGVMaWtlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZGVsZXRlTGlrZXMocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbFxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCB3aXRoIG5vIHJlbGF0aW9ucyBvciBjb250ZXh0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldENhcmQgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmQocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbCB3aXRoIHZlcnNpb25cclxuICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgYW5kIGl0cyByZWxhdGlvbnMgdG8gb3RoZXIgY2FyZHMgaW4gYSBnaXZlbiBjb250ZXh0IChjYXJkIHZlcnNpb24pXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gaWRlbnRpZmllciwgaW5kaWNhdGVzIHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjYXJkIGlzIGJlaW5nIHJlcXVlc3RlZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5nZXRDYXJkVmVyc2lvbiA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZFZlcnNpb24ocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogTW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAqIFJldHJpZXZlcyBhIG1vdmllJiMzOTtzIGZ1bGwgY2FyZCBieSBpdHMgY2xpZW50IElELCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvblxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0Q2F0YWxvZ01vdmllID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXRhbG9nTW92aWUocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBldmVudHMgZ3JpZFxyXG4gICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFuZCB1cGNvbWluZyBncmlkIG9mIFRWIGV2ZW50cyBmb3IgdGhlIGdpdmVuIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldENoYW5uZWxHcmlkID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsR3JpZChwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIG1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgZnVsbCBjYXJkIGRldGFpbCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb24sIGZvciB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgb24gdGhlIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldENoYW5uZWxNb3ZpZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbE1vdmllKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIEdldCBjYXJkIGxpa2VzXHJcbiAgICAqIFJldHVybnMgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjYXJkcyBsaWtlZCBieSBjdXJyZW50IHVzZXJcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICogQHBhcmFtIHBhZ2luYXRlS2V5IFBhZ2luYXRlIGtleVxyXG4gICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgZGVzaXJlZCByZXN1bHRzXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0TGlrZXMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldExpa2VzKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIGlmIGEgbGlzdCBvZiBjbGllbnQgY2hhbm5lbCBpZGVudGlmaWVycyBhcmUgY3VycmVudGx5IGJyb2FkY2FzdGluZyBzeW5jaHJvbml6YWJsZSBjb250ZW50XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZExpc3QgTGlzdCBvZiBjbGllbnQgY2hhbm5lbCBJRHMgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldFJlYWR5Q2hhbm5lbHMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5Q2hhbm5lbHMocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogTW92aWUgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIHdoZXRoZXIgYSBsaXN0IG9mIGNsaWVudCBtb3ZpZSBpZGVudGlmaWVycyAoVmlkZW8gT24gRGVtYW5kKSBhcmUgYXZhaWxhYmxlIHRvIGJlIHN5bmNocm9uaXplZCB1c2luZyB0aGUgRGl2ZSBBUElcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZExpc3QgTGlzdCBvZiBjbGllbnQgbW92aWUgSURzLCBwcm92aWRlZCBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0UmVhZHlNb3ZpZXMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5TW92aWVzKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIFN0YXRpYyBjaGFubmVsIHNjZW5lXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBpbiB0aGUgcHJvdmlkZWQgY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGVmYXVsdEFwaS5wcm90b3R5cGUuZ2V0U3RhdGljQ2hhbm5lbFNjZW5lID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRTdGF0aWNDaGFubmVsU2NlbmUocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogU3RhdGljIFZPRCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBnaXZlbiBtb3ZpZSBzY2VuZVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIHRpbWVzdGFtcCBDdXJyZW50IG1vdmllIHRpbWVzdGFtcCBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLmdldFN0YXRpY01vdmllU2NlbmUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY01vdmllU2NlbmUocGFyYW1zLCBvcHRpb25zKSh0aGlzLmZldGNoLCB0aGlzLmJhc2VQYXRoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQWRkIGNhcmQgbGlrZVxyXG4gICAgKiBTdG9yZXMgYSBjYXJkIHVuZGVyIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERlZmF1bHRBcGkucHJvdG90eXBlLnBvc3RMaWtlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdExpa2VzKHBhcmFtcywgb3B0aW9ucykodGhpcy5mZXRjaCwgdGhpcy5iYXNlUGF0aCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIFRva2VuIGVuZHBvaW50XHJcbiAgICAqIFRoZSB0b2tlbiBlbmRwb2ludCBpcyB1c2VkIHRvIG9idGFpbiBhY2Nlc3MgdG9rZW5zIHdoaWNoIGFsbG93IGNsaWVudHMgdG8gbWFrZSBBUEkgcmVxdWVzdHNcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQmFzaWMgYXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCYXNpYyAmbHQ7Y2xpZW50X2tleSZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGdyYW50VHlwZSBHcmFudCB0eXBlIHVzZWQgdG8gb2J0YWluIHRoZSB0b2tlbi5cclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGRldmljZUlkIERldmljZSBpZGVudGlmaWVyLCBtdXN0IHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSB1c2VyIG9yIGRldmljZSBhY2Nlc3NpbmcgdGhlIEFQSS4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtkZXZpY2VfY3JlZGVudGlhbHNcXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gUmVmcmVzaCB0b2tlbiwgdXNlZCB0byBpc3N1ZSBhIG5ldyB0b2tlbiB3aXRob3V0IHJlc2VuZGluZyBjbGllbnQgY3JlZGVudGlhbHMuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7cmVmcmVzaF90b2tlblxcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICovXHJcbiAgICBEZWZhdWx0QXBpLnByb3RvdHlwZS5wb3N0VG9rZW4gPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RUb2tlbihwYXJhbXMsIG9wdGlvbnMpKHRoaXMuZmV0Y2gsIHRoaXMuYmFzZVBhdGgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEZWZhdWx0QXBpO1xyXG59KEJhc2VBUEkpKTtcclxuZXhwb3J0cy5EZWZhdWx0QXBpID0gRGVmYXVsdEFwaTtcclxuO1xyXG4vKipcclxuKiBEZWZhdWx0QXBpIC0gZmFjdG9yeSBpbnRlcmZhY2VcclxuKi9cclxuZXhwb3J0cy5EZWZhdWx0QXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChmZXRjaCwgYmFzZVBhdGgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZWxldGUgY2FyZCBsaWtlXHJcbiAgICAgICAgKiBSZW1vdmVzIGEgY2FyZCBmcm9tIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZGVsZXRlTGlrZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmRlbGV0ZUxpa2VzKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRnVsbCBjYXJkIGRldGFpbFxyXG4gICAgICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgd2l0aCBubyByZWxhdGlvbnMgb3IgY29udGV4dFxyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIHByb2R1Y3RzIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiBjb21tZXJjaWFsIHByb2R1Y3RzIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldENhcmQ6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmQocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBGdWxsIGNhcmQgZGV0YWlsIHdpdGggdmVyc2lvblxyXG4gICAgICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgYW5kIGl0cyByZWxhdGlvbnMgdG8gb3RoZXIgY2FyZHMgaW4gYSBnaXZlbiBjb250ZXh0IChjYXJkIHZlcnNpb24pXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2FyZElkIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNhcmRcclxuICAgICAgICAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gaWRlbnRpZmllciwgaW5kaWNhdGVzIHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjYXJkIGlzIGJlaW5nIHJlcXVlc3RlZFxyXG4gICAgICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0Q2FyZFZlcnNpb246IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmRWZXJzaW9uKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAgICAgKiBSZXRyaWV2ZXMgYSBtb3ZpZSYjMzk7cyBmdWxsIGNhcmQgYnkgaXRzIGNsaWVudCBJRCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb25cclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldENhdGFsb2dNb3ZpZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2F0YWxvZ01vdmllKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ2hhbm5lbCBldmVudHMgZ3JpZFxyXG4gICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBhbmQgdXBjb21pbmcgZ3JpZCBvZiBUViBldmVudHMgZm9yIHRoZSBnaXZlbiBjaGFubmVsXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRDaGFubmVsR3JpZDogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbEdyaWQocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGFubmVsIG1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgICAgICogUmV0cmlldmVzIGZ1bGwgY2FyZCBkZXRhaWwsIGluY2x1ZGluZyBjYXRhbG9nIGFuZCBjYXN0IGluZm9ybWF0aW9uLCBmb3IgdGhlIGNvbnRlbnQgY3VycmVudGx5IGJlaW5nIGJyb2FkY2FzdGVkIG9uIHRoZSBjaGFubmVsXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRDaGFubmVsTW92aWU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENoYW5uZWxNb3ZpZShwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldCBjYXJkIGxpa2VzXHJcbiAgICAgICAgKiBSZXR1cm5zIGEgcGFnaW5hdGVkIGxpc3Qgb2YgY2FyZHMgbGlrZWQgYnkgY3VycmVudCB1c2VyXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgKiBAcGFyYW0gcGFnaW5hdGVLZXkgUGFnaW5hdGUga2V5XHJcbiAgICAgICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgZGVzaXJlZCByZXN1bHRzXHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRMaWtlczogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0TGlrZXMocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGFubmVsIHN5bmMgYXZhaWxhYmlsaXR5XHJcbiAgICAgICAgKiBDaGVja3MgaWYgYSBsaXN0IG9mIGNsaWVudCBjaGFubmVsIGlkZW50aWZpZXJzIGFyZSBjdXJyZW50bHkgYnJvYWRjYXN0aW5nIHN5bmNocm9uaXphYmxlIGNvbnRlbnRcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjaGFubmVsSWRMaXN0IExpc3Qgb2YgY2xpZW50IGNoYW5uZWwgSURzIGFzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3RcclxuICAgICAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAgICAgKi9cclxuICAgICAgICBnZXRSZWFkeUNoYW5uZWxzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRSZWFkeUNoYW5uZWxzKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92aWUgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICAgICAqIENoZWNrcyB3aGV0aGVyIGEgbGlzdCBvZiBjbGllbnQgbW92aWUgaWRlbnRpZmllcnMgKFZpZGVvIE9uIERlbWFuZCkgYXJlIGF2YWlsYWJsZSB0byBiZSBzeW5jaHJvbml6ZWQgdXNpbmcgdGhlIERpdmUgQVBJXHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZExpc3QgTGlzdCBvZiBjbGllbnQgbW92aWUgSURzLCBwcm92aWRlZCBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ2V0UmVhZHlNb3ZpZXM6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5TW92aWVzKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU3RhdGljIGNoYW5uZWwgc2NlbmVcclxuICAgICAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBpbiB0aGUgcHJvdmlkZWQgY2hhbm5lbFxyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgICAgICogQHBhcmFtIGNoYW5uZWxJZCBDbGllbnQgY2hhbm5lbCBJRFxyXG4gICAgICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldFN0YXRpY0NoYW5uZWxTY2VuZTogZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0U3RhdGljQ2hhbm5lbFNjZW5lKHBhcmFtcywgb3B0aW9ucykoZmV0Y2gsIGJhc2VQYXRoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU3RhdGljIFZPRCBzY2VuZVxyXG4gICAgICAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IGxpc3Qgb2YgY2FyZHMgcmVsYXRlZCB0byB0aGUgZ2l2ZW4gbW92aWUgc2NlbmVcclxuICAgICAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICAgICAqIEBwYXJhbSB0aW1lc3RhbXAgQ3VycmVudCBtb3ZpZSB0aW1lc3RhbXAgaW4gc2Vjb25kc1xyXG4gICAgICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAgICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdldFN0YXRpY01vdmllU2NlbmU6IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY01vdmllU2NlbmUocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGQgY2FyZCBsaWtlXHJcbiAgICAgICAgKiBTdG9yZXMgYSBjYXJkIHVuZGVyIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAgICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAgICAgKiBAcGFyYW0gY2FyZElkIFJlcXVlc3RlZCBjYXJkIElEXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICovXHJcbiAgICAgICAgcG9zdExpa2VzOiBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5wb3N0TGlrZXMocGFyYW1zLCBvcHRpb25zKShmZXRjaCwgYmFzZVBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBUb2tlbiBlbmRwb2ludFxyXG4gICAgICAgICogVGhlIHRva2VuIGVuZHBvaW50IGlzIHVzZWQgdG8gb2J0YWluIGFjY2VzcyB0b2tlbnMgd2hpY2ggYWxsb3cgY2xpZW50cyB0byBtYWtlIEFQSSByZXF1ZXN0c1xyXG4gICAgICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQmFzaWMgYXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCYXNpYyAmbHQ7Y2xpZW50X2tleSZndDsmIzM5OylcclxuICAgICAgICAqIEBwYXJhbSBncmFudFR5cGUgR3JhbnQgdHlwZSB1c2VkIHRvIG9idGFpbiB0aGUgdG9rZW4uXHJcbiAgICAgICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgICAgICogQHBhcmFtIGRldmljZUlkIERldmljZSBpZGVudGlmaWVyLCBtdXN0IHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSB1c2VyIG9yIGRldmljZSBhY2Nlc3NpbmcgdGhlIEFQSS4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtkZXZpY2VfY3JlZGVudGlhbHNcXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAgICAgKiBAcGFyYW0gcmVmcmVzaFRva2VuIFJlZnJlc2ggdG9rZW4sIHVzZWQgdG8gaXNzdWUgYSBuZXcgdG9rZW4gd2l0aG91dCByZXNlbmRpbmcgY2xpZW50IGNyZWRlbnRpYWxzLiBSZXF1aXJlZCBvbmx5IGZvciBcXCZxdW90O3JlZnJlc2hfdG9rZW5cXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAgICAgKi9cclxuICAgICAgICBwb3N0VG9rZW46IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RUb2tlbihwYXJhbXMsIG9wdGlvbnMpKGZldGNoLCBiYXNlUGF0aCk7XHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn07XHJcbjtcclxuLyoqXHJcbiogRGl2ZUFQSSAtIGV4dGVuZGVkIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcclxuKi9cclxudmFyIERpdmVBUElDbGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhEaXZlQVBJQ2xhc3MsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBEaXZlQVBJQ2xhc3MocGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXCJcIiwgcGFyYW1zLmZldGNoKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmVudmlyb25tZW50ID0gXCJQUk9cIjtcclxuICAgICAgICBfdGhpcy5ub0F1dGhTZXJ2aWNlcyA9IFtcInBvc3RSZWdpc3RlckRldmljZVwiLCBcInBvc3RSZWdpc3RlckVtYWlsXCIsIFwicG9zdFRva2VuXCIsIFwicG9zdFZlcnNpb25cIl07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBpbml0aWFsaXphdGlvbiBwYXJhbXMuXCIpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3Ugc2hvdWxkIHByb3ZpZGUgaW5pdGlhbGl6YXRpb24gcGFyYW1zLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3RoaXMuYXBpS2V5ID0gcGFyYW1zLmFwaUtleTtcclxuICAgICAgICBpZiAocGFyYW1zLmRldmljZUlkKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldERldmljZUlkKHBhcmFtcy5kZXZpY2VJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90aGlzLmV2ZW50TmFtZXNwYWNlID0gcGFyYW1zLmV2ZW50TmFtZXNwYWNlIHx8IFwiZGl2ZS1leHRlcm5hbC1hcGktXCI7XHJcbiAgICAgICAgX3RoaXMuc2V0RW52aXJvbm1lbnQocGFyYW1zLmVudik7XHJcbiAgICAgICAgX3RoaXMuc3RvcmVUb2tlblR5cGUgPSBwYXJhbXMuc3RvcmVUb2tlbjtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgLy8gdGhpcy5jb25uZWN0aW9uRmFpbGVkT2JzZXJ2YWJsZSA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCBgJHt0aGlzLmV2ZW50TmFtZXNwYWNlfS1jb25uZWN0aW9uLWZhaWxlZGApO1xyXG4gICAgICAgIC8vIHRoaXMuaW50ZXJuYWxTZXJ2ZXJFcnJvck9ic2VydmFibGUgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgYCR7dGhpcy5ldmVudE5hbWVzcGFjZX0taW50ZXJuYWwtc2VydmVyLWVycm9yYCk7XHJcbiAgICAgICAgLy8gdGhpcy5zZXJ2aWNlVGVtcG9yYXJpbHlVbmF2YWlsYWJsZU9ic2VydmFibGUgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgYCR7dGhpcy5ldmVudE5hbWVzcGFjZX0tc2VydmljZS11bmF2YWlsYWJsZWApO1xyXG4gICAgICAgIC8vIHRoaXMudW5zdXBwb3J0ZWRNZWRpYVR5cGVFcnJvck9ic2VydmFibGUgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgYCR7dGhpcy5ldmVudE5hbWVzcGFjZX0tdW5zdXBwb3J0ZWQtbWVkaWF0eXBlYCk7XHJcbiAgICAgICAgLy8gdGhpcy51bmF1dGhvcml6ZWRPYnNlcnZhYmxlID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZG9jdW1lbnQsIGAke3RoaXMuZXZlbnROYW1lc3BhY2V9LXVuYXV0aG9yaXplZGApO1xyXG4gICAgICAgIC8vIHRoaXMudW5hdXRob3JpemVkUm9sZU9ic2VydmFibGUgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgYCR7dGhpcy5ldmVudE5hbWVzcGFjZX0tdW5hdXRob3JpemVkLXJvbGVgKTtcclxuICAgIH1cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcclxuICAgICAgICB0aGlzLmRldmljZUlkID0gZGV2aWNlSWQ7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRTYXZlZFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdG9yZVRva2VuVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY29va2llc1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW5Gcm9tQ29va2llcygpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VG9rZW5Gcm9tV2ViU3RvcmFnZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRUb2tlbkZyb21XZWJTdG9yYWdlKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc2V0RW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoZW52KSB7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudjtcclxuICAgICAgICBzd2l0Y2ggKGVudikge1xyXG4gICAgICAgICAgICBjYXNlIFwiREVWXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gQkFTRV9QQVRILnJlcGxhY2UoXCJodHRwczovL1wiLCBcImh0dHBzOi8vZGV2LVwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiUFJFXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gQkFTRV9QQVRILnJlcGxhY2UoXCJodHRwczovL1wiLCBcImh0dHBzOi8vcHJlLVwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiUFJPXCI6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gQkFTRV9QQVRIO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xyXG4gICAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZTtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLndyaXRlVG9rZW4gPSBmdW5jdGlvbiAobmV3VG9rZW4pIHtcclxuICAgICAgICBpZiAobmV3VG9rZW4pIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnN0b3JlVG9rZW5UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29va2llc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVUb2tlblRvQ29va2llKG5ld1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVRva2VuVG9XZWJTdG9yYWdlKG5ld1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXZlVG9rZW5SZWZyZXNoSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZGl2ZVRva2VuUmVmcmVzaEludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGl2ZVRva2VuUmVmcmVzaEludGVydmFsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXdUb2tlbi5leHBpcmVzX2luKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpdmVUb2tlblJlZnJlc2hJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnJlZnJlc2hUb2tlbi5iaW5kKHRoaXMpLCAoTWF0aC5tYXgoMTAwMDAsIG5ld1Rva2VuLmV4cGlyZXNfaW4gLSA2MCkgKiAxMDAwKSk7IC8vIDYwIHNlY29uZHMgYmVmb3JlIGV4cGlyYXRpb24gKGluIG1zKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2F0aGVyQ29tbW9uSGVhZGVycyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICB2YXIgbmV3UGFyYW1zID0ge307XHJcbiAgICAgICAgaWYgKCFwYXJhbXMpIHtcclxuICAgICAgICAgICAgcGFyYW1zID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5ld1BhcmFtc1tcIlVzZXItQWdlbnRcIl0gPSBcImZvb1wiO1xyXG4gICAgICAgIGlmIChwYXJhbXNbXCJjb25uZWN0aW9uXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgbmV3UGFyYW1zLmNvbm5lY3Rpb24gPSBcImtlZXAtYWxpdmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImFjY2VwdEVuY29kaW5nXCJdID09IG51bGwpIHtcclxuICAgICAgICAgICAgbmV3UGFyYW1zLmFjY2VwdEVuY29kaW5nID0gXCJnemlwLCBkZWZsYXRlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXJhbXNbXCJhdXRob3JpemF0aW9uXCJdID09IG51bGwgJiYgdGhpcy5nZXRTYXZlZFRva2VuKCkpIHtcclxuICAgICAgICAgICAgbmV3UGFyYW1zLmF1dGhvcml6YXRpb24gPSBcIlwiICsgdGhpcy5nZXRTYXZlZFRva2VuKCkudG9rZW5fdHlwZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHRoaXMuZ2V0U2F2ZWRUb2tlbigpLnRva2VuX3R5cGUuc3Vic3RyaW5nKDEpICsgXCIgXCIgKyB0aGlzLmdldFNhdmVkVG9rZW4oKS5hY2Nlc3NfdG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdQYXJhbXMuYXV0aG9yaXphdGlvbiA9IFwiQmFzaWMgXCIgKyB0aGlzLmFwaUtleTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcImFjY2VwdExhbmd1YWdlXCJdID09IG51bGwgJiYgdGhpcy5sb2NhbGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgbmV3UGFyYW1zLmFjY2VwdExhbmd1YWdlID0gdGhpcy5sb2NhbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgbmV3UGFyYW1zLCBwYXJhbXMpO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZGVsZXRlU2F2ZWRUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RvcmVUb2tlblR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImNvb2tpZXNcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlVG9rZW5Gcm9tQ29va2llcygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVRva2VuRnJvbVdlYlN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmluaXRpYWxpemVUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5wb3N0VG9rZW5BbmRTYXZlID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5kZWxldGVTYXZlZFRva2VuKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF9fYXNzaWduKHt9LCBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyksIHsgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IF90aGlzLnBvc3RUb2tlbihuZXdQYXJhbXMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKG5ld1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy53cml0ZVRva2VuKG5ld1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc3luY1dpdGhNb3ZpZVZPRCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICBpZiAoIXBhcmFtcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgbWlzc2luZyBwYXJhbWV0ZXJzIG9iamVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJhbXMubW92aWVJZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgbWlzc2luZyBtb3ZpZUlkIHBhcmFtZXRlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJhbXMudGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yLCBtaXNzaW5nIHRpbWVzdGFtcCBwYXJhbWV0ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3luY1dpdGhNb3ZpZSh7IG1vdmllSWQ6IHBhcmFtcy5tb3ZpZUlkLCB0aW1lc3RhbXA6IHBhcmFtcy50aW1lc3RhbXAsIGNhbGxiYWNrczogcGFyYW1zLmNhbGxiYWNrcyB9KTtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnN5bmNXaXRoTW92aWVTdHJlYW1pbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XHJcbiAgICAgICAgaWYgKCFwYXJhbXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IsIG1pc3NpbmcgcGFyYW1ldGVycyBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyYW1zLmNoYW5uZWxJZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciwgbWlzc2luZyBjaGFubmVsSWQgcGFyYW1ldGVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN5bmNXaXRoTW92aWUoeyBjaGFubmVsSWQ6IHBhcmFtcy5jaGFubmVsSWQsIHByb3RvY29sOiBwYXJhbXMucHJvdG9jb2wsIGNhbGxiYWNrczogcGFyYW1zLmNhbGxiYWNrcyB9KTtcclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnN5bmNXaXRoTW92aWUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNsZWFyU29ja2V0KCk7XHJcbiAgICAgICAgaWYgKCFwYXJhbXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IsIG1pc3NpbmcgcGFyYW1ldGVycyBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcm90b2NvbCA9IHBhcmFtcy5wcm90b2NvbCB8fCBcImh0dHBzXCI7XHJcbiAgICAgICAgdmFyIHVybCA9IFwic3RyZWFtLmRpdmUudHZcIjtcclxuICAgICAgICB2YXIgc3luY1R5cGUgPSBcImNoYW5uZWxzXCI7XHJcbiAgICAgICAgLy8gbGV0IHF1ZXJ5OiBhbnkgPSB7dG9rZW46IGAke3RoaXMuZ2V0U2F2ZWRUb2tlbigpLmFjY2Vzc190b2tlbn1gfTtcclxuICAgICAgICB2YXIgcXVlcnkgPSB7fTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgY2FzZSBcIkRFVlwiOlxyXG4gICAgICAgICAgICAgICAgdXJsID0gcHJvdG9jb2wgKyBcIjovL2Rldi1cIiArIHVybDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiUFJFXCI6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBwcm90b2NvbCArIFwiOi8vcHJlLVwiICsgdXJsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSBwcm90b2NvbCArIFwiOi8vXCIgKyB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyYW1zLmNoYW5uZWxJZCAmJiBwYXJhbXMubW92aWVJZCAmJiBwYXJhbXMudGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgIHN5bmNUeXBlID0gXCJtb3ZpZXNcIjtcclxuICAgICAgICAgICAgcXVlcnkubW92aWVfaWQgPSBwYXJhbXMubW92aWVJZDtcclxuICAgICAgICAgICAgcXVlcnkudGltZXN0YW1wID0gcGFyYW1zLnRpbWVzdGFtcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5LmNoYW5uZWxfaWQgPSBwYXJhbXMuY2hhbm5lbElkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cmwgKz0gXCIvXCIgKyBzeW5jVHlwZTtcclxuICAgICAgICB0aGlzLnNvY2tldCA9IGlvKHVybCwge1xyXG4gICAgICAgICAgICBwYXRoOiBcIi92MS9zdHJlYW1cIixcclxuICAgICAgICAgICAgbXVsdGlwbGV4OiBmYWxzZSxcclxuICAgICAgICAgICAgcmVjb25uZWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXHJcbiAgICAgICAgICAgIC8vIGZvcmNlTmV3OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAvLyBzZWN1cmU6IHRydWUsXHJcbiAgICAgICAgICAgIHRyYW5zcG9ydHM6IFtcIndlYnNvY2tldFwiXSxcclxuICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogdGhpcy5sb2NhbGUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5lbWl0KCdhdXRoZW50aWNhdGUnLCB7IHRva2VuOiBfdGhpcy5nZXRTYXZlZFRva2VuKCkuYWNjZXNzX3Rva2VuIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2F1dGhlbnRpY2F0ZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1dGhvcml6ZWRcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3VuYXV0aG9yaXplZCcsIGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5hdXRob3JpemVkOiBcIiArIEpTT04uc3RyaW5naWZ5KG1zZy5kYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnLmRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNPQ0tFVCBlcnJvclwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uRXJyb3IgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFja3Mub25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdmllX3N0YXJ0JywgZnVuY3Rpb24gKG1vdmllKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uTW92aWVTdGFydCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vbk1vdmllU3RhcnQobW92aWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3ZpZV9lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uTW92aWVFbmQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFja3Mub25Nb3ZpZUVuZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdzY2VuZV9zdGFydCcsIGZ1bmN0aW9uIChzY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jYWxsYmFja3MgJiYgcGFyYW1zLmNhbGxiYWNrcy5vblNjZW5lU3RhcnQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFja3Mub25TY2VuZVN0YXJ0KHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignc2NlbmVfdXBkYXRlJywgZnVuY3Rpb24gKHNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNhbGxiYWNrcyAmJiBwYXJhbXMuY2FsbGJhY2tzLm9uU2NlbmVVcGRhdGUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFja3Mub25TY2VuZVVwZGF0ZShzY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3NjZW5lX2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25TY2VuZUVuZCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vblNjZW5lRW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3BhdXNlX3N0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jYWxsYmFja3MgJiYgcGFyYW1zLmNhbGxiYWNrcy5vblBhdXNlU3RhcnQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFja3Mub25QYXVzZVN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ3BhdXNlX2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tzICYmIHBhcmFtcy5jYWxsYmFja3Mub25QYXVzZUVuZCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrcy5vblBhdXNlRW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuY2xlYXJTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIERlbGV0ZSBjYXJkIGxpa2VcclxuICAgICogUmVtb3ZlcyBhIGNhcmQgZnJvbSBjdXJyZW50IHVzZXImIzM5O3MgbGlrZXMgbGlzdFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjYXJkSWQgUmVxdWVzdGVkIGNhcmQgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmRlbGV0ZUxpa2VzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZGVsZXRlTGlrZXMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBkZWxldGVMaWtlc1wiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJkZWxldGVMaWtlc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmRlbGV0ZUxpa2VzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbFxyXG4gICAgKiBSZXRyaWV2ZXMgYSBmdWxsIGNhcmQgZGV0YWlsLCB3aXRoIG5vIHJlbGF0aW9ucyBvciBjb250ZXh0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBwcm9kdWN0cyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gY29tbWVyY2lhbCBwcm9kdWN0cyB3aGVuIGF2YWlsYWJsZSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIHVzZXJEYXRhIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB1c2VyIGRhdGEgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0Q2FyZCA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmQobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRDYXJkXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldENhcmRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXJkKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogRnVsbCBjYXJkIGRldGFpbCB3aXRoIHZlcnNpb25cclxuICAgICogUmV0cmlldmVzIGEgZnVsbCBjYXJkIGRldGFpbCwgYW5kIGl0cyByZWxhdGlvbnMgdG8gb3RoZXIgY2FyZHMgaW4gYSBnaXZlbiBjb250ZXh0IChjYXJkIHZlcnNpb24pXHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjYXJkXHJcbiAgICAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gaWRlbnRpZmllciwgaW5kaWNhdGVzIHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjYXJkIGlzIGJlaW5nIHJlcXVlc3RlZFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gcHJvZHVjdHMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIGNvbW1lcmNpYWwgcHJvZHVjdHMgd2hlbiBhdmFpbGFibGUgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSB1c2VyRGF0YSBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdXNlciBkYXRhIHdoZW4gYXZhaWxhYmxlICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gcmVsYXRpb25zIEluZGljYXRlcyBpZiBjYXJkcyBzaG91bGQgY29udGFpbiB0aGUgc2NlbmUgaGllcmFyY2h5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmdldENhcmRWZXJzaW9uID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2FyZFZlcnNpb24obmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRDYXJkVmVyc2lvblwiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJnZXRDYXJkVmVyc2lvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENhcmRWZXJzaW9uKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogTW92aWUgY2F0YWxvZyBpbmZvXHJcbiAgICAqIFJldHJpZXZlcyBhIG1vdmllJiMzOTtzIGZ1bGwgY2FyZCBieSBpdHMgY2xpZW50IElELCBpbmNsdWRpbmcgY2F0YWxvZyBhbmQgY2FzdCBpbmZvcm1hdGlvblxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRDYXRhbG9nTW92aWUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDYXRhbG9nTW92aWUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRDYXRhbG9nTW92aWVcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0Q2F0YWxvZ01vdmllXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2F0YWxvZ01vdmllKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQ2hhbm5lbCBldmVudHMgZ3JpZFxyXG4gICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGFuZCB1cGNvbWluZyBncmlkIG9mIFRWIGV2ZW50cyBmb3IgdGhlIGdpdmVuIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0Q2hhbm5lbEdyaWQgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRDaGFubmVsR3JpZChuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIGdldENoYW5uZWxHcmlkXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldENoYW5uZWxHcmlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbEdyaWQobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgKiBDaGFubmVsIG1vdmllIGNhdGFsb2cgaW5mb1xyXG4gICAgKiBSZXRyaWV2ZXMgZnVsbCBjYXJkIGRldGFpbCwgaW5jbHVkaW5nIGNhdGFsb2cgYW5kIGNhc3QgaW5mb3JtYXRpb24sIGZvciB0aGUgY29udGVudCBjdXJyZW50bHkgYmVpbmcgYnJvYWRjYXN0ZWQgb24gdGhlIGNoYW5uZWxcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2hhbm5lbElkIENsaWVudCBjaGFubmVsIElEXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0Q2hhbm5lbE1vdmllID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0Q2hhbm5lbE1vdmllKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gZ2V0Q2hhbm5lbE1vdmllXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldENoYW5uZWxNb3ZpZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldENoYW5uZWxNb3ZpZShuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIEdldCBjYXJkIGxpa2VzXHJcbiAgICAqIFJldHVybnMgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjYXJkcyBsaWtlZCBieSBjdXJyZW50IHVzZXJcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKiBAcGFyYW0gaW1hZ2VTaXplIFNpemUgb2YgdGhlIGltYWdlcyByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICogQHBhcmFtIHBhZ2luYXRlS2V5IFBhZ2luYXRlIGtleVxyXG4gICAgKiBAcGFyYW0gc2l6ZSBOdW1iZXIgb2YgZGVzaXJlZCByZXN1bHRzXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRMaWtlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldExpa2VzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gZ2V0TGlrZXNcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0TGlrZXNcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRMaWtlcyhuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIENoYW5uZWwgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIGlmIGEgbGlzdCBvZiBjbGllbnQgY2hhbm5lbCBpZGVudGlmaWVycyBhcmUgY3VycmVudGx5IGJyb2FkY2FzdGluZyBzeW5jaHJvbml6YWJsZSBjb250ZW50XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNoYW5uZWxJZExpc3QgTGlzdCBvZiBjbGllbnQgY2hhbm5lbCBJRHMgYXMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0UmVhZHlDaGFubmVscyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5Q2hhbm5lbHMobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRSZWFkeUNoYW5uZWxzXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldFJlYWR5Q2hhbm5lbHNcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRSZWFkeUNoYW5uZWxzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogTW92aWUgc3luYyBhdmFpbGFiaWxpdHlcclxuICAgICogQ2hlY2tzIHdoZXRoZXIgYSBsaXN0IG9mIGNsaWVudCBtb3ZpZSBpZGVudGlmaWVycyAoVmlkZW8gT24gRGVtYW5kKSBhcmUgYXZhaWxhYmxlIHRvIGJlIHN5bmNocm9uaXplZCB1c2luZyB0aGUgRGl2ZSBBUElcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCZWFyZXIgJmx0O3Rva2VuJmd0OyYjMzk7KVxyXG4gICAgKiBAcGFyYW0gY2xpZW50TW92aWVJZExpc3QgTGlzdCBvZiBjbGllbnQgbW92aWUgSURzLCBwcm92aWRlZCBhcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0XHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRSZWFkeU1vdmllcyA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFJlYWR5TW92aWVzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gZ2V0UmVhZHlNb3ZpZXNcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0UmVhZHlNb3ZpZXNcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRSZWFkeU1vdmllcyhuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIFN0YXRpYyBjaGFubmVsIHNjZW5lXHJcbiAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBjb250ZW50IGN1cnJlbnRseSBiZWluZyBicm9hZGNhc3RlZCBpbiB0aGUgcHJvdmlkZWQgY2hhbm5lbFxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjaGFubmVsSWQgQ2xpZW50IGNoYW5uZWwgSURcclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIHJlbGF0aW9ucyBJbmRpY2F0ZXMgaWYgY2FyZHMgc2hvdWxkIGNvbnRhaW4gdGhlIHNjZW5lIGhpZXJhcmNoeSAodHJ1ZSkgb3Igbm90IChmYWxzZSlcclxuICAgICogQHBhcmFtIGltYWdlU2l6ZSBTaXplIG9mIHRoZSBpbWFnZXMgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAqL1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRTdGF0aWNDaGFubmVsU2NlbmUgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRTdGF0aWNDaGFubmVsU2NlbmUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRTdGF0aWNDaGFubmVsU2NlbmVcIiwgXCJiYWNrZ3JvdW5kOiBibGFjazsgY29sb3I6ICNGRTJFRjc7IHBhZGRpbmc6IDAgMTBweDtcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxICYmIF90aGlzLnNlcnZpY2VSZXF1aXJlc1Rva2VuKFwiZ2V0U3RhdGljQ2hhbm5lbFNjZW5lXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFRva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJkZXZpY2VfY3JlZGVudGlhbHNcIiwgZGV2aWNlSWQ6IF90aGlzLmRldmljZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zID0gX3RoaXMuZ2F0aGVyQ29tbW9uSGVhZGVycyhwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAuZ2V0U3RhdGljQ2hhbm5lbFNjZW5lKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogU3RhdGljIFZPRCBzY2VuZVxyXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbGlzdCBvZiBjYXJkcyByZWxhdGVkIHRvIHRoZSBnaXZlbiBtb3ZpZSBzY2VuZVxyXG4gICAgKiBAcGFyYW0gYXV0aG9yaXphdGlvbiBBdXRob3JpemF0aW9uIHRva2VuICgmIzM5O0JlYXJlciAmbHQ7dG9rZW4mZ3Q7JiMzOTspXHJcbiAgICAqIEBwYXJhbSBjbGllbnRNb3ZpZUlkIENsaWVudCBtb3ZpZSBJRCBiZWluZyBwbGF5ZWRcclxuICAgICogQHBhcmFtIHRpbWVzdGFtcCBDdXJyZW50IG1vdmllIHRpbWVzdGFtcCBpbiBzZWNvbmRzXHJcbiAgICAqIEBwYXJhbSBhY2NlcHRMYW5ndWFnZSBDbGllbnQgbG9jYWxlLCBhcyBsYW5ndWFnZS1jb3VudHJ5XHJcbiAgICAqIEBwYXJhbSByZWxhdGlvbnMgSW5kaWNhdGVzIGlmIGNhcmRzIHNob3VsZCBjb250YWluIHRoZSBzY2VuZSBoaWVyYXJjaHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXHJcbiAgICAqIEBwYXJhbSBpbWFnZVNpemUgU2l6ZSBvZiB0aGUgaW1hZ2VzIHJldHVybmVkIGluIHRoZSByZXNwb25zZVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0U3RhdGljTW92aWVTY2VuZSA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLmdldFN0YXRpY01vdmllU2NlbmUobmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFJFU1QgZXJyb3IgLSBnZXRTdGF0aWNNb3ZpZVNjZW5lXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcImdldFN0YXRpY01vdmllU2NlbmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5nZXRTdGF0aWNNb3ZpZVNjZW5lKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yUmVmcmVzaGluZ1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvclJlZnJlc2hpbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICogQWRkIGNhcmQgbGlrZVxyXG4gICAgKiBTdG9yZXMgYSBjYXJkIHVuZGVyIGN1cnJlbnQgdXNlciYjMzk7cyBsaWtlcyBsaXN0XHJcbiAgICAqIEBwYXJhbSBhdXRob3JpemF0aW9uIEF1dGhvcml6YXRpb24gdG9rZW4gKCYjMzk7QmVhcmVyICZsdDt0b2tlbiZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGNhcmRJZCBSZXF1ZXN0ZWQgY2FyZCBJRFxyXG4gICAgKiBAcGFyYW0gYWNjZXB0TGFuZ3VhZ2UgQ2xpZW50IGxvY2FsZSwgYXMgbGFuZ3VhZ2UtY291bnRyeVxyXG4gICAgKi9cclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUucG9zdExpa2VzID0gZnVuY3Rpb24gKHBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgZXhwb3J0cy5EZWZhdWx0QXBpRnAucG9zdExpa2VzKG5ld1BhcmFtcywgb3B0aW9ucykoX3RoaXMuZmV0Y2gsIF90aGlzLmJhc2VQYXRoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBSRVNUIGVycm9yIC0gcG9zdExpa2VzXCIsIFwiYmFja2dyb3VuZDogYmxhY2s7IGNvbG9yOiAjRkUyRUY3OyBwYWRkaW5nOiAwIDEwcHg7XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSAmJiBfdGhpcy5zZXJ2aWNlUmVxdWlyZXNUb2tlbihcInBvc3RMaWtlc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBvc3RUb2tlbkFuZFNhdmUoeyBncmFudFR5cGU6IFwiZGV2aWNlX2NyZWRlbnRpYWxzXCIsIGRldmljZUlkOiBfdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcyA9IF90aGlzLmdhdGhlckNvbW1vbkhlYWRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RMaWtlcyhuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvclJlZnJlc2hpbmdUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JSZWZyZXNoaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAqIFRva2VuIGVuZHBvaW50XHJcbiAgICAqIFRoZSB0b2tlbiBlbmRwb2ludCBpcyB1c2VkIHRvIG9idGFpbiBhY2Nlc3MgdG9rZW5zIHdoaWNoIGFsbG93IGNsaWVudHMgdG8gbWFrZSBBUEkgcmVxdWVzdHNcclxuICAgICogQHBhcmFtIGF1dGhvcml6YXRpb24gQmFzaWMgYXV0aG9yaXphdGlvbiB0b2tlbiAoJiMzOTtCYXNpYyAmbHQ7Y2xpZW50X2tleSZndDsmIzM5OylcclxuICAgICogQHBhcmFtIGdyYW50VHlwZSBHcmFudCB0eXBlIHVzZWQgdG8gb2J0YWluIHRoZSB0b2tlbi5cclxuICAgICogQHBhcmFtIGFjY2VwdExhbmd1YWdlIENsaWVudCBsb2NhbGUsIGFzIGxhbmd1YWdlLWNvdW50cnlcclxuICAgICogQHBhcmFtIGRldmljZUlkIERldmljZSBpZGVudGlmaWVyLCBtdXN0IHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSB1c2VyIG9yIGRldmljZSBhY2Nlc3NpbmcgdGhlIEFQSS4gUmVxdWlyZWQgb25seSBmb3IgXFwmcXVvdDtkZXZpY2VfY3JlZGVudGlhbHNcXCZxdW90OyBncmFudCB0eXBlXHJcbiAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gUmVmcmVzaCB0b2tlbiwgdXNlZCB0byBpc3N1ZSBhIG5ldyB0b2tlbiB3aXRob3V0IHJlc2VuZGluZyBjbGllbnQgY3JlZGVudGlhbHMuIFJlcXVpcmVkIG9ubHkgZm9yIFxcJnF1b3Q7cmVmcmVzaF90b2tlblxcJnF1b3Q7IGdyYW50IHR5cGVcclxuICAgICovXHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLnBvc3RUb2tlbiA9IGZ1bmN0aW9uIChwYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGV4cG9ydHMuRGVmYXVsdEFwaUZwLnBvc3RUb2tlbihuZXdQYXJhbXMsIG9wdGlvbnMpKF90aGlzLmZldGNoLCBfdGhpcy5iYXNlUGF0aClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgUkVTVCBlcnJvciAtIHBvc3RUb2tlblwiLCBcImJhY2tncm91bmQ6IGJsYWNrOyBjb2xvcjogI0ZFMkVGNzsgcGFkZGluZzogMCAxMHB4O1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEgJiYgX3RoaXMuc2VydmljZVJlcXVpcmVzVG9rZW4oXCJwb3N0VG9rZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogX3RoaXMuZGV2aWNlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBfdGhpcy5nYXRoZXJDb21tb25IZWFkZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcC5wb3N0VG9rZW4obmV3UGFyYW1zLCBvcHRpb25zKShfdGhpcy5mZXRjaCwgX3RoaXMuYmFzZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSZWZyZXNoaW5nVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yUmVmcmVzaGluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuc2VydmljZVJlcXVpcmVzVG9rZW4gPSBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vQXV0aFNlcnZpY2VzLmluZGV4T2YobWV0aG9kTmFtZSkgPT09IC0xO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUud3JpdGVUb2tlblRvQ29va2llID0gZnVuY3Rpb24gKG5ld1Rva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q29va2llKFwiZGl2ZV90b2tlblwiLCBKU09OLnN0cmluZ2lmeShuZXdUb2tlbiksIG5ld1Rva2VuLmV4cGlyZXNfaW4pO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUud3JpdGVUb2tlblRvV2ViU3RvcmFnZSA9IGZ1bmN0aW9uIChuZXdUb2tlbikge1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImRpdmVfdG9rZW5cIiwgSlNPTi5zdHJpbmdpZnkobmV3VG9rZW4pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5yZWZyZXNoVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJUb2tlbiA9IHRoaXMuZ2V0U2F2ZWRUb2tlbigpO1xyXG4gICAgICAgIHZhciBhdXRoID0gXCJCYXNpYyBcIiArIHRoaXMuYXBpS2V5O1xyXG4gICAgICAgIGlmIChjdXJyVG9rZW4gJiYgY3VyclRva2VuLnJlZnJlc2hfdG9rZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdFRva2VuQW5kU2F2ZSh7IGdyYW50VHlwZTogXCJyZWZyZXNoX3Rva2VuXCIsIHJlZnJlc2hUb2tlbjogY3VyclRva2VuLnJlZnJlc2hfdG9rZW4gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0VG9rZW5BbmRTYXZlKHsgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiLCBkZXZpY2VJZDogdGhpcy5kZXZpY2VJZCB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5zZXRDb29raWUgPSBmdW5jdGlvbiAoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKSB7XHJcbiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIChleGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9L1wiO1xyXG4gICAgfTtcclxuICAgIERpdmVBUElDbGFzcy5wcm90b3R5cGUuZ2V0Q29va2llID0gZnVuY3Rpb24gKGNuYW1lKSB7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgICAgIHZhciBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7XHJcbiAgICAgICAgdmFyIGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCgnOycpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBjYVtpXTtcclxuICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRUb2tlbkZyb21Db29raWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuZ2V0Q29va2llKFwiZGl2ZV90b2tlblwiKTtcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5nZXRUb2tlbkZyb21XZWJTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZGl2ZV90b2tlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEaXZlQVBJQ2xhc3MucHJvdG90eXBlLmRlbGV0ZVRva2VuRnJvbVdlYlN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiZGl2ZV90b2tlblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGl2ZUFQSUNsYXNzLnByb3RvdHlwZS5kZWxldGVUb2tlbkZyb21Db29raWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBuYW1lID0gXCJkaXZlX3Rva2VuXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9O2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7JztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGl2ZUFQSUNsYXNzO1xyXG59KERlZmF1bHRBcGkpKTtcclxuZXhwb3J0cy5EaXZlQVBJQ2xhc3MgPSBEaXZlQVBJQ2xhc3M7XHJcblxuXG4vKioqLyB9KSxcbi8qIDMyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cblxuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG5cbnZhciBwdW55Y29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyIHV0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlLCBnbG9iYWwpIHt2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHJ1ZVxuXHQpIHtcblx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTQpKG1vZHVsZSksIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0aGUgd2hhdHdnLWZldGNoIHBvbHlmaWxsIGluc3RhbGxzIHRoZSBmZXRjaCgpIGZ1bmN0aW9uXG4vLyBvbiB0aGUgZ2xvYmFsIG9iamVjdCAod2luZG93IG9yIHNlbGYpXG4vL1xuLy8gUmV0dXJuIHRoYXQgYXMgdGhlIGV4cG9ydCBmb3IgdXNlIGluIFdlYnBhY2ssIEJyb3dzZXJpZnkgZXRjLlxuX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGYuZmV0Y2guYmluZChzZWxmKTtcblxuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnb21pdCdcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSlcbiAgfVxuXG4gIFJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHsgYm9keTogdGhpcy5fYm9keUluaXQgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgIGJvZHkudHJpbSgpLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICByYXdIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9ICdzdGF0dXMnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1cyA6IDIwMFxuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG5cblxuLyoqKi8gfSksXG4vKiAzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbnZhciBNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKCdzb2NrZXQuaW8tY2xpZW50Jyk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gbG9va3VwO1xuXG4vKipcbiAqIE1hbmFnZXJzIGNhY2hlLlxuICovXG5cbnZhciBjYWNoZSA9IGV4cG9ydHMubWFuYWdlcnMgPSB7fTtcblxuLyoqXG4gKiBMb29rcyB1cCBhbiBleGlzdGluZyBgTWFuYWdlcmAgZm9yIG11bHRpcGxleGluZy5cbiAqIElmIHRoZSB1c2VyIHN1bW1vbnM6XG4gKlxuICogICBgaW8oJ2h0dHA6Ly9sb2NhbGhvc3QvYScpO2BcbiAqICAgYGlvKCdodHRwOi8vbG9jYWxob3N0L2InKTtgXG4gKlxuICogV2UgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlIGJhc2VkIG9uIHNhbWUgc2NoZW1lL3BvcnQvaG9zdCxcbiAqIGFuZCB3ZSBpbml0aWFsaXplIHNvY2tldHMgZm9yIGVhY2ggbmFtZXNwYWNlLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9va3VwICh1cmksIG9wdHMpIHtcbiAgaWYgKHR5cGVvZiB1cmkgPT09ICdvYmplY3QnKSB7XG4gICAgb3B0cyA9IHVyaTtcbiAgICB1cmkgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICB2YXIgcGFyc2VkID0gdXJsKHVyaSk7XG4gIHZhciBzb3VyY2UgPSBwYXJzZWQuc291cmNlO1xuICB2YXIgaWQgPSBwYXJzZWQuaWQ7XG4gIHZhciBwYXRoID0gcGFyc2VkLnBhdGg7XG4gIHZhciBzYW1lTmFtZXNwYWNlID0gY2FjaGVbaWRdICYmIHBhdGggaW4gY2FjaGVbaWRdLm5zcHM7XG4gIHZhciBuZXdDb25uZWN0aW9uID0gb3B0cy5mb3JjZU5ldyB8fCBvcHRzWydmb3JjZSBuZXcgY29ubmVjdGlvbiddIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZmFsc2UgPT09IG9wdHMubXVsdGlwbGV4IHx8IHNhbWVOYW1lc3BhY2U7XG5cbiAgdmFyIGlvO1xuXG4gIGlmIChuZXdDb25uZWN0aW9uKSB7XG4gICAgZGVidWcoJ2lnbm9yaW5nIHNvY2tldCBjYWNoZSBmb3IgJXMnLCBzb3VyY2UpO1xuICAgIGlvID0gTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICBkZWJ1ZygnbmV3IGlvIGluc3RhbmNlIGZvciAlcycsIHNvdXJjZSk7XG4gICAgICBjYWNoZVtpZF0gPSBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgfVxuICAgIGlvID0gY2FjaGVbaWRdO1xuICB9XG4gIGlmIChwYXJzZWQucXVlcnkgJiYgIW9wdHMucXVlcnkpIHtcbiAgICBvcHRzLnF1ZXJ5ID0gcGFyc2VkLnF1ZXJ5O1xuICB9XG4gIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuXG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnByb3RvY29sID0gcGFyc2VyLnByb3RvY29sO1xuXG4vKipcbiAqIGBjb25uZWN0YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJpXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuY29ubmVjdCA9IGxvb2t1cDtcblxuLyoqXG4gKiBFeHBvc2UgY29uc3RydWN0b3JzIGZvciBzdGFuZGFsb25lIGJ1aWxkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5leHBvcnRzLlNvY2tldCA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBwYXJzZXVyaSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKSgnc29ja2V0LmlvLWNsaWVudDp1cmwnKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVybDtcblxuLyoqXG4gKiBVUkwgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgICAgICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gdXJsICh1cmksIGxvYykge1xuICB2YXIgb2JqID0gdXJpO1xuXG4gIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gIGxvYyA9IGxvYyB8fCBnbG9iYWwubG9jYXRpb247XG4gIGlmIChudWxsID09IHVyaSkgdXJpID0gbG9jLnByb3RvY29sICsgJy8vJyArIGxvYy5ob3N0O1xuXG4gIC8vIHJlbGF0aXZlIHBhdGggc3VwcG9ydFxuICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB1cmkpIHtcbiAgICBpZiAoJy8nID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICBpZiAoJy8nID09PSB1cmkuY2hhckF0KDEpKSB7XG4gICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIHVyaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVyaSA9IGxvYy5ob3N0ICsgdXJpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghL14oaHR0cHM/fHdzcz8pOlxcL1xcLy8udGVzdCh1cmkpKSB7XG4gICAgICBkZWJ1ZygncHJvdG9jb2wtbGVzcyB1cmwgJXMnLCB1cmkpO1xuICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbG9jKSB7XG4gICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArICcvLycgKyB1cmk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmkgPSAnaHR0cHM6Ly8nICsgdXJpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHBhcnNlXG4gICAgZGVidWcoJ3BhcnNlICVzJywgdXJpKTtcbiAgICBvYmogPSBwYXJzZXVyaSh1cmkpO1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHdlIHRyZWF0IGBsb2NhbGhvc3Q6ODBgIGFuZCBgbG9jYWxob3N0YCBlcXVhbGx5XG4gIGlmICghb2JqLnBvcnQpIHtcbiAgICBpZiAoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgIG9iai5wb3J0ID0gJzgwJztcbiAgICB9IGVsc2UgaWYgKC9eKGh0dHB8d3MpcyQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgb2JqLnBvcnQgPSAnNDQzJztcbiAgICB9XG4gIH1cblxuICBvYmoucGF0aCA9IG9iai5wYXRoIHx8ICcvJztcblxuICB2YXIgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoJzonKSAhPT0gLTE7XG4gIHZhciBob3N0ID0gaXB2NiA/ICdbJyArIG9iai5ob3N0ICsgJ10nIDogb2JqLmhvc3Q7XG5cbiAgLy8gZGVmaW5lIHVuaXF1ZSBpZFxuICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyAnOi8vJyArIGhvc3QgKyAnOicgKyBvYmoucG9ydDtcbiAgLy8gZGVmaW5lIGhyZWZcbiAgb2JqLmhyZWYgPSBvYmoucHJvdG9jb2wgKyAnOi8vJyArIGhvc3QgKyAobG9jICYmIGxvYy5wb3J0ID09PSBvYmoucG9ydCA/ICcnIDogKCc6JyArIG9iai5wb3J0KSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSksXG4vKiA0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gKi9cblxuZXhwb3J0cy5uYW1lcyA9IFtdO1xuZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4vKipcbiAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAqXG4gKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgdmFyIGhhc2ggPSAwLCBpO1xuXG4gIGZvciAoaSBpbiBuYW1lc3BhY2UpIHtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXG4gIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIC8vIGRpc2FibGVkP1xuICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgIC8vIHNldCBgZGlmZmAgdGltZXN0YW1wXG4gICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgcHJldlRpbWUgPSBjdXJyO1xuXG4gICAgLy8gdHVybiB0aGUgYGFyZ3VtZW50c2AgaW50byBhIHByb3BlciBBcnJheVxuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBhcmdzWzBdID0gZXhwb3J0cy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24obWF0Y2gsIGZvcm1hdCkge1xuICAgICAgLy8gaWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICBpbmRleCsrO1xuICAgICAgdmFyIGZvcm1hdHRlciA9IGV4cG9ydHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cbiAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgIGV4cG9ydHMuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG4gICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cblxuICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgZGVidWcudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXG4gIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cy5pbml0KSB7XG4gICAgZXhwb3J0cy5pbml0KGRlYnVnKTtcbiAgfVxuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxuLyoqXG4gKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTtcblxuICBleHBvcnRzLm5hbWVzID0gW107XG4gIGV4cG9ydHMuc2tpcHMgPSBbXTtcblxuICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtcyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cblxuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qZ2xvYmFsIEJsb2IsRmlsZSovXG5cbi8qKlxuICogTW9kdWxlIHJlcXVpcmVtZW50c1xuICovXG5cbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG52YXIgaXNCdWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgZ2xvYmFsLkJsb2IgPT09ICdmdW5jdGlvbicgfHwgdG9TdHJpbmcuY2FsbChnbG9iYWwuQmxvYikgPT09ICdbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl0nO1xudmFyIHdpdGhOYXRpdmVGaWxlID0gdHlwZW9mIGdsb2JhbC5GaWxlID09PSAnZnVuY3Rpb24nIHx8IHRvU3RyaW5nLmNhbGwoZ2xvYmFsLkZpbGUpID09PSAnW29iamVjdCBGaWxlQ29uc3RydWN0b3JdJztcblxuLyoqXG4gKiBSZXBsYWNlcyBldmVyeSBCdWZmZXIgfCBBcnJheUJ1ZmZlciBpbiBwYWNrZXQgd2l0aCBhIG51bWJlcmVkIHBsYWNlaG9sZGVyLlxuICogQW55dGhpbmcgd2l0aCBibG9icyBvciBmaWxlcyBzaG91bGQgYmUgZmVkIHRocm91Z2ggcmVtb3ZlQmxvYnMgYmVmb3JlIGNvbWluZ1xuICogaGVyZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5kZWNvbnN0cnVjdFBhY2tldCA9IGZ1bmN0aW9uKHBhY2tldCkge1xuICB2YXIgYnVmZmVycyA9IFtdO1xuICB2YXIgcGFja2V0RGF0YSA9IHBhY2tldC5kYXRhO1xuICB2YXIgcGFjayA9IHBhY2tldDtcbiAgcGFjay5kYXRhID0gX2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEsIGJ1ZmZlcnMpO1xuICBwYWNrLmF0dGFjaG1lbnRzID0gYnVmZmVycy5sZW5ndGg7IC8vIG51bWJlciBvZiBiaW5hcnkgJ2F0dGFjaG1lbnRzJ1xuICByZXR1cm4ge3BhY2tldDogcGFjaywgYnVmZmVyczogYnVmZmVyc307XG59O1xuXG5mdW5jdGlvbiBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICBpZiAoIWRhdGEpIHJldHVybiBkYXRhO1xuXG4gIGlmIChpc0J1ZihkYXRhKSkge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IHsgX3BsYWNlaG9sZGVyOiB0cnVlLCBudW06IGJ1ZmZlcnMubGVuZ3RoIH07XG4gICAgYnVmZmVycy5wdXNoKGRhdGEpO1xuICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgdmFyIG5ld0RhdGEgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3RGF0YVtpXSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0RhdGE7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmICEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgdmFyIG5ld0RhdGEgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgbmV3RGF0YVtrZXldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgfVxuICAgIHJldHVybiBuZXdEYXRhO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFJlY29uc3RydWN0cyBhIGJpbmFyeSBwYWNrZXQgZnJvbSBpdHMgcGxhY2Vob2xkZXIgcGFja2V0IGFuZCBidWZmZXJzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldCAtIGV2ZW50IHBhY2tldCB3aXRoIHBsYWNlaG9sZGVyc1xuICogQHBhcmFtIHtBcnJheX0gYnVmZmVycyAtIGJpbmFyeSBidWZmZXJzIHRvIHB1dCBpbiBwbGFjZWhvbGRlciBwb3NpdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjb25zdHJ1Y3RlZCBwYWNrZXRcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5yZWNvbnN0cnVjdFBhY2tldCA9IGZ1bmN0aW9uKHBhY2tldCwgYnVmZmVycykge1xuICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gIHBhY2tldC5hdHRhY2htZW50cyA9IHVuZGVmaW5lZDsgLy8gbm8gbG9uZ2VyIHVzZWZ1bFxuICByZXR1cm4gcGFja2V0O1xufTtcblxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgaWYgKCFkYXRhKSByZXR1cm4gZGF0YTtcblxuICBpZiAoZGF0YSAmJiBkYXRhLl9wbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBidWZmZXJzW2RhdGEubnVtXTsgLy8gYXBwcm9wcmlhdGUgYnVmZmVyIChzaG91bGQgYmUgbmF0dXJhbCBvcmRlciBhbnl3YXkpXG4gIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgIGRhdGFba2V5XSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHJlbW92ZXMgQmxvYnMgb3IgRmlsZXMgZnJvbSBkYXRhIHZpYVxuICogRmlsZVJlYWRlcidzIHJlYWRBc0FycmF5QnVmZmVyIG1ldGhvZC4gVXNlZCBiZWZvcmUgZW5jb2RpbmdcbiAqIGRhdGEgYXMgbXNncGFjay4gQ2FsbHMgY2FsbGJhY2sgd2l0aCB0aGUgYmxvYmxlc3MgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMucmVtb3ZlQmxvYnMgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFjaykge1xuICBmdW5jdGlvbiBfcmVtb3ZlQmxvYnMob2JqLCBjdXJLZXksIGNvbnRhaW5pbmdPYmplY3QpIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIG9iajtcblxuICAgIC8vIGNvbnZlcnQgYW55IGJsb2JcbiAgICBpZiAoKHdpdGhOYXRpdmVCbG9iICYmIG9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlKSkge1xuICAgICAgcGVuZGluZ0Jsb2JzKys7XG5cbiAgICAgIC8vIGFzeW5jIGZpbGVyZWFkZXJcbiAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7IC8vIHRoaXMucmVzdWx0ID09IGFycmF5YnVmZmVyXG4gICAgICAgIGlmIChjb250YWluaW5nT2JqZWN0KSB7XG4gICAgICAgICAgY29udGFpbmluZ09iamVjdFtjdXJLZXldID0gdGhpcy5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYmxvYmxlc3NEYXRhID0gdGhpcy5yZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBub3RoaW5nIHBlbmRpbmcgaXRzIGNhbGxiYWNrIHRpbWVcbiAgICAgICAgaWYoISAtLXBlbmRpbmdCbG9icykge1xuICAgICAgICAgIGNhbGxiYWNrKGJsb2JsZXNzRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIob2JqKTsgLy8gYmxvYiAtPiBhcnJheWJ1ZmZlclxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopKSB7IC8vIGhhbmRsZSBhcnJheVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX3JlbW92ZUJsb2JzKG9ialtpXSwgaSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFpc0J1ZihvYmopKSB7IC8vIGFuZCBvYmplY3RcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgX3JlbW92ZUJsb2JzKG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHBlbmRpbmdCbG9icyA9IDA7XG4gIHZhciBibG9ibGVzc0RhdGEgPSBkYXRhO1xuICBfcmVtb3ZlQmxvYnMoYmxvYmxlc3NEYXRhKTtcbiAgaWYgKCFwZW5kaW5nQmxvYnMpIHtcbiAgICBjYWxsYmFjayhibG9ibGVzc0RhdGEpO1xuICB9XG59O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cblxuLyoqKi8gfSksXG4vKiA0OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbi8qKlxuICogRXhwb3J0cyBwYXJzZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICpcbiAqL1xubW9kdWxlLmV4cG9ydHMucGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHRyYW5zcG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ2VuZ2luZS5pby1jbGllbnQ6c29ja2V0Jyk7XG52YXIgaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIHBhcnNldXJpID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgcGFyc2Vqc29uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG52YXIgcGFyc2VxcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBTb2NrZXQ7XG5cbi8qKlxuICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdXJpIG9yIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFNvY2tldCAodXJpLCBvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTb2NrZXQpKSByZXR1cm4gbmV3IFNvY2tldCh1cmksIG9wdHMpO1xuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmICh1cmkgJiYgJ29iamVjdCcgPT09IHR5cGVvZiB1cmkpIHtcbiAgICBvcHRzID0gdXJpO1xuICAgIHVyaSA9IG51bGw7XG4gIH1cblxuICBpZiAodXJpKSB7XG4gICAgdXJpID0gcGFyc2V1cmkodXJpKTtcbiAgICBvcHRzLmhvc3RuYW1lID0gdXJpLmhvc3Q7XG4gICAgb3B0cy5zZWN1cmUgPSB1cmkucHJvdG9jb2wgPT09ICdodHRwcycgfHwgdXJpLnByb3RvY29sID09PSAnd3NzJztcbiAgICBvcHRzLnBvcnQgPSB1cmkucG9ydDtcbiAgICBpZiAodXJpLnF1ZXJ5KSBvcHRzLnF1ZXJ5ID0gdXJpLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgIG9wdHMuaG9zdG5hbWUgPSBwYXJzZXVyaShvcHRzLmhvc3QpLmhvc3Q7XG4gIH1cblxuICB0aGlzLnNlY3VyZSA9IG51bGwgIT0gb3B0cy5zZWN1cmUgPyBvcHRzLnNlY3VyZVxuICAgIDogKGdsb2JhbC5sb2NhdGlvbiAmJiAnaHR0cHM6JyA9PT0gbG9jYXRpb24ucHJvdG9jb2wpO1xuXG4gIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAvLyBpZiBubyBwb3J0IGlzIHNwZWNpZmllZCBtYW51YWxseSwgdXNlIHRoZSBwcm90b2NvbCBkZWZhdWx0XG4gICAgb3B0cy5wb3J0ID0gdGhpcy5zZWN1cmUgPyAnNDQzJyA6ICc4MCc7XG4gIH1cblxuICB0aGlzLmFnZW50ID0gb3B0cy5hZ2VudCB8fCBmYWxzZTtcbiAgdGhpcy5ob3N0bmFtZSA9IG9wdHMuaG9zdG5hbWUgfHxcbiAgICAoZ2xvYmFsLmxvY2F0aW9uID8gbG9jYXRpb24uaG9zdG5hbWUgOiAnbG9jYWxob3N0Jyk7XG4gIHRoaXMucG9ydCA9IG9wdHMucG9ydCB8fCAoZ2xvYmFsLmxvY2F0aW9uICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgID8gbG9jYXRpb24ucG9ydFxuICAgICAgOiAodGhpcy5zZWN1cmUgPyA0NDMgOiA4MCkpO1xuICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeSB8fCB7fTtcbiAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdGhpcy5xdWVyeSkgdGhpcy5xdWVyeSA9IHBhcnNlcXMuZGVjb2RlKHRoaXMucXVlcnkpO1xuICB0aGlzLnVwZ3JhZGUgPSBmYWxzZSAhPT0gb3B0cy51cGdyYWRlO1xuICB0aGlzLnBhdGggPSAob3B0cy5wYXRoIHx8ICcvZW5naW5lLmlvJykucmVwbGFjZSgvXFwvJC8sICcnKSArICcvJztcbiAgdGhpcy5mb3JjZUpTT05QID0gISFvcHRzLmZvcmNlSlNPTlA7XG4gIHRoaXMuanNvbnAgPSBmYWxzZSAhPT0gb3B0cy5qc29ucDtcbiAgdGhpcy5mb3JjZUJhc2U2NCA9ICEhb3B0cy5mb3JjZUJhc2U2NDtcbiAgdGhpcy5lbmFibGVzWERSID0gISFvcHRzLmVuYWJsZXNYRFI7XG4gIHRoaXMudGltZXN0YW1wUGFyYW0gPSBvcHRzLnRpbWVzdGFtcFBhcmFtIHx8ICd0JztcbiAgdGhpcy50aW1lc3RhbXBSZXF1ZXN0cyA9IG9wdHMudGltZXN0YW1wUmVxdWVzdHM7XG4gIHRoaXMudHJhbnNwb3J0cyA9IG9wdHMudHJhbnNwb3J0cyB8fCBbJ3BvbGxpbmcnLCAnd2Vic29ja2V0J107XG4gIHRoaXMudHJhbnNwb3J0T3B0aW9ucyA9IG9wdHMudHJhbnNwb3J0T3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJyc7XG4gIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgdGhpcy5wb2xpY3lQb3J0ID0gb3B0cy5wb2xpY3lQb3J0IHx8IDg0MztcbiAgdGhpcy5yZW1lbWJlclVwZ3JhZGUgPSBvcHRzLnJlbWVtYmVyVXBncmFkZSB8fCBmYWxzZTtcbiAgdGhpcy5iaW5hcnlUeXBlID0gbnVsbDtcbiAgdGhpcy5vbmx5QmluYXJ5VXBncmFkZXMgPSBvcHRzLm9ubHlCaW5hcnlVcGdyYWRlcztcbiAgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSA9IGZhbHNlICE9PSBvcHRzLnBlck1lc3NhZ2VEZWZsYXRlID8gKG9wdHMucGVyTWVzc2FnZURlZmxhdGUgfHwge30pIDogZmFsc2U7XG5cbiAgaWYgKHRydWUgPT09IHRoaXMucGVyTWVzc2FnZURlZmxhdGUpIHRoaXMucGVyTWVzc2FnZURlZmxhdGUgPSB7fTtcbiAgaWYgKHRoaXMucGVyTWVzc2FnZURlZmxhdGUgJiYgbnVsbCA9PSB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCkge1xuICAgIHRoaXMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkID0gMTAyNDtcbiAgfVxuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLnBmeCA9IG9wdHMucGZ4IHx8IG51bGw7XG4gIHRoaXMua2V5ID0gb3B0cy5rZXkgfHwgbnVsbDtcbiAgdGhpcy5wYXNzcGhyYXNlID0gb3B0cy5wYXNzcGhyYXNlIHx8IG51bGw7XG4gIHRoaXMuY2VydCA9IG9wdHMuY2VydCB8fCBudWxsO1xuICB0aGlzLmNhID0gb3B0cy5jYSB8fCBudWxsO1xuICB0aGlzLmNpcGhlcnMgPSBvcHRzLmNpcGhlcnMgfHwgbnVsbDtcbiAgdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQgPSBvcHRzLnJlamVjdFVuYXV0aG9yaXplZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdHMucmVqZWN0VW5hdXRob3JpemVkO1xuICB0aGlzLmZvcmNlTm9kZSA9ICEhb3B0cy5mb3JjZU5vZGU7XG5cbiAgLy8gb3RoZXIgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG4gIGlmIChmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCkge1xuICAgIGlmIChvcHRzLmV4dHJhSGVhZGVycyAmJiBPYmplY3Qua2V5cyhvcHRzLmV4dHJhSGVhZGVycykubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5sb2NhbEFkZHJlc3MpIHtcbiAgICAgIHRoaXMubG9jYWxBZGRyZXNzID0gb3B0cy5sb2NhbEFkZHJlc3M7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IG9uIGhhbmRzaGFrZVxuICB0aGlzLmlkID0gbnVsbDtcbiAgdGhpcy51cGdyYWRlcyA9IG51bGw7XG4gIHRoaXMucGluZ0ludGVydmFsID0gbnVsbDtcbiAgdGhpcy5waW5nVGltZW91dCA9IG51bGw7XG5cbiAgLy8gc2V0IG9uIGhlYXJ0YmVhdFxuICB0aGlzLnBpbmdJbnRlcnZhbFRpbWVyID0gbnVsbDtcbiAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gbnVsbDtcblxuICB0aGlzLm9wZW4oKTtcbn1cblxuU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuXG4vKipcbiAqIE1peCBpbiBgRW1pdHRlcmAuXG4gKi9cblxuRW1pdHRlcihTb2NrZXQucHJvdG90eXBlKTtcblxuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvY29sID0gcGFyc2VyLnByb3RvY29sOyAvLyB0aGlzIGlzIGFuIGludFxuXG4vKipcbiAqIEV4cG9zZSBkZXBzIGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eVxuICogYW5kIHN0YW5kYWxvbmUgYnJvd3NlciBhY2Nlc3MuXG4gKi9cblxuU29ja2V0LlNvY2tldCA9IFNvY2tldDtcblNvY2tldC5UcmFuc3BvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuU29ja2V0LnRyYW5zcG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblNvY2tldC5wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4vKipcbiAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc3BvcnQgbmFtZVxuICogQHJldHVybiB7VHJhbnNwb3J0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5jcmVhdGVUcmFuc3BvcnQgPSBmdW5jdGlvbiAobmFtZSkge1xuICBkZWJ1ZygnY3JlYXRpbmcgdHJhbnNwb3J0IFwiJXNcIicsIG5hbWUpO1xuICB2YXIgcXVlcnkgPSBjbG9uZSh0aGlzLnF1ZXJ5KTtcblxuICAvLyBhcHBlbmQgZW5naW5lLmlvIHByb3RvY29sIGlkZW50aWZpZXJcbiAgcXVlcnkuRUlPID0gcGFyc2VyLnByb3RvY29sO1xuXG4gIC8vIHRyYW5zcG9ydCBuYW1lXG4gIHF1ZXJ5LnRyYW5zcG9ydCA9IG5hbWU7XG5cbiAgLy8gcGVyLXRyYW5zcG9ydCBvcHRpb25zXG4gIHZhciBvcHRpb25zID0gdGhpcy50cmFuc3BvcnRPcHRpb25zW25hbWVdIHx8IHt9O1xuXG4gIC8vIHNlc3Npb24gaWQgaWYgd2UgYWxyZWFkeSBoYXZlIG9uZVxuICBpZiAodGhpcy5pZCkgcXVlcnkuc2lkID0gdGhpcy5pZDtcblxuICB2YXIgdHJhbnNwb3J0ID0gbmV3IHRyYW5zcG9ydHNbbmFtZV0oe1xuICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICBzb2NrZXQ6IHRoaXMsXG4gICAgYWdlbnQ6IG9wdGlvbnMuYWdlbnQgfHwgdGhpcy5hZ2VudCxcbiAgICBob3N0bmFtZTogb3B0aW9ucy5ob3N0bmFtZSB8fCB0aGlzLmhvc3RuYW1lLFxuICAgIHBvcnQ6IG9wdGlvbnMucG9ydCB8fCB0aGlzLnBvcnQsXG4gICAgc2VjdXJlOiBvcHRpb25zLnNlY3VyZSB8fCB0aGlzLnNlY3VyZSxcbiAgICBwYXRoOiBvcHRpb25zLnBhdGggfHwgdGhpcy5wYXRoLFxuICAgIGZvcmNlSlNPTlA6IG9wdGlvbnMuZm9yY2VKU09OUCB8fCB0aGlzLmZvcmNlSlNPTlAsXG4gICAganNvbnA6IG9wdGlvbnMuanNvbnAgfHwgdGhpcy5qc29ucCxcbiAgICBmb3JjZUJhc2U2NDogb3B0aW9ucy5mb3JjZUJhc2U2NCB8fCB0aGlzLmZvcmNlQmFzZTY0LFxuICAgIGVuYWJsZXNYRFI6IG9wdGlvbnMuZW5hYmxlc1hEUiB8fCB0aGlzLmVuYWJsZXNYRFIsXG4gICAgdGltZXN0YW1wUmVxdWVzdHM6IG9wdGlvbnMudGltZXN0YW1wUmVxdWVzdHMgfHwgdGhpcy50aW1lc3RhbXBSZXF1ZXN0cyxcbiAgICB0aW1lc3RhbXBQYXJhbTogb3B0aW9ucy50aW1lc3RhbXBQYXJhbSB8fCB0aGlzLnRpbWVzdGFtcFBhcmFtLFxuICAgIHBvbGljeVBvcnQ6IG9wdGlvbnMucG9saWN5UG9ydCB8fCB0aGlzLnBvbGljeVBvcnQsXG4gICAgcGZ4OiBvcHRpb25zLnBmeCB8fCB0aGlzLnBmeCxcbiAgICBrZXk6IG9wdGlvbnMua2V5IHx8IHRoaXMua2V5LFxuICAgIHBhc3NwaHJhc2U6IG9wdGlvbnMucGFzc3BocmFzZSB8fCB0aGlzLnBhc3NwaHJhc2UsXG4gICAgY2VydDogb3B0aW9ucy5jZXJ0IHx8IHRoaXMuY2VydCxcbiAgICBjYTogb3B0aW9ucy5jYSB8fCB0aGlzLmNhLFxuICAgIGNpcGhlcnM6IG9wdGlvbnMuY2lwaGVycyB8fCB0aGlzLmNpcGhlcnMsXG4gICAgcmVqZWN0VW5hdXRob3JpemVkOiBvcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCB8fCB0aGlzLnJlamVjdFVuYXV0aG9yaXplZCxcbiAgICBwZXJNZXNzYWdlRGVmbGF0ZTogb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSB8fCB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlLFxuICAgIGV4dHJhSGVhZGVyczogb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgdGhpcy5leHRyYUhlYWRlcnMsXG4gICAgZm9yY2VOb2RlOiBvcHRpb25zLmZvcmNlTm9kZSB8fCB0aGlzLmZvcmNlTm9kZSxcbiAgICBsb2NhbEFkZHJlc3M6IG9wdGlvbnMubG9jYWxBZGRyZXNzIHx8IHRoaXMubG9jYWxBZGRyZXNzLFxuICAgIHJlcXVlc3RUaW1lb3V0OiBvcHRpb25zLnJlcXVlc3RUaW1lb3V0IHx8IHRoaXMucmVxdWVzdFRpbWVvdXQsXG4gICAgcHJvdG9jb2xzOiBvcHRpb25zLnByb3RvY29scyB8fCB2b2lkICgwKVxuICB9KTtcblxuICByZXR1cm4gdHJhbnNwb3J0O1xufTtcblxuZnVuY3Rpb24gY2xvbmUgKG9iaikge1xuICB2YXIgbyA9IHt9O1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIG9baV0gPSBvYmpbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuU29ja2V0LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdHJhbnNwb3J0O1xuICBpZiAodGhpcy5yZW1lbWJlclVwZ3JhZGUgJiYgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyAmJiB0aGlzLnRyYW5zcG9ydHMuaW5kZXhPZignd2Vic29ja2V0JykgIT09IC0xKSB7XG4gICAgdHJhbnNwb3J0ID0gJ3dlYnNvY2tldCc7XG4gIH0gZWxzZSBpZiAoMCA9PT0gdGhpcy50cmFuc3BvcnRzLmxlbmd0aCkge1xuICAgIC8vIEVtaXQgZXJyb3Igb24gbmV4dCB0aWNrIHNvIGl0IGNhbiBiZSBsaXN0ZW5lZCB0b1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCAnTm8gdHJhbnNwb3J0cyBhdmFpbGFibGUnKTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnRzWzBdO1xuICB9XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdvcGVuaW5nJztcblxuICAvLyBSZXRyeSB3aXRoIHRoZSBuZXh0IHRyYW5zcG9ydCBpZiB0aGUgdHJhbnNwb3J0IGlzIGRpc2FibGVkIChqc29ucDogZmFsc2UpXG4gIHRyeSB7XG4gICAgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRoaXMudHJhbnNwb3J0cy5zaGlmdCgpO1xuICAgIHRoaXMub3BlbigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyYW5zcG9ydC5vcGVuKCk7XG4gIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgdHJhbnNwb3J0LiBEaXNhYmxlcyB0aGUgZXhpc3Rpbmcgb25lIChpZiBhbnkpLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc2V0VHJhbnNwb3J0ID0gZnVuY3Rpb24gKHRyYW5zcG9ydCkge1xuICBkZWJ1Zygnc2V0dGluZyB0cmFuc3BvcnQgJXMnLCB0cmFuc3BvcnQubmFtZSk7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICBkZWJ1ZygnY2xlYXJpbmcgZXhpc3RpbmcgdHJhbnNwb3J0ICVzJywgdGhpcy50cmFuc3BvcnQubmFtZSk7XG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvLyBzZXQgdXAgdHJhbnNwb3J0XG4gIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuXG4gIC8vIHNldCB1cCB0cmFuc3BvcnQgbGlzdGVuZXJzXG4gIHRyYW5zcG9ydFxuICAub24oJ2RyYWluJywgZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25EcmFpbigpO1xuICB9KVxuICAub24oJ3BhY2tldCcsIGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICBzZWxmLm9uUGFja2V0KHBhY2tldCk7XG4gIH0pXG4gIC5vbignZXJyb3InLCBmdW5jdGlvbiAoZSkge1xuICAgIHNlbGYub25FcnJvcihlKTtcbiAgfSlcbiAgLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9uQ2xvc2UoJ3RyYW5zcG9ydCBjbG9zZScpO1xuICB9KTtcbn07XG5cbi8qKlxuICogUHJvYmVzIGEgdHJhbnNwb3J0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc3BvcnQgbmFtZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5wcm9iZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGRlYnVnKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLCBuYW1lKTtcbiAgdmFyIHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KG5hbWUsIHsgcHJvYmU6IDEgfSk7XG4gIHZhciBmYWlsZWQgPSBmYWxzZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBvblRyYW5zcG9ydE9wZW4gKCkge1xuICAgIGlmIChzZWxmLm9ubHlCaW5hcnlVcGdyYWRlcykge1xuICAgICAgdmFyIHVwZ3JhZGVMb3Nlc0JpbmFyeSA9ICF0aGlzLnN1cHBvcnRzQmluYXJ5ICYmIHNlbGYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O1xuICAgICAgZmFpbGVkID0gZmFpbGVkIHx8IHVwZ3JhZGVMb3Nlc0JpbmFyeTtcbiAgICB9XG4gICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuXG4gICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgb3BlbmVkJywgbmFtZSk7XG4gICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogJ3BpbmcnLCBkYXRhOiAncHJvYmUnIH1dKTtcbiAgICB0cmFuc3BvcnQub25jZSgncGFja2V0JywgZnVuY3Rpb24gKG1zZykge1xuICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuICAgICAgaWYgKCdwb25nJyA9PT0gbXNnLnR5cGUgJiYgJ3Byb2JlJyA9PT0gbXNnLmRhdGEpIHtcbiAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgcG9uZycsIG5hbWUpO1xuICAgICAgICBzZWxmLnVwZ3JhZGluZyA9IHRydWU7XG4gICAgICAgIHNlbGYuZW1pdCgndXBncmFkaW5nJywgdHJhbnNwb3J0KTtcbiAgICAgICAgaWYgKCF0cmFuc3BvcnQpIHJldHVybjtcbiAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9ICd3ZWJzb2NrZXQnID09PSB0cmFuc3BvcnQubmFtZTtcblxuICAgICAgICBkZWJ1ZygncGF1c2luZyBjdXJyZW50IHRyYW5zcG9ydCBcIiVzXCInLCBzZWxmLnRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgc2VsZi50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChmYWlsZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoJ2Nsb3NlZCcgPT09IHNlbGYucmVhZHlTdGF0ZSkgcmV0dXJuO1xuICAgICAgICAgIGRlYnVnKCdjaGFuZ2luZyB0cmFuc3BvcnQgYW5kIHNlbmRpbmcgdXBncmFkZSBwYWNrZXQnKTtcblxuICAgICAgICAgIGNsZWFudXAoKTtcblxuICAgICAgICAgIHNlbGYuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogJ3VwZ3JhZGUnIH1dKTtcbiAgICAgICAgICBzZWxmLmVtaXQoJ3VwZ3JhZGUnLCB0cmFuc3BvcnQpO1xuICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgc2VsZi51cGdyYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLmZsdXNoKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJywgbmFtZSk7XG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3Byb2JlIGVycm9yJyk7XG4gICAgICAgIGVyci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgc2VsZi5lbWl0KCd1cGdyYWRlRXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJlZXplVHJhbnNwb3J0ICgpIHtcbiAgICBpZiAoZmFpbGVkKSByZXR1cm47XG5cbiAgICAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcbiAgICBmYWlsZWQgPSB0cnVlO1xuXG4gICAgY2xlYW51cCgpO1xuXG4gICAgdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhbnkgZXJyb3IgdGhhdCBoYXBwZW5zIHdoaWxlIHByb2JpbmdcbiAgZnVuY3Rpb24gb25lcnJvciAoZXJyKSB7XG4gICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdwcm9iZSBlcnJvcjogJyArIGVycik7XG4gICAgZXJyb3IudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG5cbiAgICBmcmVlemVUcmFuc3BvcnQoKTtcblxuICAgIGRlYnVnKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsIG5hbWUsIGVycik7XG5cbiAgICBzZWxmLmVtaXQoJ3VwZ3JhZGVFcnJvcicsIGVycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHJhbnNwb3J0Q2xvc2UgKCkge1xuICAgIG9uZXJyb3IoJ3RyYW5zcG9ydCBjbG9zZWQnKTtcbiAgfVxuXG4gIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICBmdW5jdGlvbiBvbmNsb3NlICgpIHtcbiAgICBvbmVycm9yKCdzb2NrZXQgY2xvc2VkJyk7XG4gIH1cblxuICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgdXBncmFkZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICBmdW5jdGlvbiBvbnVwZ3JhZGUgKHRvKSB7XG4gICAgaWYgKHRyYW5zcG9ydCAmJiB0by5uYW1lICE9PSB0cmFuc3BvcnQubmFtZSkge1xuICAgICAgZGVidWcoJ1wiJXNcIiB3b3JrcyAtIGFib3J0aW5nIFwiJXNcIicsIHRvLm5hbWUsIHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIG9uIHRoZSB0cmFuc3BvcnQgYW5kIG9uIHNlbGZcbiAgZnVuY3Rpb24gY2xlYW51cCAoKSB7XG4gICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCdvcGVuJywgb25UcmFuc3BvcnRPcGVuKTtcbiAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigndXBncmFkaW5nJywgb251cGdyYWRlKTtcbiAgfVxuXG4gIHRyYW5zcG9ydC5vbmNlKCdvcGVuJywgb25UcmFuc3BvcnRPcGVuKTtcbiAgdHJhbnNwb3J0Lm9uY2UoJ2Vycm9yJywgb25lcnJvcik7XG4gIHRyYW5zcG9ydC5vbmNlKCdjbG9zZScsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuXG4gIHRoaXMub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgdGhpcy5vbmNlKCd1cGdyYWRpbmcnLCBvbnVwZ3JhZGUpO1xuXG4gIHRyYW5zcG9ydC5vcGVuKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIGNvbm5lY3Rpb24gaXMgZGVlbWVkIG9wZW4uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ3NvY2tldCBvcGVuJyk7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdvcGVuJztcbiAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9ICd3ZWJzb2NrZXQnID09PSB0aGlzLnRyYW5zcG9ydC5uYW1lO1xuICB0aGlzLmVtaXQoJ29wZW4nKTtcbiAgdGhpcy5mbHVzaCgpO1xuXG4gIC8vIHdlIGNoZWNrIGZvciBgcmVhZHlTdGF0ZWAgaW4gY2FzZSBhbiBgb3BlbmBcbiAgLy8gbGlzdGVuZXIgYWxyZWFkeSBjbG9zZWQgdGhlIHNvY2tldFxuICBpZiAoJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgdGhpcy51cGdyYWRlICYmIHRoaXMudHJhbnNwb3J0LnBhdXNlKSB7XG4gICAgZGVidWcoJ3N0YXJ0aW5nIHVwZ3JhZGUgcHJvYmVzJyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLnVwZ3JhZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW2ldKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlcyBhIHBhY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uUGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICBpZiAoJ29wZW5pbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICdjbG9zaW5nJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgZGVidWcoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLCBwYWNrZXQudHlwZSwgcGFja2V0LmRhdGEpO1xuXG4gICAgdGhpcy5lbWl0KCdwYWNrZXQnLCBwYWNrZXQpO1xuXG4gICAgLy8gU29ja2V0IGlzIGxpdmUgLSBhbnkgcGFja2V0IGNvdW50c1xuICAgIHRoaXMuZW1pdCgnaGVhcnRiZWF0Jyk7XG5cbiAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgdGhpcy5vbkhhbmRzaGFrZShwYXJzZWpzb24ocGFja2V0LmRhdGEpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BvbmcnOlxuICAgICAgICB0aGlzLnNldFBpbmcoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwb25nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3NlcnZlciBlcnJvcicpO1xuICAgICAgICBlcnIuY29kZSA9IHBhY2tldC5kYXRhO1xuICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgICAgICB0aGlzLmVtaXQoJ2RhdGEnLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRlYnVnKCdwYWNrZXQgcmVjZWl2ZWQgd2l0aCBzb2NrZXQgcmVhZHlTdGF0ZSBcIiVzXCInLCB0aGlzLnJlYWR5U3RhdGUpO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYW5kc2hha2Ugb2JqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uSGFuZHNoYWtlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5lbWl0KCdoYW5kc2hha2UnLCBkYXRhKTtcbiAgdGhpcy5pZCA9IGRhdGEuc2lkO1xuICB0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQgPSBkYXRhLnNpZDtcbiAgdGhpcy51cGdyYWRlcyA9IHRoaXMuZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gIHRoaXMucGluZ0ludGVydmFsID0gZGF0YS5waW5nSW50ZXJ2YWw7XG4gIHRoaXMucGluZ1RpbWVvdXQgPSBkYXRhLnBpbmdUaW1lb3V0O1xuICB0aGlzLm9uT3BlbigpO1xuICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gIGlmICgnY2xvc2VkJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSByZXR1cm47XG4gIHRoaXMuc2V0UGluZygpO1xuXG4gIC8vIFByb2xvbmcgbGl2ZW5lc3Mgb2Ygc29ja2V0IG9uIGhlYXJ0YmVhdFxuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdoZWFydGJlYXQnLCB0aGlzLm9uSGVhcnRiZWF0KTtcbiAgdGhpcy5vbignaGVhcnRiZWF0JywgdGhpcy5vbkhlYXJ0YmVhdCk7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBwaW5nIHRpbWVvdXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkhlYXJ0YmVhdCA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYucGluZ1RpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnY2xvc2VkJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgc2VsZi5vbkNsb3NlKCdwaW5nIHRpbWVvdXQnKTtcbiAgfSwgdGltZW91dCB8fCAoc2VsZi5waW5nSW50ZXJ2YWwgKyBzZWxmLnBpbmdUaW1lb3V0KSk7XG59O1xuXG4vKipcbiAqIFBpbmdzIHNlcnZlciBldmVyeSBgdGhpcy5waW5nSW50ZXJ2YWxgIGFuZCBleHBlY3RzIHJlc3BvbnNlXG4gKiB3aXRoaW4gYHRoaXMucGluZ1RpbWVvdXRgIG9yIGNsb3NlcyBjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc2V0UGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBjbGVhclRpbWVvdXQoc2VsZi5waW5nSW50ZXJ2YWxUaW1lcik7XG4gIHNlbGYucGluZ0ludGVydmFsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JpdGluZyBwaW5nIHBhY2tldCAtIGV4cGVjdGluZyBwb25nIHdpdGhpbiAlc21zJywgc2VsZi5waW5nVGltZW91dCk7XG4gICAgc2VsZi5waW5nKCk7XG4gICAgc2VsZi5vbkhlYXJ0YmVhdChzZWxmLnBpbmdUaW1lb3V0KTtcbiAgfSwgc2VsZi5waW5nSW50ZXJ2YWwpO1xufTtcblxuLyoqXG4qIFNlbmRzIGEgcGluZyBwYWNrZXQuXG4qXG4qIEBhcGkgcHJpdmF0ZVxuKi9cblxuU29ja2V0LnByb3RvdHlwZS5waW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuc2VuZFBhY2tldCgncGluZycsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLmVtaXQoJ3BpbmcnKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCBvbiBgZHJhaW5gIGV2ZW50XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkRyYWluID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLCB0aGlzLnByZXZCdWZmZXJMZW4pO1xuXG4gIC8vIHNldHRpbmcgcHJldkJ1ZmZlckxlbiA9IDAgaXMgdmVyeSBpbXBvcnRhbnRcbiAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdXBncmFkaW5nLCB1cGdyYWRlIHBhY2tldCBpcyBzZW50IG92ZXIsXG4gIC8vIGFuZCBhIG5vbnplcm8gcHJldkJ1ZmZlckxlbiBjb3VsZCBjYXVzZSBwcm9ibGVtcyBvbiBgZHJhaW5gXG4gIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG5cbiAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgdGhpcy5lbWl0KCdkcmFpbicpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGbHVzaCB3cml0ZSBidWZmZXJzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnY2xvc2VkJyAhPT0gdGhpcy5yZWFkeVN0YXRlICYmIHRoaXMudHJhbnNwb3J0LndyaXRhYmxlICYmXG4gICAgIXRoaXMudXBncmFkaW5nICYmIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgZGVidWcoJ2ZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0JywgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpO1xuICAgIHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlcik7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgIC8vIHNwbGljZSB3cml0ZUJ1ZmZlciBhbmQgY2FsbGJhY2tCdWZmZXIgb24gYGRyYWluYFxuICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIHRoaXMuZW1pdCgnZmx1c2gnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZW5kcyBhIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUud3JpdGUgPVxuU29ja2V0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgdGhpcy5zZW5kUGFja2V0KCdtZXNzYWdlJywgbXNnLCBvcHRpb25zLCBmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZW5kcyBhIHBhY2tldC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFja2V0IHR5cGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnNlbmRQYWNrZXQgPSBmdW5jdGlvbiAodHlwZSwgZGF0YSwgb3B0aW9ucywgZm4pIHtcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBkYXRhKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICBmbiA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cblxuICBpZiAoJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ2Nsb3NlZCcgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmNvbXByZXNzID0gZmFsc2UgIT09IG9wdGlvbnMuY29tcHJlc3M7XG5cbiAgdmFyIHBhY2tldCA9IHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IGRhdGEsXG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9O1xuICB0aGlzLmVtaXQoJ3BhY2tldENyZWF0ZScsIHBhY2tldCk7XG4gIHRoaXMud3JpdGVCdWZmZXIucHVzaChwYWNrZXQpO1xuICBpZiAoZm4pIHRoaXMub25jZSgnZmx1c2gnLCBmbik7XG4gIHRoaXMuZmx1c2goKTtcbn07XG5cbi8qKlxuICogQ2xvc2VzIHRoZSBjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zaW5nJztcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgdGhpcy5vbmNlKCdkcmFpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICBzZWxmLm9uQ2xvc2UoJ2ZvcmNlZCBjbG9zZScpO1xuICAgIGRlYnVnKCdzb2NrZXQgY2xvc2luZyAtIHRlbGxpbmcgdHJhbnNwb3J0IHRvIGNsb3NlJyk7XG4gICAgc2VsZi50cmFuc3BvcnQuY2xvc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXBBbmRDbG9zZSAoKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigndXBncmFkZScsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigndXBncmFkZUVycm9yJywgY2xlYW51cEFuZENsb3NlKTtcbiAgICBjbG9zZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gd2FpdEZvclVwZ3JhZGUgKCkge1xuICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgc2VsZi5vbmNlKCd1cGdyYWRlJywgY2xlYW51cEFuZENsb3NlKTtcbiAgICBzZWxmLm9uY2UoJ3VwZ3JhZGVFcnJvcicsIGNsZWFudXBBbmRDbG9zZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICBkZWJ1Zygnc29ja2V0IGVycm9yICVqJywgZXJyKTtcbiAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgdGhpcy5vbkNsb3NlKCd0cmFuc3BvcnQgZXJyb3InLCBlcnIpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgY2xvc2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbiwgZGVzYykge1xuICBpZiAoJ29wZW5pbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICBkZWJ1Zygnc29ja2V0IGNsb3NlIHdpdGggcmVhc29uOiBcIiVzXCInLCByZWFzb24pO1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGNsZWFyIHRpbWVyc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTtcblxuICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygnY2xvc2UnKTtcblxuICAgIC8vIGVuc3VyZSB0cmFuc3BvcnQgd29uJ3Qgc3RheSBvcGVuXG4gICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcblxuICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAvLyBzZXQgcmVhZHkgc3RhdGVcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcblxuICAgIC8vIGNsZWFyIHNlc3Npb24gaWRcbiAgICB0aGlzLmlkID0gbnVsbDtcblxuICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoJ2Nsb3NlJywgcmVhc29uLCBkZXNjKTtcblxuICAgIC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgIC8vIGdyYWIgdGhlIGJ1ZmZlcnMgb24gYGNsb3NlYCBldmVudFxuICAgIHNlbGYud3JpdGVCdWZmZXIgPSBbXTtcbiAgICBzZWxmLnByZXZCdWZmZXJMZW4gPSAwO1xuICB9XG59O1xuXG4vKipcbiAqIEZpbHRlcnMgdXBncmFkZXMsIHJldHVybmluZyBvbmx5IHRob3NlIG1hdGNoaW5nIGNsaWVudCB0cmFuc3BvcnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHNlcnZlciB1cGdyYWRlc1xuICogQGFwaSBwcml2YXRlXG4gKlxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZmlsdGVyVXBncmFkZXMgPSBmdW5jdGlvbiAodXBncmFkZXMpIHtcbiAgdmFyIGZpbHRlcmVkVXBncmFkZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGogPSB1cGdyYWRlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAofmluZGV4KHRoaXMudHJhbnNwb3J0cywgdXBncmFkZXNbaV0pKSBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICB9XG4gIHJldHVybiBmaWx0ZXJlZFVwZ3JhZGVzO1xufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqXG4gKiBMb2dpYyBib3Jyb3dlZCBmcm9tIE1vZGVybml6cjpcbiAqXG4gKiAgIC0gaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2NvcnMuanNcbiAqL1xuXG50cnkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbn0gY2F0Y2ggKGVycikge1xuICAvLyBpZiBYTUxIdHRwIHN1cHBvcnQgaXMgZGlzYWJsZWQgaW4gSUUgdGhlbiBpdCB3aWxsIHRocm93XG4gIC8vIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogTW9kdWxlIHJlcXVpcmVtZW50cy5cbiAqL1xuXG52YXIgWE1MSHR0cFJlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIFBvbGxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBpbmhlcml0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ2VuZ2luZS5pby1jbGllbnQ6cG9sbGluZy14aHInKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhIUjtcbm1vZHVsZS5leHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEVtcHR5IGZ1bmN0aW9uXG4gKi9cblxuZnVuY3Rpb24gZW1wdHkgKCkge31cblxuLyoqXG4gKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBYSFIgKG9wdHMpIHtcbiAgUG9sbGluZy5jYWxsKHRoaXMsIG9wdHMpO1xuICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gb3B0cy5yZXF1ZXN0VGltZW91dDtcbiAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcblxuICBpZiAoZ2xvYmFsLmxvY2F0aW9uKSB7XG4gICAgdmFyIGlzU1NMID0gJ2h0dHBzOicgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgIHZhciBwb3J0ID0gbG9jYXRpb24ucG9ydDtcblxuICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICBpZiAoIXBvcnQpIHtcbiAgICAgIHBvcnQgPSBpc1NTTCA/IDQ0MyA6IDgwO1xuICAgIH1cblxuICAgIHRoaXMueGQgPSBvcHRzLmhvc3RuYW1lICE9PSBnbG9iYWwubG9jYXRpb24uaG9zdG5hbWUgfHxcbiAgICAgIHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICB0aGlzLnhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICB9XG59XG5cbi8qKlxuICogSW5oZXJpdHMgZnJvbSBQb2xsaW5nLlxuICovXG5cbmluaGVyaXQoWEhSLCBQb2xsaW5nKTtcblxuLyoqXG4gKiBYSFIgc3VwcG9ydHMgYmluYXJ5XG4gKi9cblxuWEhSLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeSA9IHRydWU7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuWEhSLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIG9wdHMudXJpID0gdGhpcy51cmkoKTtcbiAgb3B0cy54ZCA9IHRoaXMueGQ7XG4gIG9wdHMueHMgPSB0aGlzLnhzO1xuICBvcHRzLmFnZW50ID0gdGhpcy5hZ2VudCB8fCBmYWxzZTtcbiAgb3B0cy5zdXBwb3J0c0JpbmFyeSA9IHRoaXMuc3VwcG9ydHNCaW5hcnk7XG4gIG9wdHMuZW5hYmxlc1hEUiA9IHRoaXMuZW5hYmxlc1hEUjtcblxuICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgb3B0cy5wZnggPSB0aGlzLnBmeDtcbiAgb3B0cy5rZXkgPSB0aGlzLmtleTtcbiAgb3B0cy5wYXNzcGhyYXNlID0gdGhpcy5wYXNzcGhyYXNlO1xuICBvcHRzLmNlcnQgPSB0aGlzLmNlcnQ7XG4gIG9wdHMuY2EgPSB0aGlzLmNhO1xuICBvcHRzLmNpcGhlcnMgPSB0aGlzLmNpcGhlcnM7XG4gIG9wdHMucmVqZWN0VW5hdXRob3JpemVkID0gdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ7XG4gIG9wdHMucmVxdWVzdFRpbWVvdXQgPSB0aGlzLnJlcXVlc3RUaW1lb3V0O1xuXG4gIC8vIG90aGVyIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIG9wdHMuZXh0cmFIZWFkZXJzID0gdGhpcy5leHRyYUhlYWRlcnM7XG5cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KG9wdHMpO1xufTtcblxuLyoqXG4gKiBTZW5kcyBkYXRhLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblhIUi5wcm90b3R5cGUuZG9Xcml0ZSA9IGZ1bmN0aW9uIChkYXRhLCBmbikge1xuICB2YXIgaXNCaW5hcnkgPSB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycgJiYgZGF0YSAhPT0gdW5kZWZpbmVkO1xuICB2YXIgcmVxID0gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiAnUE9TVCcsIGRhdGE6IGRhdGEsIGlzQmluYXJ5OiBpc0JpbmFyeSB9KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXEub24oJ3N1Y2Nlc3MnLCBmbik7XG4gIHJlcS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5vbkVycm9yKCd4aHIgcG9zdCBlcnJvcicsIGVycik7XG4gIH0pO1xuICB0aGlzLnNlbmRYaHIgPSByZXE7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyBhIHBvbGwgY3ljbGUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuWEhSLnByb3RvdHlwZS5kb1BvbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCd4aHIgcG9sbCcpO1xuICB2YXIgcmVxID0gdGhpcy5yZXF1ZXN0KCk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmVxLm9uKCdkYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBzZWxmLm9uRGF0YShkYXRhKTtcbiAgfSk7XG4gIHJlcS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5vbkVycm9yKCd4aHIgcG9sbCBlcnJvcicsIGVycik7XG4gIH0pO1xuICB0aGlzLnBvbGxYaHIgPSByZXE7XG59O1xuXG4vKipcbiAqIFJlcXVlc3QgY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXF1ZXN0IChvcHRzKSB7XG4gIHRoaXMubWV0aG9kID0gb3B0cy5tZXRob2QgfHwgJ0dFVCc7XG4gIHRoaXMudXJpID0gb3B0cy51cmk7XG4gIHRoaXMueGQgPSAhIW9wdHMueGQ7XG4gIHRoaXMueHMgPSAhIW9wdHMueHM7XG4gIHRoaXMuYXN5bmMgPSBmYWxzZSAhPT0gb3B0cy5hc3luYztcbiAgdGhpcy5kYXRhID0gdW5kZWZpbmVkICE9PSBvcHRzLmRhdGEgPyBvcHRzLmRhdGEgOiBudWxsO1xuICB0aGlzLmFnZW50ID0gb3B0cy5hZ2VudDtcbiAgdGhpcy5pc0JpbmFyeSA9IG9wdHMuaXNCaW5hcnk7XG4gIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBvcHRzLnN1cHBvcnRzQmluYXJ5O1xuICB0aGlzLmVuYWJsZXNYRFIgPSBvcHRzLmVuYWJsZXNYRFI7XG4gIHRoaXMucmVxdWVzdFRpbWVvdXQgPSBvcHRzLnJlcXVlc3RUaW1lb3V0O1xuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLnBmeCA9IG9wdHMucGZ4O1xuICB0aGlzLmtleSA9IG9wdHMua2V5O1xuICB0aGlzLnBhc3NwaHJhc2UgPSBvcHRzLnBhc3NwaHJhc2U7XG4gIHRoaXMuY2VydCA9IG9wdHMuY2VydDtcbiAgdGhpcy5jYSA9IG9wdHMuY2E7XG4gIHRoaXMuY2lwaGVycyA9IG9wdHMuY2lwaGVycztcbiAgdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQgPSBvcHRzLnJlamVjdFVuYXV0aG9yaXplZDtcblxuICAvLyBvdGhlciBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLmV4dHJhSGVhZGVycyA9IG9wdHMuZXh0cmFIZWFkZXJzO1xuXG4gIHRoaXMuY3JlYXRlKCk7XG59XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKFJlcXVlc3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBvcHRzID0geyBhZ2VudDogdGhpcy5hZ2VudCwgeGRvbWFpbjogdGhpcy54ZCwgeHNjaGVtZTogdGhpcy54cywgZW5hYmxlc1hEUjogdGhpcy5lbmFibGVzWERSIH07XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIG9wdHMucGZ4ID0gdGhpcy5wZng7XG4gIG9wdHMua2V5ID0gdGhpcy5rZXk7XG4gIG9wdHMucGFzc3BocmFzZSA9IHRoaXMucGFzc3BocmFzZTtcbiAgb3B0cy5jZXJ0ID0gdGhpcy5jZXJ0O1xuICBvcHRzLmNhID0gdGhpcy5jYTtcbiAgb3B0cy5jaXBoZXJzID0gdGhpcy5jaXBoZXJzO1xuICBvcHRzLnJlamVjdFVuYXV0aG9yaXplZCA9IHRoaXMucmVqZWN0VW5hdXRob3JpemVkO1xuXG4gIHZhciB4aHIgPSB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRyeSB7XG4gICAgZGVidWcoJ3hociBvcGVuICVzOiAlcycsIHRoaXMubWV0aG9kLCB0aGlzLnVyaSk7XG4gICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJpLCB0aGlzLmFzeW5jKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sgJiYgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayh0cnVlKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgIGlmICh0aGlzLmV4dHJhSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgdGhpcy5leHRyYUhlYWRlcnNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICBpZiAoJ1BPU1QnID09PSB0aGlzLm1ldGhvZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMuaXNCaW5hcnkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnKi8qJyk7XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIC8vIGllNiBjaGVja1xuICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlcXVlc3RUaW1lb3V0KSB7XG4gICAgICB4aHIudGltZW91dCA9IHRoaXMucmVxdWVzdFRpbWVvdXQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzWERSKCkpIHtcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYub25Mb2FkKCk7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYub25FcnJvcih4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMikge1xuICAgICAgICAgIHZhciBjb250ZW50VHlwZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29udGVudFR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgaWYgKGNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJykge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICg0ICE9PSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuICAgICAgICBpZiAoMjAwID09PSB4aHIuc3RhdHVzIHx8IDEyMjMgPT09IHhoci5zdGF0dXMpIHtcbiAgICAgICAgICBzZWxmLm9uTG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgYGVycm9yYCBldmVudCBoYW5kbGVyIHRoYXQncyB1c2VyLXNldFxuICAgICAgICAgIC8vIGRvZXMgbm90IHRocm93IGluIHRoZSBzYW1lIHRpY2sgYW5kIGdldHMgY2F1Z2h0IGhlcmVcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYub25FcnJvcih4aHIuc3RhdHVzKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWJ1ZygneGhyIGRhdGEgJXMnLCB0aGlzLmRhdGEpO1xuICAgIHhoci5zZW5kKHRoaXMuZGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZmhyb20gdGhlIGNvbnN0cnVjdG9yXG4gICAgLy8gYW5kIHRodXMgdGhlICdlcnJvcicgZXZlbnQgY2FuIG9ubHkgYmUgb25seSBib3VuZCAqYWZ0ZXIqIHRoaXMgZXhjZXB0aW9uXG4gICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLm9uRXJyb3IoZSk7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICAgIHRoaXMuaW5kZXggPSBSZXF1ZXN0LnJlcXVlc3RzQ291bnQrKztcbiAgICBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuaW5kZXhdID0gdGhpcztcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlc3BvbnNlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLm9uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0KCdzdWNjZXNzJyk7XG4gIHRoaXMuY2xlYW51cCgpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgaWYgd2UgaGF2ZSBkYXRhLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuZW1pdCgnZGF0YScsIGRhdGEpO1xuICB0aGlzLm9uU3VjY2VzcygpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgdGhpcy5jbGVhbnVwKHRydWUpO1xufTtcblxuLyoqXG4gKiBDbGVhbnMgdXAgaG91c2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uIChmcm9tRXJyb3IpIHtcbiAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgdGhpcy54aHIgfHwgbnVsbCA9PT0gdGhpcy54aHIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8geG1saHR0cHJlcXVlc3RcbiAgaWYgKHRoaXMuaGFzWERSKCkpIHtcbiAgICB0aGlzLnhoci5vbmxvYWQgPSB0aGlzLnhoci5vbmVycm9yID0gZW1wdHk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHk7XG4gIH1cblxuICBpZiAoZnJvbUVycm9yKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIGlmIChnbG9iYWwuZG9jdW1lbnQpIHtcbiAgICBkZWxldGUgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XTtcbiAgfVxuXG4gIHRoaXMueGhyID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gbG9hZC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkYXRhO1xuICB0cnkge1xuICAgIHZhciBjb250ZW50VHlwZTtcbiAgICB0cnkge1xuICAgICAgY29udGVudFR5cGUgPSB0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBpZiAoY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKSB7XG4gICAgICBkYXRhID0gdGhpcy54aHIucmVzcG9uc2UgfHwgdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHRoaXMub25FcnJvcihlKTtcbiAgfVxuICBpZiAobnVsbCAhPSBkYXRhKSB7XG4gICAgdGhpcy5vbkRhdGEoZGF0YSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgaXQgaGFzIFhEb21haW5SZXF1ZXN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmhhc1hEUiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICd1bmRlZmluZWQnICE9PSB0eXBlb2YgZ2xvYmFsLlhEb21haW5SZXF1ZXN0ICYmICF0aGlzLnhzICYmIHRoaXMuZW5hYmxlc1hEUjtcbn07XG5cbi8qKlxuICogQWJvcnRzIHRoZSByZXF1ZXN0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2xlYW51cCgpO1xufTtcblxuLyoqXG4gKiBBYm9ydHMgcGVuZGluZyByZXF1ZXN0cyB3aGVuIHVubG9hZGluZyB0aGUgd2luZG93LiBUaGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50XG4gKiBtZW1vcnkgbGVha3MgKGUuZy4gd2hlbiB1c2luZyBJRSkgYW5kIHRvIGVuc3VyZSB0aGF0IG5vIHNwdXJpb3VzIGVycm9yIGlzXG4gKiBlbWl0dGVkLlxuICovXG5cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG5cbmlmIChnbG9iYWwuZG9jdW1lbnQpIHtcbiAgaWYgKGdsb2JhbC5hdHRhY2hFdmVudCkge1xuICAgIGdsb2JhbC5hdHRhY2hFdmVudCgnb251bmxvYWQnLCB1bmxvYWRIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5sb2FkSGFuZGxlciAoKSB7XG4gIGZvciAodmFyIGkgaW4gUmVxdWVzdC5yZXF1ZXN0cykge1xuICAgIGlmIChSZXF1ZXN0LnJlcXVlc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICBSZXF1ZXN0LnJlcXVlc3RzW2ldLmFib3J0KCk7XG4gICAgfVxuICB9XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbi8qKlxuICogR2V0cyB0aGUga2V5cyBmb3IgYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge0FycmF5fSBrZXlzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMgKG9iail7XG4gIHZhciBhcnIgPSBbXTtcbiAgdmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAoaGFzLmNhbGwob2JqLCBpKSkge1xuICAgICAgYXJyLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnI7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBBbiBhYnN0cmFjdGlvbiBmb3Igc2xpY2luZyBhbiBhcnJheWJ1ZmZlciBldmVuIHdoZW5cbiAqIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSBpcyBub3Qgc3VwcG9ydGVkXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFycmF5YnVmZmVyLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGFycmF5YnVmZmVyLmJ5dGVMZW5ndGg7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgZW5kID0gZW5kIHx8IGJ5dGVzO1xuXG4gIGlmIChhcnJheWJ1ZmZlci5zbGljZSkgeyByZXR1cm4gYXJyYXlidWZmZXIuc2xpY2Uoc3RhcnQsIGVuZCk7IH1cblxuICBpZiAoc3RhcnQgPCAwKSB7IHN0YXJ0ICs9IGJ5dGVzOyB9XG4gIGlmIChlbmQgPCAwKSB7IGVuZCArPSBieXRlczsgfVxuICBpZiAoZW5kID4gYnl0ZXMpIHsgZW5kID0gYnl0ZXM7IH1cblxuICBpZiAoc3RhcnQgPj0gYnl0ZXMgfHwgc3RhcnQgPj0gZW5kIHx8IGJ5dGVzID09PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgfVxuXG4gIHZhciBhYnYgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlcik7XG4gIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShlbmQgLSBzdGFydCk7XG4gIGZvciAodmFyIGkgPSBzdGFydCwgaWkgPSAwOyBpIDwgZW5kOyBpKyssIGlpKyspIHtcbiAgICByZXN1bHRbaWldID0gYWJ2W2ldO1xuICB9XG4gIHJldHVybiByZXN1bHQuYnVmZmVyO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gYWZ0ZXJcblxuZnVuY3Rpb24gYWZ0ZXIoY291bnQsIGNhbGxiYWNrLCBlcnJfY2IpIHtcbiAgICB2YXIgYmFpbCA9IGZhbHNlXG4gICAgZXJyX2NiID0gZXJyX2NiIHx8IG5vb3BcbiAgICBwcm94eS5jb3VudCA9IGNvdW50XG5cbiAgICByZXR1cm4gKGNvdW50ID09PSAwKSA/IGNhbGxiYWNrKCkgOiBwcm94eVxuXG4gICAgZnVuY3Rpb24gcHJveHkoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgaWYgKHByb3h5LmNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYWZ0ZXIgY2FsbGVkIHRvbyBtYW55IHRpbWVzJylcbiAgICAgICAgfVxuICAgICAgICAtLXByb3h5LmNvdW50XG5cbiAgICAgICAgLy8gYWZ0ZXIgZmlyc3QgZXJyb3IsIHJlc3QgYXJlIHBhc3NlZCB0byBlcnJfY2JcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgYmFpbCA9IHRydWVcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgICAgICAgIC8vIGZ1dHVyZSBlcnJvciBjYWxsYmFja3Mgd2lsbCBnbyB0byBlcnJvciBoYW5kbGVyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGVycl9jYlxuICAgICAgICB9IGVsc2UgaWYgKHByb3h5LmNvdW50ID09PSAwICYmICFiYWlsKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSwgZ2xvYmFsKSB7dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qISBodHRwczovL210aHMuYmUvdXRmOGpzIHYyLjEuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGVzIGBleHBvcnRzYFxuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzO1xuXG5cdC8vIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgXG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHRtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cyAmJiBtb2R1bGU7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAsIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSxcblx0Ly8gYW5kIHVzZSBpdCBhcyBgcm9vdGBcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuXHQvLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXTtcblx0XHR2YXIgY291bnRlciA9IDA7XG5cdFx0dmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdFx0dmFyIHZhbHVlO1xuXHRcdHZhciBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgaW5kZXggPSAtMTtcblx0XHR2YXIgdmFsdWU7XG5cdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGVja1NjYWxhclZhbHVlKGNvZGVQb2ludCwgc3RyaWN0KSB7XG5cdFx0aWYgKGNvZGVQb2ludCA+PSAweEQ4MDAgJiYgY29kZVBvaW50IDw9IDB4REZGRikge1xuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcihcblx0XHRcdFx0XHQnTG9uZSBzdXJyb2dhdGUgVSsnICsgY29kZVBvaW50LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICtcblx0XHRcdFx0XHQnIGlzIG5vdCBhIHNjYWxhciB2YWx1ZSdcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZnVuY3Rpb24gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIHNoaWZ0KSB7XG5cdFx0cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZSgoKGNvZGVQb2ludCA+PiBzaGlmdCkgJiAweDNGKSB8IDB4ODApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCwgc3RyaWN0KSB7XG5cdFx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGRjgwKSA9PSAwKSB7IC8vIDEtYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQpO1xuXHRcdH1cblx0XHR2YXIgc3ltYm9sID0gJyc7XG5cdFx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGODAwKSA9PSAwKSB7IC8vIDItYnl0ZSBzZXF1ZW5jZVxuXHRcdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IDYpICYgMHgxRikgfCAweEMwKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoKGNvZGVQb2ludCAmIDB4RkZGRjAwMDApID09IDApIHsgLy8gMy1ieXRlIHNlcXVlbmNlXG5cdFx0XHRpZiAoIWNoZWNrU2NhbGFyVmFsdWUoY29kZVBvaW50LCBzdHJpY3QpKSB7XG5cdFx0XHRcdGNvZGVQb2ludCA9IDB4RkZGRDtcblx0XHRcdH1cblx0XHRcdHN5bWJvbCA9IHN0cmluZ0Zyb21DaGFyQ29kZSgoKGNvZGVQb2ludCA+PiAxMikgJiAweDBGKSB8IDB4RTApO1xuXHRcdFx0c3ltYm9sICs9IGNyZWF0ZUJ5dGUoY29kZVBvaW50LCA2KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoKGNvZGVQb2ludCAmIDB4RkZFMDAwMDApID09IDApIHsgLy8gNC1ieXRlIHNlcXVlbmNlXG5cdFx0XHRzeW1ib2wgPSBzdHJpbmdGcm9tQ2hhckNvZGUoKChjb2RlUG9pbnQgPj4gMTgpICYgMHgwNykgfCAweEYwKTtcblx0XHRcdHN5bWJvbCArPSBjcmVhdGVCeXRlKGNvZGVQb2ludCwgMTIpO1xuXHRcdFx0c3ltYm9sICs9IGNyZWF0ZUJ5dGUoY29kZVBvaW50LCA2KTtcblx0XHR9XG5cdFx0c3ltYm9sICs9IHN0cmluZ0Zyb21DaGFyQ29kZSgoY29kZVBvaW50ICYgMHgzRikgfCAweDgwKTtcblx0XHRyZXR1cm4gc3ltYm9sO1xuXHR9XG5cblx0ZnVuY3Rpb24gdXRmOGVuY29kZShzdHJpbmcsIG9wdHMpIHtcblx0XHRvcHRzID0gb3B0cyB8fCB7fTtcblx0XHR2YXIgc3RyaWN0ID0gZmFsc2UgIT09IG9wdHMuc3RyaWN0O1xuXG5cdFx0dmFyIGNvZGVQb2ludHMgPSB1Y3MyZGVjb2RlKHN0cmluZyk7XG5cdFx0dmFyIGxlbmd0aCA9IGNvZGVQb2ludHMubGVuZ3RoO1xuXHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdHZhciBjb2RlUG9pbnQ7XG5cdFx0dmFyIGJ5dGVTdHJpbmcgPSAnJztcblx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0Y29kZVBvaW50ID0gY29kZVBvaW50c1tpbmRleF07XG5cdFx0XHRieXRlU3RyaW5nICs9IGVuY29kZUNvZGVQb2ludChjb2RlUG9pbnQsIHN0cmljdCk7XG5cdFx0fVxuXHRcdHJldHVybiBieXRlU3RyaW5nO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0ZnVuY3Rpb24gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKSB7XG5cdFx0aWYgKGJ5dGVJbmRleCA+PSBieXRlQ291bnQpIHtcblx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGJ5dGUgaW5kZXgnKTtcblx0XHR9XG5cblx0XHR2YXIgY29udGludWF0aW9uQnl0ZSA9IGJ5dGVBcnJheVtieXRlSW5kZXhdICYgMHhGRjtcblx0XHRieXRlSW5kZXgrKztcblxuXHRcdGlmICgoY29udGludWF0aW9uQnl0ZSAmIDB4QzApID09IDB4ODApIHtcblx0XHRcdHJldHVybiBjb250aW51YXRpb25CeXRlICYgMHgzRjtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBlbmQgdXAgaGVyZSwgaXTigJlzIG5vdCBhIGNvbnRpbnVhdGlvbiBieXRlXG5cdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgY29udGludWF0aW9uIGJ5dGUnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlY29kZVN5bWJvbChzdHJpY3QpIHtcblx0XHR2YXIgYnl0ZTE7XG5cdFx0dmFyIGJ5dGUyO1xuXHRcdHZhciBieXRlMztcblx0XHR2YXIgYnl0ZTQ7XG5cdFx0dmFyIGNvZGVQb2ludDtcblxuXHRcdGlmIChieXRlSW5kZXggPiBieXRlQ291bnQpIHtcblx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGJ5dGUgaW5kZXgnKTtcblx0XHR9XG5cblx0XHRpZiAoYnl0ZUluZGV4ID09IGJ5dGVDb3VudCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIFJlYWQgZmlyc3QgYnl0ZVxuXHRcdGJ5dGUxID0gYnl0ZUFycmF5W2J5dGVJbmRleF0gJiAweEZGO1xuXHRcdGJ5dGVJbmRleCsrO1xuXG5cdFx0Ly8gMS1ieXRlIHNlcXVlbmNlIChubyBjb250aW51YXRpb24gYnl0ZXMpXG5cdFx0aWYgKChieXRlMSAmIDB4ODApID09IDApIHtcblx0XHRcdHJldHVybiBieXRlMTtcblx0XHR9XG5cblx0XHQvLyAyLWJ5dGUgc2VxdWVuY2Vcblx0XHRpZiAoKGJ5dGUxICYgMHhFMCkgPT0gMHhDMCkge1xuXHRcdFx0Ynl0ZTIgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdFx0Y29kZVBvaW50ID0gKChieXRlMSAmIDB4MUYpIDw8IDYpIHwgYnl0ZTI7XG5cdFx0XHRpZiAoY29kZVBvaW50ID49IDB4ODApIHtcblx0XHRcdFx0cmV0dXJuIGNvZGVQb2ludDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gMy1ieXRlIHNlcXVlbmNlIChtYXkgaW5jbHVkZSB1bnBhaXJlZCBzdXJyb2dhdGVzKVxuXHRcdGlmICgoYnl0ZTEgJiAweEYwKSA9PSAweEUwKSB7XG5cdFx0XHRieXRlMiA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRieXRlMyA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRjb2RlUG9pbnQgPSAoKGJ5dGUxICYgMHgwRikgPDwgMTIpIHwgKGJ5dGUyIDw8IDYpIHwgYnl0ZTM7XG5cdFx0XHRpZiAoY29kZVBvaW50ID49IDB4MDgwMCkge1xuXHRcdFx0XHRyZXR1cm4gY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQsIHN0cmljdCkgPyBjb2RlUG9pbnQgOiAweEZGRkQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIDQtYnl0ZSBzZXF1ZW5jZVxuXHRcdGlmICgoYnl0ZTEgJiAweEY4KSA9PSAweEYwKSB7XG5cdFx0XHRieXRlMiA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRieXRlMyA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRieXRlNCA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0XHRjb2RlUG9pbnQgPSAoKGJ5dGUxICYgMHgwNykgPDwgMHgxMikgfCAoYnl0ZTIgPDwgMHgwQykgfFxuXHRcdFx0XHQoYnl0ZTMgPDwgMHgwNikgfCBieXRlNDtcblx0XHRcdGlmIChjb2RlUG9pbnQgPj0gMHgwMTAwMDAgJiYgY29kZVBvaW50IDw9IDB4MTBGRkZGKSB7XG5cdFx0XHRcdHJldHVybiBjb2RlUG9pbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgVVRGLTggZGV0ZWN0ZWQnKTtcblx0fVxuXG5cdHZhciBieXRlQXJyYXk7XG5cdHZhciBieXRlQ291bnQ7XG5cdHZhciBieXRlSW5kZXg7XG5cdGZ1bmN0aW9uIHV0ZjhkZWNvZGUoYnl0ZVN0cmluZywgb3B0cykge1xuXHRcdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRcdHZhciBzdHJpY3QgPSBmYWxzZSAhPT0gb3B0cy5zdHJpY3Q7XG5cblx0XHRieXRlQXJyYXkgPSB1Y3MyZGVjb2RlKGJ5dGVTdHJpbmcpO1xuXHRcdGJ5dGVDb3VudCA9IGJ5dGVBcnJheS5sZW5ndGg7XG5cdFx0Ynl0ZUluZGV4ID0gMDtcblx0XHR2YXIgY29kZVBvaW50cyA9IFtdO1xuXHRcdHZhciB0bXA7XG5cdFx0d2hpbGUgKCh0bXAgPSBkZWNvZGVTeW1ib2woc3RyaWN0KSkgIT09IGZhbHNlKSB7XG5cdFx0XHRjb2RlUG9pbnRzLnB1c2godG1wKTtcblx0XHR9XG5cdFx0cmV0dXJuIHVjczJlbmNvZGUoY29kZVBvaW50cyk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHR2YXIgdXRmOCA9IHtcblx0XHQndmVyc2lvbic6ICcyLjEuMicsXG5cdFx0J2VuY29kZSc6IHV0ZjhlbmNvZGUsXG5cdFx0J2RlY29kZSc6IHV0ZjhkZWNvZGVcblx0fTtcblxuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHJ1ZVxuXHQpIHtcblx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdXRmODtcblx0XHR9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9XHRlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiAhZnJlZUV4cG9ydHMubm9kZVR5cGUpIHtcblx0XHRpZiAoZnJlZU1vZHVsZSkgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gdXRmODtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0dmFyIG9iamVjdCA9IHt9O1xuXHRcdFx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0Lmhhc093blByb3BlcnR5O1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIHV0ZjgpIHtcblx0XHRcdFx0aGFzT3duUHJvcGVydHkuY2FsbCh1dGY4LCBrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gdXRmOFtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnV0ZjggPSB1dGY4O1xuXHR9XG5cbn0odGhpcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxNCkobW9kdWxlKSwgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLypcbiAqIGJhc2U2NC1hcnJheWJ1ZmZlclxuICogaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMiBOaWtsYXMgdm9uIEhlcnR6ZW5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBjaGFycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xuXG4gIC8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbiAgdmFyIGxvb2t1cCA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xuICB9XG5cbiAgZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbihhcnJheWJ1ZmZlcikge1xuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSxcbiAgICBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9IFwiXCI7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKz0zKSB7XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpICsgMV0gJiAxNSkgPDwgMikgfCAoYnl0ZXNbaSArIDJdID4+IDYpXTtcbiAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuXG4gICAgaWYgKChsZW4gJSAzKSA9PT0gMikge1xuICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMSkgKyBcIj1cIjtcbiAgICB9IGVsc2UgaWYgKGxlbiAlIDMgPT09IDEpIHtcbiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgXCI9PVwiO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlNjQ7XG4gIH07XG5cbiAgZXhwb3J0cy5kZWNvZGUgPSAgZnVuY3Rpb24oYmFzZTY0KSB7XG4gICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGJhc2U2NC5sZW5ndGggKiAwLjc1LFxuICAgIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLFxuICAgIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuXG4gICAgaWYgKGJhc2U2NFtiYXNlNjQubGVuZ3RoIC0gMV0gPT09IFwiPVwiKSB7XG4gICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSBcIj1cIikge1xuICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYXJyYXlidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKSxcbiAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrPTQpIHtcbiAgICAgIGVuY29kZWQxID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkpXTtcbiAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkrMSldO1xuICAgICAgZW5jb2RlZDMgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSsyKV07XG4gICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKzMpXTtcblxuICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMSA8PCAyKSB8IChlbmNvZGVkMiA+PiA0KTtcbiAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG4gIH07XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuLyogNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qKlxuICogQ3JlYXRlIGEgYmxvYiBidWlsZGVyIGV2ZW4gd2hlbiB2ZW5kb3IgcHJlZml4ZXMgZXhpc3RcbiAqL1xuXG52YXIgQmxvYkJ1aWxkZXIgPSBnbG9iYWwuQmxvYkJ1aWxkZXJcbiAgfHwgZ2xvYmFsLldlYktpdEJsb2JCdWlsZGVyXG4gIHx8IGdsb2JhbC5NU0Jsb2JCdWlsZGVyXG4gIHx8IGdsb2JhbC5Nb3pCbG9iQnVpbGRlcjtcblxuLyoqXG4gKiBDaGVjayBpZiBCbG9iIGNvbnN0cnVjdG9yIGlzIHN1cHBvcnRlZFxuICovXG5cbnZhciBibG9iU3VwcG9ydGVkID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBhID0gbmV3IEJsb2IoWydoaSddKTtcbiAgICByZXR1cm4gYS5zaXplID09PSAyO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pKCk7XG5cbi8qKlxuICogQ2hlY2sgaWYgQmxvYiBjb25zdHJ1Y3RvciBzdXBwb3J0cyBBcnJheUJ1ZmZlclZpZXdzXG4gKiBGYWlscyBpbiBTYWZhcmkgNiwgc28gd2UgbmVlZCB0byBtYXAgdG8gQXJyYXlCdWZmZXJzIHRoZXJlLlxuICovXG5cbnZhciBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPSBibG9iU3VwcG9ydGVkICYmIChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYiA9IG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShbMSwyXSldKTtcbiAgICByZXR1cm4gYi5zaXplID09PSAyO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pKCk7XG5cbi8qKlxuICogQ2hlY2sgaWYgQmxvYkJ1aWxkZXIgaXMgc3VwcG9ydGVkXG4gKi9cblxudmFyIGJsb2JCdWlsZGVyU3VwcG9ydGVkID0gQmxvYkJ1aWxkZXJcbiAgJiYgQmxvYkJ1aWxkZXIucHJvdG90eXBlLmFwcGVuZFxuICAmJiBCbG9iQnVpbGRlci5wcm90b3R5cGUuZ2V0QmxvYjtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBtYXBzIEFycmF5QnVmZmVyVmlld3MgdG8gQXJyYXlCdWZmZXJzXG4gKiBVc2VkIGJ5IEJsb2JCdWlsZGVyIGNvbnN0cnVjdG9yIGFuZCBvbGQgYnJvd3NlcnMgdGhhdCBkaWRuJ3RcbiAqIHN1cHBvcnQgaXQgaW4gdGhlIEJsb2IgY29uc3RydWN0b3IuXG4gKi9cblxuZnVuY3Rpb24gbWFwQXJyYXlCdWZmZXJWaWV3cyhhcnkpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2h1bmsgPSBhcnlbaV07XG4gICAgaWYgKGNodW5rLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgYnVmID0gY2h1bmsuYnVmZmVyO1xuXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgc3ViYXJyYXksIG1ha2UgYSBjb3B5IHNvIHdlIG9ubHlcbiAgICAgIC8vIGluY2x1ZGUgdGhlIHN1YmFycmF5IHJlZ2lvbiBmcm9tIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlclxuICAgICAgaWYgKGNodW5rLmJ5dGVMZW5ndGggIT09IGJ1Zi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHZhciBjb3B5ID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgIGNvcHkuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZiwgY2h1bmsuYnl0ZU9mZnNldCwgY2h1bmsuYnl0ZUxlbmd0aCkpO1xuICAgICAgICBidWYgPSBjb3B5LmJ1ZmZlcjtcbiAgICAgIH1cblxuICAgICAgYXJ5W2ldID0gYnVmO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBCbG9iQnVpbGRlckNvbnN0cnVjdG9yKGFyeSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgbWFwQXJyYXlCdWZmZXJWaWV3cyhhcnkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgYmIuYXBwZW5kKGFyeVtpXSk7XG4gIH1cblxuICByZXR1cm4gKG9wdGlvbnMudHlwZSkgPyBiYi5nZXRCbG9iKG9wdGlvbnMudHlwZSkgOiBiYi5nZXRCbG9iKCk7XG59O1xuXG5mdW5jdGlvbiBCbG9iQ29uc3RydWN0b3IoYXJ5LCBvcHRpb25zKSB7XG4gIG1hcEFycmF5QnVmZmVyVmlld3MoYXJ5KTtcbiAgcmV0dXJuIG5ldyBCbG9iKGFyeSwgb3B0aW9ucyB8fCB7fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgaWYgKGJsb2JTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gYmxvYlN1cHBvcnRzQXJyYXlCdWZmZXJWaWV3ID8gZ2xvYmFsLkJsb2IgOiBCbG9iQ29uc3RydWN0b3I7XG4gIH0gZWxzZSBpZiAoYmxvYkJ1aWxkZXJTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gQmxvYkJ1aWxkZXJDb25zdHJ1Y3RvcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59KSgpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1xuLyoqXG4gKiBNb2R1bGUgcmVxdWlyZW1lbnRzLlxuICovXG5cbnZhciBQb2xsaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgaW5oZXJpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBKU09OUFBvbGxpbmc7XG5cbi8qKlxuICogQ2FjaGVkIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gKi9cblxudmFyIHJOZXdsaW5lID0gL1xcbi9nO1xudmFyIHJFc2NhcGVkTmV3bGluZSA9IC9cXFxcbi9nO1xuXG4vKipcbiAqIEdsb2JhbCBKU09OUCBjYWxsYmFja3MuXG4gKi9cblxudmFyIGNhbGxiYWNrcztcblxuLyoqXG4gKiBOb29wLlxuICovXG5cbmZ1bmN0aW9uIGVtcHR5ICgpIHsgfVxuXG4vKipcbiAqIEpTT05QIFBvbGxpbmcgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEpTT05QUG9sbGluZyAob3B0cykge1xuICBQb2xsaW5nLmNhbGwodGhpcywgb3B0cyk7XG5cbiAgdGhpcy5xdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG5cbiAgLy8gZGVmaW5lIGdsb2JhbCBjYWxsYmFja3MgYXJyYXkgaWYgbm90IHByZXNlbnRcbiAgLy8gd2UgZG8gdGhpcyBoZXJlIChsYXppbHkpIHRvIGF2b2lkIHVubmVlZGVkIGdsb2JhbCBwb2xsdXRpb25cbiAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAvLyB3ZSBuZWVkIHRvIGNvbnNpZGVyIG11bHRpcGxlIGVuZ2luZXMgaW4gdGhlIHNhbWUgcGFnZVxuICAgIGlmICghZ2xvYmFsLl9fX2VpbykgZ2xvYmFsLl9fX2VpbyA9IFtdO1xuICAgIGNhbGxiYWNrcyA9IGdsb2JhbC5fX19laW87XG4gIH1cblxuICAvLyBjYWxsYmFjayBpZGVudGlmaWVyXG4gIHRoaXMuaW5kZXggPSBjYWxsYmFja3MubGVuZ3RoO1xuXG4gIC8vIGFkZCBjYWxsYmFjayB0byBqc29ucCBnbG9iYWxcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiAobXNnKSB7XG4gICAgc2VsZi5vbkRhdGEobXNnKTtcbiAgfSk7XG5cbiAgLy8gYXBwZW5kIHRvIHF1ZXJ5IHN0cmluZ1xuICB0aGlzLnF1ZXJ5LmogPSB0aGlzLmluZGV4O1xuXG4gIC8vIHByZXZlbnQgc3B1cmlvdXMgZXJyb3JzIGZyb20gYmVpbmcgZW1pdHRlZCB3aGVuIHRoZSB3aW5kb3cgaXMgdW5sb2FkZWRcbiAgaWYgKGdsb2JhbC5kb2N1bWVudCAmJiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5zY3JpcHQpIHNlbGYuc2NyaXB0Lm9uZXJyb3IgPSBlbXB0eTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFBvbGxpbmcuXG4gKi9cblxuaW5oZXJpdChKU09OUFBvbGxpbmcsIFBvbGxpbmcpO1xuXG4vKlxuICogSlNPTlAgb25seSBzdXBwb3J0cyBiaW5hcnkgYXMgYmFzZTY0IGVuY29kZWQgc3RyaW5nc1xuICovXG5cbkpTT05QUG9sbGluZy5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnkgPSBmYWxzZTtcblxuLyoqXG4gKiBDbG9zZXMgdGhlIHNvY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5KU09OUFBvbGxpbmcucHJvdG90eXBlLmRvQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnNjcmlwdCkge1xuICAgIHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpO1xuICAgIHRoaXMuc2NyaXB0ID0gbnVsbDtcbiAgfVxuXG4gIGlmICh0aGlzLmZvcm0pIHtcbiAgICB0aGlzLmZvcm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmZvcm0pO1xuICAgIHRoaXMuZm9ybSA9IG51bGw7XG4gICAgdGhpcy5pZnJhbWUgPSBudWxsO1xuICB9XG5cbiAgUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkpTT05QUG9sbGluZy5wcm90b3R5cGUuZG9Qb2xsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuICBpZiAodGhpcy5zY3JpcHQpIHtcbiAgICB0aGlzLnNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2NyaXB0KTtcbiAgICB0aGlzLnNjcmlwdCA9IG51bGw7XG4gIH1cblxuICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHQuc3JjID0gdGhpcy51cmkoKTtcbiAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHNlbGYub25FcnJvcignanNvbnAgcG9sbCBlcnJvcicsIGUpO1xuICB9O1xuXG4gIHZhciBpbnNlcnRBdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgaWYgKGluc2VydEF0KSB7XG4gICAgaW5zZXJ0QXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2NyaXB0LCBpbnNlcnRBdCk7XG4gIH0gZWxzZSB7XG4gICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgfVxuICB0aGlzLnNjcmlwdCA9IHNjcmlwdDtcblxuICB2YXIgaXNVQWdlY2tvID0gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBuYXZpZ2F0b3IgJiYgL2dlY2tvL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICBpZiAoaXNVQWdlY2tvKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgfSwgMTAwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBXcml0ZXMgd2l0aCBhIGhpZGRlbiBpZnJhbWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGVkIHVwb24gZmx1c2guXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5KU09OUFBvbGxpbmcucHJvdG90eXBlLmRvV3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZm4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghdGhpcy5mb3JtKSB7XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgdmFyIGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHZhciBpZCA9IHRoaXMuaWZyYW1lSWQgPSAnZWlvX2lmcmFtZV8nICsgdGhpcy5pbmRleDtcbiAgICB2YXIgaWZyYW1lO1xuXG4gICAgZm9ybS5jbGFzc05hbWUgPSAnc29ja2V0aW8nO1xuICAgIGZvcm0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGZvcm0uc3R5bGUudG9wID0gJy0xMDAwcHgnO1xuICAgIGZvcm0uc3R5bGUubGVmdCA9ICctMTAwMHB4JztcbiAgICBmb3JtLnRhcmdldCA9IGlkO1xuICAgIGZvcm0ubWV0aG9kID0gJ1BPU1QnO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY2NlcHQtY2hhcnNldCcsICd1dGYtOCcpO1xuICAgIGFyZWEubmFtZSA9ICdkJztcbiAgICBmb3JtLmFwcGVuZENoaWxkKGFyZWEpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cbiAgICB0aGlzLmZvcm0gPSBmb3JtO1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gIH1cblxuICB0aGlzLmZvcm0uYWN0aW9uID0gdGhpcy51cmkoKTtcblxuICBmdW5jdGlvbiBjb21wbGV0ZSAoKSB7XG4gICAgaW5pdElmcmFtZSgpO1xuICAgIGZuKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0SWZyYW1lICgpIHtcbiAgICBpZiAoc2VsZi5pZnJhbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNlbGYuZm9ybS5yZW1vdmVDaGlsZChzZWxmLmlmcmFtZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNlbGYub25FcnJvcignanNvbnAgcG9sbGluZyBpZnJhbWUgcmVtb3ZhbCBlcnJvcicsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBpZTYgZHluYW1pYyBpZnJhbWVzIHdpdGggdGFyZ2V0PVwiXCIgc3VwcG9ydCAodGhhbmtzIENocmlzIExhbWJhY2hlcilcbiAgICAgIHZhciBodG1sID0gJzxpZnJhbWUgc3JjPVwiamF2YXNjcmlwdDowXCIgbmFtZT1cIicgKyBzZWxmLmlmcmFtZUlkICsgJ1wiPic7XG4gICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgaWZyYW1lLm5hbWUgPSBzZWxmLmlmcmFtZUlkO1xuICAgICAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0OjAnO1xuICAgIH1cblxuICAgIGlmcmFtZS5pZCA9IHNlbGYuaWZyYW1lSWQ7XG5cbiAgICBzZWxmLmZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICBzZWxmLmlmcmFtZSA9IGlmcmFtZTtcbiAgfVxuXG4gIGluaXRJZnJhbWUoKTtcblxuICAvLyBlc2NhcGUgXFxuIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyBjb252ZXJ0ZWQgaW50byBcXHJcXG4gYnkgc29tZSBVQXNcbiAgLy8gZG91YmxlIGVzY2FwaW5nIGlzIHJlcXVpcmVkIGZvciBlc2NhcGVkIG5ldyBsaW5lcyBiZWNhdXNlIHVuZXNjYXBpbmcgb2YgbmV3IGxpbmVzIGNhbiBiZSBkb25lIHNhZmVseSBvbiBzZXJ2ZXItc2lkZVxuICBkYXRhID0gZGF0YS5yZXBsYWNlKHJFc2NhcGVkTmV3bGluZSwgJ1xcXFxcXG4nKTtcbiAgdGhpcy5hcmVhLnZhbHVlID0gZGF0YS5yZXBsYWNlKHJOZXdsaW5lLCAnXFxcXG4nKTtcblxuICB0cnkge1xuICAgIHRoaXMuZm9ybS5zdWJtaXQoKTtcbiAgfSBjYXRjaCAoZSkge31cblxuICBpZiAodGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQpIHtcbiAgICB0aGlzLmlmcmFtZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5pZnJhbWUucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pZnJhbWUub25sb2FkID0gY29tcGxldGU7XG4gIH1cbn07XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBUcmFuc3BvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgcGFyc2VxcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgaW5oZXJpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgeWVhc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oMSkoJ2VuZ2luZS5pby1jbGllbnQ6d2Vic29ja2V0Jyk7XG52YXIgQnJvd3NlcldlYlNvY2tldCA9IGdsb2JhbC5XZWJTb2NrZXQgfHwgZ2xvYmFsLk1veldlYlNvY2tldDtcbnZhciBOb2RlV2ViU29ja2V0O1xuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRyeSB7XG4gICAgTm9kZVdlYlNvY2tldCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuICB9IGNhdGNoIChlKSB7IH1cbn1cblxuLyoqXG4gKiBHZXQgZWl0aGVyIHRoZSBgV2ViU29ja2V0YCBvciBgTW96V2ViU29ja2V0YCBnbG9iYWxzXG4gKiBpbiB0aGUgYnJvd3NlciBvciB0cnkgdG8gcmVzb2x2ZSBXZWJTb2NrZXQtY29tcGF0aWJsZVxuICogaW50ZXJmYWNlIGV4cG9zZWQgYnkgYHdzYCBmb3IgTm9kZS1saWtlIGVudmlyb25tZW50LlxuICovXG5cbnZhciBXZWJTb2NrZXQgPSBCcm93c2VyV2ViU29ja2V0O1xuaWYgKCFXZWJTb2NrZXQgJiYgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgV2ViU29ja2V0ID0gTm9kZVdlYlNvY2tldDtcbn1cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdTO1xuXG4vKipcbiAqIFdlYlNvY2tldCB0cmFuc3BvcnQgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSB7T2JqZWN0fSBjb25uZWN0aW9uIG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gV1MgKG9wdHMpIHtcbiAgdmFyIGZvcmNlQmFzZTY0ID0gKG9wdHMgJiYgb3B0cy5mb3JjZUJhc2U2NCk7XG4gIGlmIChmb3JjZUJhc2U2NCkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBmYWxzZTtcbiAgfVxuICB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlID0gb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZTtcbiAgdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQgPSBCcm93c2VyV2ViU29ja2V0ICYmICFvcHRzLmZvcmNlTm9kZTtcbiAgdGhpcy5wcm90b2NvbHMgPSBvcHRzLnByb3RvY29scztcbiAgaWYgKCF0aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgIFdlYlNvY2tldCA9IE5vZGVXZWJTb2NrZXQ7XG4gIH1cbiAgVHJhbnNwb3J0LmNhbGwodGhpcywgb3B0cyk7XG59XG5cbi8qKlxuICogSW5oZXJpdHMgZnJvbSBUcmFuc3BvcnQuXG4gKi9cblxuaW5oZXJpdChXUywgVHJhbnNwb3J0KTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgbmFtZS5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbldTLnByb3RvdHlwZS5uYW1lID0gJ3dlYnNvY2tldCc7XG5cbi8qXG4gKiBXZWJTb2NrZXRzIHN1cHBvcnQgYmluYXJ5XG4gKi9cblxuV1MucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5ID0gdHJ1ZTtcblxuLyoqXG4gKiBPcGVucyBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmRvT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmNoZWNrKCkpIHtcbiAgICAvLyBsZXQgcHJvYmUgdGltZW91dFxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB1cmkgPSB0aGlzLnVyaSgpO1xuICB2YXIgcHJvdG9jb2xzID0gdGhpcy5wcm90b2NvbHM7XG4gIHZhciBvcHRzID0ge1xuICAgIGFnZW50OiB0aGlzLmFnZW50LFxuICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlXG4gIH07XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIG9wdHMucGZ4ID0gdGhpcy5wZng7XG4gIG9wdHMua2V5ID0gdGhpcy5rZXk7XG4gIG9wdHMucGFzc3BocmFzZSA9IHRoaXMucGFzc3BocmFzZTtcbiAgb3B0cy5jZXJ0ID0gdGhpcy5jZXJ0O1xuICBvcHRzLmNhID0gdGhpcy5jYTtcbiAgb3B0cy5jaXBoZXJzID0gdGhpcy5jaXBoZXJzO1xuICBvcHRzLnJlamVjdFVuYXV0aG9yaXplZCA9IHRoaXMucmVqZWN0VW5hdXRob3JpemVkO1xuICBpZiAodGhpcy5leHRyYUhlYWRlcnMpIHtcbiAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLmV4dHJhSGVhZGVycztcbiAgfVxuICBpZiAodGhpcy5sb2NhbEFkZHJlc3MpIHtcbiAgICBvcHRzLmxvY2FsQWRkcmVzcyA9IHRoaXMubG9jYWxBZGRyZXNzO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB0aGlzLndzID0gdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQgPyAocHJvdG9jb2xzID8gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scykgOiBuZXcgV2ViU29ja2V0KHVyaSkpIDogbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scywgb3B0cyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxuXG4gIGlmICh0aGlzLndzLmJpbmFyeVR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLndzLnN1cHBvcnRzICYmIHRoaXMud3Muc3VwcG9ydHMuYmluYXJ5KSB7XG4gICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IHRydWU7XG4gICAgdGhpcy53cy5iaW5hcnlUeXBlID0gJ25vZGVidWZmZXInO1xuICB9IGVsc2Uge1xuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gIH1cblxuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG59O1xuXG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzb2NrZXRcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLndzLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9uT3BlbigpO1xuICB9O1xuICB0aGlzLndzLm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbkNsb3NlKCk7XG4gIH07XG4gIHRoaXMud3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgc2VsZi5vbkRhdGEoZXYuZGF0YSk7XG4gIH07XG4gIHRoaXMud3Mub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgc2VsZi5vbkVycm9yKCd3ZWJzb2NrZXQgZXJyb3InLCBlKTtcbiAgfTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGRhdGEgdG8gc29ja2V0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IG9mIHBhY2tldHMuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAocGFja2V0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICAvLyBlbmNvZGVQYWNrZXQgZWZmaWNpZW50IGFzIGl0IHVzZXMgV1MgZnJhbWluZ1xuICAvLyBubyBuZWVkIGZvciBlbmNvZGVQYXlsb2FkXG4gIHZhciB0b3RhbCA9IHBhY2tldHMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHRvdGFsOyBpIDwgbDsgaSsrKSB7XG4gICAgKGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICAgIHBhcnNlci5lbmNvZGVQYWNrZXQocGFja2V0LCBzZWxmLnN1cHBvcnRzQmluYXJ5LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIXNlbGYudXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgLy8gYWx3YXlzIGNyZWF0ZSBhIG5ldyBvYmplY3QgKEdILTQzNylcbiAgICAgICAgICB2YXIgb3B0cyA9IHt9O1xuICAgICAgICAgIGlmIChwYWNrZXQub3B0aW9ucykge1xuICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IHBhY2tldC5vcHRpb25zLmNvbXByZXNzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gJ3N0cmluZycgPT09IHR5cGVvZiBkYXRhID8gZ2xvYmFsLkJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuIDwgc2VsZi5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHNlbGYudXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgICAvLyBUeXBlRXJyb3IgaXMgdGhyb3duIHdoZW4gcGFzc2luZyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9uIFNhZmFyaVxuICAgICAgICAgICAgc2VsZi53cy5zZW5kKGRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVidWcoJ3dlYnNvY2tldCBjbG9zZWQgYmVmb3JlIG9uY2xvc2UgZXZlbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC0tdG90YWwgfHwgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSkocGFja2V0c1tpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lICgpIHtcbiAgICBzZWxmLmVtaXQoJ2ZsdXNoJyk7XG5cbiAgICAvLyBmYWtlIGRyYWluXG4gICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi53cml0YWJsZSA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2RyYWluJyk7XG4gICAgfSwgMCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gY2xvc2VcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUub25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlLmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIENsb3NlcyBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmRvQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLndzLmNsb3NlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUudXJpID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICB2YXIgc2NoZW1hID0gdGhpcy5zZWN1cmUgPyAnd3NzJyA6ICd3cyc7XG4gIHZhciBwb3J0ID0gJyc7XG5cbiAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgaWYgKHRoaXMucG9ydCAmJiAoKCd3c3MnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAoJ3dzJyA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgcG9ydCA9ICc6JyArIHRoaXMucG9ydDtcbiAgfVxuXG4gIC8vIGFwcGVuZCB0aW1lc3RhbXAgdG8gVVJJXG4gIGlmICh0aGlzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgcXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICB9XG5cbiAgLy8gY29tbXVuaWNhdGUgYmluYXJ5IHN1cHBvcnQgY2FwYWJpbGl0aWVzXG4gIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSkge1xuICAgIHF1ZXJ5LmI2NCA9IDE7XG4gIH1cblxuICBxdWVyeSA9IHBhcnNlcXMuZW5jb2RlKHF1ZXJ5KTtcblxuICAvLyBwcmVwZW5kID8gdG8gcXVlcnlcbiAgaWYgKHF1ZXJ5Lmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gJz8nICsgcXVlcnk7XG4gIH1cblxuICB2YXIgaXB2NiA9IHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpICE9PSAtMTtcbiAgcmV0dXJuIHNjaGVtYSArICc6Ly8nICsgKGlwdjYgPyAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nIDogdGhpcy5ob3N0bmFtZSkgKyBwb3J0ICsgdGhpcy5wYXRoICsgcXVlcnk7XG59O1xuXG4vKipcbiAqIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciBXZWJTb2NrZXQuXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGlzIHRyYW5zcG9ydCBpcyBhdmFpbGFibGUuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbldTLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhV2ViU29ja2V0ICYmICEoJ19faW5pdGlhbGl6ZScgaW4gV2ViU29ja2V0ICYmIHRoaXMubmFtZSA9PT0gV1MucHJvdG90eXBlLm5hbWUpO1xufTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDYwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIChpZ25vcmVkKSAqL1xuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcclxuICogSlNPTiBwYXJzZS5cclxuICpcclxuICogQHNlZSBCYXNlZCBvbiBqUXVlcnkjcGFyc2VKU09OIChNSVQpIGFuZCBKU09OMlxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG52YXIgcnZhbGlkY2hhcnMgPSAvXltcXF0sOnt9XFxzXSokLztcclxudmFyIHJ2YWxpZGVzY2FwZSA9IC9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2c7XHJcbnZhciBydmFsaWR0b2tlbnMgPSAvXCJbXlwiXFxcXFxcblxccl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2c7XHJcbnZhciBydmFsaWRicmFjZXMgPSAvKD86Xnw6fCwpKD86XFxzKlxcWykrL2c7XHJcbnZhciBydHJpbUxlZnQgPSAvXlxccysvO1xyXG52YXIgcnRyaW1SaWdodCA9IC9cXHMrJC87XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlanNvbihkYXRhKSB7XHJcbiAgaWYgKCdzdHJpbmcnICE9IHR5cGVvZiBkYXRhIHx8ICFkYXRhKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRhdGEgPSBkYXRhLnJlcGxhY2UocnRyaW1MZWZ0LCAnJykucmVwbGFjZShydHJpbVJpZ2h0LCAnJyk7XHJcblxyXG4gIC8vIEF0dGVtcHQgdG8gcGFyc2UgdXNpbmcgdGhlIG5hdGl2ZSBKU09OIHBhcnNlciBmaXJzdFxyXG4gIGlmIChnbG9iYWwuSlNPTiAmJiBKU09OLnBhcnNlKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcclxuICB9XHJcblxyXG4gIGlmIChydmFsaWRjaGFycy50ZXN0KGRhdGEucmVwbGFjZShydmFsaWRlc2NhcGUsICdAJylcclxuICAgICAgLnJlcGxhY2UocnZhbGlkdG9rZW5zLCAnXScpXHJcbiAgICAgIC5yZXBsYWNlKHJ2YWxpZGJyYWNlcywgJycpKSkge1xyXG4gICAgcmV0dXJuIChuZXcgRnVuY3Rpb24oJ3JldHVybiAnICsgZGF0YSkpKCk7XHJcbiAgfVxyXG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDYyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gdG9BcnJheVxuXG5mdW5jdGlvbiB0b0FycmF5KGxpc3QsIGluZGV4KSB7XG4gICAgdmFyIGFycmF5ID0gW11cblxuICAgIGluZGV4ID0gaW5kZXggfHwgMFxuXG4gICAgZm9yICh2YXIgaSA9IGluZGV4IHx8IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2kgLSBpbmRleF0gPSBsaXN0W2ldXG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5XG59XG5cblxuLyoqKi8gfSksXG4vKiA2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbi8qKlxuICogRXhwb3NlIGBCYWNrb2ZmYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tvZmY7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gIHRoaXMuZmFjdG9yID0gb3B0cy5mYWN0b3IgfHwgMjtcbiAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBiYWNrb2ZmIGR1cmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbigpe1xuICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gIGlmICh0aGlzLmppdHRlcikge1xuICAgIHZhciByYW5kID0gIE1hdGgucmFuZG9tKCk7XG4gICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgfVxuICByZXR1cm4gTWF0aC5taW4obXMsIHRoaXMubWF4KSB8IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0IHRoZSBudW1iZXIgb2YgYXR0ZW1wdHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1pbmltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uKG1pbil7XG4gIHRoaXMubXMgPSBtaW47XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24obWF4KXtcbiAgdGhpcy5tYXggPSBtYXg7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgaml0dGVyXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbihqaXR0ZXIpe1xuICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG5cblxuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNjUpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KS5PYmplY3QuYXNzaWduO1xuXG5cbi8qKiovIH0pLFxuLyogNjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0JywgeyBhc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oNzYpIH0pO1xuXG5cbi8qKiovIH0pLFxuLyogNjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xudmFyIGN0eCA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xudmFyIGhpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGtleSBpbiBleHBvcnRzKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuLyoqKi8gfSksXG4vKiA2NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDY5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkUCA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xudmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSkgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xudmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG52YXIgdG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSkgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDcyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTEpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXyg3MykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcbnZhciBnT1BTID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG52YXIgcElFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcbnZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKShmdW5jdGlvbiAoKSB7XG4gIHZhciBBID0ge307XG4gIHZhciBCID0ge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgUyA9IFN5bWJvbCgpO1xuICB2YXIgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7IEJba10gPSBrOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAxO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICB3aGlsZSAoYUxlbiA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgdmFyIGtleXMgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaiA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAobGVuZ3RoID4gaikgaWYgKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpIFRba2V5XSA9IFNba2V5XTtcbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuXG5cbi8qKiovIH0pLFxuLyogNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbnZhciBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbnZhciB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKiovIH0pLFxuLyogODMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDg0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KSgna2V5cycpO1xudmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGlkID0gMDtcbnZhciBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA4NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqLyB9KSxcbi8qIDg4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblxuLyoqKi8gfSksXG4vKiA4OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5leHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqLyB9KSxcbi8qIDkwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RhbmllbC5tYXJpbm8vRGVza3RvcC9SRUFDVC9hcGktdHlwZXNjcmlwdC1saWJyYXJ5L2Rpc3QvYXBpLmpzXG4vLyBtb2R1bGUgaWQgPSAyNzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0ICogZnJvbSAnLi9jYXJkRGV0YWlsLmNvbmZpZyc7XG5leHBvcnQgKiBmcm9tICcuL2NhcmRNb2R1bGUuYmFzZS5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL3RleHQvdGV4dC5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi90YWJsZS90YWJsZS5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9saXN0L2xpc3QuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vYXdhcmRzL2F3YXJkcy5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9tYXAvbWFwLmNvbXBvbmVudCc7XG4vLyBNdXN0IGJlIHRoZSBsYXN0IGl0ZW1cbmV4cG9ydCAqIGZyb20gJy4vY2FyZERldGFpbC5tb2R1bGVzJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkTW9kdWxlcy9pbmRleC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VySGlzdG9yeSB9IGZyb20gJ2hpc3RvcnknO1xuaW1wb3J0IFNoYWRvd0RPTSBmcm9tICdyZWFjdC1zaGFkb3cnO1xuXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnQ29udGFpbmVycyc7XG5pbXBvcnQgeyBBY2Nlc3NUb2tlbiwgRGl2ZUFQSUNsYXNzIH0gZnJvbSBcIkBkaXZlLXR2L2FwaS10eXBlc2NyaXB0LWxpYnJhcnlcIjtcbmltcG9ydCB7IENhcmQsIEtleU1hcCB9IGZyb20gJ1NlcnZpY2VzJztcblxuZGVjbGFyZSBjb25zdCBLZXlFdmVudDogYW55O1xuXG5jb25zdCBoaXN0b3J5ID0gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKTtcbi8vIGxldCBEaXZlQVBJOiBkaXZlQXBpLkRpdmVBUEk7XG5cbmV4cG9ydCBjb25zdCBpbml0ID0gKHBhcmFtczogeyBhcGlLZXk6IHN0cmluZywgZGV2aWNlSWQ6IHN0cmluZywgc2VsZWN0b3I6IHN0cmluZyB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIGFzIGFuIG9iamVjdC5cIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBzaG91bGQgcHJvdmlkZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIGFzIGFuIG9iamVjdC5cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zLmFwaUtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91IHNob3VsZCBwcm92aWRlIGEgRGl2ZSBBUEkgS0VZIGluIHRoZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXIgJ2FwaUtleVwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IHNob3VsZCBwcm92aWRlIGEgRGl2ZSBBUEkgS0VZIGluIHRoZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXIgJ2FwaUtleVwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZGV2aWNlSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWW91IHNob3VsZCBwcm92aWRlIGEgdW5pcXVlIGNsaWVudCBpZCBpbiBvcmRlciB0byBhdXRoZW50aWNhdGUgaGltLFxuICAgICAgcHJvdmlkZSBpdCB0aHJvdWdoIHRoZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXIgJ2NsaWVudElkJ2ApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFlvdSBzaG91bGQgcHJvdmlkZSBhIHVuaXF1ZSBjbGllbnQgaWQgaW4gb3JkZXIgdG8gYXV0aGVudGljYXRlIGhpbSxcbiAgICAgIHByb3ZpZGUgaXQgdGhyb3VnaCB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdjbGllbnRJZCdgKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKEtleUV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBrbTogYW55ID0gS2V5TWFwO1xuICAgICAgICAgICAga20uVVAgPSBLZXlFdmVudC5WS19VUDtcbiAgICAgICAgICAgIGttLkRPV04gPSBLZXlFdmVudC5WS19ET1dOO1xuICAgICAgICAgICAga20uTEVGVCA9IEtleUV2ZW50LlZLX0xFRlQ7XG4gICAgICAgICAgICBrbS5SSUdIVCA9IEtleUV2ZW50LlZLX1JJR0hUO1xuICAgICAgICAgICAga20uRU5URVIgPSBLZXlFdmVudC5WS19FTlRFUjtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk5PIEtFWU1BUCBGT1VORFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBBUElpbnN0YW5jZSA9IG5ldyBEaXZlQVBJQ2xhc3MoXG4gICAgICAgIHsgZW52OiBcIlBST1wiLCBzdG9yZVRva2VuOiBcImNvb2tpZXNcIiwgYXBpS2V5OiBwYXJhbXMuYXBpS2V5LCBkZXZpY2VJZDogcGFyYW1zLmRldmljZUlkIH0sXG4gICAgKTtcbiAgICBBUElpbnN0YW5jZS5zZXRMb2NhbGUoXCJlcy1FU1wiKTtcbiAgICAod2luZG93IGFzIGFueSkuRGl2ZUFQSSA9IEFQSWluc3RhbmNlO1xuICAgIEFQSWluc3RhbmNlLnBvc3RUb2tlbkFuZFNhdmUoeyBkZXZpY2VJZDogdGhpcy5kZXZpY2VJZCwgZ3JhbnRUeXBlOiBcImRldmljZV9jcmVkZW50aWFsc1wiIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZTogQWNjZXNzVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXV0aG9yaXplZCFcIik7XG4gICAgICAgICAgICAod2luZG93IGFzIGFueSkuRGl2ZUFQSSA9IEFQSWluc3RhbmNlO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2ZUFQSSBnZW5lcmF0ZWQsIGF2YWlsYWJsZSB0aHJvdWdoIERpdmVTREsuQVBJIG9yIHdpbmRvdy5EaXZlQVBJIChnbG9iYWwpXCIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc2VsZWN0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBZb3Ugc2hvdWxkIHByb3ZpZGUgYSBzZWxlY3RvciB0aGF0IHJlc29sdmVzIHRvIGFuIGV4aXN0aW5nIERPTSBFbGVtZW50XG4gICAgICAgIGluIHRoZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXIgJ3NlbGVjdG9yJ2ApO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IHNob3VsZCBwcm92aWRlIGEgc2VsZWN0b3IgdGhhdCByZXNvbHZlcyB0byBhbiBleGlzdGluZyBET00gRWxlbWVudFxuICAgICAgICBpbiB0aGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyICdzZWxlY3RvcidgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy9BUElpbnN0YW5jZS5nZXRTdGF0aWNNb3ZpZVNjZW5lKHsgcmVsYXRpb25zOiB0cnVlLCBjbGllbnRNb3ZpZUlkOiBcIm0wMDAwMVwiLCB0aW1lc3RhbXA6IDQwMDAgfSlcbiAgICAgICAgICAgIC8vLnRoZW4oKHJlc3BvbnNlOiBDYXJkW10pID0+IHtcbiAgICAgICAgICAgIC8qY29uc3QgbmV3Q2FyZHM6IGFueVtdID0gW1xuICAgICAgICAgICAgICAgIHsgY2FyZF9pZDogXCIyOGU3Y2I1Mi0wMWEyLTNlOTUtYTcxZi00ZmMyZDNlNDZmODZcIiwgdmVyc2lvbjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2FyZF9pZDogXCJiZDRmMjZiYS0wYzJhLTNhMTYtYmI3Yi03OWFhMDY2YWJmNDRcIi8qLCB2ZXJzaW9uOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiICovLy99LFxuICAgICAgICAgICAgLy97IGNhcmRfaWQ6IFwiZTAxNDNkN2ItMWU3Ni0xMWU2LTk3YWMtMDY4NDk4NWNiYmUzXCIvKiwgdmVyc2lvbjogXCIwak9lVUllTENhT2NTSTRGU2ViTmo0K0U3VlpcIiAqL30sXG5cbiAgICAgICAgICAgIC8vXTtcbiAgICAgICAgICAgIC8vcmVzcG9uc2UgPSBbLi4ubmV3Q2FyZHMsIC4uLnJlc3BvbnNlXTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJyZXNwb25zZTogXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgICAgICAgICAgICAvLzxTaGFkb3dET00gLyppbmNsdWRlPXsnc3R5bGVzLmNzcyd9Ki8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZlQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFwcCAvPlxuICAgICAgICAgICAgICAgICAgICA8L1Byb3ZpZGVyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIC8vPC9TaGFkb3dET00gPixcbiAgICAgICAgICAgICAgICAsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbXMuc2VsZWN0b3IpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIExPQURJTkdcIiwgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAvKkRpdmVBUEkuZ2V0Q2FyZCh7Y2FyZElkOiBcImM1OGJiZjFmLTZmZjUtMTFlNS1iN2MyLTA2ODQ5ODVjYmJlM1wifSkuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4ocmVzcG9uc2UpO1xuICAgIH0pOyovXG4gICAgLy9EaXZlQVBJLmdldFN0YXRpY01vdmllU2NlbmUoe3JlbGF0aW9uczogdHJ1ZSwgY2xpZW50TW92aWVJZDogXCJcIiwgdGltZXN0YW1wOiAxNTAwfSk7XG4gICAgLy8gY29uc29sZS5sb2coXCJTVFlMRVNcIiwgc3R5bGVzKTtcbiAgICAvL30pO1xufTtcblxuLy8gaW5pdCh7IHNlbGVjdG9yOiBcIiNyb290XCIsIGFwaUtleTogXCJkRzkxWTJoMmFXVmZZWEJwT2tZeVVVaE1aVGhZZEVkMlIxaFJhbTUwVjNGTVZYRmpkR0k1UW1SVmREUlRcIiwgZGV2aWNlSWQ6IFwidGVzdFwiIH0pO1xuXG4vLyBpbmRleC5odG1sIGhvdCByZWxvYWQgdHJpY2tcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmVxdWlyZSgnZmlsZS1sb2FkZXIhLi9pbmRleC5odG1sJyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tYWluLnRzeCIsImltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGFwcGx5TWlkZGxld2FyZSwgY29tcG9zZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0aHVuayBmcm9tIFwicmVkdXgtdGh1bmtcIjtcbmltcG9ydCBzb2NrZXRNaWRkbGV3YXJlIGZyb20gJy4uL21pZGRsZXdhcmUvc29ja2V0Lm1pZGRsZXdhcmUnO1xuXG5cbmltcG9ydCB7XG4gICAgSU5hdlN0YXRlLCBOYXZSZWR1Y2VyLCBJU3luY1N0YXRlLCBTeW5jUmVkdWNlciwgSVVJU3RhdGUsIFVJUmVkdWNlclxufSBmcm9tICdSZWR1Y2Vycyc7XG5cbmRlY2xhcmUgY29uc3QgX19FTlZfXzogc3RyaW5nO1xuXG5jb25zdCB3aW5kb3dJZkRlZmluZWQgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB3aW5kb3cgYXMgYW55O1xuY29uc3QgY29tcG9zZUVuaGFuY2VycyA9IHdpbmRvd0lmRGVmaW5lZC5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gfHwgY29tcG9zZTtcblxuY29uc3QgZ2V0TWlkZGxld2FyZXMgPSAoKSA9PiB7XG4gIC8vIGlmIChfX0VOVl9fICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAvLyAgIHJldHVybiBhcHBseU1pZGRsZXdhcmUoLypjcmVhdGVMb2dnZXIoe1xuICAvLyAgICAgICAgIHByZWRpY2F0ZTogKCkgPT4gKHdpbmRvdyBhcyBhbnkpLmVuYWJsZUFjdGlvbkxvZ2dlcixcbiAgLy8gICAgIH0pLCovIHRodW5rIC8qLCBwZXJzaXN0ZWRTdGF0ZSovLyosIHNvY2tldE1pZGRsZXdhcmUoKSovKTtcbiAgLy8gfSBlbHNlIHtcbiAgICByZXR1cm4gYXBwbHlNaWRkbGV3YXJlKHRodW5rIC8qLCBwZXJzaXN0ZWRTdGF0ZSwqLywgc29ja2V0TWlkZGxld2FyZSgpKTtcbiAgLy8gfVxufTtcblxuZXhwb3J0IGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gIGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgbmF2OiBOYXZSZWR1Y2VyLFxuICAgIGNhcm91c2VsOiBTeW5jUmVkdWNlcixcbiAgICB1aTogVUlSZWR1Y2VyLFxuICB9KSxcbiAgY29tcG9zZUVuaGFuY2VycyhnZXRNaWRkbGV3YXJlcygpKSxcbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zdG9yZS9zdG9yZS50cyIsImltcG9ydCB7IFNvY2tldEFjdGlvbnMgfSBmcm9tICdBY3Rpb25zJztcbmltcG9ydCB7IFN0b3JlLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCAqIGFzIGlvIGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xuaW1wb3J0IHsgIERJVkVfRU5WSVJPTk1FTlQgfSBmcm9tICdDb25zdGFudHMnO1xuaW1wb3J0IHsgRGl2ZUFQSUNsYXNzIH0gZnJvbSAnU2VydmljZXMnO1xuXG5cbmRlY2xhcmUgY29uc3QgRGl2ZUFQSTogRGl2ZUFQSUNsYXNzO1xuXG5jb25zdCBzb2NrZXRNaWRkbGV3YXJlID0gKCkgPT4ge1xuICAgIGxldCBzb2NrZXQ6IFNvY2tldElPQ2xpZW50LlNvY2tldCB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IG9uT3BlbiA9IChzb2NrZXRJbzogU29ja2V0SU9DbGllbnQuU29ja2V0LCBzdG9yZTogU3RvcmU8YW55PiwgY2hhbm5lbDogc3RyaW5nKSA9PiAoZXZ0OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgLy8gU2VuZCBhIGhhbmRzaGFrZSwgb3IgYXV0aGVudGljYXRlIHdpdGggcmVtb3RlIGVuZCBUZWxsIHRoZSBzdG9yZSB3ZSdyZVxuICAgICAgICAvLyBjb25uZWN0ZWRcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goU29ja2V0QWN0aW9ucy5zb2NrZXRDb25uZWN0ZWQoKSk7XG4gICAgICAgIGlmIChzb2NrZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc29ja2V0Lm9uKCdjaGFubmVsU3RhdHVzJywgb25NZXNzYWdlKHNvY2tldCwgc3RvcmUpKTtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCd0dW5lQ2hhbm5lbCcsIGNoYW5uZWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSAoc29ja2V0SW86IFNvY2tldElPQ2xpZW50LlNvY2tldCwgc3RvcmU6IFN0b3JlPGFueT4pID0+IChldnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHNvY2tldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUZWxsIHRoZSBzdG9yZSB3ZSd2ZSBkaXNjb25uZWN0ZWRcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goU29ja2V0QWN0aW9ucy5zb2NrZXREaXNjb25uZWN0ZWQoKSk7XG4gICAgfTtcbiAgICBjb25zdCBvbkVuZCA9IChzb2NrZXRJbzogU29ja2V0SU9DbGllbnQuU29ja2V0LCBzdG9yZTogU3RvcmU8YW55PikgPT4gKGV2dDogQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFNvY2tldEFjdGlvbnMuc29ja2V0RGlzY29ubmVjdGVkKCkpO1xuICAgIH07XG4gICAgY29uc3Qgb25FcnJvciA9IChzb2NrZXRJbzogU29ja2V0SU9DbGllbnQuU29ja2V0LCBzdG9yZTogU3RvcmU8YW55PikgPT4gKGV2dDogQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFNvY2tldEFjdGlvbnMuc29ja2V0RGlzY29ubmVjdGVkKCkpO1xuICAgIH07XG5cbiAgICBjb25zdCBvblRpbWVvdXQgPSAoc29ja2V0SW86IFNvY2tldElPQ2xpZW50LlNvY2tldCwgc3RvcmU6IFN0b3JlPGFueT4pID0+IChldnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHNvY2tldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yZS5kaXNwYXRjaChTb2NrZXRBY3Rpb25zLnNvY2tldERpc2Nvbm5lY3RlZCgpKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25NZXNzYWdlID0gKHNvY2tldElvOiBTb2NrZXRJT0NsaWVudC5Tb2NrZXQsIHN0b3JlOiBTdG9yZTxhbnk+KSA9PiAoZXZ0OiBhbnkpID0+IHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVudXNlZC12YXJpYWJsZVxuICAgICAgICBjb25zdCBuZXh0ID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBKU09OIG1lc3NhZ2UgcmVjZWl2ZWQgb24gdGhlIHdlYnNvY2tldFxuICAgICAgICBjb25zdCBkYXRhID0gZXZ0O1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFwiYXV0aGVudGljYXRlZFwiOlxuICAgICAgICAgICAgICAgIC8vIERpc3BhdGNoIGFuIGFjdGlvbiB0aGF0IGFkZHMgdGhlIHJlY2VpdmVkIG1lc3NhZ2UgdG8gb3VyIHN0YXRlXG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goU29ja2V0QWN0aW9ucy5hdXRoUmVjZWl2ZWQoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidW5hdXRob3JpemVkXCI6XG4gICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggYW4gYWN0aW9uIHRoYXQgYWRkcyB0aGUgcmVjZWl2ZWQgbWVzc2FnZSB0byBvdXIgc3RhdGVcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChTb2NrZXRBY3Rpb25zLnVuYXV0aFJlY2VpdmVkKHttZXNzYWdlOiBkYXRhLm1lc3NhZ2UsIGNvZGU6IGRhdGEuY29kZSwgdHlwZTogZGF0YS50eXBlfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggYW4gYWN0aW9uIHRoYXQgYWRkcyB0aGUgcmVjZWl2ZWQgbWVzc2FnZSB0byBvdXIgc3RhdGVcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChTb2NrZXRBY3Rpb25zLmVycm9yUmVjZWl2ZWQoeyBzdGF0dXM6IGRhdGEuc3RhdHVzLCBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibW92aWVfc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBhbiBhY3Rpb24gdGhhdCBhZGRzIHRoZSByZWNlaXZlZCBtZXNzYWdlIHRvIG91ciBzdGF0ZVxuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFNvY2tldEFjdGlvbnMubW92aWVTdGFydFJlY2VpdmVkKHttb3ZpZV9pZDogZGF0YS5tb3ZpZV9pZH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZpZV9lbmRcIjpcbiAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBhbiBhY3Rpb24gdGhhdCBhZGRzIHRoZSByZWNlaXZlZCBtZXNzYWdlIHRvIG91ciBzdGF0ZVxuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFNvY2tldEFjdGlvbnMubW92aWVFbmRSZWNpZXZlZCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2VuZV9zdGFydFwiOlxuICAgICAgICAgICAgICAgIC8vIERpc3BhdGNoIGFuIGFjdGlvbiB0aGF0IGFkZHMgdGhlIHJlY2VpdmVkIG1lc3NhZ2UgdG8gb3VyIHN0YXRlXG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goU29ja2V0QWN0aW9ucy5zY2VuZVN0YXJ0UmVjZWl2ZWQoe2NhcmRzOiBkYXRhLmNhcmRzfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjZW5lX3VwZGF0ZVwiOlxuICAgICAgICAgICAgICAgIC8vIERpc3BhdGNoIGFuIGFjdGlvbiB0aGF0IGFkZHMgdGhlIHJlY2VpdmVkIG1lc3NhZ2UgdG8gb3VyIHN0YXRlXG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goU29ja2V0QWN0aW9ucy5zY2VuZVVwZGF0ZVJlY2VpdmVkKHtjYXJkczogZGF0YS5jYXJkc30pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY2VuZV9lbmRcIjpcbiAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBhbiBhY3Rpb24gdGhhdCBhZGRzIHRoZSByZWNlaXZlZCBtZXNzYWdlIHRvIG91ciBzdGF0ZVxuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFNvY2tldEFjdGlvbnMuc2NlbmVFbmRSZWNlaXZlZCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VXJsID0gKGVudjogXCJERVZcIiB8IFwiUFJFXCIgfCBcIlBST1wiKTogc3RyaW5nID0+IHtcbiAgICAgICAgY29uc3Qgc29ja2V0UGF0aDogc3RyaW5nID0gJ3N0cmVhbS5kaXZlLnR2JztcbiAgICAgICAgc3dpdGNoIChlbnYpIHtcbiAgICAgICAgICAgIGNhc2UgXCJERVZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJodHRwczovL2Rldi1cIiArIHNvY2tldFBhdGg7XG4gICAgICAgICAgICBjYXNlIFwiUFJFXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9wcmUtXCIgKyBzb2NrZXRQYXRoO1xuICAgICAgICAgICAgY2FzZSBcIlBST1wiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vJyArIHNvY2tldFBhdGg7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVyID0gKHN0b3JlOiBTdG9yZTxhbnk+KSA9PiAobmV4dDogRGlzcGF0Y2g8YW55PikgPT4gKGFjdGlvbjogYW55KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblxuICAgICAgICAgICAgLy8gVGhlIHVzZXIgd2FudHMgdXMgdG8gY29ubmVjdFxuICAgICAgICAgICAgY2FzZSAnQ09OTkVDVCc6XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZW5kIGFuIGFjdGlvbiB0aGF0IHNob3dzIGEgXCJjb25uZWN0aW5nLi4uXCIgc3RhdHVzIGZvciBub3dcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChTb2NrZXRBY3Rpb25zLnNvY2tldENvbm5lY3RpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGNvbm5lY3QgKHdlIGNvdWxkIHNlbmQgYSAnZmFpbGVkJyBhY3Rpb24gb24gZXJyb3IpIHNvY2tldCA9IG5ld1xuICAgICAgICAgICAgICAgIC8vIFdlYlNvY2tldChhY3Rpb24ucGF5bG9hZC51cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpdmVUb2tlbiA9IERpdmVBUEkuZ2V0U2F2ZWRUb2tlbigpO1xuICAgICAgICAgICAgICAgIGlmIChkaXZlVG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gdG9rZW4gcHJlc2VudCB3aGlsZSB0cnlpbmcgdG8gY29ubmVjdCB0aGUgc29ja2V0XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b2tlbiBwcmVzZW50IHdoaWxlIHRyeWluZyB0byBjb25uZWN0IHRoZSBzb2NrZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYWN0aW9uLnBheWxvYWQudXJsICE9PSB1bmRlZmluZWQgPyBhY3Rpb24ucGF5bG9hZC51cmwgOiBnZXRVcmwoRElWRV9FTlZJUk9OTUVOVCk7XG5cbiAgICAgICAgICAgICAgICBzb2NrZXQgPSBpby5jb25uZWN0KHVybCwge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZU5ldzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGB0b2tlbj0ke2RpdmVUb2tlbi5hY2Nlc3NfdG9rZW59YCxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIiwgXCJ4aHItcG9sbGluZ1wiLCBcInBvbGxpbmdcIiwgXCJodG1sZmlsZVwiXSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBhY3Rpb24ucGF5bG9hZC5jaGFubmVsSWQ7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0Jywgb25PcGVuKHNvY2tldCwgc3RvcmUsIGNoYW5uZWwpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCBvbkVycm9yKHNvY2tldCwgc3RvcmUpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2Vycm9yJywgb25FcnJvcihzb2NrZXQsIHN0b3JlKSk7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdjb25uZWN0X3RpbWVvdXQnLCBvblRpbWVvdXQoc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsIG9uQ2xvc2Uoc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbignZW5kJywgb25FbmQoc29ja2V0LCBzdG9yZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBUaGUgdXNlciB3YW50cyB1cyB0byBkaXNjb25uZWN0XG4gICAgICAgICAgICBjYXNlICdESVNDT05ORUNUJzpcbiAgICAgICAgICAgICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc29ja2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IG91ciBzdGF0ZSB0byBkaXNjb25uZWN0ZWRcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChTb2NrZXRBY3Rpb25zLnNvY2tldERpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gVGhpcyBhY3Rpb24gaXMgaXJyZWxldmFudCB0byB1cywgcGFzcyBpdCBvbiB0byB0aGUgbmV4dCBtaWRkbGV3YXJlXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGhhbmRsZXI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzb2NrZXRNaWRkbGV3YXJlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbWlkZGxld2FyZS9zb2NrZXQubWlkZGxld2FyZS50c3giLCJpbXBvcnQgeyBJVUlBY3Rpb24gfSBmcm9tICcuLy4uL3JlZHVjZXJzL3VpLnJlZHVjZXInO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgTWFwRGlzcGF0Y2hUb1Byb3BzT2JqZWN0LCBBY3Rpb25DcmVhdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAncmVkdXgtYWN0aW9ucyc7XG5cbmltcG9ydCB7IFVJQWN0aW9uVHlwZXMsIElVSUdyb3VwIH0gZnJvbSAnUmVkdWNlcnMnO1xuaW1wb3J0IHsgQ2FyZCwgRGl2ZUFQSUNsYXNzIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5cbmRlY2xhcmUgY29uc3QgRGl2ZUFQSTogRGl2ZUFQSUNsYXNzO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVSUFjdGlvbnMgZXh0ZW5kcyBNYXBEaXNwYXRjaFRvUHJvcHNPYmplY3Qge1xuICAgIGdvQmFjazogQWN0aW9uQ3JlYXRvcjxJVUlBY3Rpb24+O1xuICAgIG9wZW5DYXJkOiBBY3Rpb25DcmVhdG9yPHZvaWQ+O1xuICAgIHBlcmZvcm1PcGVuQ2FyZDogQWN0aW9uQ3JlYXRvcjxJVUlBY3Rpb24+O1xuICAgIG9wZW5TeW5jOiBBY3Rpb25DcmVhdG9yPElVSUFjdGlvbj47XG4gICAgb3BlbjogQWN0aW9uQ3JlYXRvcjx2b2lkPjtcbiAgICBhZGRUZXN0Q2FyZHM6IEFjdGlvbkNyZWF0b3I8SVVJQWN0aW9uPjtcbn1cblxuLy9cbi8vICBBY3Rpb24gQ3JlYXRvcnNcbi8vXG5leHBvcnQgY29uc3QgdWlDcmVhdGVBY3Rpb24gPSAodHlwZTogVUlBY3Rpb25UeXBlcywgcGF5bG9hZD86IGFueSk6IFJlZHV4QWN0aW9ucy5BY3Rpb25GdW5jdGlvbjA8QWN0aW9uPiA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBVSUFjdGlvbnM6IElVSUFjdGlvbnMgPSB7XG4gICAgZ29CYWNrOiB1aUNyZWF0ZUFjdGlvbihcIlVJL1VJX0JBQ0tcIiwgKCkgPT4gKDApKSxcbiAgICBzZXREaXZpZGVyOiB1aUNyZWF0ZUFjdGlvbihcIlVJL1NFVF9ESVZJREVSXCIsIChkaXZpZGVyOiBudW1iZXIpID0+IChkaXZpZGVyKSksXG4gICAgb3BlbkNhcmQ6IChjYXJkSWQ6IHN0cmluZywgcmVsYXRpb25zOiBzdHJpbmcpID0+IChkaXNwYXRjaDogYW55KSA9PiB7XG4gICAgICAgIGlmIChjYXJkSWQgJiYgY2FyZElkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKFVJQWN0aW9ucy5wZXJmb3JtT3BlbkNhcmQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgRGl2ZUFQSS5nZXRDYXJkKHsgY2FyZElkIH0pXG4gICAgICAgICAgICAudGhlbigoY2FyZDogQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFVJQWN0aW9ucy5wZXJmb3JtT3BlbkNhcmQoY2FyZCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNhcmRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGRpc3BsYXkgZXJyb3I/XG4gICAgICAgICAgICB9KTtcbiAgICB9LFxuICAgIHBlcmZvcm1PcGVuQ2FyZDogdWlDcmVhdGVBY3Rpb24oXCJVSS9PUEVOX0NBUkRcIiwgKGNhcmQ6IENhcmQpID0+IChjYXJkKSksXG4gICAgb3BlblN5bmM6IHVpQ3JlYXRlQWN0aW9uKFwiVUkvT1BFTl9TWU5DXCIpLFxuICAgIG9wZW46IChncm91cDogSVVJR3JvdXApID0+IChkaXNwYXRjaDogYW55KSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChVSUFjdGlvbnMucGVyZm9ybU9wZW4oZ3JvdXApKTtcbiAgICB9LFxuICAgIHBlcmZvcm1PcGVuOiB1aUNyZWF0ZUFjdGlvbihcIlVJL09QRU5cIiwgKGdyb3VwOiBJVUlHcm91cCkgPT4gKGdyb3VwKSksXG4gICAgYWRkVGVzdENhcmRzOiB1aUNyZWF0ZUFjdGlvbihcIlVJL0FERF9URVNUX0NBUkRTXCIsIChjYXJkczogQ2FyZFtdKSA9PihjYXJkcykpLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FjdGlvbnMvdWkuYWN0aW9ucy50cyIsImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IE1hcERpc3BhdGNoVG9Qcm9wc09iamVjdCwgQWN0aW9uQ3JlYXRvciB9IGZyb20gJ3JlYWN0LXJlZHV4Jztcbi8vIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElOYXZBY3Rpb24sIE5hdkFjdGlvblR5cGVzIH0gZnJvbSAnUmVkdWNlcnMnO1xuaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAncmVkdXgtYWN0aW9ucyc7XG5pbXBvcnQgeyBJTmF2aWdhYmxlIH0gZnJvbSBcIkhPQ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElOYXZBY3Rpb25zIGV4dGVuZHMgTWFwRGlzcGF0Y2hUb1Byb3BzT2JqZWN0IHtcbiAgICBhZGROb2RlOiBBY3Rpb25DcmVhdG9yPElOYXZBY3Rpb24+O1xuICAgIGRlbGV0ZU5vZGU6IEFjdGlvbkNyZWF0b3I8SU5hdkFjdGlvbj47XG4gICAgc2V0TGFzdEtleTogQWN0aW9uQ3JlYXRvcjxJTmF2QWN0aW9uPjtcbiAgICBzZXRTZWxlY3RlZDogQWN0aW9uQ3JlYXRvcjxJTmF2QWN0aW9uPjtcbiAgICBzZXRBY3RpdmF0ZWQ6IEFjdGlvbkNyZWF0b3I8SU5hdkFjdGlvbj47XG4gICAgbW92ZUhvcml6b250YWw6IEFjdGlvbkNyZWF0b3I8SU5hdkFjdGlvbj47XG4gICAgbW92ZVZlcnRpY2FsOiBBY3Rpb25DcmVhdG9yPElOYXZBY3Rpb24+O1xuICAgIHNldE5vZGVCeUlkOiBBY3Rpb25DcmVhdG9yPElOYXZBY3Rpb24+O1xuICAgIHNldE5vZGVCeU5hbWU6IEFjdGlvbkNyZWF0b3I8SU5hdkFjdGlvbj47XG59XG5cbi8vXG4vLyAgQWN0aW9uIENyZWF0b3JzXG4vL1xuZXhwb3J0IGNvbnN0IG5hdkNyZWF0ZUFjdGlvbiA9ICh0eXBlOiBOYXZBY3Rpb25UeXBlcywgcGF5bG9hZD86IGFueSk6IFJlZHV4QWN0aW9ucy5BY3Rpb25GdW5jdGlvbjA8QWN0aW9uPiA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFjdGlvbih0eXBlLCBwYXlsb2FkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBOYXZBY3Rpb25zOiBJTmF2QWN0aW9ucyA9IHtcbiAgICBhZGROb2RlOiBuYXZDcmVhdGVBY3Rpb24oJ05BVi9BRERfTk9ERScsIChuYXY6IElOYXZpZ2FibGUpID0+IG5hdiksXG4gICAgc2V0TGFzdEtleTogbmF2Q3JlYXRlQWN0aW9uKCdOQVYvS0VZJywgKGtleTogc3RyaW5nKSA9PiBrZXkpLFxuICAgIHNldFNlbGVjdGVkOiBuYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RFRCcsIChpZDogbnVtYmVyKSA9PiBpZCksXG4gICAgc2V0TGVhZjogbmF2Q3JlYXRlQWN0aW9uKCdOQVYvU0VMRUNUX0xFQUYnLCAoaWQ6IG51bWJlcikgPT4gaWQpLFxuICAgIHNldEFjdGl2YXRlZDogbmF2Q3JlYXRlQWN0aW9uKCdOQVYvQUNUSVZBVEVEJywgKGlkOiBudW1iZXIpID0+IGlkKSxcbiAgICBtb3ZlSG9yaXpvbnRhbDogbmF2Q3JlYXRlQWN0aW9uKCdOQVYvTU9WRV9IT1JJWk9OVEFMJywgKGlkOiAxIHwgLTEpID0+IGlkKSxcbiAgICBtb3ZlVmVydGljYWw6IG5hdkNyZWF0ZUFjdGlvbignTkFWL01PVkVfVkVSVElDQUwnLCAoaWQ6IDEgfCAtMSkgPT4gaWQpLFxuICAgIGRlbGV0ZU5vZGU6IG5hdkNyZWF0ZUFjdGlvbignTkFWL0RFTEVURV9OT0RFJywgKGlkOiBudW1iZXIpID0+IGlkKSxcbiAgICBzZXROb2RlQnlOYW1lOiBuYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RfQllfTkFNRScsIChuYW1lOiBzdHJpbmcpID0+IG5hbWUpLFxuICAgIHNldE5vZGVCeUlkOiBuYXZDcmVhdGVBY3Rpb24oJ05BVi9TRUxFQ1RfQllfSUQnLCAoaWQ6IG51bWJlcikgPT4gaWQpLFxuXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYWN0aW9ucy9uYXYuYWN0aW9ucy50cyIsImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IE1hcERpc3BhdGNoVG9Qcm9wc09iamVjdCwgQWN0aW9uQ3JlYXRvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFN5bmNBY3Rpb25UeXBlcywgSVN5bmNBY3Rpb24gfSBmcm9tICdSZWR1Y2Vycyc7XG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24gfSBmcm9tICdyZWR1eC1hY3Rpb25zJztcbi8vIGltcG9ydCB7IERpdmVBUEksIElubGluZVJlc3BvbnNlMjAwLCBUdkV2ZW50UmVzcG9uc2UsIENodW5rIH0gZnJvbSAnU2VydmljZXMnO1xuaW1wb3J0IHsgQ2FyZCwgRGl2ZUFQSUNsYXNzIH0gZnJvbSAnU2VydmljZXMnO1xuLy8gaW1wb3J0ICogYXMgY2h1bmtFeGFtcGxlIGZyb20gJy4vLi4vLi4vc2VydmljZXMvX19tb2Nrc19fL2NodW5rRXhhbXBsZS5qc29uJztcbi8vIGltcG9ydCB7IElDaHVuaywgSUNodW5rU2NlbmUgfSBmcm9tIFwic3JjL2FwcC90eXBlcy9jaHVua1wiO1xuXG5kZWNsYXJlIGNvbnN0IERpdmVBUEk6IERpdmVBUElDbGFzcztcblxuZXhwb3J0IGludGVyZmFjZSBJU3luY0FjdGlvbnMgZXh0ZW5kcyBNYXBEaXNwYXRjaFRvUHJvcHNPYmplY3Qge1xuICAgIG9wZW5DYXJkOiBBY3Rpb25DcmVhdG9yPElTeW5jQWN0aW9uPjtcbiAgICBkYXRhU3luYzogQWN0aW9uQ3JlYXRvcjx2b2lkPjtcbiAgICBzdGFydFNjZW5lOiBBY3Rpb25DcmVhdG9yPElTeW5jQWN0aW9uPjtcbiAgICB1cGRhdGVTY2VuZTogQWN0aW9uQ3JlYXRvcjxJU3luY0FjdGlvbj47XG4gICAgc2V0TW92aWU6IEFjdGlvbkNyZWF0b3I8SVN5bmNBY3Rpb24+O1xuICAgIHN5bmNDaGFubmVsOiBBY3Rpb25DcmVhdG9yPHZvaWQ+O1xuICAgIHNldFN5bmNUeXBlOiBBY3Rpb25DcmVhdG9yPElTeW5jQWN0aW9uPjtcbiAgICBzZXRDaHVua1N0YXR1czogQWN0aW9uQ3JlYXRvcjxJU3luY0FjdGlvbj47XG4gICAgc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlOiBBY3Rpb25DcmVhdG9yPElTeW5jQWN0aW9uPjtcbn07XG5cbi8vXG4vLyAgQWN0aW9uIENyZWF0b3JzXG4vL1xuZXhwb3J0IGNvbnN0IHN5bmNDcmVhdGVBY3Rpb24gPSAodHlwZTogU3luY0FjdGlvblR5cGVzLCBwYXlsb2FkOiBhbnkpOiBSZWR1eEFjdGlvbnMuQWN0aW9uRnVuY3Rpb24wPEFjdGlvbj4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVBY3Rpb24odHlwZSwgcGF5bG9hZCk7XG59O1xuXG5leHBvcnQgY29uc3QgU3luY0FjdGlvbnM6IElTeW5jQWN0aW9ucyA9IHtcbiAgICBvcGVuQ2FyZDogc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvT1BFTl9DQVJEXCIsIChjYXJkSWQ6IHN0cmluZykgPT4gKGNhcmRJZCkpLFxuICAgIHNldE1vdmllOiBzeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TRVRfTU9WSUVcIiwgKG1vdmllSWQ6IHN0cmluZykgPT4gKG1vdmllSWQpKSxcbiAgICAvL3NvY2tldENvbm5lY3RlZDogc3luY0NyZWF0ZUFjdGlvbihcIlNPQ0tFVC9BVVRIRU5USUNBVEVEXCIsIChtb3ZpZUlkOiBzdHJpbmcpID0+IChtb3ZpZUlkKSksXG4gICAgc2V0Q2h1bmtTdGF0dXM6IHN5bmNDcmVhdGVBY3Rpb24oXCJTWU5DL1NFVF9DSFVOS19TVEFUVVNcIiwgKGNodW5rU3RhdHVzOiBzdHJpbmcpID0+IChjaHVua1N0YXR1cykpLFxuICAgIHNldFN5bmNUeXBlOiBzeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TRVRfU1lOQ19UWVBFXCIsIChzeW5jVHlwZTogXCJTT0NLRVRcIiB8IFwiWU9VVFVCRVwiKSA9PiAoc3luY1R5cGUpKSxcbiAgICBzZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHN5bmNDcmVhdGVBY3Rpb24oXCJTWU5DL1NFVF9TRUxFQ1RFRF9PTl9TQ0VORV9DSEFOR0VcIiwgKHZhbDogYm9vbGVhbikgPT4gKHZhbCkpLFxuICAgIHN5bmNDaGFubmVsOiAodHZFdmVudDogYW55LypUdkV2ZW50UmVzcG9uc2UqLykgPT4gKGRpc3BhdGNoOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbU09DS0VUXVwiKTtcbiAgICAgICAgZGlzcGF0Y2goU3luY0FjdGlvbnMuc2V0U3luY1R5cGUoXCJTT0NLRVRcIikpO1xuICAgICAgICBEaXZlQVBJLnN5bmNXaXRoTW92aWVTdHJlYW1pbmcoe1xuICAgICAgICAgICAgcHJvdG9jb2w6IFwiaHR0cFwiLFxuICAgICAgICAgICAgY2hhbm5lbElkOiBcImRpdmVcIiwgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICAgICAgb25FcnJvcjogKCkgPT4geyBjb25zb2xlLmxvZyhcIltTT0NLRVRdIG9uRXJyb3JcIik7IH0sXG4gICAgICAgICAgICAgICAgb25Nb3ZpZVN0YXJ0OiAobW92aWU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92aWUgJiYgbW92aWUubW92aWVfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFN5bmNBY3Rpb25zLnNldE1vdmllKG1vdmllLm1vdmllX2lkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTW92aWVFbmQ6ICgpID0+IHsgY29uc29sZS5sb2coXCJbU09DS0VUXSBvbk1vdmllRW5kXCIpOyB9LFxuICAgICAgICAgICAgICAgIG9uU2NlbmVTdGFydDogKHNjZW5lOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjZW5lICYmIHNjZW5lLmNhcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChTeW5jQWN0aW9ucy5zdGFydFNjZW5lKHNjZW5lLmNhcmRzKSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFN5bmNBY3Rpb25zLnN0YXJ0U2NlbmUoW10pKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblNjZW5lVXBkYXRlOiAoc2NlbmU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NlbmUgJiYgc2NlbmUuY2FyZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFN5bmNBY3Rpb25zLnVwZGF0ZVNjZW5lKHNjZW5lLmNhcmRzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaChTeW5jQWN0aW9ucy51cGRhdGVTY2VuZShbXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblNjZW5lRW5kOiAoKSA9PiB7IGRpc3BhdGNoKFN5bmNBY3Rpb25zLmVuZFNjZW5lKCkpOyB9LFxuICAgICAgICAgICAgICAgIG9uUGF1c2VTdGFydDogKCkgPT4geyBjb25zb2xlLmxvZyhcIltTT0NLRVRdIG9uUGF1c2VTdGFydFwiKTsgfSxcbiAgICAgICAgICAgICAgICBvblBhdXNlRW5kOiAoKSA9PiB7IGNvbnNvbGUubG9nKFwiW1NPQ0tFVF0gb25QYXVzZUVuZFwiKTsgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZGF0YVN5bmM6IChtb3ZpZUlkOiBzdHJpbmcpID0+IChkaXNwYXRjaDogYW55KSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFN5bmNBY3Rpb25zLnNldENodW5rU3RhdHVzKFwiTE9BRElOR1wiKSk7XG4gICAgfSxcbiAgICBzdGFydFNjZW5lOiBzeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9TVEFSVF9TQ0VORVwiLCAoY2FyZHM6IEFycmF5PENhcmQ+W10pID0+IChjYXJkcykpLFxuICAgIHVwZGF0ZVNjZW5lOiBzeW5jQ3JlYXRlQWN0aW9uKFwiU1lOQy9VUERBVEVfU0NFTkVcIiwgKGNhcmRzOiBBcnJheTxDYXJkPltdKSA9PiAoY2FyZHMpKSxcbiAgICBlbmRTY2VuZTogc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvRU5EX1NDRU5FXCIsIChjYXJkczogQXJyYXk8Q2FyZD5bXSkgPT4gKGNhcmRzKSksXG4gICAgc2V0VGltZTogc3luY0NyZWF0ZUFjdGlvbihcIlNZTkMvU0VUX1RJTUVcIiwgKHRpbWU6IG51bWJlcikgPT4gKHRpbWUpKSxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hY3Rpb25zL3N5bmMuYWN0aW9ucy50c3giLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyAvKk1hcERpc3BhdGNoVG9Qcm9wcywgKi9NYXBEaXNwYXRjaFRvUHJvcHNPYmplY3QsIEFjdGlvbkNyZWF0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24vKiwgQWN0aW9uRnVuY3Rpb24wKi8gfSBmcm9tICdyZWR1eC1hY3Rpb25zJztcbmltcG9ydCB7Q2FyZH0gZnJvbSAnU2VydmljZXMnXG5cbmV4cG9ydCB0eXBlIFNvY2tldEFjdGlvblR5cGVzID0gXCJTT0NLRVQvQVVUSEVOVElDQVRFRFwiIHwgXCJTT0NLRVQvVU5BVVRIT1JJWkVEXCIgfCBcIlNPQ0tFVC9FUlJPUlwiXG4gICAgfCBcIlNPQ0tFVC9NT1ZJRV9TVEFSVFwiIHwgXCJTT0NLRVQvTU9WSUVfRU5EXCIgfCBcIlNPQ0tFVC9TQ0VORV9TVEFSVFwiXG4gICAgfCBcIlNPQ0tFVC9TQ0VORV9VUERBVEVcIiB8IFwiU09DS0VUL1NDRU5FX0VORFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTb2NrZXREYXRhVW5hdXRoIGV4dGVuZHMgT2JqZWN0IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY29kZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU29ja2V0RGF0YUVycm9yIGV4dGVuZHMgT2JqZWN0IHtcbiAgICBzdGF0dXM6IG51bWJlcjtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTb2NrZXREYXRhTW92aWVTdGFydCBleHRlbmRzIE9iamVjdCB7XG4gICAgbW92aWVfaWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTb2NrZXREYXRhQ2FyZHMgZXh0ZW5kcyBPYmplY3Qge1xuICAgIGNhcmRzPzogQ2FyZFtdXG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBJU29ja2V0QWN0aW9ucyBleHRlbmRzIE1hcERpc3BhdGNoVG9Qcm9wc09iamVjdCB7XG5cbiAgICB1bmF1dGhSZWNlaXZlZDogQWN0aW9uQ3JlYXRvcjxJU29ja2V0QWN0aW9uPjtcbiAgICBlcnJvclJlY2VpdmVkOiBBY3Rpb25DcmVhdG9yPElTb2NrZXRBY3Rpb24+O1xuICAgIG1vdmllU3RhcnRSZWNlaXZlZDogQWN0aW9uQ3JlYXRvcjxJU29ja2V0QWN0aW9uPjtcbiAgICBzY2VuZVN0YXJ0UmVjZWl2ZWQ6IEFjdGlvbkNyZWF0b3I8SVNvY2tldEFjdGlvbj47XG4gICAgc2NlbmVVcGRhdGVSZWNlaXZlZDogQWN0aW9uQ3JlYXRvcjxJU29ja2V0QWN0aW9uPjtcblxufVxuXG4gZXhwb3J0IGludGVyZmFjZSBJU29ja2V0QWN0aW9uIGV4dGVuZHMgQWN0aW9uIHtcbiAgICAgIHR5cGU6IFNvY2tldEFjdGlvblR5cGVzO1xuICAgICAgcGF5bG9hZD86IElTb2NrZXREYXRhVW5hdXRoIHwgSVNvY2tldERhdGFFcnJvciB8IElTb2NrZXREYXRhTW92aWVTdGFydCB8IElTb2NrZXREYXRhQ2FyZHNcbn1cblxuZnVuY3Rpb24gc29ja2V0Q3JlYXRlQWN0aW9uKFxuICAgIHR5cGU6IFNvY2tldEFjdGlvblR5cGVzLFxuICAgIHBheWxvYWQ/OiBJU29ja2V0RGF0YVVuYXV0aCB8IElTb2NrZXREYXRhRXJyb3IgfCBJU29ja2V0RGF0YU1vdmllU3RhcnQgfCBJU29ja2V0RGF0YUNhcmRzIHwgYW55LFxuKTogUmVkdXhBY3Rpb25zLkFjdGlvbkZ1bmN0aW9uMDxBY3Rpb24+IHtcbiAgICByZXR1cm4gY3JlYXRlQWN0aW9uKHR5cGUsIHBheWxvYWQpO1xufVxuXG5leHBvcnQgY29uc3QgU29ja2V0QWN0aW9uczogSVNvY2tldEFjdGlvbnMgPSB7XG5cbiAgICBhdXRoUmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9BVVRIRU5USUNBVEVEXCIpLFxuICAgIHVuYXV0aFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvVU5BVVRIT1JJWkVEXCIsIChwYXlsb2FkOiBJU29ja2V0RGF0YVVuYXV0aCk6IElTb2NrZXREYXRhVW5hdXRoID0+IChwYXlsb2FkKSksXG4gICAgZXJyb3JSZWNlaXZlZDogc29ja2V0Q3JlYXRlQWN0aW9uKFwiU09DS0VUL0VSUk9SXCIsIChwYXlsb2FkOiBJU29ja2V0RGF0YUVycm9yKTogSVNvY2tldERhdGFFcnJvciA9PiAocGF5bG9hZCkpLFxuXG4gICAgbW92aWVTdGFydFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvTU9WSUVfU1RBUlRcIiwgKHBheWxvYWQ6IElTb2NrZXREYXRhTW92aWVTdGFydCk6IElTb2NrZXREYXRhTW92aWVTdGFydCA9PiAocGF5bG9hZCkpLFxuICAgIG1vdmllRW5kUmVjZWl2ZWQ6IHNvY2tldENyZWF0ZUFjdGlvbihcIlNPQ0tFVC9NT1ZJRV9FTkRcIiksXG4gICAgXG4gICAgc2NlbmVTdGFydFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvU0NFTkVfU1RBUlRcIiwgKHBheWxvYWQ6IElTb2NrZXREYXRhQ2FyZHMpOiBJU29ja2V0RGF0YUNhcmRzID0+IChwYXlsb2FkKSksXG4gICAgc2NlbmVVcGRhdGVSZWNlaXZlZDogc29ja2V0Q3JlYXRlQWN0aW9uKFwiU09DS0VUL1NDRU5FX1VQREFURVwiLCAocGF5bG9hZDogSVNvY2tldERhdGFDYXJkcyk6IElTb2NrZXREYXRhQ2FyZHMgPT4gKHBheWxvYWQpKSxcbiAgICBzY2VuZUVuZFJlY2VpdmVkOiBzb2NrZXRDcmVhdGVBY3Rpb24oXCJTT0NLRVQvU0NFTkVfRU5EXCIpLCBcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hY3Rpb25zL3NvY2tldC5hY3Rpb25zLnRzeCIsImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IE1hcERpc3BhdGNoVG9Qcm9wc09iamVjdCwgQWN0aW9uQ3JlYXRvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJ3JlZHV4LWFjdGlvbnMnO1xuXG5pbXBvcnQgeyBJVXNlckFjdGlvbiwgVXNlckFjdGlvblR5cGVzLCBJVXNlclN0YXRlIH0gZnJvbSBcIlJlZHVjZXJzXCI7XG5pbXBvcnQgeyAgQ2FyZCwgRGl2ZUFQSUNsYXNzIH0gZnJvbSBcIkBkaXZlLXR2L2FwaS10eXBlc2NyaXB0LWxpYnJhcnlcIjtcblxuZGVjbGFyZSBjb25zdCBEaXZlQVBJOiBEaXZlQVBJQ2xhc3M7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJBY3Rpb25zIGV4dGVuZHMgTWFwRGlzcGF0Y2hUb1Byb3BzT2JqZWN0IHtcbiAgICBzZXRVc2VyOiBBY3Rpb25DcmVhdG9yPElVc2VyQWN0aW9uPjtcbiAgICBsaWtlQ2FyZDogQWN0aW9uQ3JlYXRvcjxhbnk+O1xufVxuXG5leHBvcnQgY29uc3QgdXNlckNyZWF0ZUFjdGlvbiA9ICh0eXBlOiBVc2VyQWN0aW9uVHlwZXMsIHBheWxvYWQ/OiBhbnkpOiBSZWR1eEFjdGlvbnMuQWN0aW9uRnVuY3Rpb24wPEFjdGlvbj4gPT4ge1xuICAgIHJldHVybiBjcmVhdGVBY3Rpb24odHlwZSwgcGF5bG9hZCk7XG59O1xuLypcbmV4cG9ydCBjb25zdCBVc2VyQWN0aW9uczogSVVzZXJBY3Rpb25zID0ge1xuICAgIC8vIHNldFVzZXI6IHVzZXJDcmVhdGVBY3Rpb24oXCJVU0VSL1NFVF9VU0VSXCIsICh1c2VyOiBVc2VyUHJvZmlsZVJlc3BvbnNlKSA9PiAodXNlciBhcyBJVXNlclN0YXRlKSksXG4gICAgbGlrZUNhcmQ6IChjYXJkOiBDYXJkKSA9PiAoZGlzcGF0Y2g6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgRGl2ZUFQSS5wb3N0TGlrZXMoeyBjYXJkSWQ6IGNhcmQuY2FyZF9pZCB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQm90dG9tIG1lc3NhZ2UgXCJMaWtlZFwiID8gb3IganVzdCBjaGFuZ2UgdGhlIGljb24/O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogR28gdG8gbG9naW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHTyBUTyBMT0dJTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZyBjYXJkXCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxufTsqL1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYWN0aW9ucy91c2VyLmFjdGlvbnMudHN4IiwiZXhwb3J0ICogZnJvbSAnLi9uYXYucmVkdWNlcic7XG5leHBvcnQgKiBmcm9tICcuL3VpLnJlZHVjZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zeW5jLnJlZHVjZXInO1xuZXhwb3J0ICogZnJvbSAnLi91c2VyLnJlZHVjZXInO1xuXG5leHBvcnQgKiBmcm9tICcuL3JlZHVjZXInO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVkdWNlcnMvaW5kZXgudHMiLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBJTmF2aWdhYmxlIH0gZnJvbSAnSE9DJztcbi8vXG4vLyAgQWN0aW9uc1xuLy9cbmV4cG9ydCB0eXBlIE5hdkFjdGlvblR5cGVzID0gXCJOQVYvQUREX05PREVcIiB8IFwiTkFWL0RFTEVURV9OT0RFXCIgfCBcIk5BVi9LRVlcIiB8IFwiTkFWL1NFTEVDVEVEXCIgfCBcIk5BVi9BQ1RJVkFURURcIiB8XG4gICAgXCJOQVYvU0VMRUNUX0xFQUZcIiB8XG4gICAgXCJOQVYvTU9WRV9IT1JJWk9OVEFMXCIgfCBcIk5BVi9NT1ZFX1ZFUlRJQ0FMXCIgfCBcIk5BVi9TRUxFQ1RfQllfSURcIiB8IFwiTkFWL1NFTEVDVF9CWV9OQU1FXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU5hdkFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4gICAgdHlwZTogTmF2QWN0aW9uVHlwZXM7XG4gICAgcGF5bG9hZD86IGFueTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSU5hdlN0YXRlIHtcbiAgICBuYXZpZ2F0aW9uOiBNYXA8bnVtYmVyLCBJTmF2aWdhYmxlPjtcbiAgICBsYXN0S2V5OiBzdHJpbmc7XG4gICAgc2VsZWN0ZWQ6IG51bWJlcjtcbiAgICBzZWxlY3RlZE5hdjogSU5hdmlnYWJsZSB8IHVuZGVmaW5lZDtcbiAgICBsYXN0U2VsZWN0ZWQ6IG51bWJlcjtcbiAgICBhY3RpdmF0ZWQ6IG51bWJlcjtcbiAgICBsYXN0QWN0aXZhdGVkOiBudW1iZXI7XG4gICAgbmF2TmFtZXM6IE1hcDxzdHJpbmcsIG51bWJlcj47XG59XG5cbnR5cGUgS2V5QXJyb3dzID0gXCJVUFwiIHwgXCJET1dOXCIgfCBcIlJJR0hUXCIgfCBcIkxFRlRcIjtcblxuZXhwb3J0IGNvbnN0IE5hdlJlZHVjZXIgPSAoc3RhdGU6IElOYXZTdGF0ZSA9IGluaXRpYWxOYXZTdGF0ZSwgYWN0aW9uOiBJTmF2QWN0aW9uKTogSU5hdlN0YXRlID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhcIltDVVJSRU5UXVtOYXZSZWR1Y2VyXSBzdGF0ZTogXCIsIHN0YXRlKTtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ05BVi9BRERfTk9ERSc6XG4gICAgICAgICAgICBjb25zdCBuYXY6IElOYXZpZ2FibGUgPSBhY3Rpb24ucGF5bG9hZCBhcyBJTmF2aWdhYmxlO1xuXG4gICAgICAgICAgICAvLyBJTklUIFBBUkVOVCBJRiBJUyBOT1QgU0VUVEVELiBVUERBVEUgUEFSRU5UIElGIElTIFNFVFRFRFxuICAgICAgICAgICAgaWYgKG5hdi5wYXJlbnRJZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRTdGF0ZTogSU5hdmlnYWJsZSA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KG5hdi5wYXJlbnRJZCkgYXMgSU5hdmlnYWJsZTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50U3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnNldChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdi5wYXJlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFyZW50SWQ6IC0xLCBpZDogbmF2LnBhcmVudElkLCBjaGlsZHJlbjogW1tuYXYuaWRdXSwgY29sdW1uczogMSB9LFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGlsZHJlblR1cGxhSW5kZXggPSBwYXJlbnRTdGF0ZS5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hpbGRyZW5UdXBsYUxlbmd0aDogbnVtYmVyID0gcGFyZW50U3RhdGUuY2hpbGRyZW5bbGFzdENoaWxkcmVuVHVwbGFJbmRleF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmF2LmNvbHVtbnMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2LmNvbHVtbnMgPT09IGxhc3RDaGlsZHJlblR1cGxhTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS5jaGlsZHJlbiA9IFsuLi5wYXJlbnRTdGF0ZS5jaGlsZHJlbiwgW25hdi5pZF1dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hdi5mb3JjZU9yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXNvIGVuIGVsIHF1ZSBxdWVyZW1vcyBmb3J6YXIgZWwgb3JkZW4gZGVsIGVsZW1lbnRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyOiBudW1iZXJbXSA9IFsuLi5wYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShuYXYuZm9yY2VPcmRlciwgMCwgbmF2LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XSA9IGFycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FzbyBub3JtYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsuLi5wYXJlbnRTdGF0ZS5jaGlsZHJlbltsYXN0Q2hpbGRyZW5UdXBsYUluZGV4XSwgbmF2LmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5zZXQocGFyZW50U3RhdGUuaWQsIHBhcmVudFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElOSVQgQ1VSUkVOVCBFTEVNRU5UIElGIElTIE5PVCBTRVRURUQuXG4gICAgICAgICAgICBjb25zdCBuYXZTdGF0ZTogSU5hdmlnYWJsZSB8IHVuZGVmaW5lZCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KG5hdi5pZCk7XG4gICAgICAgICAgICBpZiAobmF2U3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uc2V0KG5hdi5pZCwgbmF2KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5zZXQobmF2LmlkLCB7IC4uLm5hdiwgLi4ubmF2U3RhdGUsIHBhcmVudElkOiBuYXYucGFyZW50SWQgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXYubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubmF2TmFtZXMuc2V0KG5hdi5uYW1lLCBuYXYuaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICAgICAgY2FzZSAnTkFWL0RFTEVURV9OT0RFJzpcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZU5hdjogSU5hdmlnYWJsZSB8IHVuZGVmaW5lZCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgIC8vIERFTEVURSBGUk9NIFBBUkVOVFxuICAgICAgICAgICAgaWYgKGRlbGV0ZU5hdiAhPT0gdW5kZWZpbmVkICYmIGRlbGV0ZU5hdi5wYXJlbnRJZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlTmF2UGFyZW50OiBJTmF2aWdhYmxlIHwgdW5kZWZpbmVkID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoZGVsZXRlTmF2LnBhcmVudElkKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlTmF2UGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxldGVOYXZQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhPZihkZWxldGVOYXZQYXJlbnQuY2hpbGRyZW5baV0sIGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbLi4uZGVsZXRlTmF2UGFyZW50LmNoaWxkcmVuW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVOYXZQYXJlbnQuY2hpbGRyZW5baV0gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZU5hdlBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5zZXQoZGVsZXRlTmF2UGFyZW50LmlkLCBkZWxldGVOYXZQYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gREVMRVRFIENVUlJFTlRcbiAgICAgICAgICAgIGlmIChkZWxldGVOYXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uZGVsZXRlKGRlbGV0ZU5hdi5pZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgICAgICBjYXNlICdOQVYvS0VZJzpcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsYXN0S2V5OiBhY3Rpb24ucGF5bG9hZCB9O1xuXG4gICAgICAgIGNhc2UgJ05BVi9TRUxFQ1RFRCc6XG4gICAgICAgICAgICBpZiAoaXNPdXRPZk1vZGFsKHN0YXRlLm5hdmlnYXRpb24sIHN0YXRlLnNlbGVjdGVkLCBhY3Rpb24ucGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGVkOiBzdGF0ZS5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWROYXY6IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGFjdGlvbi5wYXlsb2FkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ05BVi9TRUxFQ1RfTEVBRic6XG4gICAgICAgICAgICBjb25zdCBpZDogbnVtYmVyID0gZ2V0Rmlyc3RMZWFmKHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIGxhc3RTZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGlkLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChpZCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ05BVi9BQ1RJVkFURUQnOlxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxhc3RBY3RpdmF0ZWQ6IHN0YXRlLmFjdGl2YXRlZCwgYWN0aXZhdGVkOiBhY3Rpb24ucGF5bG9hZCB9O1xuXG4gICAgICAgIGNhc2UgJ05BVi9NT1ZFX0hPUklaT05UQUwnOlxuICAgICAgICAgICAgbGV0IG5ld1NlbGVjdGVkID0gc3RhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICBsZXQgbG9vcFNlbGVjdGVkID0gc3RhdGUuc2VsZWN0ZWQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50OiBJTmF2aWdhYmxlIHwgdW5kZWZpbmVkID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoc3RhdGUuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LnBhcmVudElkID49IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50OiBJTmF2aWdhYmxlIHwgdW5kZWZpbmVkID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoY3VycmVudC5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgbGV0IGxvb3BpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbG9vcFdoaWxlOlxuICAgICAgICAgICAgICAgIHdoaWxlIChsb29waW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxvb3AxOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3Qgb2YgcGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW06IG51bWJlciA9IGxpc3Rbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA9PT0gbG9vcFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuIGVsIGNhc28gZGUgcXVlIGVsIGVsZW1lbnRvIHBvciBlbCBxdWUgc2UgdmEgYSBwYXNhciBzZWEgbW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldG9ybmFtb3MgZWwgc3RhdGUgYW50ZXJpb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoc3RhdGUubmF2aWdhdGlvbi5nZXQobG9vcFNlbGVjdGVkKSBhcyBJTmF2aWdhYmxlKS5tb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkID09PSAxICYmIGogPCBsaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uY2Ugc2VsZWN0ZWQgdGhlIGVsZW1lbnQsIGdvIGRvd24gaW4gbm9kZXMgdW50aWwgbGVhZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQgPSBnZXRGaXJzdExlYWYoc3RhdGUsIGxpc3RbaiArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3BXaGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24ucGF5bG9hZCA9PT0gLTEgJiYgaiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uY2Ugc2VsZWN0ZWQgdGhlIGVsZW1lbnQsIGdvIGRvd24gaW4gbm9kZXMgdW50aWwgbGVhZih0aGUgbGFzdCBvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZCA9IGdldExhc3RMZWFmKHN0YXRlLCBsaXN0W2ogLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wV2hpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGFyZW50SWQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BTZWxlY3RlZCA9IHBhcmVudC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChwYXJlbnQucGFyZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3AxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLCBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogbmV3U2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWROYXY6IHN0YXRlLm5hdmlnYXRpb24uZ2V0KG5ld1NlbGVjdGVkKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnTkFWL01PVkVfVkVSVElDQUwnOlxuICAgICAgICAgICAgbGV0IG5ld1NlbGVjdGVkMiA9IHN0YXRlLnNlbGVjdGVkO1xuICAgICAgICAgICAgbGV0IGxvb3BTZWxlY3RlZDIgPSBzdGF0ZS5zZWxlY3RlZDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQyOiBJTmF2aWdhYmxlIHwgdW5kZWZpbmVkID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoc3RhdGUuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudDIucGFyZW50SWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJlbnQ6IElOYXZpZ2FibGUgfCB1bmRlZmluZWQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChjdXJyZW50Mi5wYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgbGV0IGxvb3BpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbG9vcFdoaWxlOlxuICAgICAgICAgICAgICAgIHdoaWxlIChsb29waW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxvb3AxOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbltqXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IGluZGV4T2YocGFyZW50LmNoaWxkcmVuW2pdLCBsb29wU2VsZWN0ZWQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bTogbnVtYmVyID0gcGFyZW50LmNoaWxkcmVuW2pdW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtID09PSBsb29wU2VsZWN0ZWQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuIGVsIGNhc28gZGUgcXVlIGVsIGVsZW1lbnRvIHBvciBlbCBxdWUgc2UgdmEgYSBwYXNhciBzZWEgbW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldG9ybmFtb3MgZWwgc3RhdGUgYW50ZXJpb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoc3RhdGUubmF2aWdhdGlvbi5nZXQobG9vcFNlbGVjdGVkMikgYXMgSU5hdmlnYWJsZSkubW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQgPT09IDEgJiYgaiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHNlbGVjdGVkIHRoZSBlbGVtZW50LCBnbyBkb3duIGluIG5vZGVzIHVudGlsIGxlYWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkMiA9IGdldEZpcnN0TGVhZihzdGF0ZSwgcGFyZW50LmNoaWxkcmVuW2ogKyAxXVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wV2hpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLnBheWxvYWQgPT09IC0xICYmIGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHNlbGVjdGVkIHRoZSBlbGVtZW50LCBnbyBkb3duIGluIG5vZGVzIHVudGlsIGxlYWYodGhlIGxhc3Qgb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQyID0gZ2V0TGFzdExlYWYoc3RhdGUsIHBhcmVudC5jaGlsZHJlbltqIC0gMV1bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgbG9vcFdoaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wYXJlbnRJZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcFNlbGVjdGVkMiA9IHBhcmVudC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChwYXJlbnQucGFyZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3AxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLCBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogbmV3U2VsZWN0ZWQyLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChuZXdTZWxlY3RlZDIpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICBjYXNlICdOQVYvU0VMRUNUX0JZX05BTUUnOlxuICAgICAgICAgICAgY29uc3QgbmFtZTogc3RyaW5nID0gYWN0aW9uLnBheWxvYWQgYXMgc3RyaW5nO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uQnlOYW1lOiBudW1iZXIgPSBnZXRGaXJzdExlYWYoc3RhdGUsIHN0YXRlLm5hdk5hbWVzLmdldChuYW1lKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkJ5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsIGxhc3RTZWxlY3RlZDogc3RhdGUuc2VsZWN0ZWQsIHNlbGVjdGVkOiBzZWxlY3Rpb25CeU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTmF2OiBzdGF0ZS5uYXZpZ2F0aW9uLmdldChzZWxlY3Rpb25CeU5hbWUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdOQVYvU0VMRUNUX0JZX0lEJzpcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbkJ5SWQ6IG51bWJlciA9IGdldEZpcnN0TGVhZihzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkJ5SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLCBsYXN0U2VsZWN0ZWQ6IHN0YXRlLnNlbGVjdGVkLCBzZWxlY3RlZDogc2VsZWN0aW9uQnlJZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROYXY6IHN0YXRlLm5hdmlnYXRpb24uZ2V0KHNlbGVjdGlvbkJ5SWQpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn07XG5cbi8vIEdldCBjaGlsZHJlbiByZWN1cnNpdmVseSBhbmQgcmV0dXJuIGFsbCBvZiB0aGVtIGluIGFuIGFycmF5XG5jb25zdCBnZXRSZWN1cnNpdmVDaGlsZHJlbiA9IChuYXZpZ2F0aW9uOiBNYXA8bnVtYmVyLCBJTmF2aWdhYmxlPiwgaWQ6IG51bWJlcik6IG51bWJlcltdID0+IHtcbiAgICAvLyBERUxFVEUgUkVDVVJTSVZFIENISUxEU1xuICAgIGxldCBiZWZvcmU6IG51bWJlcltdID0gW107XG4gICAgY29uc3Qgbm9kZTogSU5hdmlnYWJsZSB8IHVuZGVmaW5lZCA9IG5hdmlnYXRpb24uZ2V0KGlkKTtcbiAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItZm9yLW9mXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci1mb3Itb2ZcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5jaGlsZHJlbltpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGJlZm9yZSA9IFsuLi5iZWZvcmUsIG5vZGUuY2hpbGRyZW5baV1bal1dO1xuICAgICAgICAgICAgICAgIGJlZm9yZSA9IFsuLi5iZWZvcmUsIC4uLmdldFJlY3Vyc2l2ZUNoaWxkcmVuKG5hdmlnYXRpb24sIG5vZGUuY2hpbGRyZW5baV1bal0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiZWZvcmU7XG59O1xuXG4vLyBUT0RPIEdFVCBGSVJTVCBjaGlsZCB0aGF0IGlzIGxlYWYuXG5jb25zdCBnZXRGaXJzdExlYWYgPSAoc3RhdGU6IElOYXZTdGF0ZSwgaWQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgbGV0IGN1cnJlbnQ6IElOYXZpZ2FibGUgfCB1bmRlZmluZWQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChpZCk7XG4gICAgbGV0IGxvb3BpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChjdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgbG9vcGluZykge1xuICAgICAgICBpZiAoY3VycmVudC5jaGlsZHJlblswXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhdGUubmF2aWdhdGlvbi5nZXQoY3VycmVudC5jaGlsZHJlblswXVswXSkgYXMgSU5hdmlnYWJsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvb3BpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxufTtcblxuLy8gR2V0IGxhc3QgY2hpbGQgbGVhZlxuY29uc3QgZ2V0TGFzdExlYWYgPSAoc3RhdGU6IElOYXZTdGF0ZSwgaWQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgbGV0IGN1cnJlbnQ6IElOYXZpZ2FibGUgfCB1bmRlZmluZWQgPSBzdGF0ZS5uYXZpZ2F0aW9uLmdldChpZCk7XG4gICAgbGV0IGxvb3BpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChjdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgbG9vcGluZykge1xuICAgICAgICBpZiAoY3VycmVudC5mb3JjZUZpcnN0ID09PSB0cnVlICYmIGN1cnJlbnQuY2hpbGRyZW5bMF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3VycmVudCA9IHN0YXRlLm5hdmlnYXRpb24uZ2V0KGN1cnJlbnQuY2hpbGRyZW5bMF1bMF0pIGFzIElOYXZpZ2FibGU7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5jaGlsZHJlbltjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBvczogbnVtYmVyID0gY3VycmVudC5jaGlsZHJlbltjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdW2N1cnJlbnQuY2hpbGRyZW5bMF0ubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhdGUubmF2aWdhdGlvbi5nZXQocG9zKSBhcyBJTmF2aWdhYmxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9vcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxufTtcblxuY29uc3QgaW5kZXhPZiA9IChhcnJheTogbnVtYmVyW10sIG51bTogbnVtYmVyKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJyYXlbaV0gPT09IG51bSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcblxuY29uc3QgaXNPdXRPZk1vZGFsID0gKG5hdmlnYXRpb246IE1hcDxudW1iZXIsIElOYXZpZ2FibGU+LCBpZDogbnVtYmVyLCBuZXdJZDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgbGV0IGlkTW9kYWw6IG51bWJlciA9IC0xO1xuICAgIGxldCBuYXY6IElOYXZpZ2FibGU7XG4gICAgLy8gTWlyYW1vcyBzaSBsYSBzZWxlY2Npw7NuIGFjdHVhbCB0aWVuZSBhbGfDum4gcGFkcmUgbW9kYWxcbiAgICBkbyB7XG4gICAgICAgIG5hdiA9IG5hdmlnYXRpb24uZ2V0KGlkKSAgYXMgSU5hdmlnYWJsZTtcbiAgICAgICAgaWYgKG5hdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYXYubW9kYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlkTW9kYWwgPSBuYXYuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWQgPSBuYXYucGFyZW50SWQ7XG4gICAgfSB3aGlsZSAoaWRNb2RhbCA8IDAgJiYgaWQgIT09IHVuZGVmaW5lZCk7XG5cbiAgICBpZiAoaWRNb2RhbCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE1pcmFtb3Mgc2kgZW4gbGEgbnVldmEgc2VsZWNjacOzbiBlc3TDoSBlbCBwYWRyZSBtb2RhbCwgc2kgc2UgaGEgZW5jb250cmFkbyB1bm8gcHJldmlhbWVudGUuXG4gICAgaWYgKGlkTW9kYWwgPj0gMCkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuYXYgPSBuYXZpZ2F0aW9uLmdldChuZXdJZCkgIGFzIElOYXZpZ2FibGU7XG4gICAgICAgICAgICBpZiAobmF2LmlkID09PSBpZE1vZGFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWQgPSBuYXYucGFyZW50SWQ7XG4gICAgICAgIH0gd2hpbGUgKGlkTW9kYWwgPCAwICYmIGlkICE9PSB1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxOYXZTdGF0ZTogSU5hdlN0YXRlID0ge1xuICAgIG5hdmlnYXRpb246IG5ldyBNYXA8bnVtYmVyLCBJTmF2aWdhYmxlPigpLFxuICAgIGxhc3RLZXk6ICcnLFxuICAgIHNlbGVjdGVkOiAzLFxuICAgIHNlbGVjdGVkTmF2OiB1bmRlZmluZWQsXG4gICAgYWN0aXZhdGVkOiAtMSxcbiAgICBsYXN0U2VsZWN0ZWQ6IC0xLFxuICAgIGxhc3RBY3RpdmF0ZWQ6IC0xLFxuICAgIG5hdk5hbWVzOiBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3JlZHVjZXJzL25hdi5yZWR1Y2VyLnRzIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgQ2FyZCwgTG9jYWxpemUgfSBmcm9tICdTZXJ2aWNlcyc7XG4vL1xuLy8gIEFjdGlvbnNcbi8vXG5leHBvcnQgdHlwZSBVSUFjdGlvblR5cGVzID0gXCJVSS9TRVRfRElWSURFUlwiIHwgXCJVSS9VSV9CQUNLXCIgfCBcIlVJL09QRU5fU1lOQ1wiIHxcbiAgICBcIlVJL09QRU5fQ0FSRFwiIHwgXCJVSS9PUEVOXCIgfCBcIlVJL0FERF9URVNUX0NBUkRTXCI7XG5cbmV4cG9ydCB0eXBlIFVJTGF5ZXJUb3BUeXBlcyA9IFwiVFZcIiB8IFwiRU1QVFlcIjtcbmV4cG9ydCB0eXBlIFVJTGF5ZXJCb3R0b21UeXBlcyA9IFwiQ0FST1VTRUxcIiB8IFwiQ0FSRFwiIHwgXCJDQVJEU1wiIHxcbiAgICBcIlBST0ZJTEVcIiB8IFwiSEVMUFwiIHwgXCJFUlJPUlwiIHwgXCJFTVBUWVwiO1xuXG50eXBlIEtleUFycm93cyA9IFwiVVBcIiB8IFwiRE9XTlwiIHwgXCJSSUdIVFwiIHwgXCJMRUZUXCI7XG5leHBvcnQgdHlwZSBNZW51VmlzdWFsU3RhdGUgPSBcIlZJU0lCTEVcIiB8IFwiSElERVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElNZW51RWxlbWVudCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHNlY3Rpb25zOiBJVUlHcm91cDtcbiAgICBpY29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVJU3RhdGUge1xuICAgIGNvbnRhaW5lcnM6IElVSUNvbnRhaW5lcltdO1xuICAgIGRpdmlkZXI6IERpdmlkZXJTaXplO1xuICAgIGNhcmQ/OiBDYXJkO1xuICAgIHRlc3RDYXJkczogQXJyYXk8eyBjYXJkX2lkOiBzdHJpbmcsIHZlcnNpb24/OiBzdHJpbmcgfT47XG59XG5cbi8vXG4vLyAgQWN0aW9uc1xuLy9cbmV4cG9ydCBpbnRlcmZhY2UgSVVJR3JvdXAge1xuICAgIHRvcDogVUlMYXllclRvcFR5cGVzO1xuICAgIGJvdHRvbTogVUlMYXllckJvdHRvbVR5cGVzO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBJVUlDb250YWluZXIge1xuICAgIGNvbXBvbmVudDogVUlMYXllclRvcFR5cGVzIHwgVUlMYXllckJvdHRvbVR5cGVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElVSUFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4gICAgdHlwZTogVUlBY3Rpb25UeXBlcztcbiAgICBwYXlsb2FkPzogYW55IHwgSVVJR3JvdXA7XG59XG5leHBvcnQgaW50ZXJmYWNlIElNZW51U3RhdGUge1xuICAgIGVsZW1lbnRzOiBBcnJheTx7IHRpdGxlOiBzdHJpbmcsIHNlY3Rpb25zOiBJVUlHcm91cCwgaWNvbjogc3RyaW5nIH0+O1xufVxuXG50eXBlIERpdmlkZXJTaXplID0gMCB8IDYwIHwgMTAwO1xuXG5leHBvcnQgY29uc3QgVUlSZWR1Y2VyID0gKHN0YXRlOiBJVUlTdGF0ZSA9IGluaXRpYWxVSVN0YXRlLCBhY3Rpb246IElVSUFjdGlvbik6IElVSVN0YXRlID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlVJUmVkdWNlcjogXCIsIGFjdGlvbik7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiVUkvU0VUX0RJVklERVJcIjpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVUkvU0VUX0RJVklERVJcIiwgYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkID09PSBzdGF0ZS5kaXZpZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGRpdmlkZXI6IGFjdGlvbi5wYXlsb2FkIH07XG4gICAgICAgIGNhc2UgJ1VJL09QRU5fU1lOQyc6XG4gICAgICAgICAgICBjb25zdCBuZXdDb250YWluZXJzOiBJVUlDb250YWluZXJbXSA9IFsuLi5zdGF0ZS5jb250YWluZXJzXTtcbiAgICAgICAgICAgIG5ld0NvbnRhaW5lcnNbMV0uY29tcG9uZW50ID0gJ0NBUk9VU0VMJztcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBkaXZpZGVyOiA2MCwgY29udGFpbmVyczogbmV3Q29udGFpbmVycyB9O1xuICAgICAgICBjYXNlICdVSS9PUEVOJzpcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRhaW5lcnMyOiBJVUlDb250YWluZXJbXSA9IFtcbiAgICAgICAgICAgICAgICB7IGNvbXBvbmVudDogYWN0aW9uLnBheWxvYWQudG9wIH0sIHsgY29tcG9uZW50OiBhY3Rpb24ucGF5bG9hZC5ib3R0b20gfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBsZXQgZGl2aWRlclZhbDogRGl2aWRlclNpemUgPSAxMDA7XG5cbiAgICAgICAgICAgIGlmIChbXCJHUklEXCIsIFwiQ0FST1VTRUxcIiwgXCJIT01FXCIsIFwiQ0FSRFNcIiwgXCJDQVJEXCIsIFwiUFJPRklMRVwiLCBcIkhFTFBcIl0uaW5kZXhPZihhY3Rpb24ucGF5bG9hZC5ib3R0b20pID49IDApIHtcbiAgICAgICAgICAgICAgICBkaXZpZGVyVmFsID0gNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGl2aWRlclZhbCAhPT0gc3RhdGUuZGl2aWRlciB8fFxuICAgICAgICAgICAgICAgIHN0YXRlLmNvbnRhaW5lcnNbMF0uY29tcG9uZW50ICE9PSBuZXdDb250YWluZXJzMlswXS5jb21wb25lbnQgfHxcbiAgICAgICAgICAgICAgICBzdGF0ZS5jb250YWluZXJzWzBdLmNvbXBvbmVudCAhPT0gbmV3Q29udGFpbmVyczJbMV0uY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGRpdmlkZXI6IGRpdmlkZXJWYWwsIGNvbnRhaW5lcnM6IG5ld0NvbnRhaW5lcnMyIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdVSS9PUEVOX0NBUkQnOlxuICAgICAgICAgICAgY29uc3QgbmV3Q29udGFpbmVyczM6IElVSUNvbnRhaW5lcltdID0gW3N0YXRlLmNvbnRhaW5lcnNbMF0sIHsgY29tcG9uZW50OiBcIkNBUkRcIiB9XTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBkaXZpZGVyOiA2MCwgY29udGFpbmVyczogbmV3Q29udGFpbmVyczMsIGNhcmQ6IGFjdGlvbi5wYXlsb2FkIH07XG5cbiAgICAgICAgY2FzZSAnVUkvQUREX1RFU1RfQ0FSRFMnOlxuXG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgdGVzdENhcmRzOiBbLi4uc3RhdGUudGVzdENhcmRzLCBhY3Rpb24ucGF5bG9hZF0gfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxVSVN0YXRlOiBJVUlTdGF0ZSA9IHtcbiAgICBjb250YWluZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJFTVBUWVwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjb21wb25lbnQ6IFwiQ0FST1VTRUxcIixcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIGNhcmQ6IHVuZGVmaW5lZCxcbiAgICB0ZXN0Q2FyZHM6IFtcbiAgICAgICAgeyBjYXJkX2lkOiBcIjI4ZTdjYjUyLTAxYTItM2U5NS1hNzFmLTRmYzJkM2U0NmY4NlwiLCB2ZXJzaW9uOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiIH0sXG4gICAgICAgIHsgY2FyZF9pZDogXCJiZDRmMjZiYS0wYzJhLTNhMTYtYmI3Yi03OWFhMDY2YWJmNDRcIi8qLCB2ZXJzaW9uOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiICovIH0sXG4gICAgICAgIHsgY2FyZF9pZDogXCJlMDE0M2Q3Yi0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIi8qLCB2ZXJzaW9uOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiICovIH0sXG4gICAgICAgIHsgXCJjYXJkX2lkXCI6IFwiZGY1YjlkZDEtMWU3Ni0xMWU2LTk3YWMtMDY4NDk4NWNiYmUzXCIsIFwidmVyc2lvblwiOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiIH0sXG4gICAgICAgIHsgXCJjYXJkX2lkXCI6IFwiZjI2NmVlMGEtMWU3Ni0xMWU2LTk3YWMtMDY4NDk4NWNiYmUzXCIsIFwidmVyc2lvblwiOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiIH0sXG4gICAgICAgIHsgXCJjYXJkX2lkXCI6IFwiZGU1N2MyMzktMWU3Ni0xMWU2LTk3YWMtMDY4NDk4NWNiYmUzXCIsIFwidmVyc2lvblwiOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiIH0sXG4gICAgICAgIHsgXCJjYXJkX2lkXCI6IFwiZjA5MTMzOTUtMWU3Ni0xMWU2LTk3YWMtMDY4NDk4NWNiYmUzXCIsIFwidmVyc2lvblwiOiBcIjBqT2VVSWVMQ2FPY1NJNEZTZWJOajQrRTdWWlwiIH0sXG4gICAgICAgIC8qeyBcImNhcmRfaWRcIjogXCJmMWM3YzlkNC0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCJmMmY0ZjdmZi0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCJlZmVkYjgyYy0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCJlMTNmZGM0MS0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCI0ZjU5NDYyZi03Y2U5LTExZTUtYjdjMi0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCI2ZTQ1NTliNy03NDBiLTExZTUtYjdjMi0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSxcbiAgICAgICAgeyBcImNhcmRfaWRcIjogXCJlZWM5NWFjNC0xZTc2LTExZTYtOTdhYy0wNjg0OTg1Y2JiZTNcIiwgXCJ2ZXJzaW9uXCI6IFwiMGpPZVVJZUxDYU9jU0k0RlNlYk5qNCtFN1ZaXCIgfSovXG5cbiAgICBdLFxuICAgIGRpdmlkZXI6IDYwLFxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZWR1Y2Vycy91aS5yZWR1Y2VyLnRzIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgU29ja2V0QWN0aW9uVHlwZXMgfSBmcm9tICdBY3Rpb25zJztcbmltcG9ydCB7IENhcmQgfSBmcm9tICdTZXJ2aWNlcyc7XG5leHBvcnQgdHlwZSBDaGFubmVsU3RhdHVzID0gXCJvZmZcIiB8IFwicGxheWluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiZW5kXCIgfCBcInJlYWR5XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNTdGF0ZSB7XG4gICAgdHlwZT86IFwiU09DS0VUXCIgfCBcIllPVVRVQkVcIjtcbiAgICBzb2NrZXRTdGF0dXM6IHN0cmluZztcbiAgICAvL2NodW5rU3RhdHVzOiBTZXJ2aWNlU3RhdHVzO1xuICAgIG1vdmllSWQ/OiBzdHJpbmc7XG4gICAgY2FyZHM6IENhcmRbXTtcbiAgICBkZW1vOiBzdHJpbmc7XG4gICAgY3VycmVudFRpbWU6IG51bWJlcjsgLy8gVGltZSBpbiBzZWNvbmRzXG4gICAgdGltZU1vdmllOiBudW1iZXI7IC8vIFRpbWUgb2Ygc29ja2V0IChtaWxpcylcbiAgICB0aW1lTW92aWVTeW5jZWQ6IG51bWJlcjsgLy8gZGF0ZS5ub3cgd2hlbiBzb2NrZXQobWlsaXMpXG4gICAgdGltZVJhdGlvOiBudW1iZXI7XG4gICAgbGFzdFVwZGF0ZWRUaW1lOiBudW1iZXI7XG4gICAgY2hhbm5lbFN0YXR1cz86IENoYW5uZWxTdGF0dXM7XG4gICAgc2VsZWN0ZWRPblNjZW5lQ2hhbmdlOiBib29sZWFuO1xuICAgIC8vIHRpbWVOb3c6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSVN5bmNBY3Rpb24gZXh0ZW5kcyBBY3Rpb24ge1xuICAgIHR5cGU6IFN5bmNBY3Rpb25UeXBlcztcbiAgICBwYXlsb2FkPzogYW55O1xufVxuXG5leHBvcnQgdHlwZSBTeW5jQWN0aW9uVHlwZXMgPSBcIlNZTkMvT1BFTl9DQVJEXCIgfCBcIlNZTkMvU1RBUlRcIiB8IFwiU1lOQy9TRVRfVElNRVwiIHwgXCJTWU5DL1VQREFURV9USU1FXCIgfFxuICAgIFwiU1lOQy9TVEFSVF9TQ0VORVwiIHwgXCJTWU5DL1VQREFURV9TQ0VORVwiIHwgXCJTWU5DL0VORF9TQ0VORVwiIHwgXCJTWU5DL1NFVF9NT1ZJRVwiIHwgXCJTWU5DL0NIVU5LX0ZBSUxFRFwiIHwgXCJTWU5DL0lOSVRfVElNRVwiIHxcbiAgICBcIlNZTkMvU0VUX1NFTEVDVEVEX09OX1NDRU5FX0NIQU5HRVwiIHxcbiAgICBcIlNPQ0tFVC9DT05ORUNURURcIiB8IFwiU1lOQy9TRVRfVFJBSUxFUlwiIHwgXCJTWU5DL1NFVF9TWU5DX1RZUEVcIiB8IFwiU1lOQy9TRVRfQ0hVTktfU1RBVFVTXCIgfCBTb2NrZXRBY3Rpb25UeXBlcztcblxuZXhwb3J0IGNvbnN0IFN5bmNSZWR1Y2VyID0gKHN0YXRlOiBJU3luY1N0YXRlID0gaW5pdGlhbFN5bmNTdGF0ZSwgYWN0aW9uOiBJU3luY0FjdGlvbik6IElTeW5jU3RhdGUgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnU1lOQy9TRVRfTU9WSUUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSwgbW92aWVJZDogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgY2FyZHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnU1lOQy9VUERBVEVfVElNRSc6IC8vIFVQREFURUEgRUwgVElFTVBPIENPTiBFTCBOT1dcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWU6IGNhbGNUaW1lKHN0YXRlLCBEYXRlLm5vdygpKSxcbiAgICAgICAgICAgICAgICBsYXN0VXBkYXRlZFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdTWU5DL1NUQVJUX1NDRU5FJzpcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jYXJkcyBpbnN0YW5jZW9mIEFycmF5ICYmIGFjdGlvbi5wYXlsb2FkIGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5jYXJkcy5sZW5ndGggIT09IGFjdGlvbi5wYXlsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBjYXJkczogYWN0aW9uLnBheWxvYWQsIHNlbGVjdGVkT25TY2VuZUNoYW5nZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgY2FyZHM6IFtdLCBzZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnU1lOQy9VUERBVEVfU0NFTkUnOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLnBheWxvYWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGNhcmRzOiBbIC4uLmFjdGlvbi5wYXlsb2FkLCAuLi5zdGF0ZS5jYXJkc10gfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdTWU5DL0VORF9TQ0VORSc6XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgY2FyZHM6IFtdIH07XG5cbiAgICAgICAgY2FzZSAnU1lOQy9TRVRfVFJBSUxFUic6XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgZGVtbzogYWN0aW9uLnBheWxvYWQgfTtcbiAgICAgICAgY2FzZSAnU1lOQy9TRVRfU1lOQ19UWVBFJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsIHR5cGU6IGFjdGlvbi5wYXlsb2FkLCBzb2NrZXRTdGF0dXM6ICdJTklUJyxcbiAgICAgICAgICAgICAgICB0aW1lTW92aWVTeW5jZWQ6IGluaXRpYWxTeW5jU3RhdGUudGltZU1vdmllU3luY2VkLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBpbml0aWFsU3luY1N0YXRlLmN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkVGltZTogaW5pdGlhbFN5bmNTdGF0ZS5sYXN0VXBkYXRlZFRpbWUsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ1NZTkMvU0VUX1NFTEVDVEVEX09OX1NDRU5FX0NIQU5HRSc6XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgc2VsZWN0ZWRPblNjZW5lQ2hhbmdlOiBhY3Rpb24ucGF5bG9hZCB9O1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufTtcblxuY29uc3QgY2FsY1RpbWUgPSAoc3RhdGU6IElTeW5jU3RhdGUsIHRpbWU6IG51bWJlcikgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiW2NhbGNUaW1lXSBzdGF0ZTogXCIsIHN0YXRlKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIltjYWxjVGltZV0gdGltZTogXCIsIHRpbWUpO1xuICAgIHJldHVybiAoc3RhdGUudGltZU1vdmllICsgKHRpbWUgLSBzdGF0ZS50aW1lTW92aWVTeW5jZWQpICogc3RhdGUudGltZVJhdGlvKSAvIDEwMDA7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN5bmNTdGF0ZTogSVN5bmNTdGF0ZSA9IHtcbiAgICBzZWxlY3RlZE9uU2NlbmVDaGFuZ2U6IHRydWUsXG4gICAgc29ja2V0U3RhdHVzOiAnSU5JVCcsXG4gICAgbW92aWVJZDogXCJtMDAwMDFcIixcbiAgICBjYXJkczogW10sXG4gICAgZGVtbzogXCJcIixcbiAgICBjdXJyZW50VGltZTogMCxcbiAgICB0aW1lTW92aWU6IDAsXG4gICAgdGltZU1vdmllU3luY2VkOiAwLFxuICAgIHRpbWVSYXRpbzogMSxcbiAgICBsYXN0VXBkYXRlZFRpbWU6IDAsXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVkdWNlcnMvc3luYy5yZWR1Y2VyLnRzeCIsImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IENhcmRVc2VyIH0gZnJvbSAnU2VydmljZXMnO1xuXG4vL1xuLy8gIEFjdGlvbiB0eXBlc1xuLy9cbmV4cG9ydCB0eXBlIFVzZXJBY3Rpb25UeXBlcyA9IFwiVVNFUi9TRVRfVVNFUlwiIHwgXCJVU0VSL0xJS0VfQ0FSRFwiO1xuZXhwb3J0IGludGVyZmFjZSBJVXNlckFjdGlvbiBleHRlbmRzIEFjdGlvbiB7XG4gICAgdHlwZTogdW5kZWZpbmVkIHwgVXNlckFjdGlvblR5cGVzO1xuICAgIHBheWxvYWQ/OiBhbnk7XG59XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eS1pbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJTdGF0ZSB7XG59XG5cbmV4cG9ydCBjb25zdCBVc2VyUmVkdWNlciA9XG4oc3RhdGU6IElVc2VyU3RhdGUgfCB7fSA9IGluaXRpYWxVc2VyU3RhdGUsIGFjdGlvbjogSVVzZXJBY3Rpb24pOiBJVXNlclN0YXRlIHwge30gPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlVTRVIvU0VUX1VTRVJcIjpcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZCBhcyBJVXNlclN0YXRlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsVXNlclN0YXRlID0ge307XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZWR1Y2Vycy91c2VyLnJlZHVjZXIudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IHsgQ2FyZERldGFpbCB9IGZyb20gJ0NvbXBvbmVudHMnO1xuaW1wb3J0IHsgQ2Fyb3VzZWwsIENhcmREZXRhaWxDb250YWluZXIgfSBmcm9tICdDb250YWluZXJzJztcbmltcG9ydCB7IElTdGF0ZSwgSVVJU3RhdGUsIFVJTGF5ZXJCb3R0b21UeXBlcywgVUlMYXllclRvcFR5cGVzLyosIElFcnJvclN0YXRlKi8gfSBmcm9tICdSZWR1Y2Vycyc7XG5pbXBvcnQgeyBVSUFjdGlvbnMsIElVSUFjdGlvbnMgfSBmcm9tICdBY3Rpb25zJztcbmltcG9ydCB7IG5hdmlnYWJsZSB9IGZyb20gJ0hPQyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5cbnR5cGUgTGF5b3V0UHJvcHMgPSB7IHVpOiBJVUlTdGF0ZS8qLCBlcnJvcjogSUVycm9yU3RhdGUqLywgdGVzdENhcmRzOiBDYXJkW10gfSAmIElVSUFjdGlvbnM7XG5leHBvcnQgY2xhc3MgTGF5b3V0Q2xhc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCB7fT4ge1xuICAgIHByaXZhdGUgbGFzdFRpbWVNZW51Q2xpY2tlZDogbnVtYmVyO1xuXG4gICAgcHVibGljIHJlbmRlcigpOiBhbnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltMYXlvdXRDbGFzc10gUmVuZGVyIFwiLCB0aGlzLnByb3BzLnVpKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMgJiYgdGhpcy5wcm9wcy51aSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbTGF5b3V0Q2xhc3NdIFJlbmRlciBPS1wiKTtcbiAgICAgICAgICAgIC8vIFRvcCBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICBjb25zdCB0b3BUeXBlOiBVSUxheWVyVG9wVHlwZXMgPSB0aGlzLnByb3BzLnVpLmNvbnRhaW5lcnNbMF0uY29tcG9uZW50IGFzIFVJTGF5ZXJUb3BUeXBlcztcbiAgICAgICAgICAgIGNvbnN0IHRvcFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0geyBoZWlnaHQ6IGAke3RoaXMucHJvcHMudWkuZGl2aWRlcn0lYCB9O1xuXG4gICAgICAgICAgICAvLyBCb3R0b20gY29uZmlndXJhdGlvblxuICAgICAgICAgICAgY29uc3QgYm90dG9tVHlwZTogVUlMYXllckJvdHRvbVR5cGVzID0gdGhpcy5wcm9wcy51aS5jb250YWluZXJzWzFdLmNvbXBvbmVudCBhcyBVSUxheWVyQm90dG9tVHlwZXM7XG4gICAgICAgICAgICBjb25zdCBib3R0b21TdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgaGVpZ2h0OiBgJHsxMDAgLSB0aGlzLnByb3BzLnVpLmRpdmlkZXJ9JWAgfTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJMYXlvdXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXlvdXRUb3BcIiBzdHlsZT17dG9wU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VG9wKHRvcFR5cGUpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheW91dEJvdHRvbVwiIHN0eWxlPXtib3R0b21TdHlsZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRCb3R0b20oYm90dG9tVHlwZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmdldFZpZGVvU3RhdHVzLCA1MDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuZ2V0VmlkZW9TdGF0dXMsIDUwMCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZpZGVvU3RhdHVzKCkge1xuICAgICAgICAvL2NvbnN0IG11cmwgPSBcImh0dHA6Ly9pdHYubWl0LXhwZXJ0cy5jb20vaGJidHZ0ZXN0L21lZGlhL2xpdmVzdHJlYW0ucGhwXCI7XG4gICAgICAgIGNvbnN0IG11cmwgPSBcImh0dHA6Ly9kZW1vLmRpdmUudHY6ODA5NS9iZDRmMjZiYS0wYzJhLTNhMTYtYmI3Yi03OWFhMDY2YWJmNDQtMzAwMFwiO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdmlkZWxlbTE6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlbzEnKTtcbiAgICAgICAgICAgIGlmICh2aWRlbGVtMS5wbGF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZWxlbTEub25QbGF5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoMSA9PSB2aWRlbGVtMS5wbGF5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlbGVtMS5vblBsYXlTdGF0ZUNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIjFcIikuaW5uZXJIVE1MID0gXCIxIEVSUk9SIFNUQVRVU1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYXlvdXRUb3BcIilbMF0gYXMgYW55KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICg2ID09IHZpZGVsZW0xLnBsYXlTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVsZW0xLm9uUGxheVN0YXRlQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiMVwiKS5pbm5lckhUTUwgPSBcIjYgRVJST1IgU1RBVFVTXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxheW91dFRvcFwiKVswXSBhcyBhbnkpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlkZWxlbTEuZGF0YSA9IG11cmw7XG4gICAgICAgICAgICAgICAgdmlkZWxlbTEucGxheSgxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHZpZGVvIGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiMVwiKS5pbm5lckhUTUwgPSBcIkNBVENIIEVSUk9SIFNUQVRVU1wiO1xuICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsYXlvdXRUb3BcIilbMF0gYXMgYW55KS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInBpbmtcIjtcbiAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGF5b3V0VG9wXCIpWzBdIGFzIGFueSkuc3R5bGUuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxheW91dFRvcFwiKVswXSBhcyBhbnkpLnN0eWxlLmZvbnRTaXplID0gXCI0MHB4XCI7XG4gICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxheW91dFRvcFwiKVswXSBhcyBhbnkpLmlubmVySFRNTCArPSBcIkVSUk9SOiBcIiArIGU7XG4gICAgICAgIH1cbiAgICAgICAgLypjb25zdCB2aWRlbGVtMjogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvMicpO1xuICAgICAgICBjb25zdCB2aWRlbGVtMzogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvMycpO1xuICAgICAgICB2aWRlbGVtMi5wbGF5KDEpO1xuICAgICAgICB2aWRlbGVtMy5wbGF5KDEpOyovXG4gICAgfVxuXG4gICAgcHVibGljIGdldFRvcChjb21wb25lbnRUeXBlOiBVSUxheWVyVG9wVHlwZXMpOiBKU1guRWxlbWVudCB8IG51bGwge1xuICAgICAgICBjb25zdCBzdHlsZWQ6IGFueSA9IFwicG9zaXRpb246IHJlbGF0aXZlOyBsZWZ0OiA3MDBweDsgdG9wOiAzMDBweDsgd2lkdGg6IDMyMHB4OyBoZWlnaHQ6IDE4MHB4OyBiYWNrZ3JvdW5kLWNvbG9yOnJlZDtcIjtcbiAgICAgICAgLypcbiAgICAgICAgaHR0cDovL2RlbW8uZGl2ZS50djo4MDc5XG5odHRwOi8vZGVtby5kaXZlLnR2OjgwOTUvYmQ0ZjI2YmEtMGMyYS0zYTE2LWJiN2ItNzlhYTA2NmFiZjQ0LTMwMDBcbmh0dHA6Ly9kZW1vLmRpdmUudHY6ODA5Ni9iZDRmMjZiYS0wYzJhLTNhMTYtYmI3Yi03OWFhMDY2YWJmNDQtMzAwMFxuKi9cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ2aWRlb0NvbnRhaW5lclwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogYDxvYmplY3QgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIgaWQ9XCJ2aWRlbzFcIiB0eXBlPVwidmlkZW8vbXBlZ1wiIHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7XCI+PC9vYmplY3Q+YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Qm90dG9tKGNvbXBvbmVudFR5cGU6IFVJTGF5ZXJCb3R0b21UeXBlcykge1xuICAgICAgICBzd2l0Y2ggKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0NBUk9VU0VMJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gPENhcm91c2VsIGtleT17YGNhcm91c2VsIyR7dGhpcy5sYXN0VGltZU1lbnVDbGlja2VkfWB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17MX1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIkNBUk9VU0VMXCIgZ3JvdXBOYW1lPVwiQ0FST1VTRUxcIiBpc0RlZmF1bHQ9e3RydWV9IC8+O1xuICAgICAgICAgICAgY2FzZSAnQ0FSRCc6XG4gICAgICAgICAgICAgICAgLypyZXR1cm4gPENhcmREZXRhaWwga2V5PXtcImNhcmREZXRhaWxcIn1cbiAgICAgICAgICAgICAgICAgICAgY2FyZD17dGhpcy5wcm9wcy51aS5jYXJkfVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ9e3RoaXN9XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9ezF9XG4gICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAvPjsqL1xuXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgY2FyZHM6IENhcmRbXSB8IHtjYXJkX2lkOiBzdHJpbmcsIHZlcnNpb24/OnN0cmluZ31bXSAgPSBbLi4udGhpcy5wcm9wcy51aS50ZXN0Q2FyZHMsIC4uLnRoaXMucHJvcHMuc2NlbmVDYXJkc107XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NhcmRzJywgY2FyZHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnVpLnRlc3RDYXJkcy5tYXAoKGNhcmQ6IENhcmQgfCB7IGNhcmRfaWQ6IHN0cmluZywgdmVyc2lvbj86IHN0cmluZyB9LCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPENhcmREZXRhaWxDb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRJZD17Y2FyZC5jYXJkX2lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbj17Y2FyZC52ZXJzaW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgY2FyZERldGFpbF8ke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2Q2xhc3M9XCJjYXJkRGV0YWlsTmF2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9ezF9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZmF1bHQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIC8+O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbTGF5b3V0XSBjb21wb25lbnRXaWxsTW91bnQ6XCIsIHRoaXMucHJvcHMpO1xuICAgICAgICB0aGlzLnByb3BzLnNldERpdmlkZXIodGhpcy5wcm9wcy51aS5kaXZpZGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHM6IFJlYWRvbmx5PExheW91dFByb3BzPiwgbmV4dFN0YXRlOiBSZWFkb25seTxMYXlvdXRQcm9wcz4pIHtcbiAgICAgICAgdGhpcy5sYXN0VGltZU1lbnVDbGlja2VkID0gRGF0ZS5ub3coKTtcbiAgICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSVN0YXRlKTogeyB1aTogSVVJU3RhdGUvKiwgZXJyb3I6IElFcnJvclN0YXRlKi8gfSA9PiB7XG4gICAgcmV0dXJuIHsgdWk6IHN0YXRlLnVpLCB9O1xufTtcblxuZXhwb3J0IGNvbnN0IExheW91dCA9IG5hdmlnYWJsZShjb25uZWN0KFxuICAgIG1hcFN0YXRlVG9Qcm9wcyxcbiAgICBVSUFjdGlvbnMsXG4pKExheW91dENsYXNzKSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb250YWluZXJzL2xheW91dC9sYXlvdXQuY29udGFpbmVyLnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgKiBhcyBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgY29ubmVjdCwgQ29tcG9uZW50RGVjb3JhdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5pbXBvcnQgeyBJTmF2U3RhdGUsIElTdGF0ZSB9IGZyb20gJ1JlZHVjZXJzJztcbmltcG9ydCB7IE5hdkFjdGlvbnMsIElOYXZBY3Rpb25zIH0gZnJvbSAnQWN0aW9ucyc7XG5pbXBvcnQgeyBLZXlNYXAgfSBmcm9tICdTZXJ2aWNlcyc7XG5cbih3aW5kb3cgYXMgYW55KS5jdXJyZW50TmF2SWQgPSAwO1xuXG5leHBvcnQgaW50ZXJmYWNlIElOYXZpZ2FibGVQcm9wcyB7XG4gICAgcGFyZW50OiBSZWFjdC5Db21wb25lbnQ8YW55ICYgSU5hdmlnYWJsZVByb3BzLCBhbnk+LFxuICAgIGlkeD86IG51bWJlciwgLy8gSWRlbnRpZmljYWRvciDDum5pY28gZGVsIG5hdmlnYWJsZVxuICAgIGNvbHVtbnM/OiBudW1iZXIsIC8vIE51bWVybyBkZSBjb2x1bW5hcyBxdWUgaGF5IGVuIGVsIGVudG9ybm8gZGVsIGVsZW1lbnRvIGFjdHVhbFxuICAgIHRhYkluZGV4PzogbnVtYmVyLCAvLyBPcmRlbiBkZSB0YWJ1bGFjacOzblxuICAgIGNsaWNrQWN0aW9uPzogYW55LFxuICAgIG5hbWU/OiBzdHJpbmcsIC8vIE5vbWJyZSBpZGVudGlmaWNhdGl2b1xuICAgIGlzRGVmYXVsdD86IGJvb2xlYW4sIC8vUGFyYSBxdWUgc2Ugc2VsZWNjaW9uZSBlc2UgZWxlbWVudG8gcG9yIGRlZmV0byBzaSBubyBoYXkgbmluZ8O6biBvdHJvICBlbiBlc2UgbGlzdGFkby5cbiAgICBncm91cE5hbWU/OiBzdHJpbmcsIC8vIE5vbWJyZSBkZSBncnVwbyBwZXJ0ZW5lY2llbnRlXG4gICAgb25Gb2N1c0NhbGxiYWNrPzogKCkgPT4gdm9pZDtcbiAgICBvbkZvY3VzQ2FsbGJhY2tSZXBlYXQ/OiBib29sZWFuO1xuICAgIGZvcmNlRmlyc3Q/OiBib29sZWFuO1xuICAgIGZvcmNlT3JkZXI/OiBudW1iZXI7XG4gICAgbW9kYWw/OiBib29sZWFuOyAvLyBQYXJhIGJsb3F1ZWFyIGxhIHNlbGVjY2nDs24gZGVudHJvIGRlIGVzdGUgbmF2aWdhYmxlXG4gICAgb25CZWZvcmVVbm1vdW50PzogKG5hdjogSU5hdmlnYWJsZSkgPT4gdm9pZDtcbiAgICBmb2N1c0NoYWluQ2xhc3M/OiBzdHJpbmc7XG4gICAgYWN0aXZlR3JvdXBDbGFzcz86IHN0cmluZztcbiAgICBpc1Njcm9sbGFibGU/OiBib29sZWFuOyAvLyBFbGVtZW50byBzb2JyZSBlbCBxdWUgc2UgaGFjZSB1biBzY3JvbGwuXG4gICAgbmF2Q2xhc3M/OiBzdHJpbmc7XG4gICAgc2Nyb2xsUGFkZGluZz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTmF2aWdhYmxlIHtcbiAgICBwYXJlbnRJZDogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG4gICAgY2hpbGRyZW46IG51bWJlcltdW107XG4gICAgY29sdW1ucz86IG51bWJlcjtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGdyb3VwTmFtZT86IHN0cmluZztcbiAgICBmb3JjZUZpcnN0PzogYm9vbGVhbjtcbiAgICBmb3JjZU9yZGVyPzogbnVtYmVyO1xuICAgIG1vZGFsPzogYm9vbGVhbjtcbiAgICBpc1Njcm9sbGFibGU/OiBib29sZWFuO1xufVxuXG50eXBlIEluamVjdGVkUHJvcHMgPSBJTmF2aWdhYmxlUHJvcHMgJiBJTmF2QWN0aW9ucyAmIElOYXZTdGF0ZTtcblxuY29uc3QgTmF2aWdhYmxlQ2xhc3MgPSA8VE9yaWdpbmFsUHJvcHMgZXh0ZW5kcyB7fT4oXG4gICAgSW5uZXJDb21wb25lbnQ6IChSZWFjdC5Db21wb25lbnRDbGFzczxUT3JpZ2luYWxQcm9wcz4gfFxuICAgICAgICBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8VE9yaWdpbmFsUHJvcHM+IHxcbiAgICAgICAgQ29tcG9uZW50RGVjb3JhdG9yPFRPcmlnaW5hbFByb3BzLCBhbnk+XG4gICAgKSxcbikgPT4ge1xuICAgIHR5cGUgUmVzdWx0UHJvcHMgPSBUT3JpZ2luYWxQcm9wcyAmIEluamVjdGVkUHJvcHM7XG4gICAgY2xhc3MgTmF2aWdhYmxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxSZXN1bHRQcm9wcywge30+IHtcbiAgICAgICAgLy8gY29uc3Qgc3RhdGU6SVVJU3RhdGUgPSB0aGlzLnN0b3JlXG4gICAgICAgIHB1YmxpYyBsYXN0TmF2TGV2ZWw6IElOYXZpZ2FibGU7XG4gICAgICAgIHB1YmxpYyB3cmFwcGVyOiBhbnk7XG4gICAgICAgIHB1YmxpYyBuYXZJZDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIHJlZkNvbXBvbmVudDogYW55O1xuICAgICAgICBwcml2YXRlIGZvY3VzVHJhY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnkpIHtcbiAgICAgICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMubmF2SWQgPSB0aGlzLmdldE5ld0lkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0TmV3SWQgPSAoKTogbnVtYmVyID0+ICsrKHdpbmRvdyBhcyBhbnkpLmN1cnJlbnROYXZJZDtcblxuICAgICAgICBwdWJsaWMgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0SWQoKSA9PT0gdGhpcy5wcm9wcy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1NlbGZTY3JvbGwodHJ1ZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVibGljIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHM6IGFueSkge1xuICAgICAgICAvLyAgICAgY29uc3QgdGhpc0lkID0gdGhpcy5nZXRJZCgpO1xuICAgICAgICAvLyAgICAgY29uc3QgbmF2ID0gdGhpcy5wcm9wcy5uYXZpZ2F0aW9uLmdldCh0aGlzSWQpO1xuICAgICAgICAvLyAgICAgaWYgKCF0aGlzLndyYXBwZXIpIHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIGlmIChuYXYuY2hpbGRyZW5bMF0ubGVuZ3RoID09PSAwICYmIHRoaXMucHJvcHMuc2VsZWN0ZWQgIT09IHRoaXNJZCAmJiBuZXh0UHJvcHMuc2VsZWN0ZWQgIT09IHRoaXNJZCkge1xuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCEgbGVhZiBhbmQgbm90IHByZXYgc2VsZWN0ZWRcIiwgdGhpc0lkKTtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gY29uc3QgdGhpc0lkID0gdGhpcy5nZXRJZCgpO1xuICAgICAgICAvLyBpZiAoIXRoaXMud3JhcHBlcikge1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH0gZWxzZSBpZiAobmV4dFByb3BzLnNlbGVjdGVkID09PSB0aGlzSWQpIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCEgY3VyclNlbGVjdGlvblwiLCB0aGlzSWQpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBpZiAobmV4dFByb3BzLmFjdGl2YXRlZCA9PT0gdGhpc0lkIHx8IHRoaXMucHJvcHMuYWN0aXZhdGVkID09PSB0aGlzSWQpIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCEgaXMgYWN0aXZhdGVkXCIsIHRoaXNJZCk7XG4gICAgICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBjb25zdCBuYXYgPSB0aGlzLnByb3BzLm5hdmlnYXRpb24uZ2V0KHRoaXNJZCk7XG4gICAgICAgIC8vIGlmIChuYXYuY2hpbGRyZW5bMF0ubGVuZ3RoID09PSAwICYmIHRoaXMucHJvcHMuc2VsZWN0ZWQgIT09IHRoaXNJZCkge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkISBsZWFmIGFuZCBub3QgcHJldiBzZWxlY3RlZFwiLCB0aGlzSWQpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBpZiAodGhpcy5pbkZvY3VzQ2hhaW4odGhpcy5wcm9wcy5zZWxlY3RlZE5hdikgfHwgdGhpcy5pbkZvY3VzQ2hhaW4obmV4dFByb3BzLnNlbGVjdGVkTmF2KSkge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkISBpcyBpbiBmb2N1cyBjaGFpblwiLCB0aGlzSWQpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gTUFZQkUsIE9OIEZVVFVSRSBTSE9VTEQgQkUgQUxXQVlTIFRSVUVcbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBJTklUIERBVEEgT04gTU9VTlQgQ09NUE9ORU5UXG4gICAgICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENvbXBvbmVudDogTmF2aWdhYmxlID0gdGhpcy5wcm9wcy5wYXJlbnQgYXMgTmF2aWdhYmxlO1xuICAgICAgICAgICAgbGV0IHBhcmVudElkOiBudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnByb3BzICYmIHBhcmVudENvbXBvbmVudC5wcm9wcy5pZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudElkID0gcGFyZW50Q29tcG9uZW50LnByb3BzLmlkeCBhcyBudW1iZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG9iajogSU5hdmlnYWJsZSA9IHtcbiAgICAgICAgICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1tdXSxcbiAgICAgICAgICAgICAgICBpZDogdGhpc0lkLFxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMucHJvcHMuY29sdW1ucyxcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0TmFtZTogdGhpcy5wcm9wcy5kZWZhdWx0TmFtZSxcbiAgICAgICAgICAgICAgICBncm91cE5hbWU6IHRoaXMucHJvcHMuZ3JvdXBOYW1lLFxuICAgICAgICAgICAgICAgIGZvcmNlRmlyc3Q6IHRoaXMucHJvcHMuZm9yY2VGaXJzdCxcbiAgICAgICAgICAgICAgICBmb3JjZU9yZGVyOiB0aGlzLnByb3BzLmZvcmNlT3JkZXIsXG4gICAgICAgICAgICAgICAgbW9kYWw6IHRoaXMucHJvcHMubW9kYWwsXG4gICAgICAgICAgICAgICAgaXNTY3JvbGxhYmxlOiB0aGlzLnByb3BzLmlzU2Nyb2xsYWJsZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEFkZCBub2RlIHRvIHN0YXRlXG4gICAgICAgICAgICB0aGlzLnByb3BzLmFkZE5vZGUob2JqKTtcblxuICAgICAgICAgICAgLy8gU2V0IGZvY3VzXG4gICAgICAgICAgICBpZiAodGhpc0lkID09PSB0aGlzLnByb3BzLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBkZWZhdWx0IGVsZW1lbnQgYnkgZGVmYXVsdE5hbWUgcHJvcCwgYWRkZWQgaW4gY29tcG9uZW50XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNldE5vZGVCeUlkKHRoaXNJZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZE5hdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQ0FTTyBERSBRVUUgRUwgUEFEUkUgRVNUw4kgU0VMRUNDSU9OQURPIEFMIE1PTlRBUiBFU1RFOlxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdlNlbGVjdGVkOiBJTmF2aWdhYmxlID0gdGhpcy5wcm9wcy5zZWxlY3RlZE5hdiBhcyBJTmF2aWdhYmxlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdjogSU5hdmlnYWJsZSA9IHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQodGhpc0lkKSBhcyBJTmF2aWdhYmxlO1xuICAgICAgICAgICAgICAgIGlmIChuYXZTZWxlY3RlZC5pZCA9PT0gbmF2LnBhcmVudElkICYmIG5hdlNlbGVjdGVkLmNoaWxkcmVuWzBdWzBdID09PSB0aGlzSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXROb2RlQnlJZCh0aGlzSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIC8vIEFOVEVTIERFIEJvcnJhciBlbCBub2RvLCBzaSB0aWVuZSBlbCBmb2NvLCBoYXkgcXVlIHBhc8OhcnNlbG8gYSAgb3RybyBjb24gZXN0YSBwcmVmZXJlbmNpYTpcbiAgICAgICAgICAgIC8vIGFsIHNpZ3VpZW50ZSwgc2lubywgYWwgYW50ZXJpb3IsIHNpbm8gYWwgcGFkcmVcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uQmVmb3JlVW5tb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkJlZm9yZVVubW91bnQodGhpcy5wcm9wcy5zZWxlY3RlZE5hdiBhcyBJTmF2aWdhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGVkTmF2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBDQVNPIERFIFFVRSBFTCBQQURSRSBFU1TDiSBTRUxFQ0NJT05BRE8gQUwgTU9OVEFSIEVTVEU6XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2U2VsZWN0ZWQ6IElOYXZpZ2FibGUgPSB0aGlzLnByb3BzLnNlbGVjdGVkTmF2IGFzIElOYXZpZ2FibGU7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF2OiBJTmF2aWdhYmxlID0gdGhpcy5wcm9wcy5uYXZpZ2F0aW9uLmdldCh0aGlzSWQpIGFzIElOYXZpZ2FibGU7XG4gICAgICAgICAgICAgICAgaWYgKG5hdlNlbGVjdGVkLmlkID09PSB0aGlzSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXROb2RlQnlJZChuYXYucGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlTm9kZSh0aGlzSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG9mZjogYm9vbGVhbiA9IHRoaXMucHJvcHMuc2VsZWN0ZWROYXYgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JvdXBOYW1lICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkTmF2Lmdyb3VwTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZTogYm9vbGVhbiA9IHRoaXNJZCA9PT0gdGhpcy5wcm9wcy5hY3RpdmF0ZWQ7XG4gICAgICAgICAgICBjb25zdCBjbGFzc2VzOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hdkFjdGl2ZTogYWN0aXZlLFxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbGFibGU6IHRoaXMucHJvcHMuaXNTY3JvbGxhYmxlLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubmF2Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW3RoaXMucHJvcHMubmF2Q2xhc3NdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmZvY3VzQ2hhaW5DbGFzcyAmJiB0aGlzLnByb3BzLmZvY3VzQ2hhaW5DbGFzcy5sZW5ndGgpICYmIHRoaXMucHJvcHMuc2VsZWN0ZWROYXYpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW3RoaXMucHJvcHMuZm9jdXNDaGFpbkNsYXNzXSA9IHRoaXMuaW5Gb2N1c0NoYWluKHRoaXMucHJvcHMuc2VsZWN0ZWROYXYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWN0aXZlR3JvdXBDbGFzcyAmJiB0aGlzLnByb3BzLmFjdGl2ZUdyb3VwQ2xhc3MubGVuZ3RoICYmICFvZmYpKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1t0aGlzLnByb3BzLmFjdGl2ZUdyb3VwQ2xhc3NdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2xhc3Nlc0FwcGxpZWQgPSBjbGFzc05hbWVzKGNsYXNzZXMpO1xuXG4gICAgICAgICAgICAvLyBjb25zdCB7IGtleSwgb25Gb2N1c0NhbGxiYWNrLCBvbkZvY3VzQ2FsbGJhY2tSZXBlYXQsIHBhcmVudCwgLi4uY2hpbGRQcm9wcyB9ID0gdGhpcy5wcm9wcyBhcyBhbnk7XG4gICAgICAgICAgICAvLyBOQVYgUFJPUFNcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBpZHgsIGNvbHVtbnMsIHRhYkluZGV4LCBjbGlja0FjdGlvbiwgaXNEZWZhdWx0LCAvKmdyb3VwTmFtZSwqLyBvbkZvY3VzQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgb25Gb2N1c0NhbGxiYWNrUmVwZWF0LCBmb3JjZUZpcnN0LCBmb3JjZU9yZGVyLCBtb2RhbCwgb25CZWZvcmVVbm1vdW50LFxuICAgICAgICAgICAgICAgIGZvY3VzQ2hhaW5DbGFzcywgbmF2Q2xhc3MsIC4uLm5vTmF2T3duUHJvcHMsXG4gICAgICAgICAgICB9ID0gdGhpcy5wcm9wcyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbiwgbGFzdEtleSwgc2VsZWN0ZWQsIHNlbGVjdGVkTmF2LCBsYXN0U2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVkLCBsYXN0QWN0aXZhdGVkLCBuYXZOYW1lcywgLi4uY2hpbGRQcm9wcyxcbiAgICAgICAgICAgIH0gPSBub05hdk93blByb3BzO1xuXG4gICAgICAgICAgICBjb25zdCBDaGlsZENvbXBvbmVudDogYW55ID0gSW5uZXJDb21wb25lbnQ7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiByZWY9eyhlbCkgPT4geyBpZiAoZWwpIHsgdGhpcy53cmFwcGVyID0gZWw7IH0gfX0gY2xhc3NOYW1lPXtjbGFzc2VzQXBwbGllZH0gdGFiSW5kZXg9ey0xfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e3RoaXMucHJvcHMua2V5ID8gdGhpcy5wcm9wcy5rZXkgKyAnX05hdicgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICBvbktleVVwPXt0aGlzLm9uS2V5UHJlc3N9XG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleVByZXNzRG93bn1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLm9uTW91c2VFbnRlcn1cbiAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRm9jdXMoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzSWQudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAvKmF1dG9Gb2N1cz17Zm9jdXN9Ki8+XG4gICAgICAgICAgICAgICAgICAgIDxDaGlsZENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmF2Q29tcG9uZW50ID0ge3RoaXMud3JhcHBlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlZkNvbXBvbmVudDogdHlwZW9mIElubmVyQ29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmQ29tcG9uZW50ID0gcmVmQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLmNoaWxkUHJvcHMgYXMgYW55IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeD17dGhpc0lkfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25Nb3VzZUVudGVyID0gKCk6IGFueSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aGlzSWQgPSB0aGlzLmdldElkKCk7XG4gICAgICAgICAgICBjb25zdCBuYXY6IElOYXZpZ2FibGUgfCB1bmRlZmluZWQgPSB0aGlzLnByb3BzLm5hdmlnYXRpb24uZ2V0KHRoaXNJZCk7XG4gICAgICAgICAgICBpZiAobmF2ICE9PSB1bmRlZmluZWQgJiYgbmF2LmNoaWxkcmVuWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0U2VsZWN0ZWQodGhpc0lkKTtcblxuICAgICAgICAgICAgICAgIC8vIENvbXByb2JhbW9zIHNpIHNlIGhhIGNvbXBsZXRhZG8gbGEgc2VsZWNjacOzblxuICAgICAgICAgICAgICAgIGlmICh0aGlzSWQgPT09IHRoaXMucHJvcHMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uQ2xpY2sgPSAoZTogYW55KTogYW55ID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoZS5idXR0b25zICE9PSAxICYmICFlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYXY6IElOYXZpZ2FibGUgfCB1bmRlZmluZWQgPSB0aGlzLnByb3BzLm5hdmlnYXRpb24uZ2V0KHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgICAgICBsZXQgZXZlbnRDb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5hdiAhPT0gdW5kZWZpbmVkICYmIG5hdi5jaGlsZHJlblswXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNldEFjdGl2YXRlZChuYXYuaWQpO1xuICAgICAgICAgICAgICAgIGV2ZW50Q29uc3VtZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xpY2tBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNsaWNrQWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXZlbnRDb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRDb25zdW1lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkZvY3VzID0gKGU6IGFueSk6IGFueSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG5hdjogSU5hdmlnYWJsZSB8IHVuZGVmaW5lZCA9IHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQoaWQpO1xuICAgICAgICAgICAgLy8gc2Nyb2xsIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWROYXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGVkTmF2LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvU2VsZlNjcm9sbCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxsIGNhbGxiYWNrIGlmIHNldFxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25Gb2N1c0NhbGxiYWNrICE9PSB1bmRlZmluZWQgJiYgKCF0aGlzLmZvY3VzVHJhY2tlZCB8fCB0aGlzLnByb3BzLm9uRm9jdXNDYWxsYmFja1JlcGVhdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzVHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMub25Gb2N1c0NhbGxiYWNrIGFzICgpID0+IHZvaWQpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiAnbGVhZicgbm9kZVxuICAgICAgICAgICAgaWYgKG5hdiAhPT0gdW5kZWZpbmVkICYmIG5hdi5jaGlsZHJlblswXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZXRJZCA9ICgpOiBudW1iZXIgPT4gdGhpcy5uYXZJZDtcblxuICAgICAgICBwdWJsaWMgb25LZXlQcmVzcyA9IChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbktleVByZXNzRG93biA9IChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBrbTogYW55ID0gS2V5TWFwO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2Uga20uVVA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubW92ZVZlcnRpY2FsKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBrbS5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tb3ZlSG9yaXpvbnRhbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBrbS5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1vdmVIb3Jpem9udGFsKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBrbS5ET1dOOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1vdmVWZXJ0aWNhbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBrbS5FTlRFUjpcbiAgICAgICAgICAgICAgICAgICAgKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmQ29tcG9uZW50KSBhcyBhbnkpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXByb2JhbW9zIHNpIGVsIGVsZW1lbnRvIGVzIHNjcm9sbGFibGUgbyBzaSBhbGd1bm8gZGUgc3VzIHBhZHJlcyBsbyBlcy5cbiAgICAgICAgcHJpdmF0ZSBpc1Njcm9sbGFibGUgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmF2OiBJTmF2aWdhYmxlIHwgdW5kZWZpbmVkID0gdGhpcy5wcm9wcy5zZWxlY3RlZE5hdjtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXYgIT09IHVuZGVmaW5lZCAmJiBuYXYucGFyZW50SWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2ICYmIG5hdi5pc1Njcm9sbGFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdiA9IHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQobmF2LnBhcmVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKG5hdiAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGlzU2VsZWN0ZWQgPSAoKTogYm9vbGVhbiA9PiB0aGlzLnByb3BzLnNlbGVjdGVkID09PSB0aGlzLmdldElkKCk7XG5cbiAgICAgICAgLy9Db2dlbW9zIGVsIGVsZW1lbnRvIHBhZHJlIHNjcm9sbGFibGUgbcOhcyBjZXJjYW5vLlxuICAgICAgICBwcml2YXRlIGdldFNjcm9sbGFibGVFbGVtZW50ID0gKCk6IEVsZW1lbnQgfCBudWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMud3JhcHBlcjtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgJiYgZWxlbWVudC5jbG9zZXN0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KCcuc2Nyb2xsYWJsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQ2FsY3VsYW1vcyBlbCBudWV2byBzY3JvbGwgcGFyYSBjdWFuZG8gZWwgZWxlbWVudG8gc2Nyb2xsYWJsZSBzZSBzYWxlIGRlIGxhIHBhbnRhbGxhLlxuICAgICAgICBwcml2YXRlIGNhbGN1bGF0ZVNjcm9sbCA9IChIVE1MTGlzdDogSFRNTEVsZW1lbnQgfCBudWxsLCBIVE1MU2Nyb2xsYWJsZTogSFRNTEVsZW1lbnQgfCBudWxsKTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2Nyb2xsYWJsZSgpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb25zdCBIVE1MU2Nyb2xsYWJsZTogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5nZXRTY3JvbGxhYmxlRWxlbWVudCgpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQgIT09IG51bGwgJiYgSFRNTFNjcm9sbGFibGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBIVE1MTGlzdDogSFRNTEVsZW1lbnQgfCBudWxsID0gUmVhY3RET00uZmluZERPTU5vZGUoSFRNTFNjcm9sbGFibGUpLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKEhUTUxMaXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJnaW46IG51bWJlciA9IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2Nyb2xsUGFkZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4gPSB0aGlzLnByb3BzLnNjcm9sbFBhZGRpbmcgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdDogbnVtYmVyID0gSFRNTFNjcm9sbGFibGUub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHQ6IG51bWJlciA9IEhUTUxTY3JvbGxhYmxlLm9mZnNldFdpZHRoICsgSFRNTFNjcm9sbGFibGUub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGg6IG51bWJlciA9IEhUTUxTY3JvbGxhYmxlLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudExlZnQ6IG51bWJlciA9IEhUTUxMaXN0Lm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFJpZ2h0OiBudW1iZXIgPSBIVE1MTGlzdC5vZmZzZXRXaWR0aCArIEhUTUxMaXN0Lm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFdpZHRoOiBudW1iZXIgPSBIVE1MTGlzdC5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHQgKyBtYXJnaW4gPiBwYXJlbnRSaWdodCArIEhUTUxMaXN0LnNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIGVsIGVsZW1lbnRvIHNlIHNhbGUgcG9yIGxhIGRlcmVjaGEuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSByaWdodCAtIHBhcmVudFdpZHRoICsgbWFyZ2luO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZnQgLSBtYXJnaW4gPCBIVE1MTGlzdC5zY3JvbGxMZWZ0ICsgcGFyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2kgZWwgZWxlbWVudG8gc2Ugc2FsZSBwb3IgbGEgaXpxdWllcmRhLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gbGVmdCAtIG1hcmdpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IEhUTUxMaXN0LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFamVjdXRhbW9zIGVsIHNjcm9sbCB0ZW5pZW5kbyBlbiBjdWVudGEgc2kgc2UgcXVpZXJlIGFzw61uY3JvbmFtZW50ZSBvIG5vIHkgYWwgZmluYWxcbiAgICAgICAgLy8gTGxhbWFtb3MgYSBsYSBmdW5jacOzbiBjYWxsYmFjayBxdWUgc2UgaGF5YSBwYXNhZG8gY29tbyBwYXLDoW1ldHJvLlxuICAgICAgICBwcml2YXRlIGRvU2VsZlNjcm9sbCA9IChhc3luYzogYm9vbGVhbiwgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja09rOiAoKSA9PiB2b2lkID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/ICgpID0+IDAgOiBjYWxsYmFjaztcbiAgICAgICAgICAgIGNvbnN0IEhUTUxJdGVtOiBIVE1MRWxlbWVudCB8IG51bGwgPSB0aGlzLmdldFNjcm9sbGFibGVFbGVtZW50KCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBIVE1MTGlzdDogSFRNTEVsZW1lbnQgfCBudWxsID0gSFRNTEl0ZW0gPyBSZWFjdERPTS5maW5kRE9NTm9kZShIVE1MSXRlbSkucGFyZW50RWxlbWVudCA6IG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbDogbnVtYmVyID0gdGhpcy5jYWxjdWxhdGVTY3JvbGwoSFRNTExpc3QsIEhUTUxJdGVtKTtcblxuICAgICAgICAgICAgaWYgKHNjcm9sbCA+PSAwICYmIEhUTUxMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBDdWFuZG8gZXMgYXPDrW5jcm9uYSBsYSBsbGFtYWRhLlxuICAgICAgICAgICAgICAgIGlmIChhc3luYyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEhUTUxMaXN0LnNjcm9sbExlZnQgPSBzY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tPaygpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDdWFuZG8gZXMgc8OtbmNyb25hLlxuICAgICAgICAgICAgICAgICAgICBIVE1MTGlzdC5zY3JvbGxMZWZ0ID0gc2Nyb2xsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tPaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrT2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaW5Gb2N1c0NoYWluKG5hdmlnYXRpb24/OiBJTmF2aWdhYmxlKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBjb25zdCBuYXYgPSBuYXZpZ2F0aW9uO1xuICAgICAgICAgICAgY29uc3QgbXlJZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGlmIChuYXYpIHtcbiAgICAgICAgICAgICAgICBpZiAobmF2LmlkID09PSBteUlkIHx8IG5hdi5wYXJlbnRJZCA9PT0gbXlJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hdi5wYXJlbnRJZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5Gb2N1c0NoYWluKHRoaXMucHJvcHMubmF2aWdhdGlvbi5nZXQobmF2LnBhcmVudElkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWFwSVVJU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJU3RhdGUpOiBJTmF2U3RhdGUgPT4gKHN0YXRlLm5hdik7XG4gICAgY29uc3QgY29ubmVjdGVkOiBSZWFjdC5Db21wb25lbnRDbGFzczxUT3JpZ2luYWxQcm9wcyAmIElOYXZpZ2FibGVQcm9wcyAmIHsgY2xhc3NOYW1lPzogYW55IH0vKiAmIElOYXZBY3Rpb25zICYgSU5hdlN0YXRlKi8+ID0gY29ubmVjdChcbiAgICAgICAgbWFwSVVJU3RhdGVUb1Byb3BzLCBOYXZBY3Rpb25zLCB1bmRlZmluZWQsIHsgd2l0aFJlZjogdHJ1ZSB9LFxuICAgICkoTmF2aWdhYmxlIGFzIGFueSkgYXMgYW55O1xuXG4gICAgcmV0dXJuIGNvbm5lY3RlZDtcbn07XG5cbmV4cG9ydCBjb25zdCBuYXZpZ2FibGUgPSBOYXZpZ2FibGVDbGFzcztcblxuZXhwb3J0IGRlZmF1bHQgbmF2aWdhYmxlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vSE9DL25hdmlnYWJsZS9uYXZpZ2FibGUuSE9DLnRzeCIsImltcG9ydCB7XG4gICAgQ2FyZCxcbiAgICBDYXJkQ29udGFpbmVyVHlwZUVudW0sXG4gICAgQ2FyZENvbnRhaW5lcixcbiAgICBSZWxhdGlvbk1vZHVsZSxcbiAgICBEdXBsZSxcbiAgICBTaW5nbGVcbn0gZnJvbSAnU2VydmljZXMnO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8taW50ZXJuYWwtbW9kdWxlXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tbmFtZXNwYWNlXG5jbGFzcyBIZWxwZXJDbGFzcyB7XG4gICAgcHVibGljIGdldENvbnRhaW5lciA9IChjYXJkOiBDYXJkLCB0eXBlOiBDYXJkQ29udGFpbmVyVHlwZUVudW0pOiBDYXJkQ29udGFpbmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgcmV0dXJuIGNhcmQuaW5mb1xuICAgICAgICAgICAgPyBjYXJkXG4gICAgICAgICAgICAgICAgLmluZm9cbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlbDogQ2FyZENvbnRhaW5lcikgPT4gZWwudHlwZSA9PT0gdHlwZSlbMF1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZWxhdGlvbiA9IChyZWxhdGlvbnM6IEFycmF5PFJlbGF0aW9uTW9kdWxlPiwgdmFsdWU6IHN0cmluZywgZmllbGQ6IHN0cmluZyA9ICd0eXBlJyk6IFJlbGF0aW9uTW9kdWxlIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbGF0aW9uc1xuICAgICAgICAgICAgPyByZWxhdGlvbnMuZmlsdGVyKChlbDogUmVsYXRpb25Nb2R1bGUgfCBhbnkpID0+IGVsW2ZpZWxkXSBhcyBhbnkgPT09IHZhbHVlKVswXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGN1dFRleHQgPSAodGV4dDogc3RyaW5nLCBjb3VudDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gY291bnQpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCArIDMgPj0gdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb3VudCAtPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKDAsIGNvdW50KSArICcuLi4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBIZWxwZXIgPSBuZXcgSGVscGVyQ2xhc3MoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NlcnZpY2VzL2hlbHBlci50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBtZW1vaXplZSBmcm9tICdtZW1vaXplZSc7XG5cbmltcG9ydCAqIGFzIEVTIGZyb20gJy4uL2Fzc2V0cy9FUy9sb2NhbGl6ZWRfdGV4dHMuanNvbic7XG5pbXBvcnQgKiBhcyBFTiBmcm9tICcuLi9hc3NldHMvRU4vbG9jYWxpemVkX3RleHRzLmpzb24nO1xuaW1wb3J0ICogYXMgREUgZnJvbSAnLi4vYXNzZXRzL0RFL2xvY2FsaXplZF90ZXh0cy5qc29uJztcblxudHlwZSBBdmFpbGFibGVMYW5ndWFnZXMgPSBcIkVTXCIgfCBcIkVOXCIgfCBcIkRFXCI7XG5cbmNsYXNzIExvY2FsaXplU2VydmljZSB7XG4gICAgcHJpdmF0ZSBsYW5ndWFnZTogQXZhaWxhYmxlTGFuZ3VhZ2VzID0gXCJFTlwiO1xuICAgIHByaXZhdGUgdGV4dHM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICAgIEVOLFxuICAgICAgICBFUyxcbiAgICAgICAgREUsXG4gICAgfTtcbiAgICBwdWJsaWMgc2V0TGFuZ3VhZ2UobGFuZzogQXZhaWxhYmxlTGFuZ3VhZ2VzKSB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0TGFuZ3VhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0TGl0ZXJhbChpZDogc3RyaW5nLCAuLi5zdWJzdGl0dXRpb25zOiBzdHJpbmdbXSk6IGFueSB7XG4gICAgICAgIC8vIGNhbiByZXR1cm4gc3RyaW5nLCBvciBtaXhlZCBhcnJheSB3aXRoIHN0cmluZ3MgYW5kIEpTWFxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dCA9IHRoaXMuZ2V0TGl0ZXJhbFdpdGhMYW5ndWFnZShpZCwgdGhpcy5sYW5ndWFnZSkgfHwgXCJcIjtcbiAgICAgICAgICAgIC8vIGxpbmUgYnJlYWtzXG4gICAgICAgICAgICBjb25zdCB0ZXh0QmxvY2tBcnJheTogYW55W10gPSBiYXNlVGV4dC5zcGxpdChcIlxcXFxuXCIpO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci1jb25zdFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHdyaXRlID0gMSwgbGVuZ3RoID0gdGV4dEJsb2NrQXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGV4dEJsb2NrQXJyYXkuc3BsaWNlKHdyaXRlLCAwLCA8YnIga2V5PXtpfSAvPik7XG4gICAgICAgICAgICAgICAgd3JpdGUgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEFycmF5OiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgdGV4dEJsb2NrQXJyYXkubWFwKCh0ZXh0QmxvY2s6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dEJsb2NrID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRBcnJheTogYW55W10gPSB0ZXh0QmxvY2suc3BsaXQoLyVbXFxkXStcXCRzLyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1YnN0aXR1dGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4TG9vcCA9IE1hdGgubWluKHRleHRBcnJheS5sZW5ndGggLSAxLCBzdWJzdGl0dXRpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCB3cml0ZSA9IDE7IGkgPCBtYXhMb29wOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJzdGl0dXRpb25zW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZ2V0TGl0ZXJhbChzdWJzdGl0dXRpb25zW2ldKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFycmF5LnNwbGljZSh3cml0ZSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BzdWJzdGl0dXRpb24gc3Vic3RpdHV0aW9uLSR7aSArIDF9ICR7aWR9LSR7c3Vic3RpdHV0aW9uc1tpXX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWluZGV4PXtgJHtpfWB9Pnt0ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4sXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGUgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRBcnJheS5wdXNoKHRleHRBcnJheSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0QXJyYXkucHVzaCh0ZXh0QmxvY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0QXJyYXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZ2V0TGl0ZXJhbFdpdGhMYW5ndWFnZShpZDogc3RyaW5nLCBsYW5ndWFnZTogQXZhaWxhYmxlTGFuZ3VhZ2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy50ZXh0c1tsYW5ndWFnZV1baWRdO1xuICAgICAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTWlzc2luZyBsaXRlcmFsIGluICR7bGFuZ3VhZ2V9LCAke2lkfWApO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBsaXRlcmFsIGluICR7bGFuZ3VhZ2V9LCAke2lkfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLnRleHRzLkVOW2lkXTtcbiAgICAgICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIk1pc3NpbmcgbGl0ZXJhbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyB0ZXh0VG9NYXJrdXBXaXRoTGluZUJyZWFrcyh0ZXh0OiBzdHJpbmcsIHNlcGFyYXRvcjogc3RyaW5nID0gXCJcXFxcblwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQuc3BsaXQoc2VwYXJhdG9yKS5tYXAoKGl0ZW0sIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGtleT17a2V5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgTG9jYWxpemVkID0gbmV3IExvY2FsaXplU2VydmljZSgpO1xuZXhwb3J0IGNvbnN0IExvY2FsaXplID0gbWVtb2l6ZWUoTG9jYWxpemVkLmdldExpdGVyYWwuYmluZChMb2NhbGl6ZWQpKTtcblxuKHdpbmRvdyBhcyBhbnkpLkxvY2FsaXplZCA9IExvY2FsaXplZDtcbih3aW5kb3cgYXMgYW55KS5Mb2NhbGl6ZSA9IExvY2FsaXplZC5nZXRMaXRlcmFsLmJpbmQoTG9jYWxpemVkKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NlcnZpY2VzL2xvY2FsaXplZF90ZXh0cy50c3giLCJleHBvcnQgKiBmcm9tICcuL3VpLmFjdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9uYXYuYWN0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL3N5bmMuYWN0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL3NvY2tldC5hY3Rpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vdXNlci5hY3Rpb25zJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FjdGlvbnMvaW5kZXgudHMiLCJtb2R1bGUuZXhwb3J0cyA9IHtcIlZFUlNJT05fT1VUREFURURfVElUTEVcIjpcIlwiLFwiVkVSU0lPTl9PVVREQVRFRF9URVhUXCI6XCJcIixcIlZFUlNJT05fREVQUkVDQVRFRF9USVRMRVwiOlwiXCIsXCJWRVJTSU9OX0RFUFJFQ0FURURfVEVYVFwiOlwiXCIsXCJHT1RfSVRcIjpcIlwiLFwiTk9XX1RJVExFXCI6XCJcIixcIk5PV19TVUJUSVRMRVwiOlwiXCIsXCJVUENPTUlOR19USVRMRVwiOlwiXCIsXCJHUklEX05PX0RBVEFfVEVYVFwiOlwiXCIsXCJUUllfREVNT1wiOlwiXCIsXCJNRU5VX1NFVFRJTkdTXCI6XCJcIixcIk1FTlVfREVNT1wiOlwiREVNT1wiLFwiTUVOVV9QUk9GSUxFXCI6XCJQRVJGSUxcIixcIk1FTlVfQ0FSRFNcIjpcIk1JUyBDQVJEU1wiLFwiTUVOVV9TWU5DXCI6XCJESVZFIElOXCIsXCJTRUVfSU5GT1wiOlwiXCIsXCJUVkdSSURfQlJPQURDQVNUX1RJVExFMVwiOlwiQWhvcmEgZW4gVFZcIixcIlRWR1JJRF9CUk9BRENBU1RfVElUTEUyXCI6XCJUZXN0IGRlIHRyYWR1Y2Npw7NuXCIsXCJUVkdSSURfVVBDT01JTkdfVElUTEVcIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9OT19DT05URU5UXCI6XCJcIixcIlRWR1JJRF9CUk9BRENBU1RfTk9fQ09OVEVOVF9UUllfREVNT1wiOlwiXCIsXCJUVkdSSURfVVBDT01JTkdfTk9fQ09OVEVOVFwiOlwiXCIsXCJUVkdSSURfVVBDT01JTkdfTk9fQ09OVEVOVF9UUllfREVNT1wiOlwiXCIsXCJHRU5FUklDX0VSUk9SX1RJVExFXCI6XCJcIixcIkdFTkVSSUNfRVJST1JfVEVYVFwiOlwiXCIsXCJFWElUX1RJVExFXCI6XCJcIixcIkVYSVRfVEVYVFwiOlwiXCIsXCJFWElUX0JVVFRPTl9PS1wiOlwiXCIsXCJORVRXT1JLX0VSUk9SX1RJVExFXCI6XCJcIixcIk5FVFdPUktfRVJST1JfVEVYVFwiOlwiXCIsXCJUVkdSSURfRU1QVFlfQlJPQURDQVNUX1RJVExFMVwiOlwiXCIsXCJUVkdSSURfRU1QVFlfQlJPQURDQVNUX1RJVExFMlwiOlwiXCIsXCJUVkdSSURfRU1QVFlfVVBDT01JTkdfVFhUMVwiOlwiXCIsXCJUVkdSSURfRU1QVFlfVVBDT01JTkdfVFhUMlwiOlwiXCIsXCJUVkdSSURfRU1QVFlfV0FUQ0hfT1VSX0RFTU9cIjpcIlwiLFwiU0VMRUNUT1JfQUxMX0NBVEVHT1JJRVNcIjpcIlwiLFwiU0VMRUNUT1JfQ0FTVF9DSEFSQUNURVJcIjpcIlwiLFwiU0VMRUNUT1JfRkFTSElPTl9CRUFVVFlcIjpcIlwiLFwiU0VMRUNUT1JfTVVTSUNcIjpcIlwiLFwiU0VMRUNUT1JfUExBQ0VTX1RSQVZFTFwiOlwiXCIsXCJTRUxFQ1RPUl9DQVJTX01PUkVcIjpcIlwiLFwiU0VMRUNUT1JfRlVOX0ZBQ1RTXCI6XCJcIixcIlNFTEVDVE9SX09USEVSX0NBVEVHT1JJRVNcIjpcIlwiLFwiQklPR1JBUEhZXCI6XCJCaW9ncmFmw61hXCIsXCJDT01FRFlcIjpcIkNvbWVkaWFcIixcIkNSSU1FXCI6XCJDcmltZW5cIixcIkFDVElPTlwiOlwiQWNjacOzblwiLFwiVEhSSUxMRVJcIjpcIlN1c3BlbnNlXCIsXCJBRFZFTlRVUkVcIjpcIkF2ZW50dXJhc1wiLFwiU0NJX0ZJXCI6XCJDaWVuY2lhIGZpY2Npw7NuXCIsXCJGQU5UQVNZXCI6XCJGYW50YXPDrWFcIixcIkRSQU1BXCI6XCJEcmFtYVwiLFwiUk9NQU5DRVwiOlwiUm9tw6FudGljYVwiLFwiVEVSUk9SXCI6XCJUZXJyb3JcIixcIkhJU1RPUllcIjpcIkhpc3TDs3JpY2FcIixcIldFU1RFUk5cIjpcIldlc3Rlcm5cIixcIldBUlwiOlwiQsOpbGljYXNcIixcIk1JU1RFUllcIjpcIk1pc3RlcmlvXCIsXCJGQU1JTFlcIjpcIkZhbWlsYXJcIixcIlNQT1JUXCI6XCJEZXBvcnRlXCIsXCJNVVNJQ1wiOlwiTcO6c2ljYVwiLFwiTVVTSUNBTFwiOlwiTXVzaWNhbFwiLFwiQU5JTUFUSU9OXCI6XCJBbmltYWNpw7NuXCIsXCJET0NVTUVOVEFSWVwiOlwiRG9jdW1lbnRhbFwiLFwiRklMTV9OT0lSXCI6XCJDaW5lIG5lZ3JvXCIsXCJORVdTXCI6XCJOb3RpY2lhc1wiLFwiS0lEU1wiOlwiSW5mYW50aWxcIixcIlRBTEtfU0hPV1wiOlwiRW50cmV2aXN0YXNcIixcIkNVUlJFTlRfU0NFTkVcIjpcIlwiLFwiUElaWkFfT1JfUE9QX0NPUk5cIjpcIlwiLFwiV0VfUkVDT01NRU5EXCI6XCJcIixcIk1BS0VfUE9QX0NPUk5cIjpcIlwiLFwiTElHSFRTX0NBTUVSQVwiOlwiXCIsXCJXRV9BUkVfTE9BRElOR1wiOlwiXCIsXCJFVkVSWVRISU5HX0VORFwiOlwiXCIsXCJNT1ZJRV9PRkZcIjpcIlwiLFwiTU9WSUVfRU5ERURcIjpcIlwiLFwiT0tBWVwiOlwiXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVcIjpcIlwiLFwiQ0FST1VTRUxfQ0FSRF9TQVZFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRF9BRERFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRFNfQURERURcIjpcIlwiLFwiVFZHUklEX0NPTU1FUkNJQUxfVFhUXCI6XCJcIixcIlRWR1JJRF9UT0RBWVwiOlwiXCIsXCJUVkdSSURfVE9NT1JST1dcIjpcIlwiLFwiRVhJVF9CVVRUT05fQ0FOQ0VMXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfVElUTEVcIjpcIlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19URVhUXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfQlROX1NDQU5cIjpcIlwiLFwiU0NBTl9GSVJTVF9USU1FX1RJVExFXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9URVhUXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9USVRMRVwiOlwiXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RFWFRcIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzFcIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzJcIjpcIlwiLFwiU0NBTl9IRUxQX1NVR0dFU1RJT05cIjpcIlwiLFwiU0NBTl9IRUxQX1BMRUFTRV9DT05UQUNUXCI6XCJcIixcIlNDQU5fSEVMUF9FTUFJTFwiOlwiXCIsXCJTQ0FOX0hFTFBfU1VCSkVDVFwiOlwiXCIsXCJTQ0FOX0hFTFBfVkVSU0lPTlwiOlwiXCIsXCJSRUdJT05fU0VUX1RJVExFXCI6XCJcIixcIlJFR0lPTl9TRVRfVEVYVFwiOlwiXCIsXCJSRUdJT05fU0VUX1NQQUlOXCI6XCJcIixcIlJFR0lPTl9TRVRfR0VSTUFOWVwiOlwiXCIsXCJSRUdJT05fU0VUX1VTQVwiOlwiXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVElUTEVcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX1RFWFRcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX0JUTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19NT1ZJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRVJJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19QRVJTT05cIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUkFDVEVSXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1ZFSElDTEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfRkFTSElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT0NBVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19ISVNUT1JJQ1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19UUklWSUFcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfUVVPVEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfT1NUXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0hPTUVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfVEVDSE5PTE9HWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfU09OR1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT09LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1RSQUlMRVJcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfV0VBUE9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0xFSVNVUkVfU1BPUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfSEVBTFRIX0JFQVVUWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19GT09EX0RSSU5LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0ZBVU5BX0ZMT1JBXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0JVU0lORVNTXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1JFRkVSRU5DRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19WSURFT0NMSVBcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUFRFUlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BQ1RJT05fRU1PVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRUVfTU9SRVwiOlwiXCIsXCJTT1VSQ0VcIjpcIlwiLFwiU1BFQ1NcIjpcIlwiLFwiQkFTSUNfREFUQVwiOlwiXCIsXCJBV0FSRFNcIjpcIlwiLFwiV0lOTkVSX1NJTkdVTEFSXCI6XCJQcmVtaW9cIixcIldJTk5FUl9QTFVSQUxcIjpcIlByZW1pb3NcIixcIk5PTUlORUVfU0lOR1VMQVJcIjpcIk5vbWluYWNpw7NuXCIsXCJOT01JTkVFX1BMVVJBTFwiOlwiTm9taW5hY2lvbmVzXCIsXCJQT0NLRVRfVElUTEVfMVwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMlwiOlwiXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVElUTEVcIjpcIlwiLFwiUE9DS0VUX05PX0NBUkRTX1RYVFwiOlwiXCIsXCJHQUxMRVJZXCI6XCJHYWxlcsOtYVwiLFwiTE9DQVRJT05cIjpcIkxvY2FsaXphY2nDs25cIixcIkNVUklPU0lUWV9USVRMRVwiOlwiXCIsXCJPVkVSVklFV1wiOlwiXCJ9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvRVMvbG9jYWxpemVkX3RleHRzLmpzb25cbi8vIG1vZHVsZSBpZCA9IDU4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcIlZFUlNJT05fT1VUREFURURfVElUTEVcIjpcIldhcm5pbmdcIixcIlZFUlNJT05fT1VUREFURURfVEVYVFwiOlwiVGhlIHZlcnNpb24geW91J3ZlIGluc3RhbGxlZCBpcyBvdXRkYXRlZC5cXFxcbllvdSBuZWVkIHRvIHVwZ3JhZGUgbm93IHRvIHRoZSBsYXRlc3QgdmVyc2lvbiBpbiBvcmRlciB0byBjb250aW51ZSBlbmpveWluZyBEaXZlLlwiLFwiVkVSU0lPTl9ERVBSRUNBVEVEX1RJVExFXCI6XCJXYXJuaW5nXCIsXCJWRVJTSU9OX0RFUFJFQ0FURURfVEVYVFwiOlwiVGhlIHZlcnNpb24geW91J3ZlIGluc3RhbGxlZCBpcyBvdXRkYXRlZC5cXFxcbkEgbmV3IHZlcnNpb24gb2YgRGl2ZSBpcyBhdmFpbGFibGUgZm9yIHlvdS5cXFxcbllvdSBjYW4gdXBkYXRlIG9yIGNvbnRpbnVlIHdpdGggYW4gb2xkIHZlcnNpb24gb2YgRGl2ZS5cIixcIkdPVF9JVFwiOlwiR09UIElUXCIsXCJOT1dfVElUTEVcIjpcIk5PVyBPTiBUVlwiLFwiTk9XX1NVQlRJVExFXCI6XCJXaGF0IHdpbGwgeW91IGRpc2NvdmVyP1wiLFwiVVBDT01JTkdfVElUTEVcIjpcIlVQQ09NSU5HXCIsXCJHUklEX05PX0RBVEFfVEVYVFwiOlwiQXQgdGhlIG1vbWVudCwgdGhlcmUgaXMgbm90aGluZyBhdmFpbGFibGUgdG8gc3luYyB3aXRoIERpdmUuIEhhdmUgeW91IHRyaWVkIHRoZSBkZW1vP1wiLFwiVFJZX0RFTU9cIjpcIlRSWSBERU1PXCIsXCJNRU5VX1NFVFRJTkdTXCI6XCJTRVRUSU5HU1wiLFwiTUVOVV9ERU1PXCI6XCJERU1PXCIsXCJNRU5VX1BST0ZJTEVcIjpcIlBST0ZJTEVcIixcIk1FTlVfQ0FSRFNcIjpcIk1ZIENBUkRTXCIsXCJNRU5VX1NZTkNcIjpcIkRJVkUgSU5cIixcIlNFRV9JTkZPXCI6XCJTRUUgSU5GT1wiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTFcIjpcIk5vdyBvbiBUVlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTJcIjpcIldoYXQgd2lsbCB5b3UgZGlzY292ZXI/XCIsXCJUVkdSSURfVVBDT01JTkdfVElUTEVcIjpcIlVwY29taW5n4oCmXCIsXCJUVkdSSURfQlJPQURDQVNUX05PX0NPTlRFTlRcIjpcIkF0IHRoZSBtb21lbnQsIHRoZXJlIGlzIG5vdGhpbmcgYXZhaWxhYmxlIHRvIHN5bmMgd2l0aCBEaXZlLiBIYXZlIHlvdSB0cmllZCB0aGUgZGVtbz9cIixcIlRWR1JJRF9CUk9BRENBU1RfTk9fQ09OVEVOVF9UUllfREVNT1wiOlwiVHJ5IGRlbW9cIixcIlRWR1JJRF9VUENPTUlOR19OT19DT05URU5UXCI6XCJObyBjb250ZW50IGF2YWlsYWJsZSBvbiBvdXIgZ3VpZGUuIFRyeSBhZ2FpbiBsYXRlciBvciB0cnkgb3VyIGRlbW8uXCIsXCJUVkdSSURfVVBDT01JTkdfTk9fQ09OVEVOVF9UUllfREVNT1wiOlwiVHJ5IGRlbW9cIixcIkdFTkVSSUNfRVJST1JfVElUTEVcIjpcIsKhSE9VU1RPTiEgV0XigJlWRSBBIFBST0JMRU3igKZcIixcIkdFTkVSSUNfRVJST1JfVEVYVFwiOlwiV2VyZSBoYXZpbmcgc29tZSBpc3N1ZXMgd2l0aCB0aGUgYXBwLiBXZeKAmXJlIHdvcmtpbmcgb24gaXQgdG8gZml4IGl0LCBwbGVhc2UgdHJ5IGFnYWluIG9yIGNvbWUgYmFjayBhZ2FpbiBpbiBhIGZldyBtaW51dGVzLlwiLFwiRVhJVF9USVRMRVwiOlwiUExFQVNFLCBET07igJlUIEdPLlwiLFwiRVhJVF9URVhUXCI6XCJZb3VcXFxcJ3JlIGFib3V0IHRvIGxlYXZlIERpdmUuXFxcXG5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZXhpdD9cIixcIkVYSVRfQlVUVE9OX09LXCI6XCJZRVMsIEVYSVRcIixcIk5FVFdPUktfRVJST1JfVElUTEVcIjpcIklOVEVSTkVUIENPTk5FQ1RJT04gUkVRVUlSRURcIixcIk5FVFdPUktfRVJST1JfVEVYVFwiOlwiTm8gY29ubmVjdGlvbiBkZXRlY3RlZC4gXFxcXG5HbyB0byBzZXR0aW5ncyBhbmQgdmVyaWZ5IGlmIHlvdXIgSW50ZXJuZXQgaXMgd29ya2luZy5cIixcIlRWR1JJRF9FTVBUWV9CUk9BRENBU1RfVElUTEUxXCI6XCJUaGlzIGlzIGF3a3dhcmRcIixcIlRWR1JJRF9FTVBUWV9CUk9BRENBU1RfVElUTEUyXCI6XCJXaGF0IGNhbiBJIGRvP1wiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDFcIjpcIlRoZXJlJ3Mgbm8gY29udGVudCByaWdodCBub3cuXFxcXG5DaGVjayBsYXRlciBvciBlbmpveSAlMSRzLlwiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDJcIjpcIkRpdmUgb24geW91ciBwaG9uZVwiLFwiVFZHUklEX0VNUFRZX1dBVENIX09VUl9ERU1PXCI6XCJXYXRjaFxcXFxub3VyXFxcXG5kZW1vXCIsXCJTRUxFQ1RPUl9BTExfQ0FURUdPUklFU1wiOlwiQWxsIGNhdGVnb3JpZXNcIixcIlNFTEVDVE9SX0NBU1RfQ0hBUkFDVEVSXCI6XCJDYXN0ICYgQ2hhcmFjdGVyXCIsXCJTRUxFQ1RPUl9GQVNISU9OX0JFQVVUWVwiOlwiRmFzaGlvbiAmIEJlYXV0eVwiLFwiU0VMRUNUT1JfTVVTSUNcIjpcIk11c2ljXCIsXCJTRUxFQ1RPUl9QTEFDRVNfVFJBVkVMXCI6XCJQbGFjZXMgJiBUcmF2ZWxcIixcIlNFTEVDVE9SX0NBUlNfTU9SRVwiOlwiQ2FycyAmIE1vcmVcIixcIlNFTEVDVE9SX0ZVTl9GQUNUU1wiOlwiRnVuIGZhY3RzXCIsXCJTRUxFQ1RPUl9PVEhFUl9DQVRFR09SSUVTXCI6XCJDYXRlZ29yaWVzXCIsXCJCSU9HUkFQSFlcIjpcIkJpb2dyYXBoeVwiLFwiQ09NRURZXCI6XCJDb21lZHlcIixcIkNSSU1FXCI6XCJDcmltZVwiLFwiQUNUSU9OXCI6XCJBY3Rpb25cIixcIlRIUklMTEVSXCI6XCJUaHJpbGxlclwiLFwiQURWRU5UVVJFXCI6XCJBZHZlbnR1cmVcIixcIlNDSV9GSVwiOlwiU2NpLUZpXCIsXCJGQU5UQVNZXCI6XCJGYW50YXN5XCIsXCJEUkFNQVwiOlwiRHJhbWFcIixcIlJPTUFOQ0VcIjpcIlJvbWFuY2VcIixcIlRFUlJPUlwiOlwiSG9ycm9yXCIsXCJISVNUT1JZXCI6XCJIaXN0b3J5XCIsXCJXRVNURVJOXCI6XCJXZXN0ZXJuXCIsXCJXQVJcIjpcIldhclwiLFwiTUlTVEVSWVwiOlwiTXlzdGVyeVwiLFwiRkFNSUxZXCI6XCJGYW1pbHlcIixcIlNQT1JUXCI6XCJTcG9ydFwiLFwiTVVTSUNcIjpcIk11c2ljXCIsXCJNVVNJQ0FMXCI6XCJNdXNpY2FsXCIsXCJBTklNQVRJT05cIjpcIkFuaW1hdGlvblwiLFwiRE9DVU1FTlRBUllcIjpcIkRvY3VtZW50YXJ5XCIsXCJGSUxNX05PSVJcIjpcIkZpbG0tTm9pclwiLFwiTkVXU1wiOlwiTmV3c1wiLFwiS0lEU1wiOlwiS2lkc1wiLFwiVEFMS19TSE9XXCI6XCJUYWxrLVNob3dcIixcIkNVUlJFTlRfU0NFTkVcIjpcIkN1cnJlbnQgU2NlbmVcIixcIlBJWlpBX09SX1BPUF9DT1JOXCI6XCJQSVpaQSBPUiBQT1AgQ09STj9cIixcIldFX1JFQ09NTUVORFwiOlwiVGhlIHNob3cgeW914oCZcmUgd2F0Y2hpbmcgaXMgb24gYWR2ZXJ0aXNpbmcsIHdlIHJlY29tbWVuZDpcIixcIk1BS0VfUE9QX0NPUk5cIjpcIjEuIE1ha2UgbW9yZSBQb3AgQ29ybi5cXG4yLiBBbmQgYnJvd3NlIHRoZSBjb250ZW50IHdoaWxlIHdl4oCZcmUgb24gYSBicmVha1wiLFwiTElHSFRTX0NBTUVSQVwiOlwiTElHSFRTLCBDQU1FUkEgQU5EIEFDVElPTlwiLFwiV0VfQVJFX0xPQURJTkdcIjpcIldlJ3JlIGxvYWRpbmcgdGhlIGNvbnRlbnQgeW91J3JlIHdhdGNoaW5nIG9uIFRWLlwiLFwiRVZFUllUSElOR19FTkRcIjpcIkVWRVJZVEhJTkcgSEFTIEFOIEVORFwiLFwiTU9WSUVfT0ZGXCI6XCJUaGUgYnJvYWRjYXN0IGhhcyBiZWVuIGludGVycnVwdGVkLlwiLFwiTU9WSUVfRU5ERURcIjpcIlRoZSBtb3ZpZSBoYXMgZW5kZWRcIixcIk9LQVlcIjpcIk9LQVlcIixcIkNBUk9VU0VMX0NBUkRfU0FWRVwiOlwiU2F2ZSBmb3IgbGF0ZXJcIixcIkNBUk9VU0VMX0NBUkRfU0FWRURcIjpcIlNhdmVkXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRF9BRERFRFwiOlwiMSBuZXcgY2FyZCBoYXMgYmVlbiBhZGRlZCFcIixcIkNBUk9VU0VMX05FV19DQVJEU19BRERFRFwiOlwiJTEkZCBuZXcgY2FyZHMgaGF2ZSBiZWVuIGFkZGVkIVwiLFwiVFZHUklEX0NPTU1FUkNJQUxfVFhUXCI6XCJFbmpveSBEaXZlIG9uIHlvdXIgcGhvbmVcIixcIlRWR1JJRF9UT0RBWVwiOlwiVG9kYXlcIixcIlRWR1JJRF9UT01PUlJPV1wiOlwiVG9tb3Jyb3dcIixcIkVYSVRfQlVUVE9OX0NBTkNFTFwiOlwiTk8sIEkgRE9OJ1QgV0FOVCBUT1wiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19USVRMRVwiOlwiUkUtU0NBTiBUViBDSEFOTkVMU1wiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19URVhUXCI6XCJUaGlzIGNoYW5uZWwgaXMgbm90IHNldCB5ZXQsIHBsZWFzZSByZS1zY2FuIHRvIGFkZCB0aGUgbmV3IGNoYW5uZWxzLlxcXFxuV2UgbmVlZCB0aGlzIHRvIHNldCB0aGUgVFYgc2lnbmFsLlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19CVE5fU0NBTlwiOlwiT0ssIFNUQVJUIFNDQU5cIixcIlNDQU5fRklSU1RfVElNRV9USVRMRVwiOlwiTEVU4oCZUyBTRVQgVEhFIFRWIFNJR05BTFwiLFwiU0NBTl9GSVJTVF9USU1FX1RFWFRcIjpcIldlIG5lZWQgdG8gc2NhbiB0aGUgY2hhbm5lbHMgdG8gc2V0IHRoZSBUViBzaWduYWwuXFxcXG5Zb3XigJlsbCBiZSBhYmxlIHRvIHJlLXNjYW4gdGhlIGNoYW5uZWxzIGluIHlvdXIgbWVudSBpZiB5b3Ugd2FudCB0byBhZGQgbW9yZS5cIixcIlNDQU5fRklSU1RfVElNRV9CVE5cIjpcIk9LLCBTVEFSVCBTQ0FOXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RJVExFXCI6XCJSRS1TQ0FOIFRWIENIQU5ORUxTXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RFWFRcIjpcIlJlLXNjYW4gdG8gYWRkIG5ldyBjaGFubmVscy5cXFxcbldlIG5lZWQgdGhpcyB0byBzZXQgdGhlIFRWIHNpZ25hbC5cIixcIlNDQU5fSEVMUF9SRVNDQU5fQlROXCI6XCJPSywgU1RBUlQgU0NBTlwiLFwiU0NBTl9IRUxQX1RJVExFXzFcIjpcIlNFVFRJTkdTXCIsXCJTQ0FOX0hFTFBfVElUTEVfMlwiOlwiU2V0IHlvdXIgRGl2ZSBleHBlcmllbmNlXCIsXCJTQ0FOX0hFTFBfU1VHR0VTVElPTlwiOlwiU29tZXRoaW5nIHdyb25nPyBBbnkgc3VnZ2VzdGlvbnM/XCIsXCJTQ0FOX0hFTFBfUExFQVNFX0NPTlRBQ1RcIjpcIkZvciBjdXN0b21lciBzdXBwb3J0IHBsZWFzZSBjb250YWN0OlwiLFwiU0NBTl9IRUxQX0VNQUlMXCI6XCJzdXBwb3J0QGRpdmUudHZcIixcIlNDQU5fSEVMUF9TVUJKRUNUXCI6XCJXcml0ZSBUViBpbiB0aGUgc3ViamVjdCBsaW5lIGFuZCB3ZSB3aWxsIGNvbnRhY3QgeW91IGFzIHNvb24gYXMgcG9zc2libGUuXCIsXCJTQ0FOX0hFTFBfVkVSU0lPTlwiOlwiRElWRSB2JTEkc1wiLFwiUkVHSU9OX1NFVF9USVRMRVwiOlwiRklSU1QgVEhJTkdTLCBGSVJTVOKAplwiLFwiUkVHSU9OX1NFVF9URVhUXCI6XCJXZSBuZWVkIHRvIGtub3cgd2hlcmUgeW91IGFyZSB0byBzaG93IHlvdSB0aGUgVFYgY29udGVudHMgYXZhaWxhYmxlIHRvIHN5bmMgd2l0aC5cIixcIlJFR0lPTl9TRVRfU1BBSU5cIjpcIlNQQUlOXCIsXCJSRUdJT05fU0VUX0dFUk1BTllcIjpcIkdFUk1BTllcIixcIlJFR0lPTl9TRVRfVVNBXCI6XCJVU0FcIixcIlRWR1JJRF9DSEFOR0VfQ0hBTk5FTF9USVRMRVwiOlwiQ0hBTk5FTCBDSEFOR0VcIixcIlRWR1JJRF9DSEFOR0VfQ0hBTk5FTF9URVhUXCI6XCJQbGVhc2UgY29uZmlybSB0aGF0IHlvdVxcXFwndmUgY2hhbmdlZCB0aGUgY2hhbm5lbCBzbyB0aGF0IHdlIGNhbiBsb2FkIHRoZSBjb250ZW50IG9mICUxJHMuXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfQlROXCI6XCJDT05GSVJNXCIsXCJDQVJPVVNFTF9BTElBU19NT1ZJRVwiOlwiTW92aWVcIixcIkNBUk9VU0VMX0FMSUFTX1NFUklFXCI6XCJTZXJpZVwiLFwiQ0FST1VTRUxfQUxJQVNfUEVSU09OXCI6XCJQZXJzb25cIixcIkNBUk9VU0VMX0FMSUFTX0NIQVJBQ1RFUlwiOlwiQ2hhcmFjdGVyXCIsXCJDQVJPVVNFTF9BTElBU19WRUhJQ0xFXCI6XCJWZWhpY2xlXCIsXCJDQVJPVVNFTF9BTElBU19GQVNISU9OXCI6XCJGYXNoaW9uXCIsXCJDQVJPVVNFTF9BTElBU19MT0NBVElPTlwiOlwiTG9jYXRpb25cIixcIkNBUk9VU0VMX0FMSUFTX0hJU1RPUklDXCI6XCJIaXN0b3JpY1wiLFwiQ0FST1VTRUxfQUxJQVNfVFJJVklBXCI6XCJUcml2aWFcIixcIkNBUk9VU0VMX0FMSUFTX1FVT1RFXCI6XCJRdW90ZVwiLFwiQ0FST1VTRUxfQUxJQVNfT1NUXCI6XCJPU1RcIixcIkNBUk9VU0VMX0FMSUFTX0hPTUVcIjpcIkhvbWVcIixcIkNBUk9VU0VMX0FMSUFTX1RFQ0hOT0xPR1lcIjpcIlRlY2hub2xvZ3lcIixcIkNBUk9VU0VMX0FMSUFTX0FSVFwiOlwiQXJ0XCIsXCJDQVJPVVNFTF9BTElBU19TT05HXCI6XCJTb25nXCIsXCJDQVJPVVNFTF9BTElBU19MT09LXCI6XCJMb29rXCIsXCJDQVJPVVNFTF9BTElBU19UUkFJTEVSXCI6XCJUcmFpbGVyXCIsXCJDQVJPVVNFTF9BTElBU19XRUFQT05cIjpcIldlYXBvblwiLFwiQ0FST1VTRUxfQUxJQVNfTEVJU1VSRV9TUE9SVFwiOlwiTGVpc3VyZSBTcG9ydFwiLFwiQ0FST1VTRUxfQUxJQVNfSEVBTFRIX0JFQVVUWVwiOlwiSGVhbHRoICYgQmVhdXR5XCIsXCJDQVJPVVNFTF9BTElBU19GT09EX0RSSU5LXCI6XCJGb29kICYgRHJpbmtcIixcIkNBUk9VU0VMX0FMSUFTX0ZBVU5BX0ZMT1JBXCI6XCJGYXVuYSAmIEZsb3JhXCIsXCJDQVJPVVNFTF9BTElBU19CVVNJTkVTU1wiOlwiQnVzaW5lc3NcIixcIkNBUk9VU0VMX0FMSUFTX1JFRkVSRU5DRVwiOlwiUmVmZXJlbmNlXCIsXCJDQVJPVVNFTF9BTElBU19WSURFT0NMSVBcIjpcIlZpZGVvY2xpcFwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUFRFUlwiOlwiQ2hhcHRlclwiLFwiQ0FST1VTRUxfQUxJQVNfQUNUSU9OX0VNT1RJT05cIjpcIkFjdGlvbiAmIEVtb3Rpb25cIixcIkNBUk9VU0VMX0FMSUFTX1NFRV9NT1JFXCI6XCJFeHBsb3JlIE1vcmVcIixcIlNPVVJDRVwiOlwiU291cmNlXCIsXCJTUEVDU1wiOlwiU3BlY3NcIixcIkJBU0lDX0RBVEFcIjpcIkJhc2ljIERhdGFcIixcIkFXQVJEU1wiOlwiQXdhcmRzXCIsXCJXSU5ORVJfU0lOR1VMQVJcIjpcIlwiLFwiV0lOTkVSX1BMVVJBTFwiOlwiXCIsXCJOT01JTkVFX1NJTkdVTEFSXCI6XCJcIixcIk5PTUlORUVfUExVUkFMXCI6XCJcIixcIlBPQ0tFVF9USVRMRV8xXCI6XCJNWSBDQVJEU1wiLFwiUE9DS0VUX1RJVExFXzJcIjpcIlRoZSBjb250ZW50IHlvdVxcXFwndmUgbGlrZWRcIixcIlBPQ0tFVF9OT19DQVJEU19USVRMRVwiOlwiTk8gU0FWRUQgQ0FSRFMgWUVUXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVFhUXCI6XCJTYXZlIGV2ZXJ5IGNhcmQgeW91IGxpa2UgYnkgcHJlc3Npbmcgb24gdGhlIGhlYXJ0IGljb24gb3IgYWN0aXZhdGUgeW91ciBhY2NvdW50IHRvIHNlZSB0aGUgY2FyZHMgc2F2ZWQgZnJvbSB5b3VyIERpdmUgbW9iaWxlIHZlcnNpb24uXCIsXCJHQUxMRVJZXCI6XCJHYWxsZXJ5XCIsXCJMT0NBVElPTlwiOlwiTG9jYXRpb25cIixcIkNVUklPU0lUWV9USVRMRVwiOlwiRGlkIHlvdSBrbm93Li4uP1wiLFwiT1ZFUlZJRVdcIjpcIlN5bm9wc2lzXCJ9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvRU4vbG9jYWxpemVkX3RleHRzLmpzb25cbi8vIG1vZHVsZSBpZCA9IDU4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcIlZFUlNJT05fT1VUREFURURfVElUTEVcIjpcIlwiLFwiVkVSU0lPTl9PVVREQVRFRF9URVhUXCI6XCJcIixcIlZFUlNJT05fREVQUkVDQVRFRF9USVRMRVwiOlwiXCIsXCJWRVJTSU9OX0RFUFJFQ0FURURfVEVYVFwiOlwiXCIsXCJHT1RfSVRcIjpcIlwiLFwiTk9XX1RJVExFXCI6XCJcIixcIk5PV19TVUJUSVRMRVwiOlwiXCIsXCJVUENPTUlOR19USVRMRVwiOlwiXCIsXCJHUklEX05PX0RBVEFfVEVYVFwiOlwiXCIsXCJUUllfREVNT1wiOlwiXCIsXCJNRU5VX1NFVFRJTkdTXCI6XCJcIixcIk1FTlVfREVNT1wiOlwiXCIsXCJNRU5VX1BST0ZJTEVcIjpcIlwiLFwiTUVOVV9DQVJEU1wiOlwiXCIsXCJNRU5VX1NZTkNcIjpcIlwiLFwiU0VFX0lORk9cIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTFcIjpcIlwiLFwiVFZHUklEX0JST0FEQ0FTVF9USVRMRTJcIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX1RJVExFXCI6XCJcIixcIlRWR1JJRF9CUk9BRENBU1RfTk9fQ09OVEVOVFwiOlwiXCIsXCJUVkdSSURfQlJPQURDQVNUX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlRcIjpcIlwiLFwiVFZHUklEX1VQQ09NSU5HX05PX0NPTlRFTlRfVFJZX0RFTU9cIjpcIlwiLFwiR0VORVJJQ19FUlJPUl9USVRMRVwiOlwiXCIsXCJHRU5FUklDX0VSUk9SX1RFWFRcIjpcIlwiLFwiRVhJVF9USVRMRVwiOlwiXCIsXCJFWElUX1RFWFRcIjpcIlwiLFwiRVhJVF9CVVRUT05fT0tcIjpcIlwiLFwiTkVUV09SS19FUlJPUl9USVRMRVwiOlwiXCIsXCJORVRXT1JLX0VSUk9SX1RFWFRcIjpcIlwiLFwiVFZHUklEX0VNUFRZX0JST0FEQ0FTVF9USVRMRTFcIjpcIlwiLFwiVFZHUklEX0VNUFRZX0JST0FEQ0FTVF9USVRMRTJcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDFcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1VQQ09NSU5HX1RYVDJcIjpcIlwiLFwiVFZHUklEX0VNUFRZX1dBVENIX09VUl9ERU1PXCI6XCJcIixcIlNFTEVDVE9SX0FMTF9DQVRFR09SSUVTXCI6XCJcIixcIlNFTEVDVE9SX0NBU1RfQ0hBUkFDVEVSXCI6XCJcIixcIlNFTEVDVE9SX0ZBU0hJT05fQkVBVVRZXCI6XCJcIixcIlNFTEVDVE9SX01VU0lDXCI6XCJcIixcIlNFTEVDVE9SX1BMQUNFU19UUkFWRUxcIjpcIlwiLFwiU0VMRUNUT1JfQ0FSU19NT1JFXCI6XCJcIixcIlNFTEVDVE9SX0ZVTl9GQUNUU1wiOlwiXCIsXCJTRUxFQ1RPUl9PVEhFUl9DQVRFR09SSUVTXCI6XCJcIixcIkJJT0dSQVBIWVwiOlwiQmlvZ3JhcGhpZVwiLFwiQ09NRURZXCI6XCJDb21lZHlcIixcIkNSSU1FXCI6XCJLcmltaVwiLFwiQUNUSU9OXCI6XCJBY3Rpb25cIixcIlRIUklMTEVSXCI6XCJUaHJpbGxlclwiLFwiQURWRU5UVVJFXCI6XCJBYmVudGV1ZXJcIixcIlNDSV9GSVwiOlwiU2NpLUZpXCIsXCJGQU5UQVNZXCI6XCJGYW50YXN5XCIsXCJEUkFNQVwiOlwiRHJhbWFcIixcIlJPTUFOQ0VcIjpcIlJvbWFuY2VcIixcIlRFUlJPUlwiOlwiSG9ycm9yXCIsXCJISVNUT1JZXCI6XCJHZXNjaGljaHRlXCIsXCJXRVNURVJOXCI6XCJXZXN0ZXJuXCIsXCJXQVJcIjpcIktyaWVnXCIsXCJNSVNURVJZXCI6XCJNeXN0ZXJ5XCIsXCJGQU1JTFlcIjpcIkZhbWlsaWVcIixcIlNQT1JUXCI6XCJTcG9ydFwiLFwiTVVTSUNcIjpcIk11c2lrXCIsXCJNVVNJQ0FMXCI6XCJNdXNpY2FsXCIsXCJBTklNQVRJT05cIjpcIkFuaW1hdGlvblwiLFwiRE9DVU1FTlRBUllcIjpcIkRva3VtZW50YXJcIixcIkZJTE1fTk9JUlwiOlwiRmlsbSBub2lyXCIsXCJORVdTXCI6XCJOZXdzXCIsXCJLSURTXCI6XCJLaW5kZXJcIixcIlRBTEtfU0hPV1wiOlwiVGFsa3Nob3dcIixcIkNVUlJFTlRfU0NFTkVcIjpcIlwiLFwiUElaWkFfT1JfUE9QX0NPUk5cIjpcIlwiLFwiV0VfUkVDT01NRU5EXCI6XCJcIixcIk1BS0VfUE9QX0NPUk5cIjpcIlwiLFwiTElHSFRTX0NBTUVSQVwiOlwiXCIsXCJXRV9BUkVfTE9BRElOR1wiOlwiXCIsXCJFVkVSWVRISU5HX0VORFwiOlwiXCIsXCJNT1ZJRV9PRkZcIjpcIlwiLFwiTU9WSUVfRU5ERURcIjpcIlwiLFwiT0tBWVwiOlwiXCIsXCJDQVJPVVNFTF9DQVJEX1NBVkVcIjpcIlwiLFwiQ0FST1VTRUxfQ0FSRF9TQVZFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRF9BRERFRFwiOlwiXCIsXCJDQVJPVVNFTF9ORVdfQ0FSRFNfQURERURcIjpcIlwiLFwiVFZHUklEX0NPTU1FUkNJQUxfVFhUXCI6XCJcIixcIlRWR1JJRF9UT0RBWVwiOlwiXCIsXCJUVkdSSURfVE9NT1JST1dcIjpcIlwiLFwiRVhJVF9CVVRUT05fQ0FOQ0VMXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfVElUTEVcIjpcIlwiLFwiRVJST1JfU0NBTl9DSEFOTkVMU19URVhUXCI6XCJcIixcIkVSUk9SX1NDQU5fQ0hBTk5FTFNfQlROX1NDQU5cIjpcIlwiLFwiU0NBTl9GSVJTVF9USU1FX1RJVExFXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9URVhUXCI6XCJcIixcIlNDQU5fRklSU1RfVElNRV9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9USVRMRVwiOlwiXCIsXCJTQ0FOX0hFTFBfUkVTQ0FOX1RFWFRcIjpcIlwiLFwiU0NBTl9IRUxQX1JFU0NBTl9CVE5cIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzFcIjpcIlwiLFwiU0NBTl9IRUxQX1RJVExFXzJcIjpcIlwiLFwiU0NBTl9IRUxQX1NVR0dFU1RJT05cIjpcIlwiLFwiU0NBTl9IRUxQX1BMRUFTRV9DT05UQUNUXCI6XCJcIixcIlNDQU5fSEVMUF9FTUFJTFwiOlwiXCIsXCJTQ0FOX0hFTFBfU1VCSkVDVFwiOlwiXCIsXCJTQ0FOX0hFTFBfVkVSU0lPTlwiOlwiXCIsXCJSRUdJT05fU0VUX1RJVExFXCI6XCJcIixcIlJFR0lPTl9TRVRfVEVYVFwiOlwiXCIsXCJSRUdJT05fU0VUX1NQQUlOXCI6XCJcIixcIlJFR0lPTl9TRVRfR0VSTUFOWVwiOlwiXCIsXCJSRUdJT05fU0VUX1VTQVwiOlwiXCIsXCJUVkdSSURfQ0hBTkdFX0NIQU5ORUxfVElUTEVcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX1RFWFRcIjpcIlwiLFwiVFZHUklEX0NIQU5HRV9DSEFOTkVMX0JUTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19NT1ZJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRVJJRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19QRVJTT05cIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUkFDVEVSXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1ZFSElDTEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfRkFTSElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT0NBVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19ISVNUT1JJQ1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19UUklWSUFcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfUVVPVEVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfT1NUXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0hPTUVcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfVEVDSE5PTE9HWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfU09OR1wiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19MT09LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1RSQUlMRVJcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfV0VBUE9OXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0xFSVNVUkVfU1BPUlRcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfSEVBTFRIX0JFQVVUWVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19GT09EX0RSSU5LXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0ZBVU5BX0ZMT1JBXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX0JVU0lORVNTXCI6XCJcIixcIkNBUk9VU0VMX0FMSUFTX1JFRkVSRU5DRVwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19WSURFT0NMSVBcIjpcIlwiLFwiQ0FST1VTRUxfQUxJQVNfQ0hBUFRFUlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19BQ1RJT05fRU1PVElPTlwiOlwiXCIsXCJDQVJPVVNFTF9BTElBU19TRUVfTU9SRVwiOlwiXCIsXCJTT1VSQ0VcIjpcIlwiLFwiU1BFQ1NcIjpcIlwiLFwiQkFTSUNfREFUQVwiOlwiXCIsXCJBV0FSRFNcIjpcIlwiLFwiV0lOTkVSX1NJTkdVTEFSXCI6XCJcIixcIldJTk5FUl9QTFVSQUxcIjpcIlwiLFwiTk9NSU5FRV9TSU5HVUxBUlwiOlwiXCIsXCJOT01JTkVFX1BMVVJBTFwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMVwiOlwiXCIsXCJQT0NLRVRfVElUTEVfMlwiOlwiXCIsXCJQT0NLRVRfTk9fQ0FSRFNfVElUTEVcIjpcIlwiLFwiUE9DS0VUX05PX0NBUkRTX1RYVFwiOlwiXCIsXCJHQUxMRVJZXCI6XCJcIixcIkxPQ0FUSU9OXCI6XCJcIixcIkNVUklPU0lUWV9USVRMRVwiOlwiXCIsXCJPVkVSVklFV1wiOlwiXCJ9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hc3NldHMvREUvbG9jYWxpemVkX3RleHRzLmpzb25cbi8vIG1vZHVsZSBpZCA9IDU4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWNsYXJlIGNvbnN0IEtleUV2ZW50OiBhbnk7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuY29uc3QgS2V5TWFwX0hCQlRWID0ge307XG5cbmV4cG9ydCBjb25zdCBsb2FkSGJidHZLZXlzID0gKCkgPT4ge1xuICAgIGlmICghS2V5RXZlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBrbTogYW55ID0gS2V5TWFwX0hCQlRWO1xuICAgIGttLlVQID0gS2V5RXZlbnQuVktfVVA7XG4gICAga20uRE9XTiA9IEtleUV2ZW50LlZLX0RPV047XG4gICAga20uTEVGVCA9IEtleUV2ZW50LlZLX0xFRlQ7XG4gICAga20uUklHSFQgPSBLZXlFdmVudC5WS19SSUdIVDtcbiAgICBrbS5FTlRFUiA9IEtleUV2ZW50LlZLX0VOVEVSO1xufTtcblxuZXhwb3J0IGNvbnN0IEtleU1hcCA9IEtleU1hcF9IQkJUVjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NlcnZpY2VzL2tleW1hcC50c3giLCJleHBvcnQgZnVuY3Rpb24gc3RhdGljcyhhOiBhbnkpIHtcbiAgICByZXR1cm4gKGI6IGFueSkgPT4gT2JqZWN0LmFzc2lnbihiLCBhKVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vSE9DL3N0YXRpY3Mvc3RhdGljcy5IT0MudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFJvdXRlQ29tcG9uZW50UHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgTWFwU3RhdGVUb1Byb3BzUGFyYW0gfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuaW1wb3J0IHsgQ2FyZERldGFpbENvbnRhaW5lciwgTGF5b3V0IH0gZnJvbSAnQ29udGFpbmVycyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnU2VydmljZXMnO1xuaW1wb3J0IHsgbmF2aWdhYmxlIH0gZnJvbSAnSE9DJztcbmltcG9ydCB7IFVJQWN0aW9ucywgSVVJQWN0aW9ucyB9IGZyb20gJ0FjdGlvbnMnO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFwcCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBJT3duUHJvcHMge1xuICAgICAgICAvLyBjYXJkczogQ2FyZFtdO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUFjdGlvblByb3BzIGV4dGVuZHMgSVVJQWN0aW9ucyB7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJU3RhdGUge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH1cbn1cbi8vIEZyaWVuZHMoU2VyaWUpOiBlOTBmMTI0ZS1hZjY5LTM3NTctOTIxYi1kNWJhYzE4ZTVhMzFcbi8vIENhcnJ5KFBlcnNvbik6IDI4ZTdjYjUyLTAxYTItM2U5NS1hNzFmLTRmYzJkM2U0NmY4NlxuLy8gYzU4YmJmMWYtNmZmNS0xMWU1LWI3YzItMDY4NDk4NWNiYmUzXG4vLyBTZXhvIGVuIE5ZIChNb3ZpZSk6IGJkNGYyNmJhLTBjMmEtM2ExNi1iYjdiLTc5YWEwNjZhYmY0NFxuLy8gR2FtZSBvZiB0aHJvbmVzKFNlcmllKSBkNjEyNDMxOC05ZGIyLTM0MWEtOTQ5Zi0yNWZhNjdhMDMyZDdcbi8vIE1pbmlzdGVyaW8gZGVsIHRpZW1wbyhTZXJpZSk6IDBjZTczZjZkLTY2MTYtMzhlMy1iYTIyLTIxMDA5YzkxYmE4MVxuXG5cbi8qQG5hdmlnYWJsZVxuQGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYURpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykqL1xuZXhwb3J0IGNsYXNzIEFwcENsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEFwcC5JT3duUHJvcHMgJiBBcHAuSUFjdGlvblByb3BzLCBBcHAuSVN0YXRlPiB7XG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxNb3VudCgpe1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwXCI+XG4gICAgICAgICAgICAgICAgPExheW91dCBjb2x1bW5zPXsxfSBwYXJlbnQ9e3RoaXN9Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBhbnkpIHtcbiAgICByZXR1cm4ge1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaDogYW55KTogQXBwLklBY3Rpb25Qcm9wcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uVUlBY3Rpb25zXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzOiBhbnksIGRpc3BhdGNoUHJvcHM6IGFueSwgb3duUHJvcHM6IGFueSk6IEFwcC5JT3duUHJvcHMge1xuICAgIHJldHVybiB7IC4uLnN0YXRlUHJvcHMsIC4uLm93blByb3BzLCAuLi5kaXNwYXRjaFByb3BzIH07XG59XG5cbmV4cG9ydCBjb25zdCBBcHAgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzKShBcHBDbGFzcyk7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRhaW5lcnMvQXBwL2FwcC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5pbXBvcnQgeyBjYXJkTW9kdWxlQ29uZmlnLCBjYXJkTW9kdWxlQ2xhc3NlcywgaXNWYWxpZGF0YWJsZSB9IGZyb20gXCJDYXJkTW9kdWxlc1wiO1xuaW1wb3J0IHsgbmF2aWdhYmxlIH0gZnJvbSBcIkhPQ1wiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbnRhaW5lciwgTG9hZGluZyB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmRNb2R1bGVMaXN0UHJvcHMge1xuICAgIGNhcmQ6IENhcmQ7XG59XG5leHBvcnQgY2xhc3MgQ2FyZE1vZHVsZUxpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElDYXJkTW9kdWxlTGlzdFByb3BzLCB7fT4ge1xuICAgIHB1YmxpYyByZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZE1vZHVsZXNDb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXJkID8gdGhpcy5kZWNpZGVNb2R1bGVzKHRoaXMucHJvcHMuY2FyZCkgOiA8TG9hZGluZyAvPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVjaWRlTW9kdWxlcyhjYXJkOiBDYXJkKTogSlNYLkVsZW1lbnRbXSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZXM6IEFycmF5PFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4+ID0gW107XG4gICAgICAgIGNvbnN0IG1vZHVsZUxpc3Q6IEpTWC5FbGVtZW50W10gPSBbXTtcbiAgICAgICAgY29uc3QgY2FyZE1vZHVsZU9yZGVyID0gY2FyZE1vZHVsZUNvbmZpZ1tjYXJkLnR5cGVdO1xuICAgICAgICBpZiAoY2FyZC50eXBlICYmIGNhcmRNb2R1bGVPcmRlciAmJiBjYXJkTW9kdWxlT3JkZXIuc2VjdGlvbnMgJiZcbiAgICAgICAgICAgIGNhcmRNb2R1bGVPcmRlci5zZWN0aW9uc1swXSAmJlxuICAgICAgICAgICAgY2FyZE1vZHVsZU9yZGVyLnNlY3Rpb25zWzBdLm1vZHVsZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgY2FyZE1vZHVsZU9yZGVyLnNlY3Rpb25zWzBdLm1vZHVsZXNcbiAgICAgICAgICAgICAgICAubWFwKChjYXJkTW9kdWxlOiB7IHR5cGU6IHN0cmluZyB9LCBpZHg6IG51bWJlcik6IGFueSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJkTW9kdWxlLnR5cGUgJiYgY2FyZE1vZHVsZS50eXBlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBjYXJkTW9kdWxlQ2xhc3Nlc1tjYXJkTW9kdWxlLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRhdGFibGUoY2FuZGlkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW5zdGFudGlhdGluZ1wiLCBjYXJkTW9kdWxlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVJbnN0YW5jZSA9IGNhbmRpZGF0ZS52YWxpZGF0ZShjYXJkLCBjYXJkTW9kdWxlLnR5cGUsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhZGRpbmc6IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGVJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW5zdGFudGlhdGluZyBiZWNhdXNlIHZhbGlkYXRlZFwiLCBjYXJkTW9kdWxlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2Q2xhc3MgPSBjYW5kaWRhdGUubW9kdWxlTmFtZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7Y2FuZGlkYXRlLm1vZHVsZU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKX0tY29udGFpbmVyIGNhcmRNb2R1bGUtY29udGFpbmVyIHNjcm9sbGFibGVgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRhaW5lclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtuYXZDbGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtjYXJkLmNhcmRfaWR9X21vZHVsZV8ke2lkeH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21vZHVsZUluc3RhbmNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBleGlzdGUgZWwgbcOzZHVsbyBvIG5vIGhhIHZhbGlkYWRvXCIsIGNhcmRNb2R1bGUudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBleGlzdGUgZWwgbcOzZHVsb1wiLCBjYXJkTW9kdWxlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgIHJldHVybiBtb2R1bGVMaXN0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IE5hdmlnYWJsZUNhcmRNb2R1bGVMaXN0ID0gbmF2aWdhYmxlKENhcmRNb2R1bGVMaXN0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRhaW5lcnMvY2FyZE1vZHVsZUxpc3QvY2FyZE1vZHVsZUxpc3QuY29udGFpbmVyLnRzeCIsImltcG9ydCB7IENhcmRUeXBlRW51bSB9IGZyb20gJ1NlcnZpY2VzJztcblxuaW1wb3J0ICogYXMgYXJ0Q29uZmlnIGZyb20gJy4uL2NvbmZpZy9hcnQuanNvbic7XG5pbXBvcnQgKiBhcyBidXNpbmVzc0NvbmZpZyBmcm9tICcuLi9jb25maWcvYnVzaW5lc3MuanNvbic7XG5pbXBvcnQgKiBhcyBjaGFwdGVyQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9jaGFwdGVyLmpzb24nO1xuaW1wb3J0ICogYXMgZmFzaGlvbkNvbmZpZyBmcm9tICcuLi9jb25maWcvZmFzaGlvbi5qc29uJztcbmltcG9ydCAqIGFzIGZhdW5hX2Zsb3JhQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9mYXVuYV9mbG9yYS5qc29uJztcbmltcG9ydCAqIGFzIGZvb2RfZHJpbmtDb25maWcgZnJvbSAnLi4vY29uZmlnL2Zvb2RfZHJpbmsuanNvbic7XG5pbXBvcnQgKiBhcyBoZWFsdGhfYmVhdXR5Q29uZmlnIGZyb20gJy4uL2NvbmZpZy9oZWFsdGhfYmVhdXR5Lmpzb24nO1xuaW1wb3J0ICogYXMgaGlzdG9yaWNDb25maWcgZnJvbSAnLi4vY29uZmlnL2hpc3RvcmljLmpzb24nO1xuaW1wb3J0ICogYXMgaG9tZUNvbmZpZyBmcm9tICcuLi9jb25maWcvaG9tZS5qc29uJztcbmltcG9ydCAqIGFzIGxlaXN1cmVfc3BvcnRDb25maWcgZnJvbSAnLi4vY29uZmlnL2xlaXN1cmVfc3BvcnQuanNvbic7XG5pbXBvcnQgKiBhcyBsb2NhdGlvbkNvbmZpZyBmcm9tICcuLi9jb25maWcvbG9jYXRpb24uanNvbic7XG5pbXBvcnQgKiBhcyBsb29rQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9sb29rLmpzb24nO1xuaW1wb3J0ICogYXMgbW92aWVDb25maWcgZnJvbSAnLi4vY29uZmlnL21vdmllLmpzb24nO1xuaW1wb3J0ICogYXMgb3N0Q29uZmlnIGZyb20gJy4uL2NvbmZpZy9vc3QuanNvbic7XG5pbXBvcnQgKiBhcyBwZXJzb25Db25maWcgZnJvbSAnLi4vY29uZmlnL3BlcnNvbi5qc29uJztcbmltcG9ydCAqIGFzIGNoYXJhY3RlckNvbmZpZyBmcm9tICcuLi9jb25maWcvY2hhcmFjdGVyLmpzb24nO1xuaW1wb3J0ICogYXMgcmVmZXJlbmNlQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9yZWZlcmVuY2UuanNvbic7XG5pbXBvcnQgKiBhcyBzZXJpZUNvbmZpZyBmcm9tICcuLi9jb25maWcvc2VyaWUuanNvbic7XG5pbXBvcnQgKiBhcyBzb25nQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9zb25nLmpzb24nO1xuaW1wb3J0ICogYXMgdGVjaG5vbG9neUNvbmZpZyBmcm9tICcuLi9jb25maWcvdGVjaG5vbG9neS5qc29uJztcbmltcG9ydCAqIGFzIHRyaXZpYUNvbmZpZyBmcm9tICcuLi9jb25maWcvdHJpdmlhLmpzb24nO1xuaW1wb3J0ICogYXMgdmVoaWNsZUNvbmZpZyBmcm9tICcuLi9jb25maWcvdmVoaWNsZS5qc29uJztcbmltcG9ydCAqIGFzIHdlYXBvbkNvbmZpZyBmcm9tICcuLi9jb25maWcvd2VhcG9uLmpzb24nO1xuXG5jb25zdCBjYXJkRGV0YWlsQ29uZmlnID0ge1xuICAgIGFydENvbmZpZyxcbiAgICBidXNpbmVzc0NvbmZpZyxcbiAgICBjaGFwdGVyQ29uZmlnLFxuICAgIGZhc2hpb25Db25maWcsXG4gICAgZmF1bmFfZmxvcmFDb25maWcsXG4gICAgZm9vZF9kcmlua0NvbmZpZyxcbiAgICBoZWFsdGhfYmVhdXR5Q29uZmlnLFxuICAgIGhpc3RvcmljQ29uZmlnLFxuICAgIGhvbWVDb25maWcsXG4gICAgbGVpc3VyZV9zcG9ydENvbmZpZyxcbiAgICBsb2NhdGlvbkNvbmZpZyxcbiAgICBsb29rQ29uZmlnLFxuICAgIG1vdmllQ29uZmlnLFxuICAgIG9zdENvbmZpZyxcbiAgICBwZXJzb25Db25maWcsXG4gICAgY2hhcmFjdGVyQ29uZmlnLFxuICAgIHJlZmVyZW5jZUNvbmZpZyxcbiAgICBzZXJpZUNvbmZpZyxcbiAgICBzb25nQ29uZmlnLFxuICAgIHRlY2hub2xvZ3lDb25maWcsXG4gICAgdHJpdmlhQ29uZmlnLFxuICAgIHZlaGljbGVDb25maWcsXG4gICAgd2VhcG9uQ29uZmlnLFxufTtcblxuZXhwb3J0IGNvbnN0IGNhcmRNb2R1bGVDb25maWc6IHtba2V5IGluIENhcmRUeXBlRW51bV0/OiBhbnkgfSA9IHtcbiAgICBhcnQ6IGNhcmREZXRhaWxDb25maWcuYXJ0Q29uZmlnLFxuICAgIGJ1c2luZXNzOiBjYXJkRGV0YWlsQ29uZmlnLmJ1c2luZXNzQ29uZmlnLFxuICAgIGNoYXB0ZXI6IGNhcmREZXRhaWxDb25maWcuY2hhcHRlckNvbmZpZyxcbiAgICBmYXNoaW9uOiBjYXJkRGV0YWlsQ29uZmlnLmZhc2hpb25Db25maWcsXG4gICAgZmF1bmFfZmxvcmE6IGNhcmREZXRhaWxDb25maWcuZmF1bmFfZmxvcmFDb25maWcsXG4gICAgZm9vZF9kcmluazogY2FyZERldGFpbENvbmZpZy5mb29kX2RyaW5rQ29uZmlnLFxuICAgIGhlYWx0aF9iZWF1dHk6IGNhcmREZXRhaWxDb25maWcuaGVhbHRoX2JlYXV0eUNvbmZpZyxcbiAgICBoaXN0b3JpYzogY2FyZERldGFpbENvbmZpZy5oaXN0b3JpY0NvbmZpZyxcbiAgICBob21lOiBjYXJkRGV0YWlsQ29uZmlnLmhvbWVDb25maWcsXG4gICAgbGVpc3VyZV9zcG9ydDogY2FyZERldGFpbENvbmZpZy5sZWlzdXJlX3Nwb3J0Q29uZmlnLFxuICAgIGxvY2F0aW9uOiBjYXJkRGV0YWlsQ29uZmlnLmxvY2F0aW9uQ29uZmlnLFxuICAgIGxvb2s6IGNhcmREZXRhaWxDb25maWcubG9va0NvbmZpZyxcbiAgICBtb3ZpZTogY2FyZERldGFpbENvbmZpZy5tb3ZpZUNvbmZpZyxcbiAgICBvc3Q6IGNhcmREZXRhaWxDb25maWcub3N0Q29uZmlnLFxuICAgIHBlcnNvbjogY2FyZERldGFpbENvbmZpZy5wZXJzb25Db25maWcsXG4gICAgY2hhcmFjdGVyOiBjYXJkRGV0YWlsQ29uZmlnLmNoYXJhY3RlckNvbmZpZyxcbiAgICByZWZlcmVuY2U6IGNhcmREZXRhaWxDb25maWcucmVmZXJlbmNlQ29uZmlnLFxuICAgIHNlcmllOiBjYXJkRGV0YWlsQ29uZmlnLnNlcmllQ29uZmlnLFxuICAgIHNvbmc6IGNhcmREZXRhaWxDb25maWcuc29uZ0NvbmZpZyxcbiAgICB0ZWNobm9sb2d5OiBjYXJkRGV0YWlsQ29uZmlnLnRlY2hub2xvZ3lDb25maWcsXG4gICAgdHJpdmlhOiBjYXJkRGV0YWlsQ29uZmlnLnRyaXZpYUNvbmZpZyxcbiAgICB2ZWhpY2xlOiBjYXJkRGV0YWlsQ29uZmlnLnZlaGljbGVDb25maWcsXG4gICAgd2VhcG9uOiBjYXJkRGV0YWlsQ29uZmlnLndlYXBvbkNvbmZpZyxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvY2FyZERldGFpbC5jb25maWcudHN4IiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiTWFwTW9kdWxlXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9hcnQuanNvblxuLy8gbW9kdWxlIGlkID0gNTkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9idXNpbmVzcy5qc29uXG4vLyBtb2R1bGUgaWQgPSA1OTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIk1vdmllSGVhZGVyXCJ9LHtcInR5cGVcIjpcIk1vdmllSGVhZGVyU21hbGxcIn0se1widHlwZVwiOlwiT3ZlcnZpZXdcIn0se1widHlwZVwiOlwiQmFzaWNJbmZvXCJ9LHtcInR5cGVcIjpcIlRyYWlsZXJcIn0se1widHlwZVwiOlwiQ2FzdFwifSx7XCJ0eXBlXCI6XCJCZWxvbmdUb1NpbmdsZVwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiUGxhY2VzU2hvd25cIn0se1widHlwZVwiOlwiVmVoaWNsZXNcIn0se1widHlwZVwiOlwiTW92aWVTb3VuZHRyYWNrXCJ9LHtcInR5cGVcIjpcIkhpZ2hsaWdodHNcIn0se1widHlwZVwiOlwiRGl2ZUluTW9kdWxlXCJ9LHtcInR5cGVcIjpcIlJlY29tbWVuZGVkXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2NoYXB0ZXIuanNvblxuLy8gbW9kdWxlIGlkID0gNTkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJCdXR0b25IZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiRmFzaGlvblwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2Zhc2hpb24uanNvblxuLy8gbW9kdWxlIGlkID0gNTk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9mYXVuYV9mbG9yYS5qc29uXG4vLyBtb2R1bGUgaWQgPSA1OTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJWaWRlb1wifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2Zvb2RfZHJpbmsuanNvblxuLy8gbW9kdWxlIGlkID0gNTk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9oZWFsdGhfYmVhdXR5Lmpzb25cbi8vIG1vZHVsZSBpZCA9IDU5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJNYXBNb2R1bGVcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2hpc3RvcmljLmpzb25cbi8vIG1vZHVsZSBpZCA9IDU5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiQnV0dG9uSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkhvbWVcIn0se1widHlwZVwiOlwiQ29tcGxldGVUaGVEZWNvXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvaG9tZS5qc29uXG4vLyBtb2R1bGUgaWQgPSA1OTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2xlaXN1cmVfc3BvcnQuanNvblxuLy8gbW9kdWxlIGlkID0gNjAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIk1hcE1vZHVsZVwifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5Mb2NhdGlvblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9sb2NhdGlvbi5qc29uXG4vLyBtb2R1bGUgaWQgPSA2MDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkJ1dHRvbkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkxvb2tcIn0se1widHlwZVwiOlwiQ2FycnlcIn0se1widHlwZVwiOlwiTW9yZUxvb2tzXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL2xvb2suanNvblxuLy8gbW9kdWxlIGlkID0gNjAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJNb3ZpZUhlYWRlclwifSx7XCJ0eXBlXCI6XCJNb3ZpZUhlYWRlclNtYWxsXCJ9LHtcInR5cGVcIjpcIk92ZXJ2aWV3XCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJUcmFpbGVyXCJ9LHtcInR5cGVcIjpcIkNhc3RcIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIlBsYWNlc1Nob3duXCJ9LHtcInR5cGVcIjpcIlZlaGljbGVzXCJ9LHtcInR5cGVcIjpcIk1vdmllU291bmR0cmFja1wifSx7XCJ0eXBlXCI6XCJIaWdobGlnaHRzXCJ9LHtcInR5cGVcIjpcIkRpdmVJbk1vZHVsZVwifSx7XCJ0eXBlXCI6XCJSZWNvbW1lbmRlZFwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9tb3ZpZS5qc29uXG4vLyBtb2R1bGUgaWQgPSA2MDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJTb3VuZHRyYWNrXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTb3VuZHNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9vc3QuanNvblxuLy8gbW9kdWxlIGlkID0gNjA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiQmlvZ3JhcGh5XCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIkF3YXJkc01vZHVsZUxpc3RcIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkZpbG1vZ3JhcGh5XCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL3BlcnNvbi5qc29uXG4vLyBtb2R1bGUgaWQgPSA2MDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJCaW9ncmFwaHlcIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIkJhc2ljSW5mb1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIlZpZGVvXCJ9LHtcInR5cGVcIjpcIkN1cmlvc2l0aWVzXCJ9LHtcInR5cGVcIjpcIkhpZ2hsaWd0c1wifSx7XCJ0eXBlXCI6XCJJbnRlcnByZXRlZEJ5U2luZ2xlXCJ9LHtcInR5cGVcIjpcIkludGVycHJldGVkQnlcIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvY2hhcmFjdGVyLmpzb25cbi8vIG1vZHVsZSBpZCA9IDYwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiUmVmZXJlbmNlXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiVmlkZW9cIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9yZWZlcmVuY2UuanNvblxuLy8gbW9kdWxlIGlkID0gNjA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJNb3ZpZUhlYWRlclwifSx7XCJ0eXBlXCI6XCJNb3ZpZUhlYWRlclNtYWxsXCJ9LHtcInR5cGVcIjpcIk92ZXJ2aWV3XCJ9LHtcInR5cGVcIjpcIlNlYXNvbnNcIn0se1widHlwZVwiOlwiVHJhaWxlclwifSx7XCJ0eXBlXCI6XCJCYXNpY0luZm9cIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJBd2FyZHNNb2R1bGVMaXN0XCJ9LHtcInR5cGVcIjpcIkNhc3RcIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlJlY29tbWVuZGVkXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL3NlcmllLmpzb25cbi8vIG1vZHVsZSBpZCA9IDYwOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIk11c2ljU2hvcFwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiU29uZ0JlbG9uZ1RvU2luZ2xlXCJ9LHtcInR5cGVcIjpcIlNvbmdCZWxvbmdUb1wifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy9zb25nLmpzb25cbi8vIG1vZHVsZSBpZCA9IDYwOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInNlY3Rpb25zXCI6W3tcInRpdGxlXCI6XCJtYWluXCIsXCJtYWluXCI6dHJ1ZSxcIm1vZHVsZXNcIjpbe1widHlwZVwiOlwiSGVhZGVyXCJ9LHtcInR5cGVcIjpcIkRlc2NyaXB0aW9uXCJ9LHtcInR5cGVcIjpcIlNob3BcIn0se1widHlwZVwiOlwiVHJhdmVsU2hvcFwifSx7XCJ0eXBlXCI6XCJTcGVjaWZpY2F0aW9uc1wifSx7XCJ0eXBlXCI6XCJHYWxsZXJ5XCJ9LHtcInR5cGVcIjpcIlZpZGVvXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblNpbmdsZVwifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5cIn0se1widHlwZVwiOlwiQmFja1RvSG9tZVwifV19XX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbXBvbmVudHMvY2FyZERldGFpbC9jb25maWcvdGVjaG5vbG9neS5qc29uXG4vLyBtb2R1bGUgaWQgPSA2MTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkZ1bGxDdXJpb3NpdHlcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJWaWRlb1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL3RyaXZpYS5qc29uXG4vLyBtb2R1bGUgaWQgPSA2MTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uc1wiOlt7XCJ0aXRsZVwiOlwibWFpblwiLFwibWFpblwiOnRydWUsXCJtb2R1bGVzXCI6W3tcInR5cGVcIjpcIkhlYWRlclwifSx7XCJ0eXBlXCI6XCJEZXNjcmlwdGlvblwifSx7XCJ0eXBlXCI6XCJTaG9wXCJ9LHtcInR5cGVcIjpcIlRyYXZlbFNob3BcIn0se1widHlwZVwiOlwiU3BlY2lmaWNhdGlvbnNcIn0se1widHlwZVwiOlwiR2FsbGVyeVwifSx7XCJ0eXBlXCI6XCJWaWRlb1wifSx7XCJ0eXBlXCI6XCJDdXJpb3NpdGllc1wifSx7XCJ0eXBlXCI6XCJBcHBlYXJzSW5TaW5nbGVcIn0se1widHlwZVwiOlwiQXBwZWFyc0luXCJ9LHtcInR5cGVcIjpcIkJhY2tUb0hvbWVcIn1dfV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY29uZmlnL3ZlaGljbGUuanNvblxuLy8gbW9kdWxlIGlkID0gNjEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0ge1wic2VjdGlvbnNcIjpbe1widGl0bGVcIjpcIm1haW5cIixcIm1haW5cIjp0cnVlLFwibW9kdWxlc1wiOlt7XCJ0eXBlXCI6XCJIZWFkZXJcIn0se1widHlwZVwiOlwiRGVzY3JpcHRpb25cIn0se1widHlwZVwiOlwiU2hvcFwifSx7XCJ0eXBlXCI6XCJUcmF2ZWxTaG9wXCJ9LHtcInR5cGVcIjpcIlNwZWNpZmljYXRpb25zXCJ9LHtcInR5cGVcIjpcIkdhbGxlcnlcIn0se1widHlwZVwiOlwiQ3VyaW9zaXRpZXNcIn0se1widHlwZVwiOlwiQXBwZWFyc0luU2luZ2xlXCJ9LHtcInR5cGVcIjpcIkFwcGVhcnNJblwifSx7XCJ0eXBlXCI6XCJCYWNrVG9Ib21lXCJ9XX1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NvbmZpZy93ZWFwb24uanNvblxuLy8gbW9kdWxlIGlkID0gNjEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZhbGlkYXRhYmxlIHtcbiAgICB2YWxpZGF0ZTogKGNhcmQ6IENhcmQsIG1vZHVsZVR5cGU6IHN0cmluZywgcGFyZW50OiBhbnksIHByb3BzOiBhbnkpID0+IEpTWC5FbGVtZW50IHwgbnVsbDsgLy8gUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PjtcbiAgICBtb2R1bGVOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRhYmxlKG9iamVjdDogYW55KTogb2JqZWN0IGlzIElWYWxpZGF0YWJsZSB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiAndmFsaWRhdGUnIGluIG9iamVjdDtcbn1cbi8qXG5leHBvcnQgY2xhc3MgQ2FyZE1vZHVsZTxDPiB7XG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZTogKG1vZHVsZUNsYXNzOiBJVmFsaWRhdGFibGUsIGNhcmQ6IENhcmQpXG4gICAgICAgID0+IFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4gfCB1bmRlZmluZWQ7XG59XG4qL1xuLypcbmludGVyZmFjZSBJQ2FyZE1vZHVsZVN0YXRpYzxDIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gSUNhcmRNb2R1bGU8Qz4+IHtcbiAgICB2YWxpZGF0ZTogKGNhcmQ6IENhcmQpID0+IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmRNb2R1bGU8QyBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4ge1xuICAgIGNvbnN0cnVjdG9yOiBhbnk7XG59Ki9cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvY2FyZERldGFpbC9jYXJkTW9kdWxlcy9jYXJkTW9kdWxlLmJhc2UuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSBcInJlZHV4XCI7XG5cbmltcG9ydCB7IENhcmQsIEhlbHBlciwgTG9jYWxpemUsIENhdGFsb2cgfSBmcm9tIFwiU2VydmljZXNcIjtcbmltcG9ydCB7IE1pbmlDYXJkLCBDYXJkQW5kQ2F0ZWdvcnksIE5hdmlnYXRpb25Db250YWluZXIgfSBmcm9tIFwiQ29tcG9uZW50c1wiO1xuaW1wb3J0IHsgSUNhcmRNb2R1bGVQcm9wcyB9IGZyb20gXCJDYXJkTW9kdWxlc1wiO1xuaW1wb3J0IHsgbmF2aWdhYmxlLCBzdGF0aWNzIH0gZnJvbSBcIkhPQ1wiO1xuXG5pbnRlcmZhY2UgSUhlYWRlclByb3BzIHtcbiAgICB0aXRsZTogc3RyaW5nIHwgbnVsbDtcbiAgICBzdWJ0aXRsZTogc3RyaW5nIHwgSlNYLkVsZW1lbnQgfCBFbGVtZW50IHwgbnVsbDtcbiAgICBuYXZpZ2FibGVTdWJ0aXRsZTogYm9vbGVhbjtcbiAgICB0aW1lOiBzdHJpbmcgfCBudWxsOyAvLyBcIjIgaCAxMyBtXCI7XG4gICAgdGl0bGVQYXJlbnRoZXNpczogc3RyaW5nIHwgbnVsbDsgLy8gPSBcIjIwMTdcIjtcbiAgICBjYXRlZ29yaWVzOiBzdHJpbmcgfCBudWxsOyAvLyBcIkJpbywgQWR2ZW50dXJlLCBDb21lZHlcIjtcbn1cblxuQHN0YXRpY3Moe1xuICAgIG1vZHVsZU5hbWU6IFwiaGVhZGVyXCIsXG4gICAgdmFsaWRhdGU6IChjYXJkOiBDYXJkLCBtb2R1bGVUeXBlOiBzdHJpbmcsIHBhcmVudDogYW55LCBwcm9wczogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHRpdGxlOiBzdHJpbmcgfCBudWxsID0gY2FyZC50aXRsZTtcbiAgICAgICAgbGV0IHN1YnRpdGxlOiBzdHJpbmcgfCBKU1guRWxlbWVudCB8IEVsZW1lbnQgfCBudWxsID0gY2FyZC5zdWJ0aXRsZSAmJiBjYXJkLnN1YnRpdGxlICE9PSBcIlwiID9cbiAgICAgICAgICAgIGNhcmQuc3VidGl0bGUgOiBudWxsO1xuICAgICAgICBsZXQgdGltZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7IC8vIFwiMiBoIDEzIG1cIjtcbiAgICAgICAgbGV0IHRpdGxlUGFyZW50aGVzaXM6IHN0cmluZyB8IG51bGwgPSBudWxsOyAvLyA9IFwiMjAxN1wiO1xuICAgICAgICBsZXQgY2F0ZWdvcmllczogc3RyaW5nIHwgbnVsbCA9IG51bGw7IC8vIFwiQmlvLCBBZHZlbnR1cmUsIENvbWVkeVwiO1xuICAgICAgICBsZXQgbmF2aWdhYmxlU3VidGl0bGUgPSBmYWxzZTtcblxuICAgICAgICBzd2l0Y2ggKGNhcmQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm1vdmllXCI6XG4gICAgICAgICAgICBjYXNlIFwic2VyaWVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjaGFwdGVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0YWxvZ0luZm8gPSBIZWxwZXIuZ2V0Q29udGFpbmVyKGNhcmQsIFwiY2F0YWxvZ1wiKSBhcyBDYXRhbG9nO1xuICAgICAgICAgICAgICAgIGlmIChjYXRhbG9nSW5mbyAmJiBjYXRhbG9nSW5mby5kYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJbmZvLmRhdGFbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVkaWFEYXRhID0gY2F0YWxvZ0luZm8uZGF0YVswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS5ydW50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWVJblNlY3MgPSBtZWRpYURhdGEucnVudGltZSE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoY3VycmVudFRpbWVJblNlY3MgLyAzNjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lSW5TZWNzICU9IDM2MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihjdXJyZW50VGltZUluU2VjcyAvIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBgJHttaW51dGVzfSBtYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3VycyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gYCR7aG91cnN9IGggJHt0aW1lfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS55ZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVBhcmVudGhlc2lzID0gYCR7Y2F0YWxvZ0luZm8uZGF0YVswXS55ZWFyfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS5nZW5yZXMgJiYgbWVkaWFEYXRhLmdlbnJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gbWVkaWFEYXRhLmdlbnJlcy5qb2luKFwiLCBcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhRGF0YS5kaXJlY3RvciAmJiBtZWRpYURhdGEuZGlyZWN0b3IgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlID0gbWVkaWFEYXRhLmRpcmVjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhYmxlU3VidGl0bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgSW5zdGFudGlhdGVkID0gbmF2aWdhYmxlKEhlYWRlcik7XG5cbiAgICAgICAgcmV0dXJuICg8SW5zdGFudGlhdGVkXG4gICAgICAgICAgICBwYXJlbnQ9e3BhcmVudH1cbiAgICAgICAgICAgIGlzU2Nyb2xsYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgIGNhcmQ9e2NhcmR9IG1vZHVsZVR5cGU9e21vZHVsZVR5cGV9XG4gICAgICAgICAgICB0aXRsZT17dGl0bGV9IHN1YnRpdGxlPXtzdWJ0aXRsZX1cbiAgICAgICAgICAgIG5hdmlnYWJsZVN1YnRpdGxlPXtuYXZpZ2FibGVTdWJ0aXRsZX1cbiAgICAgICAgICAgIHRpbWU9e3RpbWV9IHRpdGxlUGFyZW50aGVzaXM9e3RpdGxlUGFyZW50aGVzaXN9XG4gICAgICAgICAgICBjYXRlZ29yaWVzPXtjYXRlZ29yaWVzfVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPik7XG4gICAgfSxcbn0pXG5leHBvcnQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJQ2FyZE1vZHVsZVByb3BzICYgSUhlYWRlclByb3BzLCB7fT4ge1xuICAgIHB1YmxpYyBnZXRTdWJ0aXRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubmF2aWdhYmxlU3VidGl0bGUgJiYgdGhpcy5wcm9wcy5zdWJ0aXRsZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogb3BlbiBjYXJkXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VidGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXIgcGFyZW50PXt0aGlzfSBjb2x1bW5zPXsxfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnN1YnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICA8L05hdmlnYXRpb25Db250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3VidGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPnt0aGlzLnByb3BzLnN1YnRpdGxlfTwvZGl2Pik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc3VidGl0bGUgPSB0aGlzLmdldFN1YnRpdGxlKCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlciBjYXJkTW9kdWxlXCI+XG4gICAgICAgICAgICAgICAgPENhcmRBbmRDYXRlZ29yeSBjYXJkPXt0aGlzLnByb3BzLmNhcmR9IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyaWdodFBhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGl0bGVcIj57dGhpcy5wcm9wcy50aXRsZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRpdGxlUGFyZW50aGVzaXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVBhcmVudGhlc2lzXCI+ICh7dGhpcy5wcm9wcy50aXRsZVBhcmVudGhlc2lzfSk8L2Rpdj4gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3N1YnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcmllcyA/IDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcmllc1wiPnt0aGlzLnByb3BzLmNhdGVnb3JpZXN9PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnRpbWUgPyAoPGRpdiBjbGFzc05hbWU9XCJ0aW1lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiY2xvY2tcIj48L2k+PHNwYW4+e3RoaXMucHJvcHMudGltZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyQnV0dG9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZpZ2F0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc30gY29sdW1ucz17MX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsaWtlQnV0dG9uIGdlbmVyaWNCdG5gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsaWNrQWN0aW9uPXt0aGlzLmNsaWNrTGlrZS5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZW50ZXJlZENvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImljb24gbGlrZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntMb2NhbGl6ZShcIkNBUk9VU0VMX0NBUkRfU0FWRVwiKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTmF2aWdhdGlvbkNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2ID5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBuYXZpZ2FibGUsIElOYXZpZ2FibGVQcm9wcyB9IGZyb20gXCJIT0NcIjtcblxuaW50ZXJmYWNlIElOQ0NPd25Qcm9wcyB7XG4gICAgcHJvcGFnYXRlUGFyZW50PzogYm9vbGVhbjtcbn1cblxudHlwZSBOQ0NQcm9wcyA9XG4gICAgSU5hdmlnYWJsZVByb3BzICZcbiAgICBSZWFjdC5IVE1MUHJvcHM8SFRNTERpdkVsZW1lbnQ+ICZcbiAgICBJTkNDT3duUHJvcHNcbiAgICA7XG5cbmNsYXNzIE5hdmlnYXRpb25Db250YWluZXJDbGFzc1xuICAgIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE5DQ1Byb3BzLCB7fT4ge1xuICAgIHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzOiBJTkNDT3duUHJvcHM7XG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aFxuICAgICAgICBjb25zdCB7IGFjY2VwdCwgYWNjZXB0Q2hhcnNldCwgYWN0aW9uLCBhbGxvd0Z1bGxTY3JlZW4sIGFsbG93VHJhbnNwYXJlbmN5LCBhbHQsIGFzeW5jLCBhdXRvQ29tcGxldGUsIGF1dG9Gb2N1cywgYXV0b1BsYXksIGNhcHR1cmUsIGNlbGxQYWRkaW5nLCBjZWxsU3BhY2luZywgY2hhclNldCwgY2hhbGxlbmdlLCBjaGVja2VkLCBjaXRlLCBjbGFzc0lELCBjb2xzLCBjb2xTcGFuLCBjb250ZW50LCBjb250cm9scywgY29vcmRzLCBjcm9zc09yaWdpbiwgZGF0YSwgZGF0ZVRpbWUsIGRlZmVyLCBkaXNhYmxlZCwgZG93bmxvYWQsIGVuY1R5cGUsIGZvcm0sIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlLCBmb3JtTWV0aG9kLCBmb3JtTm9WYWxpZGF0ZSwgZm9ybVRhcmdldCwgZnJhbWVCb3JkZXIsIGhlYWRlcnMsIGhlaWdodCwgaGlnaCwgaHJlZiwgaHJlZkxhbmcsIGh0bWxGb3IsIGh0dHBFcXVpdiwgaW50ZWdyaXR5LCBrZXlQYXJhbXMsIGtleVR5cGUsIGtpbmQsIGxhYmVsLCBsaXN0LCBsb29wLCBsb3csIG1hbmlmZXN0LCBtYXJnaW5IZWlnaHQsIG1hcmdpbldpZHRoLCBtYXgsIG1heExlbmd0aCwgbWVkaWEsIG1lZGlhR3JvdXAsIG1ldGhvZCwgbWluLCBtaW5MZW5ndGgsIG11bHRpcGxlLCBtdXRlZCwgbmFtZSwgbm9uY2UsIG5vVmFsaWRhdGUsIG9wZW4sIG9wdGltdW0sIHBhdHRlcm4sIHBsYWNlaG9sZGVyLCBwbGF5c0lubGluZSwgcG9zdGVyLCBwcmVsb2FkLCByZWFkT25seSwgcmVsLCByZXF1aXJlZCwgcmV2ZXJzZWQsIHJvd3MsIHJvd1NwYW4sIHNhbmRib3gsIHNjb3BlLCBzY29wZWQsIHNjcm9sbGluZywgc2VhbWxlc3MsIHNlbGVjdGVkLCBzaGFwZSwgc2l6ZSwgc2l6ZXMsIHNwYW4sIHNyYywgc3JjRG9jLCBzcmNMYW5nLCBzcmNTZXQsIHN0YXJ0LCBzdGVwLCBzdW1tYXJ5LCB0YXJnZXQsIHR5cGUsIHVzZU1hcCwgdmFsdWUsIHdpZHRoLCB3bW9kZSwgd3JhcCwgZGVmYXVsdENoZWNrZWQsIGRlZmF1bHRWYWx1ZSwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nLCBhY2Nlc3NLZXksIGNvbnRlbnRFZGl0YWJsZSwgY29udGV4dE1lbnUsIGRpciwgZHJhZ2dhYmxlLCBoaWRkZW4sIGlkLCBsYW5nLCBzcGVsbENoZWNrLCBzdHlsZSwgdGFiSW5kZXgsIHRpdGxlLCBpbnB1dE1vZGUsIGlzLCByYWRpb0dyb3VwLCByb2xlLCBhYm91dCwgZGF0YXR5cGUsIGlubGlzdCwgcHJlZml4LCBwcm9wZXJ0eSwgcmVzb3VyY2UsIHZvY2FiLCBhdXRvQ2FwaXRhbGl6ZSwgYXV0b0NvcnJlY3QsIGF1dG9TYXZlLCBjb2xvciwgaXRlbVByb3AsIGl0ZW1TY29wZSwgaXRlbVR5cGUsIGl0ZW1JRCwgaXRlbVJlZiwgcmVzdWx0cywgc2VjdXJpdHksIHVuc2VsZWN0YWJsZSwgY2hpbGRyZW4sIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBvbkNvcHksIG9uQ29weUNhcHR1cmUsIG9uQ3V0LCBvbkN1dENhcHR1cmUsIG9uUGFzdGUsIG9uUGFzdGVDYXB0dXJlLCBvbkNvbXBvc2l0aW9uRW5kLCBvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSwgb25Db21wb3NpdGlvblN0YXJ0LCBvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlLCBvbkNvbXBvc2l0aW9uVXBkYXRlLCBvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSwgb25Gb2N1cywgb25Gb2N1c0NhcHR1cmUsIG9uQmx1ciwgb25CbHVyQ2FwdHVyZSwgb25DaGFuZ2UsIG9uQ2hhbmdlQ2FwdHVyZSwgb25JbnB1dCwgb25JbnB1dENhcHR1cmUsIG9uUmVzZXQsIG9uUmVzZXRDYXB0dXJlLCBvblN1Ym1pdCwgb25TdWJtaXRDYXB0dXJlLCBvbkludmFsaWQsIG9uSW52YWxpZENhcHR1cmUsIG9uTG9hZCwgb25Mb2FkQ2FwdHVyZSwgb25FcnJvciwgb25FcnJvckNhcHR1cmUsIG9uS2V5RG93biwgb25LZXlEb3duQ2FwdHVyZSwgb25LZXlQcmVzcywgb25LZXlQcmVzc0NhcHR1cmUsIG9uS2V5VXAsIG9uS2V5VXBDYXB0dXJlLCBvbkFib3J0LCBvbkFib3J0Q2FwdHVyZSwgb25DYW5QbGF5LCBvbkNhblBsYXlDYXB0dXJlLCBvbkNhblBsYXlUaHJvdWdoLCBvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZSwgb25EdXJhdGlvbkNoYW5nZSwgb25EdXJhdGlvbkNoYW5nZUNhcHR1cmUsIG9uRW1wdGllZCwgb25FbXB0aWVkQ2FwdHVyZSwgb25FbmNyeXB0ZWQsIG9uRW5jcnlwdGVkQ2FwdHVyZSwgb25FbmRlZCwgb25FbmRlZENhcHR1cmUsIG9uTG9hZGVkRGF0YSwgb25Mb2FkZWREYXRhQ2FwdHVyZSwgb25Mb2FkZWRNZXRhZGF0YSwgb25Mb2FkZWRNZXRhZGF0YUNhcHR1cmUsIG9uTG9hZFN0YXJ0LCBvbkxvYWRTdGFydENhcHR1cmUsIG9uUGF1c2UsIG9uUGF1c2VDYXB0dXJlLCBvblBsYXksIG9uUGxheUNhcHR1cmUsIG9uUGxheWluZywgb25QbGF5aW5nQ2FwdHVyZSwgb25Qcm9ncmVzcywgb25Qcm9ncmVzc0NhcHR1cmUsIG9uUmF0ZUNoYW5nZSwgb25SYXRlQ2hhbmdlQ2FwdHVyZSwgb25TZWVrZWQsIG9uU2Vla2VkQ2FwdHVyZSwgb25TZWVraW5nLCBvblNlZWtpbmdDYXB0dXJlLCBvblN0YWxsZWQsIG9uU3RhbGxlZENhcHR1cmUsIG9uU3VzcGVuZCwgb25TdXNwZW5kQ2FwdHVyZSwgb25UaW1lVXBkYXRlLCBvblRpbWVVcGRhdGVDYXB0dXJlLCBvblZvbHVtZUNoYW5nZSwgb25Wb2x1bWVDaGFuZ2VDYXB0dXJlLCBvbldhaXRpbmcsIG9uV2FpdGluZ0NhcHR1cmUsIG9uQ2xpY2ssIG9uQ2xpY2tDYXB0dXJlLCBvbkNvbnRleHRNZW51LCBvbkNvbnRleHRNZW51Q2FwdHVyZSwgb25Eb3VibGVDbGljaywgb25Eb3VibGVDbGlja0NhcHR1cmUsIG9uRHJhZywgb25EcmFnQ2FwdHVyZSwgb25EcmFnRW5kLCBvbkRyYWdFbmRDYXB0dXJlLCBvbkRyYWdFbnRlciwgb25EcmFnRW50ZXJDYXB0dXJlLCBvbkRyYWdFeGl0LCBvbkRyYWdFeGl0Q2FwdHVyZSwgb25EcmFnTGVhdmUsIG9uRHJhZ0xlYXZlQ2FwdHVyZSwgb25EcmFnT3Zlciwgb25EcmFnT3ZlckNhcHR1cmUsIG9uRHJhZ1N0YXJ0LCBvbkRyYWdTdGFydENhcHR1cmUsIG9uRHJvcCwgb25Ecm9wQ2FwdHVyZSwgb25Nb3VzZURvd24sIG9uTW91c2VEb3duQ2FwdHVyZSwgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIG9uTW91c2VNb3ZlLCBvbk1vdXNlTW92ZUNhcHR1cmUsIG9uTW91c2VPdXQsIG9uTW91c2VPdXRDYXB0dXJlLCBvbk1vdXNlT3Zlciwgb25Nb3VzZU92ZXJDYXB0dXJlLCBvbk1vdXNlVXAsIG9uTW91c2VVcENhcHR1cmUsIG9uU2VsZWN0LCBvblNlbGVjdENhcHR1cmUsIG9uVG91Y2hDYW5jZWwsIG9uVG91Y2hDYW5jZWxDYXB0dXJlLCBvblRvdWNoRW5kLCBvblRvdWNoRW5kQ2FwdHVyZSwgb25Ub3VjaE1vdmUsIG9uVG91Y2hNb3ZlQ2FwdHVyZSwgb25Ub3VjaFN0YXJ0LCBvblRvdWNoU3RhcnRDYXB0dXJlLCBvblNjcm9sbCwgb25TY3JvbGxDYXB0dXJlLCBvbldoZWVsLCBvbldoZWVsQ2FwdHVyZSwgb25BbmltYXRpb25TdGFydCwgb25BbmltYXRpb25TdGFydENhcHR1cmUsIG9uQW5pbWF0aW9uRW5kLCBvbkFuaW1hdGlvbkVuZENhcHR1cmUsIG9uQW5pbWF0aW9uSXRlcmF0aW9uLCBvbkFuaW1hdGlvbkl0ZXJhdGlvbkNhcHR1cmUsIG9uVHJhbnNpdGlvbkVuZCwgb25UcmFuc2l0aW9uRW5kQ2FwdHVyZSwga2V5LCAuLi5jaGlsZHJlblByb3BzIH0gPSB0aGlzLnByb3BzIGFzIGFueTtcbiAgICAgICAgbGV0IHsgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzIGFzIGFueTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnRyaXBsZS1lcXVhbHNcbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lID8gYG5hdmlnYWJsZUNvbnRhaW5lciAke2NsYXNzTmFtZX1gIDogXCJuYXZpZ2FibGVDb250YWluZXJcIjtcbiAgICAgICAgY2xhc3NOYW1lID0gYGZpbGxQYXJlbnQgJHtjbGFzc05hbWV9YDtcbiAgICAgICAgY29uc3QgZGl2UHJvcHMgPSB7IGFjY2VwdCwgYWNjZXB0Q2hhcnNldCwgYWN0aW9uLCBhbGxvd0Z1bGxTY3JlZW4sIGFsbG93VHJhbnNwYXJlbmN5LCBhbHQsIGFzeW5jLCBhdXRvQ29tcGxldGUsIGF1dG9Gb2N1cywgYXV0b1BsYXksIGNhcHR1cmUsIGNlbGxQYWRkaW5nLCBjZWxsU3BhY2luZywgY2hhclNldCwgY2hhbGxlbmdlLCBjaGVja2VkLCBjaXRlLCBjbGFzc0lELCBjb2xzLCBjb2xTcGFuLCBjb250ZW50LCBjb250cm9scywgY29vcmRzLCBjcm9zc09yaWdpbiwgZGF0YSwgZGF0ZVRpbWUsIGRlZmVyLCBkaXNhYmxlZCwgZG93bmxvYWQsIGVuY1R5cGUsIGZvcm0sIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlLCBmb3JtTWV0aG9kLCBmb3JtTm9WYWxpZGF0ZSwgZm9ybVRhcmdldCwgZnJhbWVCb3JkZXIsIGhlYWRlcnMsIGhlaWdodCwgaGlnaCwgaHJlZiwgaHJlZkxhbmcsIGh0bWxGb3IsIGh0dHBFcXVpdiwgaW50ZWdyaXR5LCBrZXlQYXJhbXMsIGtleVR5cGUsIGtpbmQsIGxhYmVsLCBsaXN0LCBsb29wLCBsb3csIG1hbmlmZXN0LCBtYXJnaW5IZWlnaHQsIG1hcmdpbldpZHRoLCBtYXgsIG1heExlbmd0aCwgbWVkaWEsIG1lZGlhR3JvdXAsIG1ldGhvZCwgbWluLCBtaW5MZW5ndGgsIG11bHRpcGxlLCBtdXRlZCwgbmFtZSwgbm9uY2UsIG5vVmFsaWRhdGUsIG9wZW4sIG9wdGltdW0sIHBhdHRlcm4sIHBsYWNlaG9sZGVyLCBwbGF5c0lubGluZSwgcG9zdGVyLCBwcmVsb2FkLCByZWFkT25seSwgcmVsLCByZXF1aXJlZCwgcmV2ZXJzZWQsIHJvd3MsIHJvd1NwYW4sIHNhbmRib3gsIHNjb3BlLCBzY29wZWQsIHNjcm9sbGluZywgc2VhbWxlc3MsIHNlbGVjdGVkLCBzaGFwZSwgc2l6ZSwgc2l6ZXMsIHNwYW4sIHNyYywgc3JjRG9jLCBzcmNMYW5nLCBzcmNTZXQsIHN0YXJ0LCBzdGVwLCBzdW1tYXJ5LCB0YXJnZXQsIHR5cGUsIHVzZU1hcCwgdmFsdWUsIHdpZHRoLCB3bW9kZSwgd3JhcCwgZGVmYXVsdENoZWNrZWQsIGRlZmF1bHRWYWx1ZSwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nLCBhY2Nlc3NLZXksIGNsYXNzTmFtZSwgY29udGVudEVkaXRhYmxlLCBjb250ZXh0TWVudSwgZGlyLCBkcmFnZ2FibGUsIGhpZGRlbiwgaWQsIGxhbmcsIHNwZWxsQ2hlY2ssIHN0eWxlLCB0YWJJbmRleCwgdGl0bGUsIGlucHV0TW9kZSwgaXMsIHJhZGlvR3JvdXAsIHJvbGUsIGFib3V0LCBkYXRhdHlwZSwgaW5saXN0LCBwcmVmaXgsIHByb3BlcnR5LCByZXNvdXJjZSwgdm9jYWIsIGF1dG9DYXBpdGFsaXplLCBhdXRvQ29ycmVjdCwgYXV0b1NhdmUsIGNvbG9yLCBpdGVtUHJvcCwgaXRlbVNjb3BlLCBpdGVtVHlwZSwgaXRlbUlELCBpdGVtUmVmLCByZXN1bHRzLCBzZWN1cml0eSwgdW5zZWxlY3RhYmxlLCBjaGlsZHJlbiwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIG9uQ29weSwgb25Db3B5Q2FwdHVyZSwgb25DdXQsIG9uQ3V0Q2FwdHVyZSwgb25QYXN0ZSwgb25QYXN0ZUNhcHR1cmUsIG9uQ29tcG9zaXRpb25FbmQsIG9uQ29tcG9zaXRpb25FbmRDYXB0dXJlLCBvbkNvbXBvc2l0aW9uU3RhcnQsIG9uQ29tcG9zaXRpb25TdGFydENhcHR1cmUsIG9uQ29tcG9zaXRpb25VcGRhdGUsIG9uQ29tcG9zaXRpb25VcGRhdGVDYXB0dXJlLCBvbkZvY3VzLCBvbkZvY3VzQ2FwdHVyZSwgb25CbHVyLCBvbkJsdXJDYXB0dXJlLCBvbkNoYW5nZSwgb25DaGFuZ2VDYXB0dXJlLCBvbklucHV0LCBvbklucHV0Q2FwdHVyZSwgb25SZXNldCwgb25SZXNldENhcHR1cmUsIG9uU3VibWl0LCBvblN1Ym1pdENhcHR1cmUsIG9uSW52YWxpZCwgb25JbnZhbGlkQ2FwdHVyZSwgb25Mb2FkLCBvbkxvYWRDYXB0dXJlLCBvbkVycm9yLCBvbkVycm9yQ2FwdHVyZSwgb25LZXlEb3duLCBvbktleURvd25DYXB0dXJlLCBvbktleVByZXNzLCBvbktleVByZXNzQ2FwdHVyZSwgb25LZXlVcCwgb25LZXlVcENhcHR1cmUsIG9uQWJvcnQsIG9uQWJvcnRDYXB0dXJlLCBvbkNhblBsYXksIG9uQ2FuUGxheUNhcHR1cmUsIG9uQ2FuUGxheVRocm91Z2gsIG9uQ2FuUGxheVRocm91Z2hDYXB0dXJlLCBvbkR1cmF0aW9uQ2hhbmdlLCBvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZSwgb25FbXB0aWVkLCBvbkVtcHRpZWRDYXB0dXJlLCBvbkVuY3J5cHRlZCwgb25FbmNyeXB0ZWRDYXB0dXJlLCBvbkVuZGVkLCBvbkVuZGVkQ2FwdHVyZSwgb25Mb2FkZWREYXRhLCBvbkxvYWRlZERhdGFDYXB0dXJlLCBvbkxvYWRlZE1ldGFkYXRhLCBvbkxvYWRlZE1ldGFkYXRhQ2FwdHVyZSwgb25Mb2FkU3RhcnQsIG9uTG9hZFN0YXJ0Q2FwdHVyZSwgb25QYXVzZSwgb25QYXVzZUNhcHR1cmUsIG9uUGxheSwgb25QbGF5Q2FwdHVyZSwgb25QbGF5aW5nLCBvblBsYXlpbmdDYXB0dXJlLCBvblByb2dyZXNzLCBvblByb2dyZXNzQ2FwdHVyZSwgb25SYXRlQ2hhbmdlLCBvblJhdGVDaGFuZ2VDYXB0dXJlLCBvblNlZWtlZCwgb25TZWVrZWRDYXB0dXJlLCBvblNlZWtpbmcsIG9uU2Vla2luZ0NhcHR1cmUsIG9uU3RhbGxlZCwgb25TdGFsbGVkQ2FwdHVyZSwgb25TdXNwZW5kLCBvblN1c3BlbmRDYXB0dXJlLCBvblRpbWVVcGRhdGUsIG9uVGltZVVwZGF0ZUNhcHR1cmUsIG9uVm9sdW1lQ2hhbmdlLCBvblZvbHVtZUNoYW5nZUNhcHR1cmUsIG9uV2FpdGluZywgb25XYWl0aW5nQ2FwdHVyZSwgb25DbGljaywgb25DbGlja0NhcHR1cmUsIG9uQ29udGV4dE1lbnUsIG9uQ29udGV4dE1lbnVDYXB0dXJlLCBvbkRvdWJsZUNsaWNrLCBvbkRvdWJsZUNsaWNrQ2FwdHVyZSwgb25EcmFnLCBvbkRyYWdDYXB0dXJlLCBvbkRyYWdFbmQsIG9uRHJhZ0VuZENhcHR1cmUsIG9uRHJhZ0VudGVyLCBvbkRyYWdFbnRlckNhcHR1cmUsIG9uRHJhZ0V4aXQsIG9uRHJhZ0V4aXRDYXB0dXJlLCBvbkRyYWdMZWF2ZSwgb25EcmFnTGVhdmVDYXB0dXJlLCBvbkRyYWdPdmVyLCBvbkRyYWdPdmVyQ2FwdHVyZSwgb25EcmFnU3RhcnQsIG9uRHJhZ1N0YXJ0Q2FwdHVyZSwgb25Ecm9wLCBvbkRyb3BDYXB0dXJlLCBvbk1vdXNlRG93biwgb25Nb3VzZURvd25DYXB0dXJlLCBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZSwgb25Nb3VzZU1vdmUsIG9uTW91c2VNb3ZlQ2FwdHVyZSwgb25Nb3VzZU91dCwgb25Nb3VzZU91dENhcHR1cmUsIG9uTW91c2VPdmVyLCBvbk1vdXNlT3ZlckNhcHR1cmUsIG9uTW91c2VVcCwgb25Nb3VzZVVwQ2FwdHVyZSwgb25TZWxlY3QsIG9uU2VsZWN0Q2FwdHVyZSwgb25Ub3VjaENhbmNlbCwgb25Ub3VjaENhbmNlbENhcHR1cmUsIG9uVG91Y2hFbmQsIG9uVG91Y2hFbmRDYXB0dXJlLCBvblRvdWNoTW92ZSwgb25Ub3VjaE1vdmVDYXB0dXJlLCBvblRvdWNoU3RhcnQsIG9uVG91Y2hTdGFydENhcHR1cmUsIG9uU2Nyb2xsLCBvblNjcm9sbENhcHR1cmUsIG9uV2hlZWwsIG9uV2hlZWxDYXB0dXJlLCBvbkFuaW1hdGlvblN0YXJ0LCBvbkFuaW1hdGlvblN0YXJ0Q2FwdHVyZSwgb25BbmltYXRpb25FbmQsIG9uQW5pbWF0aW9uRW5kQ2FwdHVyZSwgb25BbmltYXRpb25JdGVyYXRpb24sIG9uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZSwgb25UcmFuc2l0aW9uRW5kLCBvblRyYW5zaXRpb25FbmRDYXB0dXJlLCBrZXkgfTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGVcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgey4uLmRpdlByb3BzfT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4gP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN1cnNpdmVDbG9uZUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pIDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbiAgICBwcml2YXRlIHJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4oY2hpbGRyZW46IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wcm9wYWdhdGVQYXJlbnQgPyBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIChjaGlsZDogYW55LCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmN1cmx5XG4gICAgICAgICAgICBpZiAoIWNoaWxkKSByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICBsZXQgY2hpbGRQcm9wczogYW55ID0geyAuLi5jaGlsZC5wcm9wc307XG4gICAgICAgICAgICBsZXQgZm91bmROYXYgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp0cmlwbGUtZXF1YWxzXG4gICAgICAgICAgICBpZiAoY2hpbGQucHJvcHMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC50eXBlICYmIGNoaWxkUHJvcHMucGFyZW50KSB7IC8vIElzIE5hdmlnYWJsZSFcbiAgICAgICAgICAgICAgICBjaGlsZFByb3BzID0geyAuLi5jaGlsZFByb3BzLCBwYXJlbnQ6IHRoaXMgfTtcbiAgICAgICAgICAgICAgICBmb3VuZE5hdiA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmICghZm91bmROYXYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRQcm9wcy5jaGlsZHJlbiA9IHRoaXMucmVjdXJzaXZlQ2xvbmVDaGlsZHJlbihjaGlsZC5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgey4uLmNoaWxkUHJvcHN9KTtcbiAgICAgICAgfSkgOiBjaGlsZHJlbjtcbiAgICB9XG59XG5cbk5hdmlnYXRpb25Db250YWluZXJDbGFzcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJvcGFnYXRlUGFyZW50OiBmYWxzZSxcbn07XG5cbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uQ29udGFpbmVyID0gbmF2aWdhYmxlKE5hdmlnYXRpb25Db250YWluZXJDbGFzcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL25hdmlnYXRpb25Db250YWluZXIvbmF2aWdhdGlvbkNvbnRhaW5lci5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSBcInJlZHV4XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmltcG9ydCB7IExvYWRpbmcsIE5hdmlnYXRpb25Db250YWluZXIgfSBmcm9tICdDb21wb25lbnRzJztcbmltcG9ydCB7IElVSUFjdGlvbnMsIFVJQWN0aW9ucyB9IGZyb20gJ0FjdGlvbnMnO1xuaW1wb3J0IHsgbmF2aWdhYmxlLCBJTmF2aWdhYmxlUHJvcHMgfSBmcm9tIFwiSE9DXCI7XG5pbXBvcnQgeyBjYXJkTW9kdWxlQ29uZmlnLCBjYXJkTW9kdWxlQ2xhc3NlcywgSVZhbGlkYXRhYmxlLCBpc1ZhbGlkYXRhYmxlIH0gZnJvbSAnQ2FyZE1vZHVsZXMnO1xuaW1wb3J0IHsgTmF2aWdhYmxlQ2FyZE1vZHVsZUxpc3QgfSBmcm9tIFwiQ29udGFpbmVyc1wiO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCJTZXJ2aWNlc1wiO1xuXG5kZWNsYXJlIHR5cGUgRGl2ZUFQSSA9IGFueTtcbmV4cG9ydCB0eXBlIENhcmREZXRhaWxTdGF0dXMgPSBcIkxPQURJTkdcIiB8IFwiRE9ORVwiO1xuZXhwb3J0IHR5cGUgUmVsYXRpb25UeXBlcyA9IFwiYWxsXCIgfCBcIm9mZm1vdmllXCIgfCBcIm5vbmVcIjtcbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmREZXRhaWxPd25Qcm9wcyB7XG4gICAgY2FyZDogQ2FyZDtcbiAgICByZWxhdGlvbnM/OiBSZWxhdGlvblR5cGVzO1xufVxuZXhwb3J0IHR5cGUgQ2FyZERldGFpbFByb3BzID0gSUNhcmREZXRhaWxPd25Qcm9wcyAmIHsgdWlBY3Rpb25zOiBJVUlBY3Rpb25zIH07XG5leHBvcnQgaW50ZXJmYWNlIElDYXJkRGV0YWlsU3RhdGUgeyBzdGF0dXM6IENhcmREZXRhaWxTdGF0dXM7IH1cbmV4cG9ydCBjb25zdCBjYXJkRGV0YWlsSW5pdGlhbFN0YXRlOiBJQ2FyZERldGFpbFN0YXRlID0ge1xuICAgIHN0YXR1czogXCJMT0FESU5HXCIsXG59O1xuXG5leHBvcnQgY2xhc3MgQ2FyZERldGFpbENsYXNzXG4gICAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PENhcmREZXRhaWxQcm9wcywgSUNhcmREZXRhaWxTdGF0ZT4ge1xuICAgIHByaXZhdGUgY2FyZE1vZHVsZXM6IEpTWC5FbGVtZW50W10gPSBbXTtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogQ2FyZERldGFpbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGNhcmREZXRhaWxJbml0aWFsU3RhdGU7XG4gICAgfVxuICAgIHB1YmxpYyByZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZERldGFpbCBmaWxsUGFyZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3R0b21Db250YWluZXJUb3BCdXR0b25zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZERldGFpbEJ0blwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXIga2V5PVwiY2Fyb3VzZWxDbG9zZVwiIGNsYXNzTmFtZT1cImJjdEJ1dHRvbiBjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrQWN0aW9uPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLyp0aGlzLmNsb3NlQWxsQ2FyZHMuYmluZCh0aGlzKSovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9ezF9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L05hdmlnYXRpb25Db250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhcmQgP1xuICAgICAgICAgICAgICAgICAgICA8TmF2aWdhYmxlQ2FyZE1vZHVsZUxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc30gY29sdW1ucz17MX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQ9e3RoaXMucHJvcHMuY2FyZH0gXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUZpcnN0PXt0cnVlfS8+XG4gICAgICAgICAgICAgICAgICAgIDogPExvYWRpbmcgLz59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2VBbGxDYXJkcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDTE9TRSBBTEwgQ0FSRFNcIik7XG4gICAgICAgIC8vIFRPRE86IGxvZ2ljIHRvIGNsb3NlIGFsbCBjYXJkc1xuICAgICAgICB0aGlzLnByb3BzLnVpQWN0aW9ucy5vcGVuU3luYygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNhcmQgJiYgdGhpcy5zdGF0ZS5zdGF0dXMgIT09IFwiRE9ORVwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgLi4udGhpcy5zdGF0ZSwgc3RhdHVzOiBcIkRPTkVcIiB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkVG9BcnJheUlmRXhpc3RzKHRhcmdldEFycmF5OiBBcnJheTxSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+PiwgY2FuZGlkYXRlOiBhbnkpIHtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgdGFyZ2V0QXJyYXkucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2g6IGFueSk6IGFueSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdWlBY3Rpb25zOiBiaW5kQWN0aW9uQ3JlYXRvcnMoVUlBY3Rpb25zLCBkaXNwYXRjaCksXG4gICAgfTtcbn07XG5cbmNvbnN0IG1lcmdlUHJvcHMgPSAoc3RhdGVQcm9wczogYW55LCBkaXNwYXRjaFByb3BzOiBhbnksIG93blByb3BzOiBhbnkpID0+IHtcbiAgICByZXR1cm4geyAuLi5zdGF0ZVByb3BzLCAuLi5vd25Qcm9wcywgLi4uZGlzcGF0Y2hQcm9wcyB9O1xufTtcblxuZXhwb3J0IGNvbnN0IENhcmREZXRhaWwgPSBuYXZpZ2FibGUoY29ubmVjdChcbiAgICB1bmRlZmluZWQsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzLFxuICAgIG1lcmdlUHJvcHMsXG4pKENhcmREZXRhaWxDbGFzcykpIGFzIFJlYWN0LkNvbXBvbmVudENsYXNzPElOYXZpZ2FibGVQcm9wcyAmIElDYXJkRGV0YWlsT3duUHJvcHM+O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmREZXRhaWwuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENhcmQsIExvY2FsaXplIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmRBbmRDYXRlZ29yeVByb3BzIHtcbiAgICBjYXJkOiBDYXJkIHwgbnVsbDtcbn1cbmV4cG9ydCBjbGFzcyBDYXJkQW5kQ2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElDYXJkQW5kQ2F0ZWdvcnlQcm9wcywge30+IHtcbiAgICBwdWJsaWMgc3RhdGljIGRlZmF1bHRQcm9wczogSUNhcmRBbmRDYXRlZ29yeVByb3BzID0ge1xuICAgICAgICBjYXJkOiBudWxsLFxuICAgIH07XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5wcm9wcy5jYXJkO1xuICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgICAgbGV0IHNob3dJbWFnZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNhcmQuaW1hZ2UgJiYgY2FyZC5pbWFnZS50aHVtYikge1xuICAgICAgICAgICAgICAgIHNob3dJbWFnZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2hvd0ljb246IGJvb2xlYW4gPSAhc2hvd0ltYWdlO1xuICAgICAgICAgICAgbGV0IHNob3dUaXRsZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNob3dTdWJ0aXRsZSA9IGZhbHNlO1xuICAgICAgICAgICAgc3dpdGNoIChjYXJkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdvc3QnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbmcnOlxuICAgICAgICAgICAgICAgICAgICBzaG93SW1hZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ljb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzaG93VGl0bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzaG93U3VidGl0bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdxdW90ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAncmVmZXJlbmNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0cml2aWEnOlxuICAgICAgICAgICAgICAgICAgICBzaG93SW1hZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ljb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RpdGxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IExvY2FsaXplKGBDQVJPVVNFTF9BTElBU18ke2NhcmQudHlwZS50b1VwcGVyQ2FzZSgpfWApIHx8IGNhcmQudHlwZTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkQW5kQ2F0ZWdvcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BpbWFnZSAke2NhcmQudHlwZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3Nob3dJbWFnZSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtjYXJkIS5pbWFnZSEudGh1bWJ9KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2NhcmQhLmltYWdlIS5hbmNob3JfeH0lICR7Y2FyZCEuaW1hZ2UhLmFuY2hvcl95fSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dJY29uID8gPGRpdiBjbGFzc05hbWU9XCJpY29uXCI+PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93VGl0bGUgPyA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e2NhcmQudGl0bGV9PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93U3VidGl0bGUgJiYgIXNob3dJY29uID8gPGRpdiBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPntjYXJkLnN1YnRpdGxlfTwvZGl2PiA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5XCI+e2NhdGVnb3J5fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmRBbmRDYXRlZ29yeS9jYXJkQW5kQ2F0ZWdvcnkuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCB7IENhcmQsIENhcmRDb250YWluZXJUeXBlRW51bSwgSGVscGVyLCBTb3VyY2VEYXRhIGFzIFNvdXJjZURhdGFWTywgTG9jYWxpemUgfSBmcm9tIFwiU2VydmljZXNcIjtcbmltcG9ydCB7IElDYXJkTW9kdWxlUHJvcHMgfSBmcm9tIFwiQ2FyZE1vZHVsZXNcIjtcbmltcG9ydCB7IERpcmVjdGlvbkJ1dHRvbiwgRGlyZWN0aW9uQnV0dG9uTGlzdCB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5pbXBvcnQgeyBuYXZpZ2FibGUgfSBmcm9tIFwiSE9DXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZlcnRpY2FsU2Nyb2xsUHJvcHMge1xuICAgIHNvdXJjZT86IFNvdXJjZURhdGFWTyB8IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBjbGFzcyBWZXJ0aWNhbFNjcm9sbENsYXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJVmVydGljYWxTY3JvbGxQcm9wcywge30+IHtcblxuICAgIHByaXZhdGUgc2Nyb2xsQm94OiBIVE1MRWxlbWVudDtcblxuICAgIHB1YmxpYyByZW5kZXIoKTogYW55IHtcbiAgICAgICAgY29uc3QgZnVsbDogYm9vbGVhbiA9IHRoaXMucHJvcHMuc291cmNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc291cmNlLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zb3VyY2UubmFtZSAhPT0gJyc7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgIGZ1bGwsXG4gICAgICAgICAgICBzY3JvbGxCb3g6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnNvdXJjZSAmJiB0aGlzLnByb3BzLnNvdXJjZS5uYW1lID9cbiAgICAgICAgICAgIHRoaXMucHJvcHMuc291cmNlLm5hbWUgOiB0aGlzLnByb3BzLnNvdXJjZSAmJiB0aGlzLnByb3BzLnNvdXJjZS51cmwgP1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc291cmNlLnVybCA6IG51bGw7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZlcnRpY2FsU2Nyb2xsXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY3JvbGxCb3hcIiByZWY9eyhlbCkgPT4geyBpZiAoZWwpIHsgdGhpcy5zY3JvbGxCb3ggPSBlbDsgfSB9fT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3NvdXJjZSA/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic291cmNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibGFiZWxcIj57TG9jYWxpemUoJ1NPVVJDRScpfTogPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0XCI+e3NvdXJjZX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG5zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxEaXJlY3Rpb25CdXR0b25MaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ9e3RoaXN9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZT1cImhvcml6b250YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYnRucz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGlyZWN0aW9uOiAndXAnLCBhY3Rpb246IHRoaXMudXBBY3Rpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRpcmVjdGlvbjogJ2Rvd24nLCBhY3Rpb246IHRoaXMuZG93bkFjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBkb3duQWN0aW9uID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbEJveC5zY3JvbGxUb3AgKz0gdGhpcy5zY3JvbGxCb3gub2Zmc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyB1cEFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxCb3guc2Nyb2xsVG9wIC09IHRoaXMuc2Nyb2xsQm94Lm9mZnNldEhlaWdodDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBWZXJ0aWNhbFNjcm9sbCA9IG5hdmlnYWJsZShWZXJ0aWNhbFNjcm9sbENsYXNzKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvdmVydGljYWxTY3JvbGwvdmVydGljYWxTY3JvbGwuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCB7IENhcmQsIENhcmRDb250YWluZXJUeXBlRW51bSwgSGVscGVyLCBTb3VyY2VEYXRhIGFzIFNvdXJjZURhdGFWTywgTG9jYWxpemUgfSBmcm9tIFwiU2VydmljZXNcIjtcbmltcG9ydCB7IElDYXJkTW9kdWxlUHJvcHMgfSBmcm9tIFwiQ2FyZE1vZHVsZXNcIjtcbmltcG9ydCB7IERpcmVjdGlvbkJ1dHRvbiwgTmF2aWdhdGlvbkNvbnRhaW5lciwgRGlyZWN0aW9uQnV0dG9uTGlzdCB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5pbXBvcnQgeyBuYXZpZ2FibGUgfSBmcm9tIFwiSE9DXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhvcml6b250YWxTY3JvbGxQcm9wcyB7XG4gICAgdW5pcXVlSWQ6IHN0cmluZztcbiAgICBpdGVtc1Nob3duOiBudW1iZXI7XG59XG5leHBvcnQgY2xhc3MgSG9yaXpvbnRhbFNjcm9sbENsYXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJSG9yaXpvbnRhbFNjcm9sbFByb3BzLCB7fT4ge1xuXG4gICAgcHJpdmF0ZSBzY3JvbGxCb3g6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgb2Zmc2V0OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgYnRuczogSFRNTEVsZW1lbnQ7XG5cbiAgICBwdWJsaWMgcmVuZGVyKCk6IGFueSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvcml6b250YWxTY3JvbGxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjcm9sbEJveFwiIHJlZj17KGVsKSA9PiB7IGlmIChlbCkgeyB0aGlzLnNjcm9sbEJveCA9IGVsOyB9IH19PlxuICAgICAgICAgICAgICAgICAgICA8TmF2aWdhdGlvbkNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlUGFyZW50PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Nyb2xsQm94Q29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnNob3dFbGVtZW50cygpfVxuICAgICAgICAgICAgICAgICAgICA8L05hdmlnYXRpb25Db250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPERpcmVjdGlvbkJ1dHRvbkxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlPVwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYnRucz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGlyZWN0aW9uOiAncmlnaHQnLCBhY3Rpb246IHRoaXMucmlnaHRBY3Rpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRpcmVjdGlvbjogJ2xlZnQnLCBhY3Rpb246IHRoaXMubGVmdEFjdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgbGV0IGVsZW1lbnRzOiBhbnkgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMub2Zmc2V0OyBpIDwgKHRoaXMucHJvcHMuaXRlbXNTaG93biArIHRoaXMub2Zmc2V0KSAmJiAoaSA8IHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaCh0aGlzLnByb3BzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcHVibGljIGxlZnRBY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMub2Zmc2V0IC09IHRoaXMucHJvcHMuaXRlbXNTaG93bjtcbiAgICAgICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmlnaHRBY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IHRoaXMucHJvcHMuaXRlbXNTaG93bjtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSAmJiAodGhpcy5vZmZzZXQgKyB0aGlzLnByb3BzLml0ZW1zU2hvd24gPj0gdGhpcy5wcm9wcy5jaGlsZHJlbi5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMucHJvcHMuY2hpbGRyZW4ubGVuZ3RoIC0gdGhpcy5wcm9wcy5pdGVtc1Nob3duIDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSG9yaXpvbnRhbFNjcm9sbCA9IG5hdmlnYWJsZShIb3Jpem9udGFsU2Nyb2xsQ2xhc3MpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9ob3Jpem9udGFsU2Nyb2xsL2hvcml6b250YWxTY3JvbGwuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCB7IG5hdmlnYWJsZSB9IGZyb20gXCJIT0NcIjtcbmltcG9ydCB7IERpcmVjdGlvbkJ1dHRvbiB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURpcmVjdGlvbkJ1dHRvbkxpc3RPYmoge1xuICAgIGRpcmVjdGlvbjogJ2xlZnQnIHwgJ3JpZ2h0JyB8ICd1cCcgfCAnZG93bic7XG4gICAgYWN0aW9uPzogKCkgPT4gdm9pZDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSURpcmVjdGlvbkJ1dHRvbkxpc3RQcm9wcyB7XG4gICAgYnRuczogSURpcmVjdGlvbkJ1dHRvbkxpc3RPYmpbXTtcbiAgICB0ZW1wbGF0ZT86ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7XG59XG5leHBvcnQgY2xhc3MgRGlyZWN0aW9uQnV0dG9uTGlzdENsYXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJRGlyZWN0aW9uQnV0dG9uTGlzdFByb3BzLCB7fT4ge1xuXG4gICAgcHVibGljIHJlbmRlcigpOiBhbnkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT17J2RpcmVjdGlvbkJ1dHRvbkxpc3QgJyArIHRoaXMucHJvcHMudGVtcGxhdGV9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmJ0bnMubWFwKChidG46IElEaXJlY3Rpb25CdXR0b25MaXN0T2JqLCBpOiBudW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImJ0blwiIGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RGlyZWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uPXtidG4uZGlyZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrQWN0aW9uPXtidG4uYWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXt0aGlzLnByb3BzLnRlbXBsYXRlICE9PSAndmVydGljYWwnID8gdGhpcy5wcm9wcy5idG5zLmxlbmd0aCA6IDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IERpcmVjdGlvbkJ1dHRvbkxpc3QgPSBuYXZpZ2FibGUoRGlyZWN0aW9uQnV0dG9uTGlzdENsYXNzKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvZGlyZWN0aW9uQnV0dG9uTGlzdC9kaXJlY3Rpb25CdXR0b25MaXN0LmNvbXBvbmVudC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgeyBuYXZpZ2FibGUgfSBmcm9tIFwiSE9DXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURpcmVjdGlvbkJ1dHRvblByb3BzIHtcbiAgICBkaXJlY3Rpb246ICdsZWZ0JyB8ICdyaWdodCcgfCAndXAnIHwgJ2Rvd24nO1xufVxuZXhwb3J0IGNsYXNzIERpcmVjdGlvbkJ1dHRvbkNsYXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJRGlyZWN0aW9uQnV0dG9uUHJvcHMsIHt9PiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnZGlyZWN0aW9uQnV0dG9uJywgdGhpcy5wcm9wcy5kaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXN9PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbiAgICBcbn1cblxuZXhwb3J0IGNvbnN0IERpcmVjdGlvbkJ1dHRvbiA9IG5hdmlnYWJsZShEaXJlY3Rpb25CdXR0b25DbGFzcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2RpcmVjdGlvbkJ1dHRvbkxpc3QvZGlyZWN0aW9uQnV0dG9uL2RpcmVjdGlvbkJ1dHRvbi5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IHsgbmF2aWdhYmxlIH0gZnJvbSAnSE9DJztcbmltcG9ydCB7IExvY2FsaXplIH0gZnJvbSAnU2VydmljZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElNaW5pQ2FyZEJ1dHRvblN0YXRlIHtcbiAgICB0eXBlOiAnTU9SRScgfCAnU0FWRSc7XG4gICAgbGlrZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElNaW5pQ2FyZEJ1dHRvbk1ldGhvZHMge1xuICAgIGNsaWNrQWN0aW9uOiBhbnk7XG59XG5cbnR5cGUgTWluaUNhcmRCdXR0b25Qcm9wcyA9IElNaW5pQ2FyZEJ1dHRvblN0YXRlICYgSU1pbmlDYXJkQnV0dG9uTWV0aG9kcztcblxuZXhwb3J0IGNsYXNzIE1pbmlDYXJkQnV0dG9uQ2xhc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE1pbmlDYXJkQnV0dG9uUHJvcHMsIHt9PiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnTU9SRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWluaUNhcmRCdXR0b24gZmlsbFBhcmVudCBtb3JlXCIgb25DbGljaz17dGhpcy5wcm9wcy5jbGlja0FjdGlvbn0+KzwvZGl2PjtcbiAgICAgICAgICAgIGNhc2UgJ1NBVkUnOlxuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXNBcHBsaWVkID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgIGljb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxpa2U6IHRoaXMucHJvcHMubGlrZWQgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxpa2VkOiB0aGlzLnByb3BzLmxpa2VkID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1pbmlDYXJkQnV0dG9uIGZpbGxQYXJlbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLmNsaWNrQWN0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzQXBwbGllZH0+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5saWtlZCA/IExvY2FsaXplKCdDQVJPVVNFTF9DQVJEX1NBVkVEJykgOiBMb2NhbGl6ZSgnQ0FST1VTRUxfQ0FSRF9TQVZFJyl9XG4gICAgICAgICAgICAgICAgPC9kaXY+O1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1pbmlDYXJkQnV0dG9uIGZpbGxQYXJlbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLmNsaWNrQWN0aW9ufT48L2Rpdj47XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgTWluaUNhcmRCdXR0b24gPSBuYXZpZ2FibGUoTWluaUNhcmRCdXR0b25DbGFzcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL21pbmlDYXJkL21pbmlDYXJkQnV0dG9uL21pbmlDYXJkQnV0dG9uLmNvbXBvbmVudC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuaW1wb3J0IHsgbmF2aWdhYmxlIH0gZnJvbSAnSE9DJztcbmltcG9ydCB7IENhcmQsIERpdmVBUElDbGFzcywgUmVsYXRpb25Nb2R1bGUsIER1cGxlLCBTaW5nbGUgfSBmcm9tICdTZXJ2aWNlcyc7XG5pbXBvcnQgeyBNaW5pQ2FyZCB9IGZyb20gJ0NvbXBvbmVudHMnO1xuaW1wb3J0IHsgSVVJQWN0aW9ucywgLypVc2VyQWN0aW9ucyovIElVc2VyQWN0aW9ucywgVUlBY3Rpb25zIH0gZnJvbSBcIkFjdGlvbnNcIjtcblxuZGVjbGFyZSBjb25zdCBEaXZlQVBJOiBEaXZlQVBJQ2xhc3M7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1pbmlDYXJkTGlzdFN0YXRlIHtcbiAgICBlbGVtZW50czogQXJyYXk8Q2FyZCB8IFJlbGF0aW9uTW9kdWxlPjtcbiAgICBtb3ZpZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgd2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lOiBib29sZWFuO1xuICAgIGlkeD86IG51bWJlcjtcbiAgICBnZXRNb3ZpZVRpbWU6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1pbmlDYXJkTGlzdE1ldGhvZHMge1xuICAgIGNsaWNrQWN0aW9uPzogYW55O1xuICAgIHNldFNlbGVjdGVkT25TY2VuZUNoYW5nZT86IGFueTtcbiAgICBzZXROb2RlQnlJZD86IChpZHg6IG51bWJlcikgPT4gYW55O1xufVxuXG50eXBlIE1pbmlDYXJkTGlzdFByb3BzID0gSU1pbmlDYXJkTGlzdFN0YXRlICYgSU1pbmlDYXJkTGlzdE1ldGhvZHMgJlxuICAgIHsgdWlBY3Rpb25zOiBJVUlBY3Rpb25zLCB1c2VyQWN0aW9uczogSVVzZXJBY3Rpb25zIH07XG5cbmV4cG9ydCBjbGFzcyBNaW5pQ2FyZExpc3RDbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxNaW5pQ2FyZExpc3RQcm9wcywge30+IHtcbiAgICBwdWJsaWMgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczogTWluaUNhcmRMaXN0UHJvcHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLmVsZW1lbnRzICE9PSB0eXBlb2YgbmV4dFByb3BzLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuZWxlbWVudHMgJiYgbmV4dFByb3BzLmVsZW1lbnRzLmxlbmd0aCAhPT0gdGhpcy5wcm9wcy5lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHM6IE1pbmlDYXJkTGlzdFByb3BzKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW01pbmlDYXJkXVtjb21wb25lbnRXaWxsVXBkYXRlXSBcIiwgbmV4dFByb3BzKTtcbiAgICAgICAgLy8gRXN0byBlcyBwYXJhIHF1ZSBlbiBlbCBjYW1iaW8gZGUgZXNjZW5hLCBzaSBlbCBmb2NvIGVzdMOhIGVuIGFsZ3VuYSBtaW5pY2FyZCwgc2UgY2FyZ3VlIGxhIG51ZXZhIGVzY2VuYVxuICAgICAgICAvLyBzZWxlY2Npb25hbmRvIGVsIHByaW1lciBlbGVtZW50by5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMud2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZXROb2RlQnlJZCAmJiB0aGlzLnByb3BzLmlkeCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0Tm9kZUJ5SWQodGhpcy5wcm9wcy5pZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5lbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlbGF0aW9ucyA9IChjYXJkOiBDYXJkKTogQ2FyZFtdID0+IHtcbiAgICAgICAgbGV0IHJlbHM6IENhcmRbXSA9IFtdO1xuICAgICAgICBjb25zdCBsaW1pdCA9IDM7XG4gICAgICAgIGlmIChjYXJkLnJlbGF0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAvL2NhcmQucmVsYXRpb25zLm1hcCgoZWw6IFNpbmdsZSB8IER1cGxlLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IoY29uc3QgZWwgb2YgY2FyZC5yZWxhdGlvbnMpe1xuICAgICAgICAgICAgICAgIGlmKGk9PTMpe1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsID0gZWwgYXMgU2luZ2xlIHwgRHVwbGU7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZWwuY29udGVudF90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hvbWVfZGVjbyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxTaW5nbGUgPSBlbCBhcyBTaW5nbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxzLnB1c2goLi4ucmVsU2luZ2xlLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWxzO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWxlbWVudHM6IFwiLCB0aGlzLnByb3BzLmVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtaW5pQ2FyZExpc3RcIiA+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVsZW1lbnRzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgIChzY2VuZUNhcmQ6IENhcmQsIGk6IG51bWJlciwgc2NlbmVDYXJkczogQ2FyZFtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBzY2VuZUNhcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2NlbmVDYXJkLmNhcmRfaWQgKyAnIycgKyBzY2VuZUNhcmQudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHNjZW5lQ2FyZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdWwgPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZWxlbWVudChwYXJhbXM6IHtcbiAgICAgICAgZWw6IENhcmQsIGtleTogbnVtYmVyIHwgc3RyaW5nLFxuICAgICAgICBjb3VudDogbnVtYmVyLCBpbmRleDogbnVtYmVyLCBwYXJlbnQ6IGFueSxcbiAgICB9KTogSlNYLkVsZW1lbnRbXSB7XG4gICAgICAgIGNvbnN0IHsgZWwsIGtleSwgY291bnQsIGluZGV4LCBwYXJlbnQgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3QgY2FyZDogQ2FyZCA9IHBhcmFtcy5lbDtcblxuICAgICAgICBjb25zdCByZWxhdGVkQ2FyZHM6IENhcmRbXSA9IHRoaXMuZ2V0UmVsYXRpb25zKGNhcmQpO1xuXG4gICAgICAgIGxldCByZXN1bHQ6IEpTWC5FbGVtZW50W10gPSBbKFxuICAgICAgICAgICAgPE1pbmlDYXJkXG4gICAgICAgICAgICAgICAgZm9jdXNDaGFpbkNsYXNzPVwiY2hpbGRGb2N1c2VkXCJcbiAgICAgICAgICAgICAgICBhY3RpdmVHcm91cENsYXNzPVwiYWN0aXZlR3JvdXBcIlxuICAgICAgICAgICAgICAgIGdyb3VwTmFtZT17KGVsLmNhcmRfaWQgKyAnJyArIGVsLnZlcnNpb24pLnRvU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgZWxlbWVudD17Y2FyZH1cbiAgICAgICAgICAgICAgICBwYXJlbnQ9e3RoaXN9XG4gICAgICAgICAgICAgICAgZm9yY2VGaXJzdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBmb3JjZU9yZGVyPXtpbmRleH1cbiAgICAgICAgICAgICAgICBjbGlja0FjdGlvbk1vcmU9e3RoaXMuY2xpY2tBY3Rpb25Nb3JlLmJpbmQodGhpcykoY2FyZCl9XG4gICAgICAgICAgICAgICAgY2xpY2tBY3Rpb25MaWtlPXt0aGlzLmNsaWNrQWN0aW9uTGlrZS5iaW5kKHRoaXMpKGNhcmQpfVxuICAgICAgICAgICAgICAgIC8vIHRyYWNrVmlzaWJpbGl0eT17dGhpcy50cmFja1Zpc2liaWxpdHkuYmluZCh0aGlzKShjYXJkKX1cbiAgICAgICAgICAgICAgICBvbkZvY3VzQ2FsbGJhY2s9e3RoaXMub25Gb2N1c0NhbGxiYWNrLmJpbmQodGhpcykoY2FyZCl9XG4gICAgICAgICAgICAgICAga2V5PXtjYXJkLmNhcmRfaWQgKyAnIycgKyBjYXJkLnZlcnNpb259XG4gICAgICAgICAgICAgICAgaWQ9e2Ake2tleX1gfVxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAvLyBzY3JvbGxQYWRkaW5nPXsxMDB9XG4gICAgICAgICAgICAgICAgbmF2Q2xhc3M9XCJzY3JvbGxhYmxlXCJcbiAgICAgICAgICAgIC8+KV07XG5cbiAgICAgICAgaWYgKHJlbGF0ZWRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCg8TWluaUNhcmRMaXN0IGVsZW1lbnRzPXtyZWxhdGVkQ2FyZHN9XG4gICAgICAgICAgICAgICAgbW92aWVJZD17dGhpcy5wcm9wcy5tb3ZpZUlkfVxuICAgICAgICAgICAgICAgIGdldE1vdmllVGltZT17dGhpcy5wcm9wcy5nZXRNb3ZpZVRpbWV9XG4gICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgIGNvbHVtbnM9ezF9XG4gICAgICAgICAgICAgICAgZm9yY2VPcmRlcj17aW5kZXgrMX1cbiAgICAgICAgICAgICAgICAvLyBrZXk9e2Ake3RoaXMucHJvcHMubW92aWVJZH0jJHtEYXRlLm5vd31gfVxuICAgICAgICAgICAgICAgIGdyb3VwTmFtZT1cIk1pbmlDYXJkTGlzdFwiXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlPXt0aGlzLnByb3BzLnNldFNlbGVjdGVkT25TY2VuZUNoYW5nZX1cbiAgICAgICAgICAgICAgICB3YXNTZWxlY3RlZE9uQ2hhbmdlU2NlbmU9e3RoaXMucHJvcHMud2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lfVxuICAgICAgICAgICAgLz4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsaWNrQWN0aW9uTGlrZShvcmlnaW5hbENhcmQ6IENhcmQpIHtcbiAgICAgICAgcmV0dXJuIChwYXJhbUNhcmQ6IENhcmQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBwYXJhbUNhcmQgfHwgb3JpZ2luYWxDYXJkO1xuICAgICAgICAgICAgaWYgKCFjYXJkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTElLRVwiLCBjYXJkLmNhcmRfaWQpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VyQWN0aW9ucy5saWtlQ2FyZChjYXJkKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWtlZCBzdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgaWYgZGV2aWNlIG9yIHVzZXIgYWNjb3VudFxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIERpdmVBUEkucG9zdExpa2VzKHsgY2FyZElkOiBjYXJkLmNhcmRfaWQgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEJvdHRvbSBtZXNzYWdlIFwiTGlrZWRcIiA/IG9yIGp1c3QgY2hhbmdlIHRoZSBpY29uPztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBHbyB0byBsb2dpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkdPIFRPIExPR0lOXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNhcmRcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICovXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbGlja0FjdGlvbk1vcmUob3JpZ2luYWxDYXJkOiBDYXJkKSB7XG4gICAgICAgIHJldHVybiAocGFyYW1DYXJkOiBDYXJkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gcGFyYW1DYXJkIHx8IG9yaWdpbmFsQ2FyZDtcbiAgICAgICAgICAgIGlmICghY2FyZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FyZCBjbGlja2VkXCIsIGNhcmQpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy51aUFjdGlvbnMub3BlbkNhcmQoY2FyZC5jYXJkX2lkLCBcIm9mZm1vdmllXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Gb2N1c0NhbGxiYWNrKG9yaWdpbmFsQ2FyZDogQ2FyZCkge1xuICAgICAgICByZXR1cm4gKHBhcmFtQ2FyZDogQ2FyZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IHBhcmFtQ2FyZCB8fCBvcmlnaW5hbENhcmQ7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2g6IGFueSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHVzZXJBY3Rpb25zOiBiaW5kQWN0aW9uQ3JlYXRvcnMoVXNlckFjdGlvbnMsIGRpc3BhdGNoKSxcbiAgICAgICAgdWlBY3Rpb25zOiBiaW5kQWN0aW9uQ3JlYXRvcnMoVUlBY3Rpb25zLCBkaXNwYXRjaCksXG4gICAgfTtcbn07XG5cbmNvbnN0IG1lcmdlUHJvcHMgPSAoc3RhdGVQcm9wczogYW55LCBkaXNwYXRjaFByb3BzOiBhbnksIG93blByb3BzOiBhbnkpID0+IHtcbiAgICByZXR1cm4geyAuLi5zdGF0ZVByb3BzLCAuLi5vd25Qcm9wcywgLi4uZGlzcGF0Y2hQcm9wcyB9O1xufTtcblxuZXhwb3J0IGNvbnN0IE1pbmlDYXJkTGlzdCA9IGNvbm5lY3QoXG4gICAgdW5kZWZpbmVkLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICBtZXJnZVByb3BzLFxuICAgIHsgd2l0aFJlZjogdHJ1ZSB9LFxuKShuYXZpZ2FibGUoTWluaUNhcmRMaXN0Q2xhc3MpKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvbWluaUNhcmRMaXN0L21pbmlDYXJkTGlzdC5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbmF2aWdhYmxlLCBJTmF2aWdhYmxlIH0gZnJvbSAnSE9DJztcbmltcG9ydCB7IFRleHQsIENhcmQsIEhlbHBlciwgTG9jYWxpemUsIFJlbGF0aW9uTW9kdWxlLCBEdXBsZSwgU2luZ2xlIH0gZnJvbSAnU2VydmljZXMnO1xuaW1wb3J0IHsgTWluaUNhcmRCdXR0b24sIENhcmRBbmRDYXRlZ29yeSB9IGZyb20gJ0NvbXBvbmVudHMnO1xuaW1wb3J0ICogYXMgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuZXhwb3J0IGludGVyZmFjZSBJTWluaUNhcmRTdGF0ZSB7XG4gICAgZWxlbWVudDogQ2FyZDtcbiAgICAvLyByZWxhdGlvbnM6IFJlbGF0aW9uTW9kdWxlW107XG4gICAgZ3JvdXBOYW1lOiBzdHJpbmc7XG4gICAgc2VsZWN0ZWROYXY/OiBJTmF2aWdhYmxlO1xuICAgIHNlbGVjdGVkPzogbnVtYmVyO1xuICAgIGlkeD86IG51bWJlcjtcbiAgICBmb3JjZUZpcnN0PzogYm9vbGVhbjtcbiAgICBmb3JjZU9yZGVyPzogbnVtYmVyO1xuICAgIG5hdmlnYXRpb24/OiBNYXA8bnVtYmVyLCBJTmF2aWdhYmxlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTWluaUNhcmRNZXRob2RzIHtcbiAgICBjbGlja0FjdGlvbk1vcmU6IGFueTtcbiAgICBjbGlja0FjdGlvbkxpa2U6IGFueTtcbiAgICBzZXROb2RlQnlJZD86IGFueTtcbiAgICAvLyBzZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2U/OiBhbnk7XG59XG5cbnR5cGUgTWluaUNhcmRQcm9wcyA9IElNaW5pQ2FyZFN0YXRlICYgSU1pbmlDYXJkTWV0aG9kcyAmIHsgaWQ6IHN0cmluZyB9O1xuXG5leHBvcnQgY2xhc3MgTWluaUNhcmRDbGFzcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TWluaUNhcmRQcm9wcywge30+IHtcblxuICAgIHByaXZhdGUgZWxlbWVudDogSFRNTExJRWxlbWVudDtcbiAgICBwcml2YXRlIG9wZW5DYXJkOiBDYXJkO1xuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgaXNSZWxhdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICBtaW5pY2FyZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlbGF0aW9uOiBpc1JlbGF0aW9uLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpIGlkPXt0aGlzLnByb3BzLmlkfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlc30+XG4gICAgICAgICAgICAgICAgICAgIHtpc1JlbGF0aW9uID8gPGRpdiBjbGFzc05hbWU9XCJyZWxhdGlvbkJhclwiIC8+IDogJyd9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLm1pbmlDYXJkKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmV4cGFuZGVkSW5mbygpfVxuICAgICAgICAgICAgICAgIDwvZGl2ID5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdGhpcy5vcGVuQ2FyZCA9IHRoaXMucHJvcHMuZWxlbWVudDtcbiAgICAgICAgLypjb25zb2xlLmxvZyhcIlNldHRpbmcgb3BlbiBpZCB0b1wiLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5lbGVtZW50LnR5cGUsXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVsZW1lbnQudGl0bGUsXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVsZW1lbnQuY2FyZF9pZCxcbiAgICAgICAgKTsqL1xuICAgIH1cblxuICAgIHByaXZhdGUgbWluaUNhcmQgPSAoKTogSlNYLkVsZW1lbnQgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkTGVmdFwiIG9uTW91c2VPdmVyPXsoKSA9PiB0aGlzLnByb3BzLnNldE5vZGVCeUlkKHRoaXMucHJvcHMuaWR4KX0+XG4gICAgICAgICAgICAgICAgPENhcmRBbmRDYXRlZ29yeSBjYXJkPXt0aGlzLnByb3BzLmVsZW1lbnR9IC8+XG4gICAgICAgICAgICA8L2Rpdj4pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXhwYW5kZWRJbmZvID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICAgICAgY29uc3QgdGV4dDogSlNYLkVsZW1lbnQgPSB0aGlzLmV4cGFuZGVkSW5mb1RleHQoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJleHBhbmRlZEluZm9Db250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGFuZGVkSW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGFuZGVkSW5mb0luc2lkZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+e3RleHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0blwiPnt0aGlzLmJ1dHRvbignTU9SRScpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG5cIj57dGhpcy5idXR0b24oJ1NBVkUnKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj4pO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBleHBhbmRlZEluZm9UZXh0ID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcbiAgICAgICAgbGV0IGJveDogSlNYLkVsZW1lbnQ7XG4gICAgICAgIGxldCB0ZXh0OiBzdHJpbmcgPSAnJztcbiAgICAgICAgY29uc3QgdGV4dENvbnRhaW5lcjogVGV4dCA9IEhlbHBlci5nZXRDb250YWluZXIodGhpcy5wcm9wcy5lbGVtZW50LCAndGV4dCcpIGFzIFRleHQ7XG4gICAgICAgIGlmICh0ZXh0Q29udGFpbmVyICE9PSB1bmRlZmluZWQgJiYgdGV4dENvbnRhaW5lci5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0Q29udGFpbmVyLmRhdGFbMF0udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5lbGVtZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3F1b3RlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlZmVyZW5jZSc6XG4gICAgICAgICAgICAgICAgYm94ID0gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0IGFsb25lXCI+e3RleHR9PC9kaXY+O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2hhcmFjdGVyJzpcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvbjogUmVsYXRpb25Nb2R1bGUgfCB1bmRlZmluZWQgPSBIZWxwZXIuZ2V0UmVsYXRpb24odGhpcy5wcm9wcy5lbGVtZW50LnJlbGF0aW9ucywgJ3BsYXllZF9ieScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1cGxlID0gcmVsYXRpb24gYXMgRHVwbGU7XG4gICAgICAgICAgICAgICAgaWYgKGR1cGxlICYmIGR1cGxlLmRhdGEgaW5zdGFuY2VvZiBBcnJheSAmJiBkdXBsZS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyc29uID0gZHVwbGUuZGF0YVswXS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSB0aGlzLnByb3BzLmVsZW1lbnQudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXJzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FtYmlvcyBsYSByZWYgZGUgY2FyZCBxdWUgc2UgZGViZSBhYnJpclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuQ2FyZCA9IHBlcnNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vbnRhbW9zIGVsIG5vbWJyZSBjb24gZWwgbm9tYnJlIGRlbCBwZXJzb25hamUgJ2FzJyBub21icmUgZGVsIGFjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyc29uLnRpdGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHBlcnNvbi50aXRsZSArICcgYXMgJyArIHRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2dlbW9zIGxhIGRlc2NyaXBjacOzbiBkZWwgYWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRQZXJzb25Db250YWluZXI6IFRleHQgPSBIZWxwZXIuZ2V0Q29udGFpbmVyKHBlcnNvbiwgJ3RleHQnKSBhcyBUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRQZXJzb25Db250YWluZXIgIT09IHVuZGVmaW5lZCAmJiB0ZXh0UGVyc29uQ29udGFpbmVyLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0UGVyc29uQ29udGFpbmVyLmRhdGFbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGNvZ2VyIHJlbGFjacOzbiBhY3Rvci9wZXJzb25hamUgcGFyYSBwaW50YXIgZWwgdMOtdHVsby5cbiAgICAgICAgICAgICAgICAgICAgYm94ID0gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjXCI+e3RleHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc29uZyc6XG4gICAgICAgICAgICAgICAgYm94ID0gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+PC9kaXY+O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJveCA9IDxkaXYgY2xhc3NOYW1lPVwidGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RoaXMucHJvcHMuZWxlbWVudC50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjXCI+e3RleHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+O1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1dHRvbiA9ICh0eXBlOiAnTU9SRScgfCAnU0FWRScpOiBKU1guRWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbldoZW5Nb3JlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJTZXR0aW5nIG9wZW4gaWQgdG9cIiwgdGhpcy5vcGVuQ2FyZCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmNsaWNrQWN0aW9uTW9yZSh0aGlzLm9wZW5DYXJkKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0aW9uV2hlbkxpa2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmNsaWNrQWN0aW9uTGlrZSh0aGlzLm9wZW5DYXJkKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICg8TWluaUNhcmRCdXR0b25cbiAgICAgICAgICAgIGNsaWNrQWN0aW9uPXt0eXBlID09PSAnU0FWRScgPyBhY3Rpb25XaGVuTGlrZSA6IGFjdGlvbldoZW5Nb3JlfVxuICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgY29sdW1ucz17MX1cbiAgICAgICAgICAgIGdyb3VwTmFtZT17dGhpcy5wcm9wcy5ncm91cE5hbWV9XG4gICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAvPik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgTWluaUNhcmQgPSBuYXZpZ2FibGUoTWluaUNhcmRDbGFzcyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL21pbmlDYXJkL21pbmlDYXJkLmNvbXBvbmVudC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjbGFzcyBMb2FkaW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDx7fSwge30+IHtcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxsUGFyZW50XCIgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2xvYWRpbmcvbG9hZGluZy5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJQ2FyZE1vZHVsZVByb3BzIH0gZnJvbSBcIkNhcmRNb2R1bGVzXCI7XG5pbXBvcnQgeyBuYXZpZ2FibGUsIHN0YXRpY3MgfSBmcm9tIFwiSE9DXCI7XG5pbXBvcnQgeyBIZWxwZXIsIExvY2FsaXplLCBDYXJkIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5pbXBvcnQgeyBWZXJ0aWNhbFNjcm9sbCB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5cbmludGVyZmFjZSBJVGV4dFByb3BzIHtcbiAgICBjb250YWluZXI6IGFueTtcbiAgICB0ZXh0RGF0YTogYW55O1xufVxuQHN0YXRpY3Moe1xuICAgIG1vZHVsZU5hbWU6IFwidGV4dFwiLFxuICAgIHZhbGlkYXRlOiAoY2FyZDogQ2FyZCwgbW9kdWxlVHlwZTogc3RyaW5nLCBwYXJlbnQ6IGFueSwgcHJvcHM6IGFueSkgPT4ge1xuICAgICAgICAvLyBObyBzZSBwdWVkZSBndWFyZGFyIGVsIGNvbnRhaW5lciBhcXXDrSwgcG9ycXVlIGVzIHVuIG3DqXRvZG8gZXN0w6F0aWNvLlxuICAgICAgICBjb25zdCBjb250YWluZXI6IGFueSB8IHVuZGVmaW5lZCA9IEhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgJ3RleHQnKSBhcyBhbnk7XG4gICAgICAgIGlmIChjb250YWluZXIgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgY29udGFpbmVyLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgY29udGFpbmVyLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgSW5zdGFudGlhdGVkID0gbmF2aWdhYmxlKFRleHQpO1xuICAgICAgICAgICAgcmV0dXJuICg8SW5zdGFudGlhdGVkXG4gICAgICAgICAgICAgICAgY29udGFpbmVyPXtjb250YWluZXJ9XG4gICAgICAgICAgICAgICAgdGV4dERhdGE9e2NvbnRhaW5lci5kYXRhWzBdfVxuICAgICAgICAgICAgICAgIHBhcmVudD17cGFyZW50fVxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU9e21vZHVsZVR5cGV9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxufSlcbmV4cG9ydCBjbGFzcyBUZXh0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJQ2FyZE1vZHVsZVByb3BzICYgSVRleHRQcm9wcywge30+IHtcbiAgICBwdWJsaWMgcmVuZGVyKCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHRleHRUaXRsZSA9IHRoaXMuZ2V0VGl0bGUoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZE1vZHVsZVRleHQgY2FyZE1vZHVsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxWZXJ0aWNhbFNjcm9sbCBzb3VyY2U9e3RoaXMucHJvcHMudGV4dERhdGEgPyB0aGlzLnByb3BzLnRleHREYXRhLnNvdXJjZSA6IHVuZGVmaW5lZH0gcGFyZW50PXt0aGlzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0VGl0bGUgPyA8ZGl2IGNsYXNzTmFtZT1cImNhcmRUaXRsZVwiPnt0ZXh0VGl0bGV9PC9kaXY+IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFRleHRcIj57dGhpcy5wcm9wcy50ZXh0RGF0YS50ZXh0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L1ZlcnRpY2FsU2Nyb2xsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaXRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29udGFpbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuY29udGFpbmVyIS5jb250ZW50X3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Jpb2dyYXBoeSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExvY2FsaXplKCdCSU9HUkFQSFknKTtcbiAgICAgICAgICAgIGNhc2UgJ292ZXJ2aWV3JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9jYWxpemUoJ09WRVJWSUVXJyk7XG4gICAgICAgICAgICBjYXNlICdjdXJpb3NpdHknOlxuICAgICAgICAgICAgY2FzZSAncmVmZXJlbmNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9jYWxpemUoJ0NVUklPU0lUWV9USVRMRScpO1xuICAgICAgICAgICAgY2FzZSAncXVvdGUnOlxuICAgICAgICAgICAgY2FzZSAncmVmZXJlbmNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rlc2NyaXB0aW9uJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvdGV4dC90ZXh0LmNvbXBvbmVudC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgQ2FyZCwgQ2FyZENvbnRhaW5lclR5cGVFbnVtLCBIZWxwZXIsXG4gICAgTGlzdGluZyBhcyBMaXN0aW5nVk8sIExpc3RpbmdEYXRhIGFzIExpc3RpbmdEYXRhVk8sIExvY2FsaXplLCBMaXN0aW5nRGF0YSxcbn0gZnJvbSBcIlNlcnZpY2VzXCI7XG5pbXBvcnQgeyBJQ2FyZE1vZHVsZVByb3BzIH0gZnJvbSBcIkNhcmRNb2R1bGVzXCI7XG5pbXBvcnQgeyBEaXJlY3Rpb25CdXR0b24sIFZlcnRpY2FsU2Nyb2xsIH0gZnJvbSBcIkNvbXBvbmVudHNcIjtcbmltcG9ydCB7IG5hdmlnYWJsZSwgc3RhdGljcyB9IGZyb20gXCJIT0NcIjtcblxuaW50ZXJmYWNlIElUYWJsZVByb3BzIHtcbiAgICBjb250YWluZXI6IExpc3RpbmdWTztcbn1cbkBzdGF0aWNzKHtcbiAgICBtb2R1bGVOYW1lOiBcInRhYmxlXCIsXG4gICAgdmFsaWRhdGU6IChjYXJkOiBDYXJkLCBtb2R1bGVUeXBlOiBzdHJpbmcsIHBhcmVudDogYW55LCBwcm9wczogYW55KSA9PiB7XG4gICAgICAgIC8vIE5vIHNlIHB1ZWRlIGd1YXJkYXIgZWwgY29udGFpbmVyIGFxdcOtLCBwb3JxdWUgZXMgdW4gbcOpdG9kbyBlc3TDoXRpY28uXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IEhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgJ2xpc3RpbmcnKSBhcyBMaXN0aW5nVk87XG4gICAgICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmRhdGEgJiYgY29udGFpbmVyLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgSW5zdGFudGlhdGVkID0gbmF2aWdhYmxlKFRhYmxlKTtcbiAgICAgICAgICAgIHJldHVybiAoPEluc3RhbnRpYXRlZFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcj17Y29udGFpbmVyfVxuICAgICAgICAgICAgICAgIHBhcmVudD17cGFyZW50fVxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU9e21vZHVsZVR5cGV9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIFRhYmxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJQ2FyZE1vZHVsZVByb3BzICYgSVRhYmxlUHJvcHMsIHt9PiB7XG4gICAgcHVibGljIHJlbmRlcigpOiBhbnkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkTW9kdWxlVGFibGUgY2FyZE1vZHVsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxWZXJ0aWNhbFNjcm9sbCBwYXJlbnQ9e3RoaXN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkVGl0bGVcIj57dGhpcy5nZXRUaXRsZSgpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGFpbmVyIS5kYXRhLm1hcCgobGlzdEl0ZW06IExpc3RpbmdEYXRhLCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2lkeH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e2xpc3RJdGVtLnRleHR9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57bGlzdEl0ZW0udmFsdWV9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L1ZlcnRpY2FsU2Nyb2xsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmNvbnRhaW5lciEuY29udGVudF90eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdzcGVjcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExvY2FsaXplKCdTUEVDUycpO1xuICAgICAgICAgICAgY2FzZSAnYmFzaWNfZGF0YSc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBMb2NhbGl6ZSgnQkFTSUNfREFUQScpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvdGFibGUvdGFibGUuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICBDYXJkLFxuICAgIFByb2R1Y3QsXG4gICAgQ2FyZENvbnRhaW5lclR5cGVFbnVtLFxuICAgIExvY2FsaXplLFxuICAgIEhlbHBlcixcbiAgICBJbWFnZSBhcyBJbWFnZVZPLFxuICAgIEltYWdlRGF0YSBhcyBJbWFnZURhdGFWTyxcbiAgICBTZWFzb25zIGFzIFNlYXNvbnNWTyxcbiAgICBTZWFzb25zRGF0YSBhcyBTZWFzb25zRGF0YVZPLFxuICAgIENhcmRDb250YWluZXIsXG4gICAgUmVsYXRpb25Nb2R1bGUsXG4gICAgU2luZ2xlLFxuICAgIER1cGxlLFxuICAgIER1cGxlRGF0YVxufSBmcm9tIFwiU2VydmljZXNcIjtcbmltcG9ydCB7IElDYXJkTW9kdWxlUHJvcHMgfSBmcm9tIFwiQ2FyZE1vZHVsZXNcIjtcbmltcG9ydCB7IERpcmVjdGlvbkJ1dHRvbiwgSG9yaXpvbnRhbFNjcm9sbCwgTmF2aWdhdGlvbkNvbnRhaW5lciB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5pbXBvcnQgeyBuYXZpZ2FibGUsIHN0YXRpY3MgfSBmcm9tIFwiSE9DXCI7XG5cbmludGVyZmFjZSBJTGlzdFByb3BzIHtcbiAgICBpdGVtc1Nob3duOiBudW1iZXIsXG4gICAgY29udGFpbmVyOiBJTGlzdENvbnRhaW5lclR5cGUsXG4gICAgY2FyZDogQ2FyZCxcbiAgICBtb2R1bGVUeXBlOiBMaXN0TW9kdWxlVHlwZVxufVxuXG4vKmludGVyZmFjZSBJVGVtcFByb2R1Y3Qge1xuICAgIGNhdGVnb3J5IDogc3RyaW5nLFxuICAgIGN1cnJlbmN5IDogc3RyaW5nLFxuICAgIGltYWdlIDogc3RyaW5nLFxuICAgIGlzX2V4YWN0IDogYm9vbGVhbixcbiAgICBpc191cF90b19kYXRlIDogYm9vbGVhbixcbiAgICBwcmljZSA6IG51bWJlcixcbiAgICBwcm9kdWN0X2lkIDogc3RyaW5nLFxuICAgIHNvdXJjZSA6IHtcbiAgICAgICAgZGlzY2xhaW1lcj86IHN0cmluZyxcbiAgICAgICAgaW1hZ2U6IHN0cmluZyxcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICB9XG5cbn0qL1xuXG5pbnRlcmZhY2UgSUxpc3RDb250YWluZXJUeXBlLypleHRlbmRzIENhcmRDb250YWluZXIqLyB7XG4gICAgY29udGVudF90eXBlOiBzdHJpbmcsXG4gICAgZGF0YTogQXJyYXk8YW55PlxufTtcbnR5cGUgTGlzdE1vZHVsZVR5cGUgPSAnR2FsbGVyeScgfCAnU2hvcCcgfCAnVHJhdmVsU2hvcCcgfCAnRmlsbW9ncmFwaHknIHwgJ1ZlaGljbGVzJyB8ICdTZWFzb25zJyB8ICdBcHBlYXJzSW4nIHwgJ0Zhc2hpb24nIHwgJ0hvbWUnIHwgJ1JlY29tbWVuZGVkJyB8ICdDYXN0JyB8ICdBcHBlYXJzSW5Mb2NhdGlvbicgfCAnQ29tcGxldGVUaGVEZWNvJztcblxuQHN0YXRpY3Moe1xuICAgIG1vZHVsZU5hbWU6IFwibGlzdFwiLFxuICAgIHZhbGlkYXRlOiAoY2FyZDogQ2FyZCwgbW9kdWxlVHlwZTogc3RyaW5nLCBwYXJlbnQ6IGFueSwgcHJvcHM6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXI6IEltYWdlVk8gfCBTZWFzb25zVk8gfCBJTGlzdENvbnRhaW5lclR5cGUgfCBTaW5nbGUgfCBEdXBsZSB8IHVuZGVmaW5lZCA9IExpc3QuZ2V0Q29udGFpbmVyKGNhcmQsIG1vZHVsZVR5cGUpO1xuXG4gICAgICAgIGlmIChjb250YWluZXIgIT09IHVuZGVmaW5lZCAmJiBjb250YWluZXIuZGF0YSAhPT0gdW5kZWZpbmVkICYmIGNvbnRhaW5lci5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IEluc3RhbnRpYXRlZCA9IG5hdmlnYWJsZShMaXN0KTtcbiAgICAgICAgICAgIHJldHVybiAoPEluc3RhbnRpYXRlZFxuICAgICAgICAgICAgICAgIGl0ZW1zU2hvd249ezJ9XG4gICAgICAgICAgICAgICAgY29udGFpbmVyPXtjb250YWluZXJ9XG4gICAgICAgICAgICAgICAgcGFyZW50PXtwYXJlbnR9XG4gICAgICAgICAgICAgICAgaXNTY3JvbGxhYmxlPXt0cnVlfVxuICAgICAgICAgICAgICAgIGNhcmQ9e2NhcmR9XG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZT17bW9kdWxlVHlwZSBhcyBMaXN0TW9kdWxlVHlwZX0gLz4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0pXG5leHBvcnQgY2xhc3MgTGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SUNhcmRNb2R1bGVQcm9wcyAmIElMaXN0UHJvcHMsIHt9PiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldENvbnRhaW5lcihjYXJkOiBDYXJkLCBtb2R1bGVUeXBlOiBzdHJpbmcpOiBJbWFnZVZPIHwgSUxpc3RDb250YWluZXJUeXBlIHwgU2luZ2xlIHwgRHVwbGUgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZpbG1vZ3JhcGh5IGNhcmQ6IFwiLCBjYXJkKTtcbiAgICAgICAgc3dpdGNoIChtb2R1bGVUeXBlIGFzIExpc3RNb2R1bGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdHYWxsZXJ5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLmdldENvbnRhaW5lcihjYXJkLCAnaW1hZ2UnKSBhcyBJbWFnZVZPO1xuICAgICAgICAgICAgY2FzZSAnU2hvcCc6XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJTaG9wIGNhcmQ6IFwiLCBjYXJkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3Byb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY2FyZC5wcm9kdWN0cyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpc3RpbmcnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqIGFzIElMaXN0Q29udGFpbmVyVHlwZTtcblxuICAgICAgICAgICAgY2FzZSAnVHJhdmVsU2hvcCc6XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqMiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncHJvZHVjdHMnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjYXJkLnByb2R1Y3RzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdGluZydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmoyIGFzIElMaXN0Q29udGFpbmVyVHlwZTtcblxuICAgICAgICAgICAgY2FzZSAnRmlsbW9ncmFwaHknOlxuICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2V0UmVsYXRpb24oY2FyZC5yZWxhdGlvbnMsICdmaWxtb2dyYXBoeScsICdjb250ZW50X3R5cGUnKSBhcyBEdXBsZTtcbiAgICAgICAgICAgIGNhc2UgJ0Nhc3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2V0UmVsYXRpb24oY2FyZC5yZWxhdGlvbnMsICdjYXN0aW5nJywgJ2NvbnRlbnRfdHlwZScpIGFzIER1cGxlO1xuICAgICAgICAgICAgY2FzZSAnU2Vhc29ucyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5nZXRDb250YWluZXIoY2FyZCwgJ3NlYXNvbnMnKSBhcyBTZWFzb25zVk87XG4gICAgICAgICAgICBjYXNlICdBcHBlYXJzSW5Mb2NhdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5nZXRSZWxhdGlvbihjYXJkLnJlbGF0aW9ucywgJ2ZpbG1lZF9pbicsICdjb250ZW50X3R5cGUnKSBhcyBTaW5nbGU7XG4gICAgICAgICAgICBjYXNlICdDb21wbGV0ZVRoZURlY28nOlxuICAgICAgICAgICAgICAgIHJldHVybiBIZWxwZXIuZ2V0UmVsYXRpb24oY2FyZC5yZWxhdGlvbnMsICdob21lX2RlY28nLCAnY29udGVudF90eXBlJykgYXMgU2luZ2xlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpOiBhbnkge1xuICAgICAgICBjb25zdCB0ZXh0VGl0bGUgPSB0aGlzLmdldFRpdGxlKCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRNb2R1bGVMaXN0IGNhcmRNb2R1bGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRUaXRsZVwiPnt0ZXh0VGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdENvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxIb3Jpem9udGFsU2Nyb2xsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZUlkPXt0aGlzLnByb3BzLmNvbnRhaW5lciEuY29udGVudF90eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zU2hvd249e3RoaXMucHJvcHMuaXRlbXNTaG93bn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0TGlzdCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Ib3Jpem9udGFsU2Nyb2xsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TGlzdCA9ICgpOiBKU1guRWxlbWVudFtdIHwgbnVsbCA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGU6IExpc3RNb2R1bGVUeXBlID0gdGhpcy5wcm9wcy5tb2R1bGVUeXBlO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnR2FsbGVyeSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FsbGVyeUxpc3QoKTtcbiAgICAgICAgICAgIGNhc2UgJ1Nob3AnOlxuICAgICAgICAgICAgY2FzZSAnVHJhdmVsU2hvcCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2hvcExpc3QoKTtcbiAgICAgICAgICAgIGNhc2UgJ0ZpbG1vZ3JhcGh5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWxtb2dyYXBoeUxpc3QoKTtcbiAgICAgICAgICAgIGNhc2UgJ0Nhc3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENhc3RMaXN0KCk7XG4gICAgICAgICAgICAvKmNhc2UgJ0RpcmVjdG9ycyc6Ki9cbiAgICAgICAgICAgIGNhc2UgJ0FwcGVhcnNJbkxvY2F0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ0NvbXBsZXRlVGhlRGVjbyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVsU2luZ2xlTGlzdCgpO1xuICAgICAgICAgICAgY2FzZSAnU2Vhc29ucyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2Vhc29uTGlzdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRHYWxsZXJ5TGlzdCA9ICgpOiBKU1guRWxlbWVudFtdIHwgbnVsbCA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzXG4gICAgICAgICAgICAgICAgLnByb3BzXG4gICAgICAgICAgICAgICAgLmNvbnRhaW5lclxuICAgICAgICAgICAgICAgIC5kYXRhXG4gICAgICAgICAgICAgICAgLm1hcCgoZWw6IEltYWdlRGF0YVZPLCBpOiBudW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5jb250YWluZXIhLmNvbnRlbnRfdHlwZSArICdfc2hvd18nICsgaX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlT3JkZXI9e2kgJSB0aGlzLnByb3BzLml0ZW1zU2hvd259XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXsyfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaG9yaXpvbnRhbEVsZW1lbnQgbGlzdEVsZW1lbnQgZm9jdXNhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZWwudGh1bWJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTmF2aWdhdGlvbkNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNob3BMaXN0ID0gKCk6IEpTWC5FbGVtZW50W10gfCBudWxsID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXNcbiAgICAgICAgICAgICAgICAucHJvcHNcbiAgICAgICAgICAgICAgICAuY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLmRhdGFcbiAgICAgICAgICAgICAgICAubWFwKChlbDogUHJvZHVjdCwgaTogbnVtYmVyKSA9PiB0aGlzLmdldEdlbmVyaWNFbGVtZW50KGVsLnByaWNlLnRvU3RyaW5nKCkgKyBlbC5jdXJyZW5jeSwgZWwuaW1hZ2UsIGkpKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZpbG1vZ3JhcGh5TGlzdCA9ICgpOiBKU1guRWxlbWVudFtdIHwgbnVsbCA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzXG4gICAgICAgICAgICAgICAgLnByb3BzXG4gICAgICAgICAgICAgICAgLmNvbnRhaW5lclxuICAgICAgICAgICAgICAgIC5kYXRhXG4gICAgICAgICAgICAgICAgLm1hcCgoZWw6IER1cGxlRGF0YSwgaTogbnVtYmVyKSA9PiB0aGlzLmdldEdlbmVyaWNFbGVtZW50KGVsLmZyb20udGl0bGUsIGVsLmZyb20uaW1hZ2UgPyBlbC5mcm9tLmltYWdlLnRodW1iIDogbnVsbCwgaSkpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2FzdExpc3QgPSAoKTogSlNYLkVsZW1lbnRbXSB8IG51bGwgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpc1xuICAgICAgICAgICAgICAgIC5wcm9wc1xuICAgICAgICAgICAgICAgIC5jb250YWluZXJcbiAgICAgICAgICAgICAgICAuZGF0YVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGVsOiBEdXBsZURhdGEpID0+IGVsLnJlbF90eXBlID09ICdwbGF5cycgJiYgZWwuZnJvbS5pbWFnZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAubWFwKChlbDogRHVwbGVEYXRhLCBpOiBudW1iZXIpID0+IHRoaXMuZ2V0R2VuZXJpY0VsZW1lbnQoZWwuZnJvbS50aXRsZSwgZWwuZnJvbS5pbWFnZS50aHVtYiwgaSkpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVsU2luZ2xlTGlzdCA9ICgpOiBKU1guRWxlbWVudFtdIHwgbnVsbCA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzXG4gICAgICAgICAgICAgICAgLnByb3BzXG4gICAgICAgICAgICAgICAgLmNvbnRhaW5lclxuICAgICAgICAgICAgICAgIC5kYXRhXG4gICAgICAgICAgICAgICAgLm1hcCgoZWw6IENhcmQsIGk6IG51bWJlcikgPT4gdGhpcy5nZXRHZW5lcmljRWxlbWVudChlbC50aXRsZSwgZWwuaW1hZ2UudGh1bWIsIGkpKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcHJpdmF0ZSBnZXRTZWFzb25MaXN0ID0gKCk6IEpTWC5FbGVtZW50W10gfCBudWxsID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXNcbiAgICAgICAgICAgICAgICAucHJvcHNcbiAgICAgICAgICAgICAgICAuY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLmRhdGFcbiAgICAgICAgICAgICAgICAubWFwKChlbDogU2Vhc29uc0RhdGFWTywgaTogbnVtYmVyKSA9PiB0aGlzLmdldEdlbmVyaWNFbGVtZW50KCdTZWFzb24gJyArIGVsLnNlYXNvbl9pbmRleCwgZWwuaW1hZ2UudGh1bWIsIGkpKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0R2VuZXJpY0VsZW1lbnQgPSAodGl0bGU6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgb3JkZXI6IG51bWJlcik6IEpTWC5FbGVtZW50ID0+XG4gICAgICAgIDxOYXZpZ2F0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICBrZXk9e3RoaXMucHJvcHMuY29udGFpbmVyIS5jb250ZW50X3R5cGUgKyAnX3Nob3dfJyArIG9yZGVyfVxuICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgZm9yY2VPcmRlcj17b3JkZXIgJSB0aGlzLnByb3BzLml0ZW1zU2hvd259XG4gICAgICAgICAgICBjb2x1bW5zPXsyfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaG9yaXpvbnRhbEVsZW1lbnQgbGlzdEVsZW1lbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2UgZm9jdXNhYmxlXCI+PGltZyBzcmM9e2ltYWdlfSAvPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZSBmb2N1c2FibGVcIj57dGl0bGV9PC9kaXY+XG4gICAgICAgIDwvTmF2aWdhdGlvbkNvbnRhaW5lcj5cblxuXG4gICAgcHJpdmF0ZSBnZXRUaXRsZSA9ICgpID0+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmNvbnRhaW5lciEuY29udGVudF90eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdnYWxsZXJ5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9jYWxpemUoJ0dBTExFUlknKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvbGlzdC9saXN0LmNvbXBvbmVudC50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gICAgQ2FyZCwgQ2FyZENvbnRhaW5lclR5cGVFbnVtLCBIZWxwZXIsXG4gICAgQXdhcmRzIGFzIEF3YXJkc0NvbnRhaW5lciwgQXdhcmRzRGF0YSwgTGlzdGluZ0RhdGEsXG59IGZyb20gXCJTZXJ2aWNlc1wiO1xuaW1wb3J0IHsgSUNhcmRNb2R1bGVQcm9wcyB9IGZyb20gXCJDYXJkTW9kdWxlc1wiO1xuaW1wb3J0IHsgRGlyZWN0aW9uQnV0dG9uLCBWZXJ0aWNhbFNjcm9sbCB9IGZyb20gXCJDb21wb25lbnRzXCI7XG5pbXBvcnQgeyBuYXZpZ2FibGUsIHN0YXRpY3MgfSBmcm9tIFwiSE9DXCI7XG5cbmRlY2xhcmUgY29uc3QgTG9jYWxpemU6IGFueTtcblxuaW50ZXJmYWNlIElBd2FyZHNQcm9wcyB7XG4gICAgY29udGFpbmVyOiBBd2FyZHNDb250YWluZXI7XG59XG5Ac3RhdGljcyh7XG4gICAgbW9kdWxlTmFtZTogXCJhd2FyZHNcIixcbiAgICB2YWxpZGF0ZTogKGNhcmQ6IENhcmQsIG1vZHVsZVR5cGU6IHN0cmluZywgcGFyZW50OiBhbnksIHByb3BzOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gSGVscGVyLmdldENvbnRhaW5lcihjYXJkLCAnYXdhcmRzJykgYXMgQXdhcmRzQ29udGFpbmVyO1xuICAgICAgICAvLyBNT0NLVVBcbiAgICAgICAgLy8gY29udGFpbmVyIS5kYXRhID0gW1xuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIHRpdGxlOiBcIk1lam9yIGFjdG9yXCIsXG4gICAgICAgIC8vICAgICAgICAgd2lubmVyOiBbe30sIHt9LCB7fV0sXG4gICAgICAgIC8vICAgICAgICAgbm9taW5lZTogW3t9XSxcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6IFwiTWVqb3IgYWN0b3JcIixcbiAgICAgICAgLy8gICAgICAgICB3aW5uZXI6IFt7fSwge30sIHt9XSxcbiAgICAgICAgLy8gICAgICAgICBub21pbmVlOiBbe31dLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHtcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogXCJNZWpvciBhY3RvclwiLFxuICAgICAgICAvLyAgICAgICAgIHdpbm5lcjogW3t9LCB7fSwge31dLFxuICAgICAgICAvLyAgICAgICAgIG5vbWluZWU6IFt7fV0sXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIHRpdGxlOiBcIk1lam9yIGFjdG9yXCIsXG4gICAgICAgIC8vICAgICAgICAgd2lubmVyOiBbe30sIHt9LCB7fV0sXG4gICAgICAgIC8vICAgICAgICAgbm9taW5lZTogW3t9XSxcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6IFwiTWVqb3IgYWN0b3JcIixcbiAgICAgICAgLy8gICAgICAgICB3aW5uZXI6IFt7fSwge30sIHt9XSxcbiAgICAgICAgLy8gICAgICAgICBub21pbmVlOiBbe31dLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHtcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogXCJNZWpvciBhY3RvclwiLFxuICAgICAgICAvLyAgICAgICAgIHdpbm5lcjogW3t9LCB7fSwge31dLFxuICAgICAgICAvLyAgICAgICAgIG5vbWluZWU6IFt7fV0sXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyBdIGFzIGFueTtcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuZGF0YSAmJiBjb250YWluZXIuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBJbnN0YW50aWF0ZWQgPSBuYXZpZ2FibGUoQXdhcmRzKTtcbiAgICAgICAgICAgIHJldHVybiAoPEluc3RhbnRpYXRlZFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcj17Y29udGFpbmVyfVxuICAgICAgICAgICAgICAgIHBhcmVudD17cGFyZW50fVxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU9e21vZHVsZVR5cGV9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIEF3YXJkcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SUNhcmRNb2R1bGVQcm9wcyAmIElBd2FyZHNQcm9wcywge30+IHtcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogQXdhcmRzQ29udGFpbmVyIHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgc2Nyb2xsQm94OiBIVE1MRWxlbWVudDtcblxuICAgIHB1YmxpYyByZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZE1vZHVsZUF3YXJkcyBjYXJkTW9kdWxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFZlcnRpY2FsU2Nyb2xsIHBhcmVudD17dGhpc30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRUaXRsZVwiPnt0aGlzLmdldFRpdGxlKCl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF3YXJkc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGFpbmVyIS5kYXRhLm1hcCgobGlzdEl0ZW06IEF3YXJkc0RhdGEsIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyTnVtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0ud2lubmVyIGluc3RhbmNlb2YgQXJyYXkgJiYgbGlzdEl0ZW0ud2lubmVyLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0ud2lubmVyLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9taW5lZU51bSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLm5vbWluZWUgaW5zdGFuY2VvZiBBcnJheSAmJiBsaXN0SXRlbS5ub21pbmVlLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0ubm9taW5lZS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vbWluZWVUZXh0cyA9IG5vbWluZWVOdW0gPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtub21pbmVlTnVtfSAke25vbWluZWVOdW0gPiAxID8gTG9jYWxpemUoXCJOT01JTkVFX1BMVVJBTFwiKSA6IExvY2FsaXplKFwiTk9NSU5FRV9TSU5HVUxBUlwiKX1gIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEF3YXJkc1RleHRzID0gd2lubmVyTnVtID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7d2lubmVyTnVtfSAke3dpbm5lck51bSA+IDEgPyBMb2NhbGl6ZShcIldJTk5FUl9QTFVSQUxcIikgOiBMb2NhbGl6ZShcIldJTk5FUl9TSU5HVUxBUlwiKX0ke25vbWluZWVOdW0gPiAwID8gYCAvICR7bm9taW5lZVRleHRzfWAgOiBcIlwifWAgOiBub21pbmVlVGV4dHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17aWR4fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9XCJuYW1lXCIgY2xhc3NOYW1lPVwiYXdhcmROYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPntsaXN0SXRlbS50aXRsZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9XCJudW1cIiBjbGFzc05hbWU9XCJhd2FyZE51bXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3RvdGFsQXdhcmRzVGV4dHN9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9WZXJ0aWNhbFNjcm9sbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGl0bGUgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBMb2NhbGl6ZSgnQVdBUkRTJyk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9jYXJkRGV0YWlsL2NhcmRNb2R1bGVzL2F3YXJkcy9hd2FyZHMuY29tcG9uZW50LnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgICBDYXJkLCBDYXJkQ29udGFpbmVyVHlwZUVudW0sIEhlbHBlcixcbiAgICBNYXAgYXMgTWFwVk8sIE1hcERhdGEgYXMgTWFwRGF0YVZPLCBMb2NhbGl6ZSxcbn0gZnJvbSBcIlNlcnZpY2VzXCI7XG5pbXBvcnQgeyBJQ2FyZE1vZHVsZVByb3BzIH0gZnJvbSBcIkNhcmRNb2R1bGVzXCI7XG5pbXBvcnQgeyBEaXJlY3Rpb25CdXR0b24sIFZlcnRpY2FsU2Nyb2xsIH0gZnJvbSBcIkNvbXBvbmVudHNcIjtcbmltcG9ydCB7IG5hdmlnYWJsZSwgc3RhdGljcyB9IGZyb20gXCJIT0NcIjtcblxuaW50ZXJmYWNlIElNYXBQcm9wcyB7XG4gICAgY29udGFpbmVyOiBNYXBWTztcbiAgICBtYXBEYXRhOiBNYXBEYXRhVk87XG59XG5Ac3RhdGljcyh7XG4gICAgbW9kdWxlTmFtZTogXCJtYXBcIixcbiAgICB2YWxpZGF0ZTogKGNhcmQ6IENhcmQsIG1vZHVsZVR5cGU6IHN0cmluZywgcGFyZW50OiBhbnksIHByb3BzOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbTWFwXSBjYXJkOiBcIiwgY2FyZCk7XG4gICAgICAgIC8vIE5vIHNlIHB1ZWRlIGd1YXJkYXIgZWwgY29udGFpbmVyIGFxdcOtLCBwb3JxdWUgZXMgdW4gbcOpdG9kbyBlc3TDoXRpY28uXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcjogTWFwVk8gfCB1bmRlZmluZWQgPSBIZWxwZXIuZ2V0Q29udGFpbmVyKGNhcmQsICdtYXAnKSBhcyBNYXBWTztcbiAgICAgICAgaWYgKGNvbnRhaW5lciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBjb250YWluZXIuZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBjb250YWluZXIuZGF0YS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICBjb250YWluZXIuZGF0YVswXS5sYXRpdHVkZSAmJlxuICAgICAgICAgICAgY29udGFpbmVyLmRhdGFbMF0ubG9uZ2l0dWRlKSB7XG4gICAgICAgICAgICBjb25zdCBJbnN0YW50aWF0ZWQgPSBuYXZpZ2FibGUoTWFwKTtcbiAgICAgICAgICAgIHJldHVybiAoPEluc3RhbnRpYXRlZFxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICBjb250YWluZXI9e2NvbnRhaW5lcn1cbiAgICAgICAgICAgICAgICBtYXBEYXRhPXtjb250YWluZXIuZGF0YVswXX1cbiAgICAgICAgICAgICAgICBwYXJlbnQ9e3BhcmVudH1cbiAgICAgICAgICAgICAgICBjYXJkPXtjYXJkfVxuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU9e21vZHVsZVR5cGV9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIE1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SUNhcmRNb2R1bGVQcm9wcyAmIElNYXBQcm9wcywge30+IHtcbiAgICBwdWJsaWMgcmVuZGVyKCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHRleHRUaXRsZSA9IHRoaXMuZ2V0VGl0bGUoKTtcbiAgICAgICAgY29uc3Qge2xhdGl0dWRlLCBsb25naXR1ZGUsIHpvb20gfSA9IHRoaXMucHJvcHMubWFwRGF0YTtcbiAgICAgICAgbGV0IG1hcFVybCA9IGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvc3RhdGljbWFwP2NlbnRlcj0ke2xhdGl0dWRlfSwke2xvbmdpdHVkZX0mc2l6ZT0zMDB4MTY4YDtcbiAgICAgICAgY29uc3QgYXBwbGllZFpvb20gPSBwYXJzZUludChgJHt6b29tfWAsIDEwKTtcbiAgICAgICAgaWYgKGFwcGxpZWRab29tKSB7XG4gICAgICAgICAgICBtYXBVcmwgKz0gYCZ6b29tPSR7YXBwbGllZFpvb219YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkTW9kdWxlTWFwIGNhcmRNb2R1bGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICB7dGV4dFRpdGxlID8gPGRpdiBjbGFzc05hbWU9XCJjYXJkVGl0bGVcIj57dGV4dFRpdGxlfTwvZGl2PiA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17bWFwVXJsfSBjbGFzc05hbWU9XCJtYXBUaHVtYm5haWxcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGl0bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRhaW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvY2FsaXplKCdMT0NBVElPTicpO1xuICAgICAgICAvKlxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuY29udGFpbmVyIS5jb250ZW50X3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9jYWxpemUoJ0xPQ0FUSU9OJyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9Ki9cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvbWFwL21hcC5jb21wb25lbnQudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IEhlYWRlciwgVGV4dCwgVGFibGUsIEF3YXJkcywgTGlzdCwgTWFwIH0gZnJvbSAnQ2FyZE1vZHVsZXMnO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRhaW5lclR5cGVFbnVtIH0gZnJvbSBcIlNlcnZpY2VzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmRNb2R1bGVQcm9wcyB7XG4gICAgY2FyZDogQ2FyZDtcbiAgICBtb2R1bGVUeXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBjYXJkTW9kdWxlQ2xhc3Nlczoge1xuICAgIFtrZXk6IHN0cmluZ106IFJlYWN0LkNvbXBvbmVudENsYXNzPElDYXJkTW9kdWxlUHJvcHM+LFxufSA9IHtcbiAgICAgICAgSGVhZGVyLFxuICAgICAgICBCdXR0b25IZWFkZXI6IEhlYWRlcixcbiAgICAgICAgTW92aWVIZWFkZXI6IEhlYWRlcixcbiAgICAgICAgRGVzY3JpcHRpb246IFRleHQsXG4gICAgICAgIEJpb2dyYXBoeTogVGV4dCxcbiAgICAgICAgUmVmZXJlbmNlOiBUZXh0LFxuICAgICAgICBGdWxsQ3VyaW9zaXR5OiBUZXh0LFxuICAgICAgICBPdmVydmlldzogVGV4dCxcbiAgICAgICAgR2FsbGVyeTogTGlzdCxcbiAgICAgICAgU2hvcDogTGlzdCxcbiAgICAgICAgVHJhdmVsU2hvcDogTGlzdCxcbiAgICAgICAgRGlyZWN0b3JzOiBMaXN0LFxuICAgICAgICBTZWFzb25zOiBMaXN0LFxuICAgICAgICBGaWxtb2dyYXBoeTogTGlzdCxcbiAgICAgICAgQ2FzdDogTGlzdCxcbiAgICAgICAgQXBwZWFyc0luTG9jYXRpb246IExpc3QsXG4gICAgICAgIENvbXBsZXRlVGhlRGVjbzogTGlzdCxcbiAgICAgICAgU3BlY2lmaWNhdGlvbnM6IFRhYmxlLFxuICAgICAgICBCYXNpY0luZm86IFRhYmxlLFxuICAgICAgICBBd2FyZHNNb2R1bGVMaXN0OiBBd2FyZHMsXG4gICAgICAgIE1hcE1vZHVsZTogTWFwLFxuICAgIH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb21wb25lbnRzL2NhcmREZXRhaWwvY2FyZE1vZHVsZXMvY2FyZERldGFpbC5tb2R1bGVzLnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRGl2ZUFQSUNsYXNzLCBDYXJkLCBIZWxwZXIgfSBmcm9tIFwiU2VydmljZXNcIjtcbmltcG9ydCB7IExvYWRpbmcsIENhcmREZXRhaWwgfSBmcm9tIFwiQ29tcG9uZW50c1wiO1xuaW1wb3J0IHsgbmF2aWdhYmxlIH0gZnJvbSBcIkhPQ1wiO1xuXG5kZWNsYXJlIGNvbnN0IERpdmVBUEk6IERpdmVBUElDbGFzcztcblxuZXhwb3J0IGludGVyZmFjZSBJQ2FyZERldGFpbENvbnRhaW5lclByb3BzIHtcbiAgICBjYXJkSWQ6IHN0cmluZztcbiAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgcGFyZW50OiBhbnlcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUNhcmREZXRhaWxDb250YWluZXJTdGF0ZSB7XG4gICAgc3RhdHVzOiBcIkxPQURJTkdcIiB8IFwiTE9BREVEXCI7XG4gICAgY2FyZD86IENhcmQ7XG59XG5leHBvcnQgY2xhc3MgQ2FyZERldGFpbENvbnRhaW5lckNsYXNzIGV4dGVuZHNcbiAgICBSZWFjdC5QdXJlQ29tcG9uZW50PElDYXJkRGV0YWlsQ29udGFpbmVyUHJvcHMsIElDYXJkRGV0YWlsQ29udGFpbmVyU3RhdGU+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgc3RhdHVzOiBcIkxPQURJTkdcIiwgY2FyZDogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5zdGF0dXMgPT09IFwiTE9BRElOR1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy52ZXJzaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBEaXZlQVBJLmdldENhcmRWZXJzaW9uKHsgY2FyZElkOiB0aGlzLnByb3BzLmNhcmRJZCwgdmVyc2lvbjogdGhpcy5wcm9wcy52ZXJzaW9uLCBwcm9kdWN0czogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoY2FyZDogQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtjYXJkXSAke2NhcmQudGl0bGV9OiBgLCBjYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCBzdGF0dXM6IFwiTE9BREVEXCIsIGNhcmQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBEaXZlQVBJLmdldENhcmQvKlZlcnNpbypuKi8oeyBjYXJkSWQ6IHRoaXMucHJvcHMuY2FyZElkLC8qIHZlcnNpb246IHRoaXMucHJvcHMudmVyc2lvbiwqLyBwcm9kdWN0czogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoY2FyZDogQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtjYXJkXSAke2NhcmQudGl0bGV9OiBgLCBjYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCBzdGF0dXM6IFwiTE9BREVEXCIsIGNhcmQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCk6IGFueSB7XG4gICAgICAgIGNvbnN0IHN1YmNvbXBvbmVudCA9ICF0aGlzLnN0YXRlIHx8IHRoaXMuc3RhdGUuc3RhdHVzICE9PSBcIkxPQURFRFwiID9cbiAgICAgICAgICAgIDxMb2FkaW5nIC8+IDpcbiAgICAgICAgICAgIDxDYXJkRGV0YWlsIHBhcmVudD17dGhpc30gY2FyZD17dGhpcy5zdGF0ZS5jYXJkfSBjb2x1bW5zPXsxfSBuYXZDbGFzcz1cImNhcmREZXRhaWxOYXZcIiBpc0RlZmF1bHQ9e3RydWV9IC8+O1xuICAgICAgICByZXR1cm4gc3ViY29tcG9uZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IENhcmREZXRhaWxDb250YWluZXIgPSBuYXZpZ2FibGUoQ2FyZERldGFpbENvbnRhaW5lckNsYXNzKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRhaW5lcnMvY2FyZERldGFpbC9jYXJkRGV0YWlsLmNvbnRhaW5lci50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE5hdmlnYXRpb25Db250YWluZXIgfSBmcm9tIFwiQ29tcG9uZW50c1wiO1xuXG5pbnRlcmZhY2UgSUJPTVByb3BzIHtcbiAgICBuYXZpZ2F0aW9uUGFyZW50OiBhbnk7XG59O1xuZXhwb3J0IGNsYXNzIEJvdHRvbU92ZXJsYXlNZXNzYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJQk9NUHJvcHMsIHsgaGlkZGVuOiBib29sZWFuIH0+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSUJPTVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgaGlkZGVuOiBmYWxzZSB9O1xuICAgIH1cbiAgICBwdWJsaWMgcmVuZGVyKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaGlkZGVuID8gbnVsbCA6IHRoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBnZXRDaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm90dG9tTWVzc2FnZSBmaWxsUGFyZW50XCI+XG4gICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWw9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpcy5wcm9wcy5uYXZpZ2F0aW9uUGFyZW50fVxuICAgICAgICAgICAgICAgICAgICBpc0RlZmF1bHQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVBhcmVudD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17MX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbG9zZUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZpZ2F0aW9uQ29udGFpbmVyIGNsYXNzTmFtZT1cImNhcm91c2VsQnV0dG9uIGNhcm91c2VsQ2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ9e3RoaXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17MX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhpZGRlbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICAgICAgICAgICAgPC9kaXY+KTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb250YWluZXJzL3VpL2JvdHRvbU92ZXJsYXlNZXNzYWdlLmNvbnRhaW5lci50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBNYXBEaXNwYXRjaFRvUHJvcHNPYmplY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcblxuaW1wb3J0IHsgbmF2aWdhYmxlLCBJTmF2aWdhYmxlUHJvcHMgfSBmcm9tICdIT0MnO1xuaW1wb3J0IHsgTG9hZGluZywgTmF2aWdhdGlvbkNvbnRhaW5lciwgTWluaUNhcmRMaXN0IH0gZnJvbSAnQ29tcG9uZW50cyc7XG5pbXBvcnQgeyBJU3RhdGUsIElTeW5jU3RhdGUsIElOYXZTdGF0ZSB9IGZyb20gJ1JlZHVjZXJzJztcbmltcG9ydCB7IFN5bmNBY3Rpb25zLCBJU3luY0FjdGlvbnMsIFVJQWN0aW9ucywgSVVJQWN0aW9ucyB9IGZyb20gJ0FjdGlvbnMnO1xuaW1wb3J0IHsgTG9jYWxpemUsIENhcmQsIFJlbGF0aW9uTW9kdWxlIH0gZnJvbSAnU2VydmljZXMnO1xuaW1wb3J0IHsgU1VQUE9SVEVEX0NBUkRfVFlQRVMgfSBmcm9tICdDb25zdGFudHMnO1xuaW1wb3J0IHsgQm90dG9tT3ZlcmxheU1lc3NhZ2UgfSBmcm9tIFwiQ29udGFpbmVyc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2Fyb3VzZWxDbGFzc1xuICAgIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDx7IHN0YXRlOiBJU3luY1N0YXRlIH0gJiBJU3luY0FjdGlvbnMgJiBJTmF2aWdhYmxlUHJvcHMgJiBJTmF2U3RhdGUgJlxuICAgIHsgdWlBY3Rpb25zOiBNYXBEaXNwYXRjaFRvUHJvcHNPYmplY3QgfSwgeyByZXdpbmRlZDogYm9vbGVhbiB9PiB7XG4gICAgcHJpdmF0ZSBpbnRlcnZhbDogYW55O1xuICAgIHByaXZhdGUgY2h1bmtSZXF1ZXN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGJ1dHRvbnNDb250YWluZXI6IGFueTtcbiAgICBwcml2YXRlIGFjdGl2ZUZpbHRlcnM6IGFueVtdO1xuICAgIHByaXZhdGUgY3VycmVudFNjZW5lVGV4dCA9IExvY2FsaXplKFwiQ1VSUkVOVF9TQ0VORVwiKTtcbiAgICBwcml2YXRlIGFkTWVzc2FnZUNvbnRlbnQ6IEpTWC5FbGVtZW50O1xuICAgIHByaXZhdGUgZW5kTWVzc2FnZUNvbnRlbnQ6IEpTWC5FbGVtZW50O1xuICAgIHByaXZhdGUgb2ZmTWVzc2FnZUNvbnRlbnQ6IEpTWC5FbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZHlNZXNzYWdlQ29udGVudDogSlNYLkVsZW1lbnQ7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHJld2luZGVkOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLmNsb3NlQ2Fyb3VzZWwgPSB0aGlzLmNsb3NlQ2Fyb3VzZWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50VGltZSA9IHRoaXMuZ2V0Q3VycmVudFRpbWUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZE1lc3NhZ2VDb250ZW50ID0gKFxuICAgICAgICAgICAgPGRpdiBrZXk9XCJhZE1lc3NhZ2VDb250ZW50XCIgY2xhc3NOYW1lPVwiZmlsbFBhcmVudCBhZE1lc3NhZ2UgY2Fyb3VzZWxNZXNzYWdlQ29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRNZXNzYWdlTGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDE+e0xvY2FsaXplKFwiUElaWkFfT1JfUE9QX0NPUk5cIil9PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dDFcIj57TG9jYWxpemUoXCJXRV9SRUNPTU1FTkRcIil9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0MlwiPntMb2NhbGl6ZShcIk1BS0VfUE9QX0NPUk5cIil9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRNZXNzYWdlUmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxPntMb2NhbGl6ZShcIlRWR1JJRF9DT01NRVJDSUFMX1RYVFwiKX08L2gxPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5lbmRNZXNzYWdlQ29udGVudCA9IChcbiAgICAgICAgICAgIDxkaXYga2V5PVwiZW5kTWVzc2FnZUNvbnRlbnRcIiBjbGFzc05hbWU9XCJmaWxsUGFyZW50IGVuZE1lc3NhZ2UgY2Fyb3VzZWxNZXNzYWdlQ29udGVudCBjZW50ZXJlZE1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VDZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxPntMb2NhbGl6ZShcIkVWRVJZVEhJTkdfRU5EXCIpfTwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQxXCI+e0xvY2FsaXplKFwiTU9WSUVfRU5ERURcIil9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbnNDb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZpZ2F0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2VuZXJpY0J0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXsxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cIm1lc3NhZ2VDbG9zZUNhcm91c2VsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudWlBY3Rpb25zLm9wZW4oeyB0b3A6IFwiVFZcIiwgYm90dG9tOiBcIkdSSURcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPntMb2NhbGl6ZShcIk9LQVlcIil9PC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMub2ZmTWVzc2FnZUNvbnRlbnQgPSAoXG4gICAgICAgICAgICA8ZGl2IGtleT1cIm9mZk1lc3NhZ2VDb250ZW50XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaWxsUGFyZW50IG9mZk1lc3NhZ2VDb250ZW50IGNhcm91c2VsTWVzc2FnZUNvbnRlbnQgY2VudGVyZWRNZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlQ2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57TG9jYWxpemUoXCJFVkVSWVRISU5HX0VORFwiKX08L2gxPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0MVwiPntMb2NhbGl6ZShcIk1PVklFX09GRlwiKX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uc0NvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnZW5lcmljQnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJtZXNzYWdlQ2xvc2VDYXJvdXNlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXt0aGlzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXsxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51aUFjdGlvbnMub3Blbih7IHRvcDogXCJUVlwiLCBib3R0b206IFwiR1JJRFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+e0xvY2FsaXplKFwiT0tBWVwiKX08L05hdmlnYXRpb25Db250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5yZWFkeU1lc3NhZ2VDb250ZW50ID0gKFxuICAgICAgICAgICAgPGRpdiBrZXk9XCJvZmZNZXNzYWdlQ29udGVudFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsbFBhcmVudCByZWFkeU1lc3NhZ2VDb250ZW50IGNhcm91c2VsTWVzc2FnZUNvbnRlbnQgY2VudGVyZWRNZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlQ2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57TG9jYWxpemUoXCJMSUdIVFNfQ0FNRVJBXCIpfTwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQxXCI+e0xvY2FsaXplKFwiV0VfQVJFX0xPQURJTkdcIil9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzOiBSZWFkb25seTx7IHN0YXRlOiBJU3luY1N0YXRlOyB9XG4gICAgICAgICYgSVN5bmNBY3Rpb25zICYgSU5hdmlnYWJsZVByb3BzICYgSU5hdlN0YXRlPikge1xuICAgICAgICAvKmlmIChuZXh0UHJvcHMuc3RhdGUudHlwZSA9PT0gXCJTT0NLRVRcIiAmJiBuZXh0UHJvcHMuc3RhdGUuc29ja2V0U3RhdHVzICE9PSB0aGlzLnByb3BzLnN0YXRlLnNvY2tldFN0YXR1c1xuICAgICAgICAgICAgJiYgbmV4dFByb3BzLnN0YXRlLnNvY2tldFN0YXR1cyA9PT0gJ0NPTk5FQ1RFRCcpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YVN5bmMobmV4dFByb3BzLnN0YXRlLm1vdmllSWQpO1xuICAgICAgICB9Ki9cbiAgICB9XG5cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB0aGlzLnByb3BzLnN5bmNDaGFubmVsKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlRmlsdGVycyA9IFt0aGlzLmFsbENhdGVnb3JpZXNGaWx0ZXJdO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgLy8gdGhpcy5wcm9wcy5zZXRTZWxlY3RlZE9uU2NlbmVDaGFuZ2UoZmFsc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdGF0ZSA9ICgpOiBJU3luY1N0YXRlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpOiBhbnkge1xuICAgICAgICBsZXQgY2FyZHM6IEFycmF5PENhcmQgfCBSZWxhdGlvbk1vZHVsZT4gPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zdGF0ZS5jYXJkcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy5zdGF0ZS5jYXJkcyA6IFtdO1xuICAgICAgICAvLyBjb25zdCBzY2VuZTogSUNodW5rU2NlbmUgPSB0aGlzLnByb3BzLnN0YXRlLnNjZW5lO1xuXG4gICAgICAgIC8vIEZpbHRlciBieSBvZmZzZXQgYW5kIGdldHRpbmcgcmVsYXRpb24gY2FyZHMgdG8gdGhlIGZpcnN0IGxldmVsLlxuICAgICAgICBjYXJkcyA9IGNhcmRzLmZpbHRlcigoY2FyZDogQ2FyZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhcmQgJiYgY2FyZC50eXBlICYmXG4gICAgICAgICAgICAgICAgU1VQUE9SVEVEX0NBUkRfVFlQRVMuaW5kZXhPZihjYXJkLnR5cGUpID4gLTEgJiZcbiAgICAgICAgICAgICAgICBjYXJkLnR5cGUgIT09ICdwZXJzb24nO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJDYXJvdXNlbCBmaWxsUGFyZW50XCI+XG4gICAgICAgICAgICAgICAgPE5hdmlnYXRpb25Db250YWluZXIga2V5PVwiYnV0dG9uQ29udGFpbmVyXCJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXsoZWw6IGFueSkgPT4geyBpZiAoZWwpIHsgdGhpcy5idXR0b25zQ29udGFpbmVyID0gZWwuZ2V0V3JhcHBlZEluc3RhbmNlKCkucmVmQ29tcG9uZW50OyB9IH19XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVBhcmVudD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgZm9yY2VGaXJzdD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17MX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmJ1dHRvbnNDb250YWluZXIgPyB0aGlzLmdldEJ1dHRvbnMoKSA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC9OYXZpZ2F0aW9uQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZHNcIj5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHMubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZyAvPiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1pbmlDYXJkTGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cz17Y2FyZHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmllSWQ9e3RoaXMuZ2V0U3RhdGUoKS5tb3ZpZUlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNb3ZpZVRpbWU9e3RoaXMuZ2V0Q3VycmVudFRpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD17dGhpc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17MX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2V5PXtgJHt0aGlzLnByb3BzLnN0YXRlLm1vdmllSWR9IyR7RGF0ZS5ub3d9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBOYW1lPVwiTWluaUNhcmRMaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRPblNjZW5lQ2hhbmdlPXt0aGlzLnByb3BzLnNldFNlbGVjdGVkT25TY2VuZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzU2VsZWN0ZWRPbkNoYW5nZVNjZW5lPXt0aGlzLnByb3BzLnN0YXRlLnNlbGVjdGVkT25TY2VuZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZUZvckNhcm91c2VsKCl9XG4gICAgICAgICAgICA8L2RpdiA+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc3RhdGUuY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRCdXR0b25zKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lSW5TZWNzID0gdGhpcy5wcm9wcy5zdGF0ZS5jdXJyZW50VGltZTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGN1cnJlbnRUaW1lSW5TZWNzIC8gMzYwMCk7XG4gICAgICAgIGN1cnJlbnRUaW1lSW5TZWNzICU9IDM2MDA7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGN1cnJlbnRUaW1lSW5TZWNzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQoKGN1cnJlbnRUaW1lSW5TZWNzICUgNjApLnRvRml4ZWQoMCksIDEwKTtcblxuICAgICAgICBsZXQgYnV0dG9uQ291bnQgPSA3O1xuICAgICAgICBpZiAoMCkgeyAvLyBUT0RPOiBDaGVjayBpZiBwcmV2IGJ1dHRvbiBuZWVkZWRcbiAgICAgICAgICAgIGJ1dHRvbkNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDApIHsgLy8gVE9ETzogQ2hlY2sgaWYgbmV4dCBidXR0b24gbmVlZGVkXG4gICAgICAgICAgICBidXR0b25Db3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnJld2luZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnV0dG9uQ291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lRm9ybWF0dGVkID0gYCR7aG91cnMgPCAxMCA/IFwiMFwiICsgaG91cnMgOiBob3Vyc306YFxuICAgICAgICAgICAgKyBgJHttaW51dGVzIDwgMTAgPyBcIjBcIiArIG1pbnV0ZXMgOiBtaW51dGVzfToke3NlY29uZHMgPCAxMCA/IFwiMFwiICsgc2Vjb25kcyA6IHNlY29uZHN9YDtcbiAgICAgICAgY29uc3QgYnV0dG9uc1RvUmVuZGVyID0gW107XG4gICAgICAgIGJ1dHRvbnNUb1JlbmRlci5wdXNoKDxOYXZpZ2F0aW9uQ29udGFpbmVyIGtleT1cImNhcm91c2VsQ2xvc2VcIiBjbGFzc05hbWU9XCJjYXJvdXNlbEJ1dHRvbiBiY3RCdXR0b24gY2xvc2VcIlxuICAgICAgICAgICAgZm9yY2VPcmRlcj17MH1cbiAgICAgICAgICAgIHBhcmVudD17dGhpcy5idXR0b25zQ29udGFpbmVyfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZUNhcm91c2VsfVxuICAgICAgICA+XG4gICAgICAgIDwvTmF2aWdhdGlvbkNvbnRhaW5lcj4pO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBpZD1cImNhcm91c2VsQnV0dG9uc1wiIGNsYXNzTmFtZT1cImJvdHRvbUNvbnRhaW5lclRvcEJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uc1RvUmVuZGVyfVxuICAgICAgICAgICAgPC9kaXY+KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlQ2Fyb3VzZWwoKSB7XG4gICAgICAgIHRoaXMucHJvcHMudWlBY3Rpb25zLm9wZW4oeyB0b3A6IFwiVFZcIiwgYm90dG9tOiBcIkdSSURcIiB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE1lc3NhZ2VGb3JDYXJvdXNlbCgpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2VDb250ZW50O1xuICAgICAgICBjb25zdCBjaGFubmVsU3RhdHVzID0gdGhpcy5nZXRTdGF0ZSgpLmNoYW5uZWxTdGF0dXM7XG4gICAgICAgIGlmIChjaGFubmVsU3RhdHVzID09PSBcInBhdXNlZFwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IHRoaXMuYWRNZXNzYWdlQ29udGVudDtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsU3RhdHVzID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IHRoaXMuZW5kTWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbFN0YXR1cyA9PT0gXCJvZmZcIikge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSB0aGlzLm9mZk1lc3NhZ2VDb250ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxTdGF0dXMgPT09IFwicmVhZHlcIikge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSB0aGlzLnJlYWR5TWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogTWVzc2FnZSBMb2dpY1xuICAgICAgICAvLyBTaG93IG1lc3NhZ2Ugb25seSBpZiBub3QgaGFzIGJlZW4gY2xvc2VkIGJlZm9yZSxcbiAgICAgICAgLy8gYW5kIGlmIHRoZSBjYXJvdXNlbCBpdHMgc3luY2VkIG9uIHRoZSBjb3JyZWN0IHRpbWUgKG5vdCByZXdpbmQpXG4gICAgICAgIGlmIChtZXNzYWdlQ29udGVudCAvKiYmIG9uVGltZSAmJiAhbWVzc2FnZURpc2NhcmRlZCovKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxCb3R0b21PdmVybGF5TWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2Bib3R0b21NZXNzYWdlIyR7dGhpcy5wcm9wcy5zdGF0ZS50aW1lTW92aWVTeW5jZWR9IyR7Y2hhbm5lbFN0YXR1c31gfVxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uUGFyZW50PXt0aGlzfT5cbiAgICAgICAgICAgICAgICAgICAge21lc3NhZ2VDb250ZW50fVxuICAgICAgICAgICAgICAgIDwvQm90dG9tT3ZlcmxheU1lc3NhZ2U+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ0FST1VTRUwgRklMVEVSU1xuICAgIHByaXZhdGUgYWxsQ2F0ZWdvcmllc0ZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElTdGF0ZSk6IHsgc3RhdGU6IElTeW5jU3RhdGUgfSA9PiAoeyBzdGF0ZTogeyAuLi5zdGF0ZS5jYXJvdXNlbCB9IH0pO1xuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoOiBhbnkpOiBhbnkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJpbmRBY3Rpb25DcmVhdG9ycyhTeW5jQWN0aW9ucywgZGlzcGF0Y2gpLFxuICAgICAgICB1aUFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhVSUFjdGlvbnMsIGRpc3BhdGNoKSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IENhcm91c2VsID0gbmF2aWdhYmxlKGNvbm5lY3QoXG4gICAgbWFwU3RhdGVUb1Byb3BzLFxuICAgIG1hcERpc3BhdGNoVG9Qcm9wcyxcbikoQ2Fyb3VzZWxDbGFzcykpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29udGFpbmVycy9jYXJvdXNlbC9jYXJvdXNlbC5jb250YWluZXIudHN4IiwiZXhwb3J0ICogZnJvbSAnLi9sYXlvdXQvbGF5b3V0LmNvbnRhaW5lcic7XG5leHBvcnQgKiBmcm9tICcuL0FwcC9hcHAnO1xuZXhwb3J0ICogZnJvbSAnLi9jYXJkTW9kdWxlTGlzdC9jYXJkTW9kdWxlTGlzdC5jb250YWluZXInO1xuZXhwb3J0ICogZnJvbSAnLi9jYXJkRGV0YWlsL2NhcmREZXRhaWwuY29udGFpbmVyJztcbmV4cG9ydCAqIGZyb20gJy4vdWkvYm90dG9tT3ZlcmxheU1lc3NhZ2UuY29udGFpbmVyJztcbmV4cG9ydCAqIGZyb20gJy4vY2Fyb3VzZWwvY2Fyb3VzZWwuY29udGFpbmVyJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRhaW5lcnMvaW5kZXgudHN4Il0sInNvdXJjZVJvb3QiOiIifQ==